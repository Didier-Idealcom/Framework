!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var n=[],i=t.document,r=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,l=n.indexOf,c={},u=c.toString,d=c.hasOwnProperty,h=d.toString,f=h.call(Object),p={},g=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},m=function(t){return null!=t&&t===t.window},v={type:!0,src:!0,nonce:!0,noModule:!0};function y(t,e,n){var r,o,a=(n=n||i).createElement("script");if(a.text=t,e)for(r in v)(o=e[r]||e.getAttribute&&e.getAttribute(r))&&a.setAttribute(r,o);n.head.appendChild(a).parentNode.removeChild(a)}function b(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?c[u.call(t)]||"object":typeof t}var w=function(t,e){return new w.fn.init(t,e)},E=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function C(t){var e=!!t&&"length"in t&&t.length,n=b(t);return!g(t)&&!m(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}w.fn=w.prototype={jquery:"3.4.1",constructor:w,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=w.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return w.each(this,t)},map:function(t){return this.pushStack(w.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)i=t[e],"__proto__"!==e&&a!==i&&(c&&i&&(w.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[e],o=r&&!Array.isArray(n)?[]:r||w.isPlainObject(n)?n:{},r=!1,a[e]=w.extend(c,o,i)):void 0!==i&&(a[e]=i));return a},w.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==u.call(t))&&(!(e=r(t))||"function"==typeof(n=d.call(e,"constructor")&&e.constructor)&&h.call(n)===f)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){y(t,{nonce:e&&e.nonce})},each:function(t,e){var n,i=0;if(C(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(E,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?w.merge(n,"string"==typeof t?[t]:t):s.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:l.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(C(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return a.apply([],s)},guid:1,support:p}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){c["[object "+e+"]"]=e.toLowerCase()});var T=function(t){var e,n,i,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y,b,w="sizzle"+1*new Date,E=t.document,C=0,T=0,_=lt(),O=lt(),k=lt(),D=lt(),x=function(t,e){return t===e&&(d=!0),0},I={}.hasOwnProperty,S=[],R=S.pop,A=S.push,N=S.push,P=S.slice,M=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+K+"*("+j+")(?:"+K+"*([*^$|!~]?=)"+K+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+K+"*\\]",B=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",$=new RegExp(K+"+","g"),H=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),U=new RegExp("^"+K+"*,"+K+"*"),z=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),V=new RegExp(K+"|>"),W=new RegExp(B),q=new RegExp("^"+j+"$"),Y={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),nt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){h()},at=wt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{N.apply(S=P.call(E.childNodes),E.childNodes),S[E.childNodes.length].nodeType}catch(t){N={apply:S.length?function(t,e){A.apply(t,P.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function st(t,e,i,r){var o,s,c,u,d,p,v,y=e&&e.ownerDocument,C=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==C&&9!==C&&11!==C)return i;if(!r&&((e?e.ownerDocument||e:E)!==f&&h(e),e=e||f,g)){if(11!==C&&(d=Q.exec(t)))if(o=d[1]){if(9===C){if(!(c=e.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(y&&(c=y.getElementById(o))&&b(e,c)&&c.id===o)return i.push(c),i}else{if(d[2])return N.apply(i,e.getElementsByTagName(t)),i;if((o=d[3])&&n.getElementsByClassName&&e.getElementsByClassName)return N.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!D[t+" "]&&(!m||!m.test(t))&&(1!==C||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===C&&V.test(t)){for((u=e.getAttribute("id"))?u=u.replace(it,rt):e.setAttribute("id",u=w),s=(p=a(t)).length;s--;)p[s]="#"+u+" "+bt(p[s]);v=p.join(","),y=tt.test(t)&&vt(e.parentNode)||e}try{return N.apply(i,y.querySelectorAll(v)),i}catch(e){D(t,!0)}finally{u===w&&e.removeAttribute("id")}}}return l(t.replace(H,"$1"),e,i,r)}function lt(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function ct(t){return t[w]=!0,t}function ut(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function dt(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ht(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function mt(t){return ct(function(e){return e=+e,ct(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},o=st.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!G.test(e||n&&n.nodeName||"HTML")},h=st.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:E;return a!==f&&9===a.nodeType&&a.documentElement?(p=(f=a).documentElement,g=!o(f),E!==f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(f.getElementsByClassName),n.getById=ut(function(t){return p.appendChild(t).id=w,!f.getElementsByName||!f.getElementsByName(w).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=J.test(f.querySelectorAll))&&(ut(function(t){p.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+K+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+K+"*(?:value|"+L+")"),t.querySelectorAll("[id~="+w+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+K+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=J.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",B)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=J.test(p.compareDocumentPosition),b=e||J.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},x=e?function(t,e){if(t===e)return d=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===f||t.ownerDocument===E&&b(E,t)?-1:e===f||e.ownerDocument===E&&b(E,e)?1:u?M(u,t)-M(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return d=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===f?-1:e===f?1:r?-1:o?1:u?M(u,t)-M(u,e):0;if(r===o)return ht(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ht(a[i],s[i]):a[i]===E?-1:s[i]===E?1:0},f):f},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&h(t),n.matchesSelector&&g&&!D[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){D(e,!0)}return st(e,f,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!==f&&h(t),b(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!==f&&h(t);var r=i.attrHandle[e.toLowerCase()],o=r&&I.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},st.escape=function(t){return(t+"").replace(it,rt)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,i=[],r=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(x),d){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return u=null,t},r=st.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=st.selectors={cacheLength:50,createPseudo:ct,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&W.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=_[t+" "];return e||(e=new RegExp("(^|"+K+")"+t+"("+K+"|$)"))&&_(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=st.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace($," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,h,f,p,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(b=(f=(c=(u=(d=(h=m)[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===C&&c[1])&&c[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(b=f=0)||p.pop();)if(1===h.nodeType&&++b&&h===e){u[t]=[C,f,b];break}}else if(y&&(b=f=(c=(u=(d=(h=e)[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===C&&c[1]),!1===b)for(;(h=++f&&h&&h[g]||(b=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((u=(d=h[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]=[C,b]),h!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return r[w]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?ct(function(t,n){for(var i,o=r(t,e),a=o.length;a--;)t[i=M(t,o[a])]=!(n[i]=o[a])}):function(t){return r(t,0,n)}):r}},pseudos:{not:ct(function(t){var e=[],n=[],i=s(t.replace(H,"$1"));return i[w]?ct(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:ct(function(t){return function(e){return st(t,e).length>0}}),contains:ct(function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}}),lang:ct(function(t){return q.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt(function(){return[0]}),last:mt(function(t,e){return[e-1]}),eq:mt(function(t,e,n){return[n<0?n+e:n]}),even:mt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:mt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:mt(function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t}),gt:mt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=pt(e);function yt(){}function bt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function wt(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=T++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,l){var c,u,d,h=[C,s];if(l){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(u=(d=e[w]||(e[w]={}))[e.uniqueID]||(d[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=u[o])&&c[0]===C&&c[1]===s)return h[2]=c[2];if(u[o]=h,h[2]=t(e,n,l))return!0}return!1}}function Et(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function Ct(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),c&&e.push(s)));return a}function Tt(t,e,n,i,r,o){return i&&!i[w]&&(i=Tt(i)),r&&!r[w]&&(r=Tt(r,o)),ct(function(o,a,s,l){var c,u,d,h=[],f=[],p=a.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)st(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),m=!t||!o&&e?g:Ct(g,h,t,s,l),v=n?r||(o?t:p||i)?[]:a:m;if(n&&n(m,v,s,l),i)for(c=Ct(v,f),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[f[u]]=!(m[f[u]]=d));if(o){if(r||t){if(r){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(m[u]=d);r(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=r?M(o,d):h[u])>-1&&(o[c]=!(a[c]=d))}}else v=Ct(v===a?v.splice(p,v.length):v),r?r(null,a,v,l):N.apply(a,v)})}function _t(t){for(var e,n,r,o=t.length,a=i.relative[t[0].type],s=a||i.relative[" "],l=a?1:0,u=wt(function(t){return t===e},s,!0),d=wt(function(t){return M(e,t)>-1},s,!0),h=[function(t,n,i){var r=!a&&(i||n!==c)||((e=n).nodeType?u(t,n,i):d(t,n,i));return e=null,r}];l<o;l++)if(n=i.relative[t[l].type])h=[wt(Et(h),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[w]){for(r=++l;r<o&&!i.relative[t[r].type];r++);return Tt(l>1&&Et(h),l>1&&bt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(H,"$1"),n,l<r&&_t(t.slice(l,r)),r<o&&_t(t=t.slice(r)),r<o&&bt(t))}h.push(n)}return Et(h)}return yt.prototype=i.filters=i.pseudos,i.setFilters=new yt,a=st.tokenize=function(t,e){var n,r,o,a,s,l,c,u=O[t+" "];if(u)return e?0:u.slice(0);for(s=t,l=[],c=i.preFilter;s;){for(a in n&&!(r=U.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=z.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(H," ")}),s=s.slice(n.length)),i.filter)!(r=Y[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):O(t,l).slice(0)},s=st.compile=function(t,e){var n,r=[],o=[],s=k[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=_t(e[n]))[w]?r.push(s):o.push(s);(s=k(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,a,s,l,u){var d,p,m,v=0,y="0",b=o&&[],w=[],E=c,T=o||r&&i.find.TAG("*",u),_=C+=null==E?1:Math.random()||.1,O=T.length;for(u&&(c=a===f||a||u);y!==O&&null!=(d=T[y]);y++){if(r&&d){for(p=0,a||d.ownerDocument===f||(h(d),s=!g);m=t[p++];)if(m(d,a||f,s)){l.push(d);break}u&&(C=_)}n&&((d=!m&&d)&&v--,o&&b.push(d))}if(v+=y,n&&y!==v){for(p=0;m=e[p++];)m(b,w,a,s);if(o){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=R.call(l));w=Ct(w)}N.apply(l,w),u&&!o&&w.length>0&&v+e.length>1&&st.uniqueSort(l)}return u&&(C=_,c=E),b};return n?ct(o):o}(o,r))).selector=t}return s},l=st.select=function(t,e,n,r){var o,l,c,u,d,h="function"==typeof t&&t,f=!r&&a(t=h.selector||t);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&g&&i.relative[l[1].type]){if(!(e=(i.find.ID(c.matches[0].replace(et,nt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=Y.needsContext.test(t)?0:l.length;o--&&(c=l[o],!i.relative[u=c.type]);)if((d=i.find[u])&&(r=d(c.matches[0].replace(et,nt),tt.test(l[0].type)&&vt(e.parentNode)||e))){if(l.splice(o,1),!(t=r.length&&bt(l)))return N.apply(n,r),n;break}}return(h||s(t,f))(r,e,!g,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=w.split("").sort(x).join("")===w,n.detectDuplicates=!!d,h(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||dt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||dt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||dt(L,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),st}(t);w.find=T,w.expr=T.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=T.uniqueSort,w.text=T.getText,w.isXMLDoc=T.isXML,w.contains=T.contains,w.escapeSelector=T.escape;var _=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&w(t).is(n))break;i.push(t)}return i},O=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},k=w.expr.match.needsContext;function D(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var x=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(t,e,n){return g(e)?w.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?w.grep(t,function(t){return t===e!==n}):"string"!=typeof e?w.grep(t,function(t){return l.call(e,t)>-1!==n}):w.filter(e,t,n)}w.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?w.find.matchesSelector(i,t)?[i]:[]:w.find.matches(t,w.grep(e,function(t){return 1===t.nodeType}))},w.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(w(t).filter(function(){for(e=0;e<i;e++)if(w.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)w.find(t,r[e],n);return i>1?w.uniqueSort(n):n},filter:function(t){return this.pushStack(I(this,t||[],!1))},not:function(t){return this.pushStack(I(this,t||[],!0))},is:function(t){return!!I(this,"string"==typeof t&&k.test(t)?w(t):t||[],!1).length}});var S,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(t,e,n){var r,o;if(!t)return this;if(n=n||S,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:R.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof w?e[0]:e,w.merge(this,w.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:i,!0)),x.test(r[1])&&w.isPlainObject(e))for(r in e)g(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(o=i.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?void 0!==n.ready?n.ready(t):t(w):w.makeArray(t,this)}).prototype=w.fn,S=w(i);var A=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function P(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}w.fn.extend({has:function(t){var e=w(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(w.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&w(t);if(!k.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?l.call(w(t),this[0]):l.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),w.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return _(t,"parentNode")},parentsUntil:function(t,e,n){return _(t,"parentNode",n)},next:function(t){return P(t,"nextSibling")},prev:function(t){return P(t,"previousSibling")},nextAll:function(t){return _(t,"nextSibling")},prevAll:function(t){return _(t,"previousSibling")},nextUntil:function(t,e,n){return _(t,"nextSibling",n)},prevUntil:function(t,e,n){return _(t,"previousSibling",n)},siblings:function(t){return O((t.parentNode||{}).firstChild,t)},children:function(t){return O(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(D(t,"template")&&(t=t.content||t),w.merge([],t.childNodes))}},function(t,e){w.fn[t]=function(n,i){var r=w.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=w.filter(i,r)),this.length>1&&(N[t]||w.uniqueSort(r),A.test(t)&&r.reverse()),this.pushStack(r)}});var M=/[^\x20\t\r\n\f]+/g;function L(t){return t}function K(t){throw t}function j(t,e,n,i){var r;try{t&&g(r=t.promise)?r.call(t).done(e).fail(n):t&&g(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}w.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return w.each(t.match(M)||[],function(t,n){e[n]=!0}),e}(t):w.extend({},t);var e,n,i,r,o=[],a=[],s=-1,l=function(){for(r=r||t.once,i=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){w.each(n,function(n,i){g(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==b(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return w.each(arguments,function(t,e){for(var n;(n=w.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?w.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},w.extend({Deferred:function(e){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return w.Deferred(function(e){w.each(n,function(n,i){var r=g(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&g(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){var o=0;function a(e,n,i,r){return function(){var s=this,l=arguments,c=function(){var t,c;if(!(e<o)){if((t=i.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");c=t&&("object"==typeof t||"function"==typeof t)&&t.then,g(c)?r?c.call(t,a(o,n,L,r),a(o,n,K,r)):(o++,c.call(t,a(o,n,L,r),a(o,n,K,r),a(o,n,L,n.notifyWith))):(i!==L&&(s=void 0,l=[t]),(r||n.resolveWith)(s,l))}},u=r?c:function(){try{c()}catch(t){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(t,u.stackTrace),e+1>=o&&(i!==K&&(s=void 0,l=[t]),n.rejectWith(s,l))}};e?u():(w.Deferred.getStackHook&&(u.stackTrace=w.Deferred.getStackHook()),t.setTimeout(u))}}return w.Deferred(function(t){n[0][3].add(a(0,t,g(r)?r:L,t.notifyWith)),n[1][3].add(a(0,t,g(e)?e:L)),n[2][3].add(a(0,t,g(i)?i:K))}).promise()},promise:function(t){return null!=t?w.extend(t,r):r}},o={};return w.each(n,function(t,e){var a=e[2],s=e[5];r[e[1]]=a.add,s&&a.add(function(){i=s},n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),a.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=o.call(arguments),a=w.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?o.call(arguments):n,--e||a.resolveWith(i,r)}};if(e<=1&&(j(t,a.done(s(n)).resolve,a.reject,!e),"pending"===a.state()||g(r[n]&&r[n].then)))return a.then();for(;n--;)j(r[n],s(n),a.reject);return a.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&F.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},w.readyException=function(e){t.setTimeout(function(){throw e})};var B=w.Deferred();function $(){i.removeEventListener("DOMContentLoaded",$),t.removeEventListener("load",$),w.ready()}w.fn.ready=function(t){return B.then(t).catch(function(t){w.readyException(t)}),this},w.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==t&&--w.readyWait>0||B.resolveWith(i,[w]))}}),w.ready.then=B.then,"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?t.setTimeout(w.ready):(i.addEventListener("DOMContentLoaded",$),t.addEventListener("load",$));var H=function(t,e,n,i,r,o,a){var s=0,l=t.length,c=null==n;if("object"===b(n))for(s in r=!0,n)H(t,e,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,g(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(w(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:c?e.call(t):l?e(t[0],n):o},U=/^-ms-/,z=/-([a-z])/g;function V(t,e){return e.toUpperCase()}function W(t){return t.replace(U,"ms-").replace(z,V)}var q=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Y(){this.expando=w.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(t){var e=t[this.expando];return e||(e={},q(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[W(e)]=n;else for(i in e)r[W(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][W(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(W):(e=W(e))in i?[e]:e.match(M)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||w.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!w.isEmptyObject(e)}};var G=new Y,X=new Y,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function Q(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Z.test(t)?JSON.parse(t):t)}(n)}catch(t){}X.set(t,e,n)}else n=void 0;return n}w.extend({hasData:function(t){return X.hasData(t)||G.hasData(t)},data:function(t,e,n){return X.access(t,e,n)},removeData:function(t,e){X.remove(t,e)},_data:function(t,e,n){return G.access(t,e,n)},_removeData:function(t,e){G.remove(t,e)}}),w.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=X.get(o),1===o.nodeType&&!G.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=W(i.slice(5)),Q(o,i,r[i]));G.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){X.set(this,t)}):H(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=X.get(o,t))?n:void 0!==(n=Q(o,t))?n:void 0;this.each(function(){X.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){X.remove(this,t)})}}),w.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=G.get(t,e),n&&(!i||Array.isArray(n)?i=G.access(t,e,w.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=w.queue(t,e),i=n.length,r=n.shift(),o=w._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){w.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return G.get(t,n)||G.access(t,n,{empty:w.Callbacks("once memory").add(function(){G.remove(t,[e+"queue",n])})})}}),w.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?w.queue(this[0],t):void 0===e?this:this.each(function(){var n=w.queue(this,t,e);w._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&w.dequeue(this,t)})},dequeue:function(t){return this.each(function(){w.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=w.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=G.get(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],it=i.documentElement,rt=function(t){return w.contains(t.ownerDocument,t)},ot={composed:!0};it.getRootNode&&(rt=function(t){return w.contains(t.ownerDocument,t)||t.getRootNode(ot)===t.ownerDocument});var at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&rt(t)&&"none"===w.css(t,"display")},st=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=a[o];return r};function lt(t,e,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return w.css(t,e,"")},l=s(),c=n&&n[3]||(w.cssNumber[e]?"":"px"),u=t.nodeType&&(w.cssNumber[e]||"px"!==c&&+l)&&et.exec(w.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)w.style(t,e,u+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),u/=o;u*=2,w.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var ct={};function ut(t){var e,n=t.ownerDocument,i=t.nodeName,r=ct[i];return r||(e=n.body.appendChild(n.createElement(i)),r=w.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ct[i]=r,r)}function dt(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=G.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&at(i)&&(r[o]=ut(i))):"none"!==n&&(r[o]="none",G.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}w.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?w(this).show():w(this).hide()})}});var ht=/^(?:checkbox|radio)$/i,ft=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pt=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&D(t,e)?w.merge([t],n):n}function vt(t,e){for(var n=0,i=t.length;n<i;n++)G.set(t[n],"globalEval",!e||G.get(e[n],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var yt,bt,wt=/<|&#?\w+;/;function Et(t,e,n,i,r){for(var o,a,s,l,c,u,d=e.createDocumentFragment(),h=[],f=0,p=t.length;f<p;f++)if((o=t[f])||0===o)if("object"===b(o))w.merge(h,o.nodeType?[o]:o);else if(wt.test(o)){for(a=a||d.appendChild(e.createElement("div")),s=(ft.exec(o)||["",""])[1].toLowerCase(),l=gt[s]||gt._default,a.innerHTML=l[1]+w.htmlPrefilter(o)+l[2],u=l[0];u--;)a=a.lastChild;w.merge(h,a.childNodes),(a=d.firstChild).textContent=""}else h.push(e.createTextNode(o));for(d.textContent="",f=0;o=h[f++];)if(i&&w.inArray(o,i)>-1)r&&r.push(o);else if(c=rt(o),a=mt(d.appendChild(o),"script"),c&&vt(a),n)for(u=0;o=a[u++];)pt.test(o.type||"")&&n.push(o);return d}yt=i.createDocumentFragment().appendChild(i.createElement("div")),(bt=i.createElement("input")).setAttribute("type","radio"),bt.setAttribute("checked","checked"),bt.setAttribute("name","t"),yt.appendChild(bt),p.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue;var Ct=/^key/,Tt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_t=/^([^.]*)(?:\.(.+)|)/;function Ot(){return!0}function kt(){return!1}function Dt(t,e){return t===function(){try{return i.activeElement}catch(t){}}()==("focus"===e)}function xt(t,e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)xt(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=kt;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return w().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),t.each(function(){w.event.add(this,e,r,i,n)})}function It(t,e,n){n?(G.set(t,e,!1),w.event.add(t,e,{namespace:!1,handler:function(t){var i,r,a=G.get(this,e);if(1&t.isTrigger&&this[e]){if(a.length)(w.event.special[e]||{}).delegateType&&t.stopPropagation();else if(a=o.call(arguments),G.set(this,e,a),i=n(this,e),this[e](),a!==(r=G.get(this,e))||i?G.set(this,e,!1):r={},a!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else a.length&&(G.set(this,e,{value:w.event.trigger(w.extend(a[0],w.Event.prototype),a.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===G.get(t,e)&&w.event.add(t,e,Ot)}w.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,c,u,d,h,f,p,g,m=G.get(t);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&w.find.matchesSelector(it,r),n.guid||(n.guid=w.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(M)||[""]).length;c--;)f=g=(s=_t.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),f&&(d=w.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=w.event.special[f]||{},u=w.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,p,a)||t.addEventListener&&t.addEventListener(f,a)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),w.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,a,s,l,c,u,d,h,f,p,g,m=G.hasData(t)&&G.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(M)||[""]).length;c--;)if(f=g=(s=_t.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=w.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)u=h[o],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(t,u));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,m.handle)||w.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)w.event.remove(t,f+e[c],n,i,!0);w.isEmptyObject(l)&&G.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=w.event.fix(t),l=new Array(arguments.length),c=(G.get(this,"events")||{})[s.type]||[],u=w.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=w.event.handlers.call(this,s,c),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((w.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[r=(i=e[n]).selector+" "]&&(a[r]=i.needsContext?w(r,this).index(c)>-1:w.find(r,this,null,[c]).length),a[r]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(w.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[w.expando]?t:new w.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ht.test(e.type)&&e.click&&D(e,"input")&&It(e,"click",Ot),!1},trigger:function(t){var e=this||t;return ht.test(e.type)&&e.click&&D(e,"input")&&It(e,"click"),!0},_default:function(t){var e=t.target;return ht.test(e.type)&&e.click&&D(e,"input")&&G.get(e,"click")||D(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},w.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},w.Event=function(t,e){if(!(this instanceof w.Event))return new w.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ot:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&w.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ot,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ot,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ot,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Ct.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Tt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(t,e){w.event.special[t]={setup:function(){return It(this,t,Dt),!1},trigger:function(){return It(this,t),!0},delegateType:e}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){w.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||w.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),w.fn.extend({on:function(t,e,n,i){return xt(this,t,e,n,i)},one:function(t,e,n,i){return xt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,w(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=kt),this.each(function(){w.event.remove(this,t,n,e)})}});var St=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Rt=/<script|<style|<link/i,At=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pt(t,e){return D(t,"table")&&D(11!==e.nodeType?e:e.firstChild,"tr")&&w(t).children("tbody")[0]||t}function Mt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Lt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Kt(t,e){var n,i,r,o,a,s,l,c;if(1===e.nodeType){if(G.hasData(t)&&(o=G.access(t),a=G.set(e,o),c=o.events))for(r in delete a.handle,a.events={},c)for(n=0,i=c[r].length;n<i;n++)w.event.add(e,r,c[r][n]);X.hasData(t)&&(s=X.access(t),l=w.extend({},s),X.set(e,l))}}function jt(t,e,n,i){e=a.apply([],e);var r,o,s,l,c,u,d=0,h=t.length,f=h-1,m=e[0],v=g(m);if(v||h>1&&"string"==typeof m&&!p.checkClone&&At.test(m))return t.each(function(r){var o=t.eq(r);v&&(e[0]=m.call(this,r,o.html())),jt(o,e,n,i)});if(h&&(o=(r=Et(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(l=(s=w.map(mt(r,"script"),Mt)).length;d<h;d++)c=r,d!==f&&(c=w.clone(c,!0,!0),l&&w.merge(s,mt(c,"script"))),n.call(t[d],c,d);if(l)for(u=s[s.length-1].ownerDocument,w.map(s,Lt),d=0;d<l;d++)c=s[d],pt.test(c.type||"")&&!G.access(c,"globalEval")&&w.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?w._evalUrl&&!c.noModule&&w._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")}):y(c.textContent.replace(Nt,""),c,u))}return t}function Ft(t,e,n){for(var i,r=e?w.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||w.cleanData(mt(i)),i.parentNode&&(n&&rt(i)&&vt(mt(i,"script")),i.parentNode.removeChild(i));return t}w.extend({htmlPrefilter:function(t){return t.replace(St,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s,l,c,u=t.cloneNode(!0),d=rt(t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc(t)))for(a=mt(u),i=0,r=(o=mt(t)).length;i<r;i++)s=o[i],l=a[i],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&ht.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(e)if(n)for(o=o||mt(t),a=a||mt(u),i=0,r=o.length;i<r;i++)Kt(o[i],a[i]);else Kt(t,u);return(a=mt(u,"script")).length>0&&vt(a,!d&&mt(t,"script")),u},cleanData:function(t){for(var e,n,i,r=w.event.special,o=0;void 0!==(n=t[o]);o++)if(q(n)){if(e=n[G.expando]){if(e.events)for(i in e.events)r[i]?w.event.remove(n,i):w.removeEvent(n,i,e.handle);n[G.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),w.fn.extend({detach:function(t){return Ft(this,t,!0)},remove:function(t){return Ft(this,t)},text:function(t){return H(this,function(t){return void 0===t?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return jt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)})},prepend:function(){return jt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return jt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return jt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(w.cleanData(mt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return w.clone(this,t,e)})},html:function(t){return H(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Rt.test(t)&&!gt[(ft.exec(t)||["",""])[1].toLowerCase()]){t=w.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(w.cleanData(mt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return jt(this,arguments,function(e){var n=this.parentNode;w.inArray(this,t)<0&&(w.cleanData(mt(this)),n&&n.replaceChild(e,this))},t)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){w.fn[t]=function(t){for(var n,i=[],r=w(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(r[a])[e](n),s.apply(i,n.get());return this.pushStack(i)}});var Bt=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),$t=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Ht=new RegExp(nt.join("|"),"i");function Ut(t,e,n){var i,r,o,a,s=t.style;return(n=n||$t(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||rt(t)||(a=w.style(t,e)),!p.pixelBoxStyles()&&Bt.test(a)&&Ht.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function zt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(c).appendChild(u);var e=t.getComputedStyle(u);r="1%"!==e.top,l=12===n(e.marginLeft),u.style.right="60%",s=36===n(e.right),o=36===n(e.width),u.style.position="absolute",a=12===n(u.offsetWidth/3),it.removeChild(c),u=null}}function n(t){return Math.round(parseFloat(t))}var r,o,a,s,l,c=i.createElement("div"),u=i.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===u.style.backgroundClip,w.extend(p,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),a}}))}();var Vt=["Webkit","Moz","ms"],Wt=i.createElement("div").style,qt={};function Yt(t){var e=w.cssProps[t]||qt[t];return e||(t in Wt?t:qt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Vt.length;n--;)if((t=Vt[n]+e)in Wt)return t}(t)||t)}var Gt=/^(none|table(?!-c[ea]).+)/,Xt=/^--/,Zt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:"0",fontWeight:"400"};function Qt(t,e,n){var i=et.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function te(t,e,n,i,r,o){var a="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=w.css(t,n+nt[a],!0,r)),i?("content"===n&&(l-=w.css(t,"padding"+nt[a],!0,r)),"margin"!==n&&(l-=w.css(t,"border"+nt[a]+"Width",!0,r))):(l+=w.css(t,"padding"+nt[a],!0,r),"padding"!==n?l+=w.css(t,"border"+nt[a]+"Width",!0,r):s+=w.css(t,"border"+nt[a]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-s-.5))||0),l}function ee(t,e,n){var i=$t(t),r=(!p.boxSizingReliable()||n)&&"border-box"===w.css(t,"boxSizing",!1,i),o=r,a=Ut(t,e,i),s="offset"+e[0].toUpperCase()+e.slice(1);if(Bt.test(a)){if(!n)return a;a="auto"}return(!p.boxSizingReliable()&&r||"auto"===a||!parseFloat(a)&&"inline"===w.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===w.css(t,"boxSizing",!1,i),(o=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+te(t,e,n||(r?"border":"content"),o,i,a)+"px"}function ne(t,e,n,i,r){return new ne.prototype.init(t,e,n,i,r)}w.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ut(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=W(e),l=Xt.test(e),c=t.style;if(l||(e=Yt(s)),a=w.cssHooks[e]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:c[e];"string"===(o=typeof n)&&(r=et.exec(n))&&r[1]&&(n=lt(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(w.cssNumber[s]?"":"px")),p.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var r,o,a,s=W(e);return Xt.test(e)||(e=Yt(s)),(a=w.cssHooks[e]||w.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=Ut(t,e,i)),"normal"===r&&e in Jt&&(r=Jt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),w.each(["height","width"],function(t,e){w.cssHooks[e]={get:function(t,n,i){if(n)return!Gt.test(w.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,i):st(t,Zt,function(){return ee(t,e,i)})},set:function(t,n,i){var r,o=$t(t),a=!p.scrollboxSize()&&"absolute"===o.position,s=(a||i)&&"border-box"===w.css(t,"boxSizing",!1,o),l=i?te(t,e,i,s,o):0;return s&&a&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-te(t,e,"border",!1,o)-.5)),l&&(r=et.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=w.css(t,e)),Qt(0,n,l)}}}),w.cssHooks.marginLeft=zt(p.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ut(t,"marginLeft"))||t.getBoundingClientRect().left-st(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(t,e){w.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+nt[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(w.cssHooks[t+e].set=Qt)}),w.fn.extend({css:function(t,e){return H(this,function(t,e,n){var i,r,o={},a=0;if(Array.isArray(e)){for(i=$t(t),r=e.length;a<r;a++)o[e[a]]=w.css(t,e[a],!1,i);return o}return void 0!==n?w.style(t,e,n):w.css(t,e)},t,e,arguments.length>1)}}),w.Tween=ne,ne.prototype={constructor:ne,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||w.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var t=ne.propHooks[this.prop];return t&&t.get?t.get(this):ne.propHooks._default.get(this)},run:function(t){var e,n=ne.propHooks[this.prop];return this.options.duration?this.pos=e=w.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ne.propHooks._default.set(this),this}},ne.prototype.init.prototype=ne.prototype,ne.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=w.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){w.fx.step[t.prop]?w.fx.step[t.prop](t):1!==t.elem.nodeType||!w.cssHooks[t.prop]&&null==t.elem.style[Yt(t.prop)]?t.elem[t.prop]=t.now:w.style(t.elem,t.prop,t.now+t.unit)}}},ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},w.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},w.fx=ne.prototype.init,w.fx.step={};var ie,re,oe=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;function se(){re&&(!1===i.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(se):t.setTimeout(se,w.fx.interval),w.fx.tick())}function le(){return t.setTimeout(function(){ie=void 0}),ie=Date.now()}function ce(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=nt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function ue(t,e,n){for(var i,r=(de.tweeners[e]||[]).concat(de.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function de(t,e,n){var i,r,o=0,a=de.prefilters.length,s=w.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ie||le(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(i);return s.notifyWith(t,[c,i,n]),i<1&&a?n:(a||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:w.extend({},e),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||le(),duration:n.duration,tweens:[],createTween:function(e,n){var i=w.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),u=c.props;for(!function(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=W(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=w.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(u,c.opts.specialEasing);o<a;o++)if(i=de.prefilters[o].call(c,t,u,c.opts))return g(i.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return w.map(u,ue,c),g(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(de,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return lt(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){g(t)?(e=t,t=["*"]):t=t.match(M);for(var n,i=0,r=t.length;i<r;i++)n=t[i],de.tweeners[n]=de.tweeners[n]||[],de.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,a,s,l,c,u,d="width"in e||"height"in e,h=this,f={},p=t.style,g=t.nodeType&&at(t),m=G.get(t,"fxshow");for(i in n.queue||(null==(a=w._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,w.queue(t,"fx").length||a.empty.fire()})})),e)if(r=e[i],oe.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}f[i]=m&&m[i]||w.style(t,i)}if((l=!w.isEmptyObject(e))||!w.isEmptyObject(f))for(i in d&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=m&&m.display)&&(c=G.get(t,"display")),"none"===(u=w.css(t,"display"))&&(c?u=c:(dt([t],!0),c=t.style.display||c,u=w.css(t,"display"),dt([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===w.css(t,"float")&&(l||(h.done(function(){p.display=c}),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=G.access(t,"fxshow",{display:c}),o&&(m.hidden=!g),g&&dt([t],!0),h.done(function(){for(i in g||dt([t]),G.remove(t,"fxshow"),f)w.style(t,i,f[i])})),l=ue(g?m[i]:0,i,h),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?de.prefilters.unshift(t):de.prefilters.push(t)}}),w.speed=function(t,e,n){var i=t&&"object"==typeof t?w.extend({},t):{complete:n||!n&&e||g(t)&&t,duration:t,easing:n&&e||e&&!g(e)&&e};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in w.fx.speeds?i.duration=w.fx.speeds[i.duration]:i.duration=w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(t,e,n,i){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=w.isEmptyObject(t),o=w.speed(e,n,i),a=function(){var e=de(this,w.extend({},t),o);(r||G.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=w.timers,a=G.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&ae.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||w.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=G.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=w.timers,a=i?i.length:0;for(n.finish=!0,w.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(t,e){var n=w.fn[e];w.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ce(e,!0),t,i,r)}}),w.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){w.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),w.timers=[],w.fx.tick=function(){var t,e=0,n=w.timers;for(ie=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||w.fx.stop(),ie=void 0},w.fx.timer=function(t){w.timers.push(t),w.fx.start()},w.fx.interval=13,w.fx.start=function(){re||(re=!0,se())},w.fx.stop=function(){re=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(e,n){return e=w.fx&&w.fx.speeds[e]||e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=i.createElement("input"),e=i.createElement("select").appendChild(i.createElement("option"));t.type="checkbox",p.checkOn=""!==t.value,p.optSelected=e.selected,(t=i.createElement("input")).value="t",t.type="radio",p.radioValue="t"===t.value}();var he,fe=w.expr.attrHandle;w.fn.extend({attr:function(t,e){return H(this,w.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){w.removeAttr(this,t)})}}),w.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?w.prop(t,e,n):(1===o&&w.isXMLDoc(t)||(r=w.attrHooks[e.toLowerCase()]||(w.expr.match.bool.test(e)?he:void 0)),void 0!==n?null===n?void w.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=w.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&"radio"===e&&D(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(M);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),he={set:function(t,e,n){return!1===e?w.removeAttr(t,n):t.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(t,e){var n=fe[e]||w.find.attr;fe[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=fe[a],fe[a]=r,r=null!=n(t,e,i)?a:null,fe[a]=o),r}});var pe=/^(?:input|select|textarea|button)$/i,ge=/^(?:a|area)$/i;function me(t){return(t.match(M)||[]).join(" ")}function ve(t){return t.getAttribute&&t.getAttribute("class")||""}function ye(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(M)||[]}w.fn.extend({prop:function(t,e){return H(this,w.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[w.propFix[t]||t]})}}),w.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(t)||(e=w.propFix[e]||e,r=w.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=w.find.attr(t,"tabindex");return e?parseInt(e,10):pe.test(t.nodeName)||ge.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(w.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,l=0;if(g(t))return this.each(function(e){w(this).addClass(t.call(this,e,ve(this)))});if((e=ye(t)).length)for(;n=this[l++];)if(r=ve(n),i=1===n.nodeType&&" "+me(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=me(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,l=0;if(g(t))return this.each(function(e){w(this).removeClass(t.call(this,e,ve(this)))});if(!arguments.length)return this.attr("class","");if((e=ye(t)).length)for(;n=this[l++];)if(r=ve(n),i=1===n.nodeType&&" "+me(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=me(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):g(t)?this.each(function(n){w(this).toggleClass(t.call(this,n,ve(this),e),e)}):this.each(function(){var e,r,o,a;if(i)for(r=0,o=w(this),a=ye(t);e=a[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ve(this))&&G.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":G.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+me(ve(n))+" ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g;w.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=g(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,w(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=w.map(r,function(t){return null==t?"":t+""})),(e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(be,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(t){var e=w.find.attr(t,"value");return null!=e?e:me(w.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?o+1:r.length;for(i=o<0?l:a?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(e=w(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=w.makeArray(e),a=r.length;a--;)((i=r[a]).selected=w.inArray(w.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=w.inArray(w(t).val(),e)>-1}},p.checkOn||(w.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),p.focusin="onfocusin"in t;var we=/^(?:focusinfocus|focusoutblur)$/,Ee=function(t){t.stopPropagation()};w.extend(w.event,{trigger:function(e,n,r,o){var a,s,l,c,u,h,f,p,v=[r||i],y=d.call(e,"type")?e.type:e,b=d.call(e,"namespace")?e.namespace.split("."):[];if(s=p=l=r=r||i,3!==r.nodeType&&8!==r.nodeType&&!we.test(y+w.event.triggered)&&(y.indexOf(".")>-1&&(b=y.split("."),y=b.shift(),b.sort()),u=y.indexOf(":")<0&&"on"+y,(e=e[w.expando]?e:new w.Event(y,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=b.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:w.makeArray(n,[e]),f=w.event.special[y]||{},o||!f.trigger||!1!==f.trigger.apply(r,n))){if(!o&&!f.noBubble&&!m(r)){for(c=f.delegateType||y,we.test(c+y)||(s=s.parentNode);s;s=s.parentNode)v.push(s),l=s;l===(r.ownerDocument||i)&&v.push(l.defaultView||l.parentWindow||t)}for(a=0;(s=v[a++])&&!e.isPropagationStopped();)p=s,e.type=a>1?c:f.bindType||y,(h=(G.get(s,"events")||{})[e.type]&&G.get(s,"handle"))&&h.apply(s,n),(h=u&&s[u])&&h.apply&&q(s)&&(e.result=h.apply(s,n),!1===e.result&&e.preventDefault());return e.type=y,o||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(v.pop(),n)||!q(r)||u&&g(r[y])&&!m(r)&&((l=r[u])&&(r[u]=null),w.event.triggered=y,e.isPropagationStopped()&&p.addEventListener(y,Ee),r[y](),e.isPropagationStopped()&&p.removeEventListener(y,Ee),w.event.triggered=void 0,l&&(r[u]=l)),e.result}},simulate:function(t,e,n){var i=w.extend(new w.Event,n,{type:t,isSimulated:!0});w.event.trigger(i,null,e)}}),w.fn.extend({trigger:function(t,e){return this.each(function(){w.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return w.event.trigger(t,e,n,!0)}}),p.focusin||w.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){w.event.simulate(e,t.target,w.event.fix(t))};w.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=G.access(i,e);r||i.addEventListener(t,n,!0),G.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=G.access(i,e)-1;r?G.access(i,e,r):(i.removeEventListener(t,n,!0),G.remove(i,e))}}});var Ce=t.location,Te=Date.now(),_e=/\?/;w.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),n};var Oe=/\[\]$/,ke=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,xe=/^(?:input|select|textarea|keygen)/i;function Ie(t,e,n,i){var r;if(Array.isArray(e))w.each(e,function(e,r){n||Oe.test(t)?i(t,r):Ie(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==b(e))i(t,e);else for(r in e)Ie(t+"["+r+"]",e[r],n,i)}w.param=function(t,e){var n,i=[],r=function(t,e){var n=g(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!w.isPlainObject(t))w.each(t,function(){r(this.name,this.value)});else for(n in t)Ie(n,t[n],e,r);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=w.prop(this,"elements");return t?w.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!w(this).is(":disabled")&&xe.test(this.nodeName)&&!De.test(t)&&(this.checked||!ht.test(t))}).map(function(t,e){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(t){return{name:e.name,value:t.replace(ke,"\r\n")}}):{name:e.name,value:n.replace(ke,"\r\n")}}).get()}});var Se=/%20/g,Re=/#.*$/,Ae=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pe=/^(?:GET|HEAD)$/,Me=/^\/\//,Le={},Ke={},je="*/".concat("*"),Fe=i.createElement("a");function Be(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(M)||[];if(g(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function $e(t,e,n,i){var r={},o=t===Ke;function a(s){var l;return r[s]=!0,w.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),a(c),!1)}),l}return a(e.dataTypes[0])||!r["*"]&&a("*")}function He(t,e){var n,i,r=w.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&w.extend(!0,t,i),t}Fe.href=Ce.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?He(He(t,w.ajaxSettings),e):He(w.ajaxSettings,t)},ajaxPrefilter:Be(Le),ajaxTransport:Be(Ke),ajax:function(e,n){"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,a,s,l,c,u,d,h,f,p=w.ajaxSetup({},n),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?w(g):w.event,v=w.Deferred(),y=w.Callbacks("once memory"),b=p.statusCode||{},E={},C={},T="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(u){if(!s)for(s={};e=Ne.exec(a);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(t,e){return null==u&&(t=C[t.toLowerCase()]=C[t.toLowerCase()]||t,E[t]=e),this},overrideMimeType:function(t){return null==u&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)_.always(t[_.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||T;return r&&r.abort(e),O(0,e),this}};if(v.promise(_),p.url=((e||p.url||Ce.href)+"").replace(Me,Ce.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(M)||[""],null==p.crossDomain){c=i.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Fe.protocol+"//"+Fe.host!=c.protocol+"//"+c.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=w.param(p.data,p.traditional)),$e(Le,p,n,_),u)return _;for(h in(d=w.event&&p.global)&&0==w.active++&&w.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Pe.test(p.type),o=p.url.replace(Re,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Se,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(_e.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Ae,"$1"),f=(_e.test(o)?"&":"?")+"_="+Te+++f),p.url=o+f),p.ifModified&&(w.lastModified[o]&&_.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&_.setRequestHeader("If-None-Match",w.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+je+"; q=0.01":""):p.accepts["*"]),p.headers)_.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(g,_,p)||u))return _.abort();if(T="abort",y.add(p.complete),_.done(p.success),_.fail(p.error),r=$e(Ke,p,n,_)){if(_.readyState=1,d&&m.trigger("ajaxSend",[_,p]),u)return _;p.async&&p.timeout>0&&(l=t.setTimeout(function(){_.abort("timeout")},p.timeout));try{u=!1,r.send(E,O)}catch(t){if(u)throw t;O(-1,t)}}else O(-1,"No Transport");function O(e,n,i,s){var c,h,f,E,C,T=n;u||(u=!0,l&&t.clearTimeout(l),r=void 0,a=s||"",_.readyState=e>0?4:0,c=e>=200&&e<300||304===e,i&&(E=function(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,_,i)),E=function(t,e,n,i){var r,o,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(p,E,_,c),c?(p.ifModified&&((C=_.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=C),(C=_.getResponseHeader("etag"))&&(w.etag[o]=C)),204===e||"HEAD"===p.type?T="nocontent":304===e?T="notmodified":(T=E.state,h=E.data,c=!(f=E.error))):(f=T,!e&&T||(T="error",e<0&&(e=0))),_.status=e,_.statusText=(n||T)+"",c?v.resolveWith(g,[h,T,_]):v.rejectWith(g,[_,T,f]),_.statusCode(b),b=void 0,d&&m.trigger(c?"ajaxSuccess":"ajaxError",[_,p,c?h:f]),y.fireWith(g,[_,T]),d&&(m.trigger("ajaxComplete",[_,p]),--w.active||w.event.trigger("ajaxStop")))}return _},getJSON:function(t,e,n){return w.get(t,e,n,"json")},getScript:function(t,e){return w.get(t,void 0,e,"script")}}),w.each(["get","post"],function(t,e){w[e]=function(t,n,i,r){return g(n)&&(r=r||i,i=n,n=void 0),w.ajax(w.extend({url:t,type:e,dataType:r,data:n,success:i},w.isPlainObject(t)&&t))}}),w._evalUrl=function(t,e){return w.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){w.globalEval(t,e)}})},w.fn.extend({wrapAll:function(t){var e;return this[0]&&(g(t)&&(t=t.call(this[0])),e=w(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return g(t)?this.each(function(e){w(this).wrapInner(t.call(this,e))}):this.each(function(){var e=w(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=g(t);return this.each(function(n){w(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(t){return!w.expr.pseudos.visible(t)},w.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Ue={0:200,1223:204},ze=w.ajaxSettings.xhr();p.cors=!!ze&&"withCredentials"in ze,p.ajax=ze=!!ze,w.ajaxTransport(function(e){var n,i;if(p.cors||ze&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);n=function(t){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ue[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return w.globalEval(t),t}}}),w.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),w.ajaxTransport("script",function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,o){e=w("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),i.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ve,We=[],qe=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=We.pop()||w.expando+"_"+Te++;return this[t]=!0,t}}),w.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=!1!==e.jsonp&&(qe.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&qe.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(qe,"$1"+r):!1!==e.jsonp&&(e.url+=(_e.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||w.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){void 0===o?w(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,We.push(r)),a&&g(o)&&o(a[0]),a=o=void 0}),"script"}),p.createHTMLDocument=((Ve=i.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ve.childNodes.length),w.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(p.createHTMLDocument?((r=(e=i.implementation.createHTMLDocument("")).createElement("base")).href=i.location.href,e.head.appendChild(r)):e=i),a=!n&&[],(o=x.exec(t))?[e.createElement(o[1])]:(o=Et([t],e,a),a&&a.length&&w(a).remove(),w.merge([],o.childNodes)));var r,o,a},w.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=me(t.slice(s)),t=t.slice(0,s)),g(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&w.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?w("<div>").append(w.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){w.fn[e]=function(t){return this.on(e,t)}}),w.expr.pseudos.animated=function(t){return w.grep(w.timers,function(e){return t===e.elem}).length},w.offset={setOffset:function(t,e,n){var i,r,o,a,s,l,c=w.css(t,"position"),u=w(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),o=w.css(t,"top"),l=w.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),g(e)&&(e=e.call(t,n,w.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):u.css(d)}},w.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){w.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===w.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===w.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=w(t).offset()).top+=w.css(t,"borderTopWidth",!0),r.left+=w.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-w.css(i,"marginTop",!0),left:e.left-r.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===w.css(t,"position");)t=t.offsetParent;return t||it})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;w.fn[t]=function(i){return H(this,function(t,i,r){var o;if(m(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),w.each(["top","left"],function(t,e){w.cssHooks[e]=zt(p.pixelPosition,function(t,n){if(n)return n=Ut(t,e),Bt.test(n)?w(t).position()[e]+"px":n})}),w.each({Height:"height",Width:"width"},function(t,e){w.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){w.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return H(this,function(e,n,r){var o;return m(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?w.css(e,n,s):w.style(e,n,r,s)},e,a?r:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){w.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),w.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),w.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),w.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),g(t))return i=o.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(o.call(arguments)))}).guid=t.guid=t.guid||w.guid++,r},w.holdReady=function(t){t?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=D,w.isFunction=g,w.isWindow=m,w.camelCase=W,w.type=b,w.now=Date.now,w.isNumeric=function(t){var e=w.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Ye=t.jQuery,Ge=t.$;return w.noConflict=function(e){return t.$===w&&(t.$=Ge),e&&t.jQuery===w&&(t.jQuery=Ye),w},e||(t.jQuery=t.$=w),w}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Popper=e()}(this,function(){"use strict";var t="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,e=function(){for(var e=["Edge","Trident","Firefox"],n=0;n<e.length;n+=1)if(t&&navigator.userAgent.indexOf(e[n])>=0)return 1;return 0}();var n=t&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var n=!1;return function(){n||(n=!0,setTimeout(function(){n=!1,t()},e))}};function i(t){return t&&"[object Function]"==={}.toString.call(t)}function r(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function o(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function a(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=r(t),n=e.overflow,i=e.overflowX,s=e.overflowY;return/(auto|scroll|overlay)/.test(n+s+i)?t:a(o(t))}function s(t){return t&&t.referenceNode?t.referenceNode:t}var l=t&&!(!window.MSInputMethodContext||!document.documentMode),c=t&&/MSIE 10/.test(navigator.userAgent);function u(t){return 11===t?l:10===t?c:l||c}function d(t){if(!t)return document.documentElement;for(var e=u(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===r(n,"position")?d(n):n:t?t.ownerDocument.documentElement:document.documentElement}function h(t){return null!==t.parentNode?h(t.parentNode):t}function f(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var a,s,l=o.commonAncestorContainer;if(t!==l&&e!==l||i.contains(r))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&d(a.firstElementChild)!==a?d(l):l;var c=h(t);return c.host?f(c.host,e):f(t,h(e).host)}function p(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function g(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+i+"Width"])}function m(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],u(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function v(t){var e=t.body,n=t.documentElement,i=u(10)&&getComputedStyle(n);return{height:m("Height",e,n,i),width:m("Width",e,n,i)}}var y=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},b=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),w=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function C(t){return E({},t,{right:t.left+t.width,bottom:t.top+t.height})}function T(t){var e={};try{if(u(10)){e=t.getBoundingClientRect();var n=p(t,"top"),i=p(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},a="HTML"===t.nodeName?v(t.ownerDocument):{},s=a.width||t.clientWidth||o.width,l=a.height||t.clientHeight||o.height,c=t.offsetWidth-s,d=t.offsetHeight-l;if(c||d){var h=r(t);c-=g(h,"x"),d-=g(h,"y"),o.width-=c,o.height-=d}return C(o)}function _(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=u(10),o="HTML"===e.nodeName,s=T(t),l=T(e),c=a(t),d=r(e),h=parseFloat(d.borderTopWidth),f=parseFloat(d.borderLeftWidth);n&&o&&(l.top=Math.max(l.top,0),l.left=Math.max(l.left,0));var g=C({top:s.top-l.top-h,left:s.left-l.left-f,width:s.width,height:s.height});if(g.marginTop=0,g.marginLeft=0,!i&&o){var m=parseFloat(d.marginTop),v=parseFloat(d.marginLeft);g.top-=h-m,g.bottom-=h-m,g.left-=f-v,g.right-=f-v,g.marginTop=m,g.marginLeft=v}return(i&&!n?e.contains(c):e===c&&"BODY"!==c.nodeName)&&(g=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=p(e,"top"),r=p(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}(g,e)),g}function O(t){if(!t||!t.parentElement||u())return document.documentElement;for(var e=t.parentElement;e&&"none"===r(e,"transform");)e=e.parentElement;return e||document.documentElement}function k(t,e,n,i){var l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c={top:0,left:0},u=l?O(t):f(t,s(e));if("viewport"===i)c=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=_(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:p(n),s=e?0:p(n,"left");return C({top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:o})}(u,l);else{var d=void 0;"scrollParent"===i?"BODY"===(d=a(o(e))).nodeName&&(d=t.ownerDocument.documentElement):d="window"===i?t.ownerDocument.documentElement:i;var h=_(d,u,l);if("HTML"!==d.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===r(e,"position"))return!0;var i=o(e);return!!i&&t(i)}(u))c=h;else{var g=v(t.ownerDocument),m=g.height,y=g.width;c.top+=h.top-h.marginTop,c.bottom=m+h.top,c.left+=h.left-h.marginLeft,c.right=y+h.left}}var b="number"==typeof(n=n||0);return c.left+=b?n:n.left||0,c.top+=b?n:n.top||0,c.right-=b?n:n.right||0,c.bottom-=b?n:n.bottom||0,c}function D(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=k(n,i,o,r),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map(function(t){return E({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),c=l.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,d=t.split("-")[1];return u+(d?"-"+d:"")}function x(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _(n,i?O(e):f(e,s(n)),i)}function I(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function S(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function R(t,e,n){n=n.split("-")[0];var i=I(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[a]=e[a]+e[l]/2-i[l]/2,r[s]=n===s?e[s]-i[c]:e[S(s)],r}function A(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function N(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=A(t,function(t){return t[e]===n});return t.indexOf(i)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&i(n)&&(e.offsets.popper=C(e.offsets.popper),e.offsets.reference=C(e.offsets.reference),e=n(e,t))}),e}function P(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function M(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function L(t){var e=t.ownerDocument;return e?e.defaultView:window}function K(t,e,n,i){n.updateBound=i,L(t).addEventListener("resize",n.updateBound,{passive:!0});var r=a(t);return function t(e,n,i,r){var o="BODY"===e.nodeName,s=o?e.ownerDocument.defaultView:e;s.addEventListener(n,i,{passive:!0}),o||t(a(s.parentNode),n,i,r),r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function j(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,L(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function F(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function B(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&F(e[n])&&(i="px"),t.style[n]=e[n]+i})}var $=t&&/Firefox/i.test(navigator.userAgent);function H(t,e,n){var i=A(t,function(t){return t.name===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r){var o="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var U=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],z=U.slice(3);function V(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=z.indexOf(t),i=z.slice(n+1).concat(z.slice(0,n));return e?i.reverse():i}var W={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function q(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(A(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map(function(t,i){var r=(1===i?!o:o)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],a=r[2];if(!o)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=i}return C(s)[e]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){F(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}var Y={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,a=r.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:w({},l,o[l]),end:w({},l,o[l]+o[c]-a[c])};t.offsets.popper=E({},a,u[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,a=r.reference,s=i.split("-")[0],l=void 0;return l=F(+n)?[+n,0]:q(n,o,a,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||d(t.instance.popper);t.instance.reference===n&&(n=d(n));var i=M("transform"),r=t.instance.popper.style,o=r.top,a=r.left,s=r[i];r.top="",r.left="",r[i]="";var l=k(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=a,r[i]=s,e.boundaries=l;var c=e.priority,u=t.offsets.popper,h={primary:function(t){var n=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(u[t],l[t])),w({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=u[n];return u[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(u[n],l[t]-("right"===t?u.width:u.height))),w({},n,i)}};return c.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=E({},u,h[e](t))}),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(r),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[s])&&(t.offsets.popper[l]=o(i[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!H(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],a=t.offsets,s=a.popper,l=a.reference,c=-1!==["left","right"].indexOf(o),u=c?"height":"width",d=c?"Top":"Left",h=d.toLowerCase(),f=c?"left":"top",p=c?"bottom":"right",g=I(i)[u];l[p]-g<s[h]&&(t.offsets.popper[h]-=s[h]-(l[p]-g)),l[h]+g>s[p]&&(t.offsets.popper[h]+=l[h]+g-s[p]),t.offsets.popper=C(t.offsets.popper);var m=l[h]+l[u]/2-g/2,v=r(t.instance.popper),y=parseFloat(v["margin"+d]),b=parseFloat(v["border"+d+"Width"]),E=m-t.offsets.popper[h]-y-b;return E=Math.max(Math.min(s[u]-g,E),0),t.arrowElement=i,t.offsets.arrow=(w(n={},h,Math.round(E)),w(n,f,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(P(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=k(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=S(i),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case W.FLIP:a=[i,r];break;case W.CLOCKWISE:a=V(i);break;case W.COUNTERCLOCKWISE:a=V(i,!0);break;default:a=e.behavior}return a.forEach(function(s,l){if(i!==s||a.length===l+1)return t;i=t.placement.split("-")[0],r=S(i);var c=t.offsets.popper,u=t.offsets.reference,d=Math.floor,h="left"===i&&d(c.right)>d(u.left)||"right"===i&&d(c.left)<d(u.right)||"top"===i&&d(c.bottom)>d(u.top)||"bottom"===i&&d(c.top)<d(u.bottom),f=d(c.left)<d(n.left),p=d(c.right)>d(n.right),g=d(c.top)<d(n.top),m=d(c.bottom)>d(n.bottom),v="left"===i&&f||"right"===i&&p||"top"===i&&g||"bottom"===i&&m,y=-1!==["top","bottom"].indexOf(i),b=!!e.flipVariations&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&g||!y&&"end"===o&&m),w=!!e.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&f||!y&&"start"===o&&m||!y&&"end"===o&&g),C=b||w;(h||v||C)&&(t.flipped=!0,(h||v)&&(i=a[l+1]),C&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=E({},t.offsets.popper,R(t.instance.popper,t.offsets.reference,t.placement)),t=N(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=o[n]-(s?r[a?"width":"height"]:0),t.placement=S(e),t.offsets.popper=C(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!H(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=A(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=A(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:e.gpuAcceleration,s=d(t.instance.popper),l=T(s),c={position:r.position},u=function(t,e){var n=t.offsets,i=n.popper,r=n.reference,o=Math.round,a=Math.floor,s=function(t){return t},l=o(r.width),c=o(i.width),u=-1!==["left","right"].indexOf(t.placement),d=-1!==t.placement.indexOf("-"),h=e?u||d||l%2==c%2?o:a:s,f=e?o:s;return{left:h(l%2==1&&c%2==1&&!d&&e?i.left-1:i.left),top:f(i.top),bottom:f(i.bottom),right:h(i.right)}}(t,window.devicePixelRatio<2||!$),h="bottom"===n?"top":"bottom",f="right"===i?"left":"right",p=M("transform"),g=void 0,m=void 0;if(m="bottom"===h?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,g="right"===f?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,a&&p)c[p]="translate3d("+g+"px, "+m+"px, 0)",c[h]=0,c[f]=0,c.willChange="transform";else{var v="bottom"===h?-1:1,y="right"===f?-1:1;c[h]=m*v,c[f]=g*y,c.willChange=h+", "+f}var b={"x-placement":t.placement};return t.attributes=E({},b,t.attributes),t.styles=E({},c,t.styles),t.arrowStyles=E({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return B(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&B(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=x(r,e,t,n.positionFixed),a=D(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),B(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},G=function(){function t(e,r){var o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=n(this.update.bind(this)),this.options=E({},t.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(E({},t.Defaults.modifiers,a.modifiers)).forEach(function(e){o.options.modifiers[e]=E({},t.Defaults.modifiers[e]||{},a.modifiers?a.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return E({name:t},o.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&i(t.onLoad)&&t.onLoad(o.reference,o.popper,o.options,t,o.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return b(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=x(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=D(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=R(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=N(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,P(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[M("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=K(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return j.call(this)}}]),t}();return G.Utils=("undefined"!=typeof window?window:global).PopperUtils,G.placements=U,G.Defaults=Y,G}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],e):e((t=t||self).bootstrap={},t.jQuery,t.Popper)}(this,function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var l={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration"),i=e(t).css("transition-delay"),r=parseFloat(n),o=parseFloat(i);return r||o?(n=n.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(n)+parseFloat(i))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger("transitionend")},supportsTransitionEnd:function(){return Boolean("transitionend")},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],o=e[i],a=o&&l.isElement(o)?"element":null===(s=o)||void 0===s?""+s:{}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(r).test(a))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+a+'" but expected type "'+r+'".')}var s},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?l.findShadowRoot(t.parentNode):null},jQueryDetection:function(){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};l.jQueryDetection(),e.fn.emulateTransitionEnd=function(t){var n=this,i=!1;return e(this).one(l.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||l.triggerTransitionEnd(n)},t),this},e.event.special[l.TRANSITION_END]={bindType:"transitionend",delegateType:"transitionend",handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var c="alert",u=e.fn[c],d=function(){function t(t){this._element=t}var n=t.prototype;return n.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},n.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},n._getRootElement=function(t){var n=l.getSelectorFromElement(t),i=!1;return n&&(i=document.querySelector(n)),i||(i=e(t).closest(".alert")[0]),i},n._triggerCloseEvent=function(t){var n=e.Event("close.bs.alert");return e(t).trigger(n),n},n._removeElement=function(t){var n=this;if(e(t).removeClass("show"),e(t).hasClass("fade")){var i=l.getTransitionDurationFromElement(t);e(t).one(l.TRANSITION_END,function(e){return n._destroyElement(t,e)}).emulateTransitionEnd(i)}else this._destroyElement(t)},n._destroyElement=function(t){e(t).detach().trigger("closed.bs.alert").remove()},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),r=i.data("bs.alert");r||(r=new t(this),i.data("bs.alert",r)),"close"===n&&r[n](this)})},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(t,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),t}();e(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',d._handleDismiss(new d)),e.fn[c]=d._jQueryInterface,e.fn[c].Constructor=d,e.fn[c].noConflict=function(){return e.fn[c]=u,d._jQueryInterface};var h=e.fn.button,f=function(){function t(t){this._element=t}var n=t.prototype;return n.toggle=function(){var t=!0,n=!0,i=e(this._element).closest('[data-toggle="buttons"]')[0];if(i){var r=this._element.querySelector('input:not([type="hidden"])');if(r){if("radio"===r.type)if(r.checked&&this._element.classList.contains("active"))t=!1;else{var o=i.querySelector(".active");o&&e(o).removeClass("active")}t&&("checkbox"!==r.type&&"radio"!==r.type||(r.checked=!this._element.classList.contains("active")),e(r).trigger("change")),r.focus(),n=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active")),t&&e(this._element).toggleClass("active"))},n.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.button");i||(i=new t(this),e(this).data("bs.button",i)),"toggle"===n&&i[n]()})},r(t,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),t}();e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var n=t.target,i=n;if(e(n).hasClass("btn")||(n=e(n).closest(".btn")[0]),!n||n.hasAttribute("disabled")||n.classList.contains("disabled"))t.preventDefault();else{var r=n.querySelector('input:not([type="hidden"])');if(r&&(r.hasAttribute("disabled")||r.classList.contains("disabled")))return void t.preventDefault();"LABEL"===i.tagName&&r&&"checkbox"===r.type&&t.preventDefault(),f._jQueryInterface.call(e(n),"toggle")}}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){var n=e(t.target).closest(".btn")[0];e(n).toggleClass("focus",/^focus(in)?$/.test(t.type))}),e(window).on("load.bs.button.data-api",function(){for(var t=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),e=0,n=t.length;e<n;e++){var i=t[e],r=i.querySelector('input:not([type="hidden"])');r.checked||r.hasAttribute("checked")?i.classList.add("active"):i.classList.remove("active")}for(var o=0,a=(t=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;o<a;o++){var s=t[o];"true"===s.getAttribute("aria-pressed")?s.classList.add("active"):s.classList.remove("active")}}),e.fn.button=f._jQueryInterface,e.fn.button.Constructor=f,e.fn.button.noConflict=function(){return e.fn.button=h,f._jQueryInterface};var p="carousel",g=e.fn[p],m={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},v={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},y={TOUCH:"touch",PEN:"pen"},b=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var n=t.prototype;return n.next=function(){this._isSliding||this._slide("next")},n.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},n.prev=function(){this._isSliding||this._slide("prev")},n.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(l.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},n.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},n.to=function(t){var n=this;this._activeElement=this._element.querySelector(".active.carousel-item");var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one("slid.bs.carousel",function(){return n.to(t)});else{if(i===t)return this.pause(),void this.cycle();var r=t>i?"next":"prev";this._slide(r,this._items[t])}},n.dispose=function(){e(this._element).off(".bs.carousel"),e.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},n._getConfig=function(t){return t=s(s({},m),t),l.typeCheckConfig(p,t,v),t},n._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}},n._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on("keydown.bs.carousel",function(e){return t._keydown(e)}),"hover"===this._config.pause&&e(this._element).on("mouseenter.bs.carousel",function(e){return t.pause(e)}).on("mouseleave.bs.carousel",function(e){return t.cycle(e)}),this._config.touch&&this._addTouchEventListeners()},n._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var n=function(e){t._pointerEvent&&y[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},i=function(e){t._pointerEvent&&y[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval))};e(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(t){return t.preventDefault()}),this._pointerEvent?(e(this._element).on("pointerdown.bs.carousel",function(t){return n(t)}),e(this._element).on("pointerup.bs.carousel",function(t){return i(t)}),this._element.classList.add("pointer-event")):(e(this._element).on("touchstart.bs.carousel",function(t){return n(t)}),e(this._element).on("touchmove.bs.carousel",function(e){return function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX}(e)}),e(this._element).on("touchend.bs.carousel",function(t){return i(t)}))}},n._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},n._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(t)},n._getItemByDirection=function(t,e){var n="next"===t,i="prev"===t,r=this._getItemIndex(e),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return e;var a=(r+("prev"===t?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},n._triggerSlideEvent=function(t,n){var i=this._getItemIndex(t),r=this._getItemIndex(this._element.querySelector(".active.carousel-item")),o=e.Event("slide.bs.carousel",{relatedTarget:t,direction:n,from:r,to:i});return e(this._element).trigger(o),o},n._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));e(n).removeClass("active");var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&e(i).addClass("active")}},n._slide=function(t,n){var i,r,o,a=this,s=this._element.querySelector(".active.carousel-item"),c=this._getItemIndex(s),u=n||s&&this._getItemByDirection(t,s),d=this._getItemIndex(u),h=Boolean(this._interval);if("next"===t?(i="carousel-item-left",r="carousel-item-next",o="left"):(i="carousel-item-right",r="carousel-item-prev",o="right"),u&&e(u).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(u,o).isDefaultPrevented()&&s&&u){this._isSliding=!0,h&&this.pause(),this._setActiveIndicatorElement(u);var f=e.Event("slid.bs.carousel",{relatedTarget:u,direction:o,from:c,to:d});if(e(this._element).hasClass("slide")){e(u).addClass(r),l.reflow(u),e(s).addClass(i),e(u).addClass(i);var p=parseInt(u.getAttribute("data-interval"),10);p?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=p):this._config.interval=this._config.defaultInterval||this._config.interval;var g=l.getTransitionDurationFromElement(s);e(s).one(l.TRANSITION_END,function(){e(u).removeClass(i+" "+r).addClass("active"),e(s).removeClass("active "+r+" "+i),a._isSliding=!1,setTimeout(function(){return e(a._element).trigger(f)},0)}).emulateTransitionEnd(g)}else e(s).removeClass("active"),e(u).addClass("active"),this._isSliding=!1,e(this._element).trigger(f);h&&this.cycle()}},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.carousel"),r=s(s({},m),e(this).data());"object"==typeof n&&(r=s(s({},r),n));var o="string"==typeof n?n:r.slide;if(i||(i=new t(this,r),e(this).data("bs.carousel",i)),"number"==typeof n)i.to(n);else if("string"==typeof o){if(void 0===i[o])throw new TypeError('No method named "'+o+'"');i[o]()}else r.interval&&r.ride&&(i.pause(),i.cycle())})},t._dataApiClickHandler=function(n){var i=l.getSelectorFromElement(this);if(i){var r=e(i)[0];if(r&&e(r).hasClass("carousel")){var o=s(s({},e(r).data()),e(this).data()),a=this.getAttribute("data-slide-to");a&&(o.interval=!1),t._jQueryInterface.call(e(r),o),a&&e(r).data("bs.carousel").to(a),n.preventDefault()}}},r(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return m}}]),t}();e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",b._dataApiClickHandler),e(window).on("load.bs.carousel.data-api",function(){for(var t=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),n=0,i=t.length;n<i;n++){var r=e(t[n]);b._jQueryInterface.call(r,r.data())}}),e.fn[p]=b._jQueryInterface,e.fn[p].Constructor=b,e.fn[p].noConflict=function(){return e.fn[p]=g,b._jQueryInterface};var w="collapse",E=e.fn[w],C={toggle:!0,parent:""},T={toggle:"boolean",parent:"(string|element)"},_=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]')),i=0,r=n.length;i<r;i++){var o=n[i],a=l.getSelectorFromElement(o),s=[].slice.call(document.querySelectorAll(a)).filter(function(e){return e===t});null!==a&&s.length>0&&(this._selector=a,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var n=t.prototype;return n.toggle=function(){e(this._element).hasClass("show")?this.hide():this.show()},n.show=function(){var n,i,r=this;if(!(this._isTransitioning||e(this._element).hasClass("show")||(this._parent&&0===(n=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(t){return"string"==typeof r._config.parent?t.getAttribute("data-parent")===r._config.parent:t.classList.contains("collapse")})).length&&(n=null),n&&(i=e(n).not(this._selector).data("bs.collapse"))&&i._isTransitioning))){var o=e.Event("show.bs.collapse");if(e(this._element).trigger(o),!o.isDefaultPrevented()){n&&(t._jQueryInterface.call(e(n).not(this._selector),"hide"),i||e(n).data("bs.collapse",null));var a=this._getDimension();e(this._element).removeClass("collapse").addClass("collapsing"),this._element.style[a]=0,this._triggerArray.length&&e(this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0),this.setTransitioning(!0);var s="scroll"+(a[0].toUpperCase()+a.slice(1)),c=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,function(){e(r._element).removeClass("collapsing").addClass("collapse show"),r._element.style[a]="",r.setTransitioning(!1),e(r._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(c),this._element.style[a]=this._element[s]+"px"}}},n.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass("show")){var n=e.Event("hide.bs.collapse");if(e(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",l.reflow(this._element),e(this._element).addClass("collapsing").removeClass("collapse show");var r=this._triggerArray.length;if(r>0)for(var o=0;o<r;o++){var a=this._triggerArray[o],s=l.getSelectorFromElement(a);null!==s&&(e([].slice.call(document.querySelectorAll(s))).hasClass("show")||e(a).addClass("collapsed").attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[i]="";var c=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,function(){t.setTransitioning(!1),e(t._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")}).emulateTransitionEnd(c)}}},n.setTransitioning=function(t){this._isTransitioning=t},n.dispose=function(){e.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n._getConfig=function(t){return(t=s(s({},C),t)).toggle=Boolean(t.toggle),l.typeCheckConfig(w,t,T),t},n._getDimension=function(){return e(this._element).hasClass("width")?"width":"height"},n._getParent=function(){var n,i=this;l.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(n.querySelectorAll(r));return e(o).each(function(e,n){i._addAriaAndCollapsedClass(t._getTargetFromElement(n),[n])}),n},n._addAriaAndCollapsedClass=function(t,n){var i=e(t).hasClass("show");n.length&&e(n).toggleClass("collapsed",!i).attr("aria-expanded",i)},t._getTargetFromElement=function(t){var e=l.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),o=s(s(s({},C),i.data()),"object"==typeof n&&n?n:{});if(!r&&o.toggle&&"string"==typeof n&&/show|hide/.test(n)&&(o.toggle=!1),r||(r=new t(this,o),i.data("bs.collapse",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return C}}]),t}();e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=e(this),i=l.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(i));e(r).each(function(){var t=e(this),i=t.data("bs.collapse")?"toggle":n.data();_._jQueryInterface.call(t,i)})}),e.fn[w]=_._jQueryInterface,e.fn[w].Constructor=_,e.fn[w].noConflict=function(){return e.fn[w]=E,_._jQueryInterface};var O="dropdown",k=e.fn[O],D=new RegExp("38|40|27"),x={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},I={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},S=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var i=t.prototype;return i.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass("disabled")){var n=e(this._menu).hasClass("show");t._clearMenus(),n||this.show(!0)}},i.show=function(i){if(void 0===i&&(i=!1),!(this._element.disabled||e(this._element).hasClass("disabled")||e(this._menu).hasClass("show"))){var r={relatedTarget:this._element},o=e.Event("show.bs.dropdown",r),a=t._getParentFromElement(this._element);if(e(a).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar&&i){if(void 0===n)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var s=this._element;"parent"===this._config.reference?s=a:l.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(a).addClass("position-static"),this._popper=new n(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(a).closest(".navbar-nav").length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass("show"),e(a).toggleClass("show").trigger(e.Event("shown.bs.dropdown",r))}}},i.hide=function(){if(!this._element.disabled&&!e(this._element).hasClass("disabled")&&e(this._menu).hasClass("show")){var n={relatedTarget:this._element},i=e.Event("hide.bs.dropdown",n),r=t._getParentFromElement(this._element);e(r).trigger(i),i.isDefaultPrevented()||(this._popper&&this._popper.destroy(),e(this._menu).toggleClass("show"),e(r).toggleClass("show").trigger(e.Event("hidden.bs.dropdown",n)))}},i.dispose=function(){e.removeData(this._element,"bs.dropdown"),e(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},i.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},i._addEventListeners=function(){var t=this;e(this._element).on("click.bs.dropdown",function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},i._getConfig=function(t){return t=s(s(s({},this.constructor.Default),e(this._element).data()),t),l.typeCheckConfig(O,t,this.constructor.DefaultType),t},i._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(".dropdown-menu"))}return this._menu},i._getPlacement=function(){var t=e(this._element.parentNode),n="bottom-start";return t.hasClass("dropup")?n=e(this._menu).hasClass("dropdown-menu-right")?"top-end":"top-start":t.hasClass("dropright")?n="right-start":t.hasClass("dropleft")?n="left-start":e(this._menu).hasClass("dropdown-menu-right")&&(n="bottom-end"),n},i._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},i._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=s(s({},e.offsets),t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},i._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),s(s({},t),this._config.popperConfig)},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.dropdown");if(i||(i=new t(this,"object"==typeof n?n:null),e(this).data("bs.dropdown",i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}})},t._clearMenus=function(n){if(!n||3!==n.which&&("keyup"!==n.type||9===n.which))for(var i=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),r=0,o=i.length;r<o;r++){var a=t._getParentFromElement(i[r]),s=e(i[r]).data("bs.dropdown"),l={relatedTarget:i[r]};if(n&&"click"===n.type&&(l.clickEvent=n),s){var c=s._menu;if(e(a).hasClass("show")&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"keyup"===n.type&&9===n.which)&&e.contains(a,n.target))){var u=e.Event("hide.bs.dropdown",l);e(a).trigger(u),u.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),i[r].setAttribute("aria-expanded","false"),s._popper&&s._popper.destroy(),e(c).removeClass("show"),e(a).removeClass("show").trigger(e.Event("hidden.bs.dropdown",l)))}}}},t._getParentFromElement=function(t){var e,n=l.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(n){if(!(/input|textarea/i.test(n.target.tagName)?32===n.which||27!==n.which&&(40!==n.which&&38!==n.which||e(n.target).closest(".dropdown-menu").length):!D.test(n.which))&&!this.disabled&&!e(this).hasClass("disabled")){var i=t._getParentFromElement(this),r=e(i).hasClass("show");if(r||27!==n.which){if(n.preventDefault(),n.stopPropagation(),!r||r&&(27===n.which||32===n.which))return 27===n.which&&e(i.querySelector('[data-toggle="dropdown"]')).trigger("focus"),void e(this).trigger("click");var o=[].slice.call(i.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(t){return e(t).is(":visible")});if(0!==o.length){var a=o.indexOf(n.target);38===n.which&&a>0&&a--,40===n.which&&a<o.length-1&&a++,a<0&&(a=0),o[a].focus()}}}},r(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return x}},{key:"DefaultType",get:function(){return I}}]),t}();e(document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',S._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",".dropdown-menu",S._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",S._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',function(t){t.preventDefault(),t.stopPropagation(),S._jQueryInterface.call(e(this),"toggle")}).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}),e.fn[O]=S._jQueryInterface,e.fn[O].Constructor=S,e.fn[O].noConflict=function(){return e.fn[O]=k,S._jQueryInterface};var R=e.fn.modal,A={backdrop:!0,keyboard:!0,focus:!0,show:!0},N={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},P=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var n=t.prototype;return n.toggle=function(t){return this._isShown?this.hide():this.show(t)},n.show=function(t){var n=this;if(!this._isShown&&!this._isTransitioning){e(this._element).hasClass("fade")&&(this._isTransitioning=!0);var i=e.Event("show.bs.modal",{relatedTarget:t});e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on("click.dismiss.bs.modal",'[data-dismiss="modal"]',function(t){return n.hide(t)}),e(this._dialog).on("mousedown.dismiss.bs.modal",function(){e(n._element).one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(t)}))}},n.hide=function(t){var n=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var i=e.Event("hide.bs.modal");if(e(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var r=e(this._element).hasClass("fade");if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off("focusin.bs.modal"),e(this._element).removeClass("show"),e(this._element).off("click.dismiss.bs.modal"),e(this._dialog).off("mousedown.dismiss.bs.modal"),r){var o=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(o)}else this._hideModal()}}},n.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return e(t).off(".bs.modal")}),e(document).off("focusin.bs.modal"),e.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(t){return t=s(s({},A),t),l.typeCheckConfig("modal",t,N),t},n._triggerBackdropTransition=function(){var t=this;if("static"===this._config.backdrop){var n=e.Event("hidePrevented.bs.modal");if(e(this._element).trigger(n),n.defaultPrevented)return;this._element.classList.add("modal-static");var i=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,function(){t._element.classList.remove("modal-static")}).emulateTransitionEnd(i),this._element.focus()}else this.hide()},n._showElement=function(t){var n=this,i=e(this._element).hasClass("fade"),r=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),e(this._dialog).hasClass("modal-dialog-scrollable")&&r?r.scrollTop=0:this._element.scrollTop=0,i&&l.reflow(this._element),e(this._element).addClass("show"),this._config.focus&&this._enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t}),a=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,e(n._element).trigger(o)};if(i){var s=l.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(l.TRANSITION_END,a).emulateTransitionEnd(s)}else a()},n._enforceFocus=function(){var t=this;e(document).off("focusin.bs.modal").on("focusin.bs.modal",function(n){document!==n.target&&t._element!==n.target&&0===e(t._element).has(n.target).length&&t._element.focus()})},n._setEscapeEvent=function(){var t=this;this._isShown?e(this._element).on("keydown.dismiss.bs.modal",function(e){t._config.keyboard&&27===e.which?(e.preventDefault(),t.hide()):t._config.keyboard||27!==e.which||t._triggerBackdropTransition()}):this._isShown||e(this._element).off("keydown.dismiss.bs.modal")},n._setResizeEvent=function(){var t=this;this._isShown?e(window).on("resize.bs.modal",function(e){return t.handleUpdate(e)}):e(window).off("resize.bs.modal")},n._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){e(document.body).removeClass("modal-open"),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger("hidden.bs.modal")})},n._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},n._showBackdrop=function(t){var n=this,i=e(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",i&&this._backdrop.classList.add(i),e(this._backdrop).appendTo(document.body),e(this._element).on("click.dismiss.bs.modal",function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&n._triggerBackdropTransition()}),i&&l.reflow(this._backdrop),e(this._backdrop).addClass("show"),!t)return;if(!i)return void t();var r=l.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(l.TRANSITION_END,t).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass("show");var o=function(){n._removeBackdrop(),t&&t()};if(e(this._element).hasClass("fade")){var a=l.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(l.TRANSITION_END,o).emulateTransitionEnd(a)}else o()}else t&&t()},n._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},n._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),i=[].slice.call(document.querySelectorAll(".sticky-top"));e(n).each(function(n,i){var r=i.style.paddingRight,o=e(i).css("padding-right");e(i).data("padding-right",r).css("padding-right",parseFloat(o)+t._scrollbarWidth+"px")}),e(i).each(function(n,i){var r=i.style.marginRight,o=e(i).css("margin-right");e(i).data("margin-right",r).css("margin-right",parseFloat(o)-t._scrollbarWidth+"px")});var r=document.body.style.paddingRight,o=e(document.body).css("padding-right");e(document.body).data("padding-right",r).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}e(document.body).addClass("modal-open")},n._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));e(t).each(function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""});var n=[].slice.call(document.querySelectorAll(".sticky-top"));e(n).each(function(t,n){var i=e(n).data("margin-right");void 0!==i&&e(n).css("margin-right",i).removeData("margin-right")});var i=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},n._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(n,i){return this.each(function(){var r=e(this).data("bs.modal"),o=s(s(s({},A),e(this).data()),"object"==typeof n&&n?n:{});if(r||(r=new t(this,o),e(this).data("bs.modal",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n](i)}else o.show&&r.show(i)})},r(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return A}}]),t}();e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n,i=this,r=l.getSelectorFromElement(this);r&&(n=document.querySelector(r));var o=e(n).data("bs.modal")?"toggle":s(s({},e(n).data()),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=e(n).one("show.bs.modal",function(t){t.isDefaultPrevented()||a.one("hidden.bs.modal",function(){e(i).is(":visible")&&i.focus()})});P._jQueryInterface.call(e(n),o,this)}),e.fn.modal=P._jQueryInterface,e.fn.modal.Constructor=P,e.fn.modal.noConflict=function(){return e.fn.modal=R,P._jQueryInterface};var M=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],L=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,K=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function j(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);for(var i=(new window.DOMParser).parseFromString(t,"text/html"),r=Object.keys(e),o=[].slice.call(i.body.querySelectorAll("*")),a=function(t,n){var i=o[t],a=i.nodeName.toLowerCase();if(-1===r.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";var s=[].slice.call(i.attributes),l=[].concat(e["*"]||[],e[a]||[]);s.forEach(function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===M.indexOf(n)||Boolean(t.nodeValue.match(L)||t.nodeValue.match(K));for(var i=e.filter(function(t){return t instanceof RegExp}),r=0,o=i.length;r<o;r++)if(n.match(i[r]))return!0;return!1})(t,l)||i.removeAttribute(t.nodeName)})},s=0,l=o.length;s<l;s++)a(s);return i.body.innerHTML}var F="tooltip",B=e.fn[F],$=new RegExp("(^|\\s)bs-tooltip\\S+","g"),H=["sanitize","whiteList","sanitizeFn"],U={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},z={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},V={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},W={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},q=function(){function t(t,e){if(void 0===n)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var i=t.prototype;return i.enable=function(){this._isEnabled=!0},i.disable=function(){this._isEnabled=!1},i.toggleEnabled=function(){this._isEnabled=!this._isEnabled},i.toggle=function(t){if(this._isEnabled)if(t){var n=this.constructor.DATA_KEY,i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass("show"))return void this._leave(null,this);this._enter(null,this)}},i.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},i.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var i=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(i);var r=l.findShadowRoot(this.element),o=e.contains(null!==r?r:this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!o)return;var a=this.getTipElement(),s=l.getUID(this.constructor.NAME);a.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&e(a).addClass("fade");var c="function"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,u=this._getAttachment(c);this.addAttachmentClass(u);var d=this._getContainer();e(a).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(a).appendTo(d),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,a,this._getPopperConfig(u)),e(a).addClass("show"),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var h=function(){t.config.animation&&t._fixTransition();var n=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),"out"===n&&t._leave(null,t)};if(e(this.tip).hasClass("fade")){var f=l.getTransitionDurationFromElement(this.tip);e(this.tip).one(l.TRANSITION_END,h).emulateTransitionEnd(f)}else h()}},i.hide=function(t){var n=this,i=this.getTipElement(),r=e.Event(this.constructor.Event.HIDE),o=function(){"show"!==n._hoverState&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()};if(e(this.element).trigger(r),!r.isDefaultPrevented()){if(e(i).removeClass("show"),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,e(this.tip).hasClass("fade")){var a=l.getTransitionDurationFromElement(i);e(i).one(l.TRANSITION_END,o).emulateTransitionEnd(a)}else o();this._hoverState=""}},i.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},i.isWithContent=function(){return Boolean(this.getTitle())},i.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},i.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},i.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(".tooltip-inner")),this.getTitle()),e(t).removeClass("fade show")},i.setElementContent=function(t,n){"object"!=typeof n||!n.nodeType&&!n.jquery?this.config.html?(this.config.sanitize&&(n=j(n,this.config.whiteList,this.config.sanitizeFn)),t.html(n)):t.text(n):this.config.html?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text())},i.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},i._getPopperConfig=function(t){var e=this;return s(s({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}}),this.config.popperConfig)},i._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=s(s({},e.offsets),t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},i._getContainer=function(){return!1===this.config.container?document.body:l.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)},i._getAttachment=function(t){return z[t.toUpperCase()]},i._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach(function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if("manual"!==n){var i="hover"===n?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r="hover"===n?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(i,t.config.selector,function(e){return t._enter(e)}).on(r,t.config.selector,function(e){return t._leave(e)})}}),this._hideModalHandler=function(){t.element&&t.hide()},e(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=s(s({},this.config),{},{trigger:"manual",selector:""}):this._fixTitle()},i._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},i._enter=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?"focus":"hover"]=!0),e(n.getTipElement()).hasClass("show")||"show"===n._hoverState?n._hoverState="show":(clearTimeout(n._timeout),n._hoverState="show",n.config.delay&&n.config.delay.show?n._timeout=setTimeout(function(){"show"===n._hoverState&&n.show()},n.config.delay.show):n.show())},i._leave=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?"focus":"hover"]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState="out",n.config.delay&&n.config.delay.hide?n._timeout=setTimeout(function(){"out"===n._hoverState&&n.hide()},n.config.delay.hide):n.hide())},i._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},i._getConfig=function(t){var n=e(this.element).data();return Object.keys(n).forEach(function(t){-1!==H.indexOf(t)&&delete n[t]}),"number"==typeof(t=s(s(s({},this.constructor.Default),n),"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),l.typeCheckConfig(F,t,this.constructor.DefaultType),t.sanitize&&(t.template=j(t.template,t.whiteList,t.sanitizeFn)),t},i._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},i._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match($);null!==n&&n.length&&t.removeClass(n.join(""))},i._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},i._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.tooltip"),r="object"==typeof n&&n;if((i||!/dispose|hide/.test(n))&&(i||(i=new t(this,r),e(this).data("bs.tooltip",i)),"string"==typeof n)){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return V}},{key:"NAME",get:function(){return F}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return W}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return U}}]),t}();e.fn[F]=q._jQueryInterface,e.fn[F].Constructor=q,e.fn[F].noConflict=function(){return e.fn[F]=B,q._jQueryInterface};var Y="popover",G=e.fn[Y],X=new RegExp("(^|\\s)bs-popover\\S+","g"),Z=s(s({},q.Default),{},{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),J=s(s({},q.DefaultType),{},{content:"(string|element|function)"}),Q={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},tt=function(t){var n,i;function o(){return t.apply(this,arguments)||this}i=t,(n=o).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var a=o.prototype;return a.isWithContent=function(){return this.getTitle()||this._getContent()},a.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},a.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},a.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(".popover-header"),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(".popover-body"),n),t.removeClass("fade show")},a._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},a._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(X);null!==n&&n.length>0&&t.removeClass(n.join(""))},o._jQueryInterface=function(t){return this.each(function(){var n=e(this).data("bs.popover"),i="object"==typeof t?t:null;if((n||!/dispose|hide/.test(t))&&(n||(n=new o(this,i),e(this).data("bs.popover",n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},r(o,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return Z}},{key:"NAME",get:function(){return Y}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return Q}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return J}}]),o}(q);e.fn[Y]=tt._jQueryInterface,e.fn[Y].Constructor=tt,e.fn[Y].noConflict=function(){return e.fn[Y]=G,tt._jQueryInterface};var et="scrollspy",nt=e.fn[et],it={offset:10,method:"auto",target:""},rt={offset:"number",method:"string",target:"(string|element)"},ot=function(){function t(t,n){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on("scroll.bs.scrollspy",function(t){return i._process(t)}),this.refresh(),this._process()}var n=t.prototype;return n.refresh=function(){var t=this,n=this._scrollElement===this._scrollElement.window?"offset":"position",i="auto"===this._config.method?n:this._config.method,r="position"===i?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(t){var n,o=l.getSelectorFromElement(t);if(o&&(n=document.querySelector(o)),n){var a=n.getBoundingClientRect();if(a.width||a.height)return[e(n)[i]().top+r,o]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},n.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},n._getConfig=function(t){if("string"!=typeof(t=s(s({},it),"object"==typeof t&&t?t:{})).target&&l.isElement(t.target)){var n=e(t.target).attr("id");n||(n=l.getUID(et),e(t.target).attr("id",n)),t.target="#"+n}return l.typeCheckConfig(et,t,rt),t},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},n._activate=function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",").map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}),i=e([].slice.call(document.querySelectorAll(n.join(","))));i.hasClass("dropdown-item")?(i.closest(".dropdown").find(".dropdown-toggle").addClass("active"),i.addClass("active")):(i.addClass("active"),i.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"),i.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active")),e(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:t})},n._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(t){return t.classList.contains("active")}).forEach(function(t){return t.classList.remove("active")})},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.scrollspy");if(i||(i=new t(this,"object"==typeof n&&n),e(this).data("bs.scrollspy",i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return it}}]),t}();e(window).on("load.bs.scrollspy.data-api",function(){for(var t=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),n=t.length;n--;){var i=e(t[n]);ot._jQueryInterface.call(i,i.data())}}),e.fn[et]=ot._jQueryInterface,e.fn[et].Constructor=ot,e.fn[et].noConflict=function(){return e.fn[et]=nt,ot._jQueryInterface};var at=e.fn.tab,st=function(){function t(t){this._element=t}var n=t.prototype;return n.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass("active")||e(this._element).hasClass("disabled"))){var n,i,r=e(this._element).closest(".nav, .list-group")[0],o=l.getSelectorFromElement(this._element);if(r){var a="UL"===r.nodeName||"OL"===r.nodeName?"> li > .active":".active";i=(i=e.makeArray(e(r).find(a)))[i.length-1]}var s=e.Event("hide.bs.tab",{relatedTarget:this._element}),c=e.Event("show.bs.tab",{relatedTarget:i});if(i&&e(i).trigger(s),e(this._element).trigger(c),!c.isDefaultPrevented()&&!s.isDefaultPrevented()){o&&(n=document.querySelector(o)),this._activate(this._element,r);var u=function(){var n=e.Event("hidden.bs.tab",{relatedTarget:t._element}),r=e.Event("shown.bs.tab",{relatedTarget:i});e(i).trigger(n),e(t._element).trigger(r)};n?this._activate(n,n.parentNode,u):u()}}},n.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},n._activate=function(t,n,i){var r=this,o=(!n||"UL"!==n.nodeName&&"OL"!==n.nodeName?e(n).children(".active"):e(n).find("> li > .active"))[0],a=i&&o&&e(o).hasClass("fade"),s=function(){return r._transitionComplete(t,o,i)};if(o&&a){var c=l.getTransitionDurationFromElement(o);e(o).removeClass("show").one(l.TRANSITION_END,s).emulateTransitionEnd(c)}else s()},n._transitionComplete=function(t,n,i){if(n){e(n).removeClass("active");var r=e(n.parentNode).find("> .dropdown-menu .active")[0];r&&e(r).removeClass("active"),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(e(t).addClass("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),l.reflow(t),t.classList.contains("fade")&&t.classList.add("show"),t.parentNode&&e(t.parentNode).hasClass("dropdown-menu")){var o=e(t).closest(".dropdown")[0];if(o){var a=[].slice.call(o.querySelectorAll(".dropdown-toggle"));e(a).addClass("active")}t.setAttribute("aria-expanded",!0)}i&&i()},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),r=i.data("bs.tab");if(r||(r=new t(this),i.data("bs.tab",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),t}();e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(t){t.preventDefault(),st._jQueryInterface.call(e(this),"show")}),e.fn.tab=st._jQueryInterface,e.fn.tab.Constructor=st,e.fn.tab.noConflict=function(){return e.fn.tab=at,st._jQueryInterface};var lt=e.fn.toast,ct={animation:"boolean",autohide:"boolean",delay:"number"},ut={animation:!0,autohide:!0,delay:500},dt=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var n=t.prototype;return n.show=function(){var t=this,n=e.Event("show.bs.toast");if(e(this._element).trigger(n),!n.isDefaultPrevented()){this._config.animation&&this._element.classList.add("fade");var i=function(){t._element.classList.remove("showing"),t._element.classList.add("show"),e(t._element).trigger("shown.bs.toast"),t._config.autohide&&(t._timeout=setTimeout(function(){t.hide()},t._config.delay))};if(this._element.classList.remove("hide"),l.reflow(this._element),this._element.classList.add("showing"),this._config.animation){var r=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,i).emulateTransitionEnd(r)}else i()}},n.hide=function(){if(this._element.classList.contains("show")){var t=e.Event("hide.bs.toast");e(this._element).trigger(t),t.isDefaultPrevented()||this._close()}},n.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains("show")&&this._element.classList.remove("show"),e(this._element).off("click.dismiss.bs.toast"),e.removeData(this._element,"bs.toast"),this._element=null,this._config=null},n._getConfig=function(t){return t=s(s(s({},ut),e(this._element).data()),"object"==typeof t&&t?t:{}),l.typeCheckConfig("toast",t,this.constructor.DefaultType),t},n._setListeners=function(){var t=this;e(this._element).on("click.dismiss.bs.toast",'[data-dismiss="toast"]',function(){return t.hide()})},n._close=function(){var t=this,n=function(){t._element.classList.add("hide"),e(t._element).trigger("hidden.bs.toast")};if(this._element.classList.remove("show"),this._config.animation){var i=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,n).emulateTransitionEnd(i)}else n()},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),r=i.data("bs.toast");if(r||(r=new t(this,"object"==typeof n&&n),i.data("bs.toast",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n](this)}})},r(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"DefaultType",get:function(){return ct}},{key:"Default",get:function(){return ut}}]),t}();e.fn.toast=dt._jQueryInterface,e.fn.toast.Constructor=dt,e.fn.toast.noConflict=function(){return e.fn.toast=lt,dt._jQueryInterface},t.Alert=d,t.Button=f,t.Carousel=b,t.Collapse=_,t.Dropdown=S,t.Modal=P,t.Popover=tt,t.Scrollspy=ot,t.Tab=st,t.Toast=dt,t.Tooltip=q,t.Util=l,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t,e;function n(){return t.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function r(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(o(t,e))return;return 1}function s(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function c(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){for(var n=[],i=0;i<t.length;++i)n.push(e(t[i],i));return n}function d(t,e){for(var n in e)o(e,n)&&(t[n]=e[n]);return o(e,"toString")&&(t.toString=e.toString),o(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,n,i){return ke(t,e,n,i,!0).utc()}function f(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function p(t){if(null==t._isValid){var n=f(t),i=e.call(n.parsedDateParts,function(t){return null!=t}),r=!isNaN(t._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidEra&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&i);if(t._strict&&(r=r&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function g(t){var e=h(NaN);return null!=t?d(f(e),t):f(e).userInvalidated=!0,e}e=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var m=n.momentProperties=[],v=!1;function y(t,e){var n,i,r;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=f(e)),s(e._locale)||(t._locale=e._locale),0<m.length)for(n=0;n<m.length;n++)s(r=e[i=m[n]])||(t[i]=r);return t}function b(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,n.updateOffset(this),v=!1)}function w(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function E(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function C(t,e){var i=!0;return d(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),i){for(var r,a,s=[],l=0;l<arguments.length;l++){if(r="","object"==typeof arguments[l]){for(a in r+="\n["+l+"] ",arguments[0])o(arguments[0],a)&&(r+=a+": "+arguments[0][a]+", ");r=r.slice(0,-2)}else r=arguments[l];s.push(r)}E(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)},e)}var T,_={};function O(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),_[t]||(E(e),_[t]=!0)}function k(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t,e){var n,i=d({},t);for(n in e)o(e,n)&&(r(t[n])&&r(e[n])?(i[n]={},d(i[n],t[n]),d(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)o(t,n)&&!o(e,n)&&r(t[n])&&(i[n]=d({},i[n]));return i}function x(t){null!=t&&this.set(t)}function I(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,T=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)o(t,e)&&n.push(e);return n};var S=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,R=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,A={},N={};function P(t,e,n,i){var r="string"==typeof i?function(){return this[i]()}:i;t&&(N[t]=r),e&&(N[e[0]]=function(){return I(r.apply(this,arguments),e[1],e[2])}),n&&(N[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function M(t,e){return t.isValid()?(e=L(e,t.localeData()),A[e]=A[e]||function(t){for(var e,n=t.match(S),i=0,r=n.length;i<r;i++)N[n[i]]?n[i]=N[n[i]]:n[i]=(e=n[i]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var i="",o=0;o<r;o++)i+=k(n[o])?n[o].call(e,t):n[o];return i}}(e),A[e](t)):t.localeData().invalidDate()}function L(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(R.lastIndex=0;0<=n&&R.test(t);)t=t.replace(R,i),R.lastIndex=0,--n;return t}var K={};function j(t,e){var n=t.toLowerCase();K[n]=K[n+"s"]=K[e]=t}function F(t){return"string"==typeof t?K[t]||K[t.toLowerCase()]:void 0}function B(t){var e,n,i={};for(n in t)o(t,n)&&(e=F(n))&&(i[e]=t[n]);return i}var $={};function H(t,e){$[t]=e}function U(t){return t%4==0&&t%100!=0||t%400==0}function z(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function V(t){var e=+t,n=0;return 0!=e&&isFinite(e)&&(n=z(e)),n}function W(t,e){return function(i){return null!=i?(Y(this,t,i),n.updateOffset(this,e),this):q(this,t)}}function q(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Y(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&U(t.year())&&1===t.month()&&29===t.date()?(n=V(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),xt(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}var G,X=/\d/,Z=/\d\d/,J=/\d{3}/,Q=/\d{4}/,tt=/[+-]?\d{6}/,et=/\d\d?/,nt=/\d\d\d\d?/,it=/\d\d\d\d\d\d?/,rt=/\d{1,3}/,ot=/\d{1,4}/,at=/[+-]?\d{1,6}/,st=/\d+/,lt=/[+-]?\d+/,ct=/Z|[+-]\d\d:?\d\d/gi,ut=/Z|[+-]\d\d(?::?\d\d)?/gi,dt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function ht(t,e,n){G[t]=k(e)?e:function(t,i){return t&&n?n:e}}function ft(t,e){return o(G,t)?G[t](e._strict,e._locale):new RegExp(pt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})))}function pt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}G={};var gt={};function mt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),l(e)&&(i=function(t,n){n[e]=V(t)}),n=0;n<t.length;n++)gt[t[n]]=i}function vt(t,e){mt(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}var yt,bt=0,wt=1,Et=2,Ct=3,Tt=4,_t=5,Ot=6,kt=7,Dt=8;function xt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%12+12)%12;return t+=(e-n)/12,1==n?U(t)?29:28:31-n%7%2}yt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){for(var e=0;e<this.length;++e)if(this[e]===t)return e;return-1},P("M",["MM",2],"Mo",function(){return this.month()+1}),P("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),P("MMMM",0,0,function(t){return this.localeData().months(this,t)}),j("month","M"),H("month",8),ht("M",et),ht("MM",et,Z),ht("MMM",function(t,e){return e.monthsShortRegex(t)}),ht("MMMM",function(t,e){return e.monthsRegex(t)}),mt(["M","MM"],function(t,e){e[wt]=V(t)-1}),mt(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[wt]=r:f(n).invalidMonth=t});var It="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),St="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Rt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,At=dt,Nt=dt;function Pt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=V(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),xt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Mt(t){return null!=t?(Pt(this,t),n.updateOffset(this,!0),this):q(this,"Month")}function Lt(){function t(t,e){return e.length-t.length}for(var e,n=[],i=[],r=[],o=0;o<12;o++)e=h([2e3,o]),n.push(this.monthsShort(e,"")),i.push(this.months(e,"")),r.push(this.months(e,"")),r.push(this.monthsShort(e,""));for(n.sort(t),i.sort(t),r.sort(t),o=0;o<12;o++)n[o]=pt(n[o]),i[o]=pt(i[o]);for(o=0;o<24;o++)r[o]=pt(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Kt(t){return U(t)?366:365}P("Y",0,0,function(){var t=this.year();return t<=9999?I(t,4):"+"+t}),P(0,["YY",2],0,function(){return this.year()%100}),P(0,["YYYY",4],0,"year"),P(0,["YYYYY",5],0,"year"),P(0,["YYYYYY",6,!0],0,"year"),j("year","y"),H("year",1),ht("Y",lt),ht("YY",et,Z),ht("YYYY",ot,Q),ht("YYYYY",at,tt),ht("YYYYYY",at,tt),mt(["YYYYY","YYYYYY"],bt),mt("YYYY",function(t,e){e[bt]=2===t.length?n.parseTwoDigitYear(t):V(t)}),mt("YY",function(t,e){e[bt]=n.parseTwoDigitYear(t)}),mt("Y",function(t,e){e[bt]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return V(t)+(68<V(t)?1900:2e3)};var jt=W("FullYear",!0);function Ft(t){var e,n;return t<100&&0<=t?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Bt(t,e,n){var i=7+e-n;return i-(7+Ft(t,0,i).getUTCDay()-e)%7-1}function $t(t,e,n,i,r){var o,a=1+7*(e-1)+(7+n-i)%7+Bt(t,i,r),s=a<=0?Kt(o=t-1)+a:a>Kt(t)?(o=t+1,a-Kt(t)):(o=t,a);return{year:o,dayOfYear:s}}function Ht(t,e,n){var i,r,o=Bt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?i=a+Ut(r=t.year()-1,e,n):a>Ut(t.year(),e,n)?(i=a-Ut(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function Ut(t,e,n){var i=Bt(t,e,n),r=Bt(t+1,e,n);return(Kt(t)-i+r)/7}function zt(t,e){return t.slice(e,7).concat(t.slice(0,e))}P("w",["ww",2],"wo","week"),P("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),H("week",5),H("isoWeek",5),ht("w",et),ht("ww",et,Z),ht("W",et),ht("WW",et,Z),vt(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=V(t)}),P("d",0,"do","day"),P("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),P("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),P("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),P("e",0,0,"weekday"),P("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),ht("d",et),ht("e",et),ht("E",et),ht("dd",function(t,e){return e.weekdaysMinRegex(t)}),ht("ddd",function(t,e){return e.weekdaysShortRegex(t)}),ht("dddd",function(t,e){return e.weekdaysRegex(t)}),vt(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:f(n).invalidWeekday=t}),vt(["d","e","E"],function(t,e,n,i){e[i]=V(t)});var Vt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Wt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),qt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Yt=dt,Gt=dt,Xt=dt;function Zt(){function t(t,e){return e.length-t.length}for(var e,n,i,r,o=[],a=[],s=[],l=[],c=0;c<7;c++)e=h([2e3,1]).day(c),n=pt(this.weekdaysMin(e,"")),i=pt(this.weekdaysShort(e,"")),r=pt(this.weekdays(e,"")),o.push(n),a.push(i),s.push(r),l.push(n),l.push(i),l.push(r);o.sort(t),a.sort(t),s.sort(t),l.sort(t),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Jt(){return this.hours()%12||12}function Qt(t,e){P(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function te(t,e){return e._meridiemParse}P("H",["HH",2],0,"hour"),P("h",["hh",2],0,Jt),P("k",["kk",2],0,function(){return this.hours()||24}),P("hmm",0,0,function(){return""+Jt.apply(this)+I(this.minutes(),2)}),P("hmmss",0,0,function(){return""+Jt.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),P("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),P("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),Qt("a",!0),Qt("A",!1),j("hour","h"),H("hour",13),ht("a",te),ht("A",te),ht("H",et),ht("h",et),ht("k",et),ht("HH",et,Z),ht("hh",et,Z),ht("kk",et,Z),ht("hmm",nt),ht("hmmss",it),ht("Hmm",nt),ht("Hmmss",it),mt(["H","HH"],Ct),mt(["k","kk"],function(t,e,n){var i=V(t);e[Ct]=24===i?0:i}),mt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),mt(["h","hh"],function(t,e,n){e[Ct]=V(t),f(n).bigHour=!0}),mt("hmm",function(t,e,n){var i=t.length-2;e[Ct]=V(t.substr(0,i)),e[Tt]=V(t.substr(i)),f(n).bigHour=!0}),mt("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Ct]=V(t.substr(0,i)),e[Tt]=V(t.substr(i,2)),e[_t]=V(t.substr(r)),f(n).bigHour=!0}),mt("Hmm",function(t,e,n){var i=t.length-2;e[Ct]=V(t.substr(0,i)),e[Tt]=V(t.substr(i))}),mt("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Ct]=V(t.substr(0,i)),e[Tt]=V(t.substr(i,2)),e[_t]=V(t.substr(r))});var ee,ne=W("Hours",!0),ie={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:It,monthsShort:St,week:{dow:0,doy:6},weekdays:Vt,weekdaysMin:qt,weekdaysShort:Wt,meridiemParse:/[ap]\.?m?\.?/i},re={},oe={};function ae(t){return t?t.toLowerCase().replace("_","-"):t}function se(t){var e;if(void 0===re[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=ee._abbr,require("./locale/"+t),le(e)}catch(e){re[t]=null}return re[t]}function le(t,e){var n;return t&&((n=s(e)?ue(t):ce(t,e))?ee=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ee._abbr}function ce(t,e){if(null===e)return delete re[t],null;var n,i=ie;if(e.abbr=t,null!=re[t])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=re[t]._config;else if(null!=e.parentLocale)if(null!=re[e.parentLocale])i=re[e.parentLocale]._config;else{if(null==(n=se(e.parentLocale)))return oe[e.parentLocale]||(oe[e.parentLocale]=[]),oe[e.parentLocale].push({name:t,config:e}),null;i=n._config}return re[t]=new x(D(i,e)),oe[t]&&oe[t].forEach(function(t){ce(t.name,t.config)}),le(t),re[t]}function ue(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ee;if(!i(t)){if(e=se(t))return e;t=[t]}return function(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=ae(t[o]).split("-")).length,n=(n=ae(t[o+1]))?n.split("-"):null;0<e;){if(i=se(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i+=1)if(t[i]!==e[i])return i;return n}(r,n)>=e-1)break;e--}o++}return ee}(t)}function de(t){var e,n=t._a;return n&&-2===f(t).overflow&&(e=n[wt]<0||11<n[wt]?wt:n[Et]<1||n[Et]>xt(n[bt],n[wt])?Et:n[Ct]<0||24<n[Ct]||24===n[Ct]&&(0!==n[Tt]||0!==n[_t]||0!==n[Ot])?Ct:n[Tt]<0||59<n[Tt]?Tt:n[_t]<0||59<n[_t]?_t:n[Ot]<0||999<n[Ot]?Ot:-1,f(t)._overflowDayOfYear&&(e<bt||Et<e)&&(e=Et),f(t)._overflowWeeks&&-1===e&&(e=kt),f(t)._overflowWeekday&&-1===e&&(e=Dt),f(t).overflow=e),t}var he=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pe=/Z|[+-]\d\d(?::?\d\d)?/,ge=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],me=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ve=/^\/?Date\((-?\d+)/i,ye=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,be={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function we(t){var e,n,i,r,o,a,s=t._i,l=he.exec(s)||fe.exec(s);if(l){for(f(t).iso=!0,e=0,n=ge.length;e<n;e++)if(ge[e][1].exec(l[1])){r=ge[e][0],i=!1!==ge[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=me.length;e<n;e++)if(me[e][1].exec(l[3])){o=(l[2]||" ")+me[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!pe.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),_e(t)}else t._isValid=!1}function Ee(t){var e,n,i,r,o=ye.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(o){if(i=e=function(t,e,n,i,r,o){var a=[function(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}(t),St.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}(o[4],o[3],o[2],o[5],o[6],o[7]),r=t,(n=o[1])&&Wt.indexOf(n)!==new Date(i[0],i[1],i[2]).getDay()&&(f(r).weekdayMismatch=!0,!void(r._isValid=!1)))return;t._a=e,t._tzm=function(t,e,n){if(t)return be[t];if(e)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(o[8],o[9],o[10]),t._d=Ft.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),f(t).rfc2822=!0}else t._isValid=!1}function Ce(t,e,n){return null!=t?t:null!=e?e:n}function Te(t){var e,i,r,o,a,s,l,c=[];if(!t._d){for(s=t,l=new Date(n.now()),r=s._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()],t._w&&null==t._a[Et]&&null==t._a[wt]&&function(t){var e,n,i,r,o,a,s,l,c;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,a=4,n=Ce(e.GG,t._a[bt],Ht(De(),1,4).year),i=Ce(e.W,1),((r=Ce(e.E,1))<1||7<r)&&(l=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,c=Ht(De(),o,a),n=Ce(e.gg,t._a[bt],c.year),i=Ce(e.w,c.week),null!=e.d?((r=e.d)<0||6<r)&&(l=!0):null!=e.e?(r=e.e+o,(e.e<0||6<e.e)&&(l=!0)):r=o),i<1||i>Ut(n,o,a)?f(t)._overflowWeeks=!0:null!=l?f(t)._overflowWeekday=!0:(s=$t(n,i,r,o,a),t._a[bt]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=Ce(t._a[bt],r[bt]),(t._dayOfYear>Kt(a)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),i=Ft(a,0,t._dayOfYear),t._a[wt]=i.getUTCMonth(),t._a[Et]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=c[e]=r[e];for(;e<7;e++)t._a[e]=c[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Ct]&&0===t._a[Tt]&&0===t._a[_t]&&0===t._a[Ot]&&(t._nextDay=!0,t._a[Ct]=0),t._d=(t._useUTC?Ft:function(t,e,n,i,r,o,a){var s;return t<100&&0<=t?(s=new Date(t+400,e,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,i,r,o,a),s}).apply(null,c),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ct]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(f(t).weekdayMismatch=!0)}}function _e(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],f(t).empty=!0;for(var e,i,r,a,s,l,c,u=""+t._i,d=u.length,h=0,p=L(t._f,t._locale).match(S)||[],g=0;g<p.length;g++)i=p[g],(e=(u.match(ft(i,t))||[])[0])&&(0<(r=u.substr(0,u.indexOf(e))).length&&f(t).unusedInput.push(r),u=u.slice(u.indexOf(e)+e.length),h+=e.length),N[i]?(e?f(t).empty=!1:f(t).unusedTokens.push(i),s=i,c=t,null!=(l=e)&&o(gt,s)&&gt[s](l,c._a,c,s)):t._strict&&!e&&f(t).unusedTokens.push(i);f(t).charsLeftOver=d-h,0<u.length&&f(t).unusedInput.push(u),t._a[Ct]<=12&&!0===f(t).bigHour&&0<t._a[Ct]&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[Ct]=function(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):(null!=t.isPM&&((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0)),e)}(t._locale,t._a[Ct],t._meridiem),null!==(a=f(t).era)&&(t._a[bt]=t._locale.erasConvertYear(a,t._a[bt])),Te(t),de(t)}else Ee(t);else we(t)}function Oe(t){var e,o,a=t._i,h=t._f;return t._locale=t._locale||ue(t._l),null===a||void 0===h&&""===a?g({nullInput:!0}):("string"==typeof a&&(t._i=a=t._locale.preparse(a)),w(a)?new b(de(a)):(c(a)?t._d=a:i(h)?function(t){var e,n,i,r,o,a,s=!1;if(0===t._f.length)return f(t).invalidFormat=!0,t._d=new Date(NaN);for(r=0;r<t._f.length;r++)o=0,a=!1,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],_e(e),p(e)&&(a=!0),o+=f(e).charsLeftOver,o+=10*f(e).unusedTokens.length,f(e).score=o,s?o<i&&(i=o,n=e):(null==i||o<i||a)&&(i=o,n=e,a&&(s=!0));d(t,n||e)}(t):h?_e(t):s(o=(e=t)._i)?e._d=new Date(n.now()):c(o)?e._d=new Date(o.valueOf()):"string"==typeof o?function(t){var e=ve.exec(t._i);null===e?(we(t),!1===t._isValid&&(delete t._isValid,Ee(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:n.createFromInputFallback(t)))):t._d=new Date(+e[1])}(e):i(o)?(e._a=u(o.slice(0),function(t){return parseInt(t,10)}),Te(e)):r(o)?function(t){var e,n;t._d||(n=void 0===(e=B(t._i)).day?e.date:e.day,t._a=u([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Te(t))}(e):l(o)?e._d=new Date(o):n.createFromInputFallback(e),p(t)||(t._d=null),t))}function ke(t,e,n,o,s){var l,c={};return!0!==e&&!1!==e||(o=e,e=void 0),!0!==n&&!1!==n||(o=n,n=void 0),(r(t)&&a(t)||i(t)&&0===t.length)&&(t=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=s,c._l=n,c._i=t,c._f=e,c._strict=o,(l=new b(de(Oe(c))))._nextDay&&(l.add(1,"d"),l._nextDay=void 0),l}function De(t,e,n,i){return ke(t,e,n,i,!1)}n.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var xe=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()}),Ie=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:g()});function Se(t,e){var n,r;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return De();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var Re=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ae(t){var e=B(t),n=e.year||0,i=e.quarter||0,r=e.month||0,a=e.week||e.isoWeek||0,s=e.day||0,l=e.hour||0,c=e.minute||0,u=e.second||0,d=e.millisecond||0;this._isValid=function(t){var e,n,i=!1;for(e in t)if(o(t,e)&&(-1===yt.call(Re,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<Re.length;++n)if(t[Re[n]]){if(i)return!1;parseFloat(t[Re[n]])!==V(t[Re[n]])&&(i=!0)}return!0}(e),this._milliseconds=+d+1e3*u+6e4*c+1e3*l*60*60,this._days=+s+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=ue(),this._bubble()}function Ne(t){return t instanceof Ae}function Pe(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Me(t,e){P(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+I(~~(t/60),2)+e+I(~~t%60,2)})}Me("Z",":"),Me("ZZ",""),ht("Z",ut),ht("ZZ",ut),mt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Ke(ut,t)});var Le=/([\+\-]|\d\d)/gi;function Ke(t,e){var n,i,r=(e||"").match(t);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(Le)||["-",0,0])[1]+V(n[2]))?0:"+"===n[0]?i:-i}function je(t,e){var i,r;return e._isUTC?(i=e.clone(),r=(w(t)||c(t)?t.valueOf():De(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),n.updateOffset(i,!1),i):De(t).local()}function Fe(t){return-Math.round(t._d.getTimezoneOffset())}function Be(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var $e=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,He=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ue(t,e){var n,i,r,a=t,s=null;return Ne(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:l(t)||!isNaN(+t)?(a={},e?a[e]=+t:a.milliseconds=+t):(s=$e.exec(t))?(n="-"===s[1]?-1:1,a={y:0,d:V(s[Et])*n,h:V(s[Ct])*n,m:V(s[Tt])*n,s:V(s[_t])*n,ms:V(Pe(1e3*s[Ot]))*n}):(s=He.exec(t))?(n="-"===s[1]?-1:1,a={y:ze(s[2],n),M:ze(s[3],n),w:ze(s[4],n),d:ze(s[5],n),h:ze(s[6],n),m:ze(s[7],n),s:ze(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(r=function(t,e){var n;return t.isValid()&&e.isValid()?(e=je(e,t),t.isBefore(e)?n=Ve(t,e):((n=Ve(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(De(a.from),De(a.to)),(a={}).ms=r.milliseconds,a.M=r.months),i=new Ae(a),Ne(t)&&o(t,"_locale")&&(i._locale=t._locale),Ne(t)&&o(t,"_isValid")&&(i._isValid=t._isValid),i}function ze(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ve(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=e-t.clone().add(n.months,"M"),n}function We(t,e){return function(n,i){var r;return null===i||isNaN(+i)||(O(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),qe(this,Ue(n,i),t),this}}function qe(t,e,i,r){var o=e._milliseconds,a=Pe(e._days),s=Pe(e._months);t.isValid()&&(r=null==r||r,s&&Pt(t,q(t,"Month")+s*i),a&&Y(t,"Date",q(t,"Date")+a*i),o&&t._d.setTime(t._d.valueOf()+o*i),r&&n.updateOffset(t,a||s))}Ue.fn=Ae.prototype,Ue.invalid=function(){return Ue(NaN)};var Ye=We(1,"add"),Ge=We(-1,"subtract");function Xe(t){return"string"==typeof t||t instanceof String}function Ze(t,e){if(t.date()<e.date())return-Ze(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(1+n,"months")-i)))||0}function Je(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ue(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qe=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function tn(){return this._locale}var en=126227808e5;function nn(t,e){return(t%e+e)%e}function rn(t,e,n){return t<100&&0<=t?new Date(t+400,e,n)-en:new Date(t,e,n).valueOf()}function on(t,e,n){return t<100&&0<=t?Date.UTC(t+400,e,n)-en:Date.UTC(t,e,n)}function an(t,e){return e.erasAbbrRegex(t)}function sn(){for(var t=[],e=[],n=[],i=[],r=this.eras(),o=0,a=r.length;o<a;++o)e.push(pt(r[o].name)),t.push(pt(r[o].abbr)),n.push(pt(r[o].narrow)),i.push(pt(r[o].name)),i.push(pt(r[o].abbr)),i.push(pt(r[o].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function ln(t,e){P(0,[t,t.length],0,e)}function cn(t,e,n,i,r){var o;return null==t?Ht(this,i,r).year:((o=Ut(t,i,r))<e&&(e=o),function(t,e,n,i,r){var o=$t(t,e,n,i,r),a=Ft(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,t,e,n,i,r))}P("N",0,0,"eraAbbr"),P("NN",0,0,"eraAbbr"),P("NNN",0,0,"eraAbbr"),P("NNNN",0,0,"eraName"),P("NNNNN",0,0,"eraNarrow"),P("y",["y",1],"yo","eraYear"),P("y",["yy",2],0,"eraYear"),P("y",["yyy",3],0,"eraYear"),P("y",["yyyy",4],0,"eraYear"),ht("N",an),ht("NN",an),ht("NNN",an),ht("NNNN",function(t,e){return e.erasNameRegex(t)}),ht("NNNNN",function(t,e){return e.erasNarrowRegex(t)}),mt(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,i){var r=n._locale.erasParse(t,i,n._strict);r?f(n).era=r:f(n).invalidEra=t}),ht("y",st),ht("yy",st),ht("yyy",st),ht("yyyy",st),ht("yo",function(t,e){return e._eraYearOrdinalRegex||st}),mt(["y","yy","yyy","yyyy"],bt),mt(["yo"],function(t,e,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[bt]=n._locale.eraYearOrdinalParse(t,r):e[bt]=parseInt(t,10)}),P(0,["gg",2],0,function(){return this.weekYear()%100}),P(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ln("gggg","weekYear"),ln("ggggg","weekYear"),ln("GGGG","isoWeekYear"),ln("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),ht("G",lt),ht("g",lt),ht("GG",et,Z),ht("gg",et,Z),ht("GGGG",ot,Q),ht("gggg",ot,Q),ht("GGGGG",at,tt),ht("ggggg",at,tt),vt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=V(t)}),vt(["gg","GG"],function(t,e,i,r){e[r]=n.parseTwoDigitYear(t)}),P("Q",0,"Qo","quarter"),j("quarter","Q"),H("quarter",7),ht("Q",X),mt("Q",function(t,e){e[wt]=3*(V(t)-1)}),P("D",["DD",2],"Do","date"),j("date","D"),H("date",9),ht("D",et),ht("DD",et,Z),ht("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),mt(["D","DD"],Et),mt("Do",function(t,e){e[Et]=V(t.match(et)[0])});var un=W("Date",!0);P("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),H("dayOfYear",4),ht("DDD",rt),ht("DDDD",J),mt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=V(t)}),P("m",["mm",2],0,"minute"),j("minute","m"),H("minute",14),ht("m",et),ht("mm",et,Z),mt(["m","mm"],Tt);var dn=W("Minutes",!1);P("s",["ss",2],0,"second"),j("second","s"),H("second",15),ht("s",et),ht("ss",et,Z),mt(["s","ss"],_t);var hn,fn,pn=W("Seconds",!1);for(P("S",0,0,function(){return~~(this.millisecond()/100)}),P(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),P(0,["SSS",3],0,"millisecond"),P(0,["SSSS",4],0,function(){return 10*this.millisecond()}),P(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),P(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),P(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),P(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),P(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),j("millisecond","ms"),H("millisecond",16),ht("S",rt,X),ht("SS",rt,Z),ht("SSS",rt,J),hn="SSSS";hn.length<=9;hn+="S")ht(hn,st);function gn(t,e){e[Ot]=V(1e3*("0."+t))}for(hn="S";hn.length<=9;hn+="S")mt(hn,gn);fn=W("Milliseconds",!1),P("z",0,0,"zoneAbbr"),P("zz",0,0,"zoneName");var mn=b.prototype;function vn(t){return t}mn.add=Ye,mn.calendar=function(t,e){1===arguments.length&&(arguments[0]?function(t){return w(t)||c(t)||Xe(t)||l(t)||function(t){var e=i(t),n=!1;return e&&(n=0===t.filter(function(e){return!l(e)&&Xe(t)}).length),e&&n}(t)||function(t){var e,n=r(t)&&!a(t),i=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<s.length;e+=1)i=i||o(t,s[e]);return n&&i}(t)||null==t}(arguments[0])?(t=arguments[0],e=void 0):function(t){for(var e=r(t)&&!a(t),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s=0;s<i.length;s+=1)n=n||o(t,i[s]);return e&&n}(arguments[0])&&(e=arguments[0],t=void 0):e=t=void 0);var s=t||De(),u=je(s,this).startOf("day"),d=n.calendarFormat(this,u)||"sameElse",h=e&&(k(e[d])?e[d].call(this,s):e[d]);return this.format(h||this.localeData().calendar(d,this,De(s)))},mn.clone=function(){return new b(this)},mn.diff=function(t,e,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=je(t,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=F(e)){case"year":o=Ze(this,i)/12;break;case"month":o=Ze(this,i);break;case"quarter":o=Ze(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:z(o)},mn.endOf=function(t){var e,i;if(void 0===(t=F(t))||"millisecond"===t||!this.isValid())return this;switch(i=this._isUTC?on:rn,t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-nn(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-nn(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-nn(e,1e3)-1}return this._d.setTime(e),n.updateOffset(this,!0),this},mn.format=function(t){var e=M(this,t=t||(this.isUtc()?n.defaultFormatUtc:n.defaultFormat));return this.localeData().postformat(e)},mn.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||De(t).isValid())?Ue({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},mn.fromNow=function(t){return this.from(De(),t)},mn.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||De(t).isValid())?Ue({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},mn.toNow=function(t){return this.to(De(),t)},mn.get=function(t){return k(this[t=F(t)])?this[t]():this},mn.invalidAt=function(){return f(this).overflow},mn.isAfter=function(t,e){var n=w(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=F(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},mn.isBefore=function(t,e){var n=w(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=F(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},mn.isBetween=function(t,e,n,i){var r=w(t)?t:De(t),o=w(e)?e:De(e);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n))},mn.isSame=function(t,e){var n,i=w(t)?t:De(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=F(e)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},mn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},mn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},mn.isValid=function(){return p(this)},mn.lang=Qe,mn.locale=Je,mn.localeData=tn,mn.max=Ie,mn.min=xe,mn.parsingFlags=function(){return d({},f(this))},mn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e,n=[];for(e in t)o(t,e)&&n.push({unit:e,priority:$[e]});return n.sort(function(t,e){return t.priority-e.priority}),n}(t=B(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(k(this[t=F(t)]))return this[t](e);return this},mn.startOf=function(t){var e,i;if(void 0===(t=F(t))||"millisecond"===t||!this.isValid())return this;switch(i=this._isUTC?on:rn,t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=nn(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=nn(e,6e4);break;case"second":e=this._d.valueOf(),e-=nn(e,1e3)}return this._d.setTime(e),n.updateOffset(this,!0),this},mn.subtract=Ge,mn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},mn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},mn.toDate=function(){return new Date(this.valueOf())},mn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||9999<n.year()?M(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):k(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",M(n,"Z")):M(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},mn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,i="moment",r="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),t="["+i+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=r+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(mn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),mn.toJSON=function(){return this.isValid()?this.toISOString():null},mn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},mn.unix=function(){return Math.floor(this.valueOf()/1e3)},mn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},mn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},mn.eraName=function(){for(var t,e=this.localeData().eras(),n=0,i=e.length;n<i;++n){if(t=this.clone().startOf("day").valueOf(),e[n].since<=t&&t<=e[n].until)return e[n].name;if(e[n].until<=t&&t<=e[n].since)return e[n].name}return""},mn.eraNarrow=function(){for(var t,e=this.localeData().eras(),n=0,i=e.length;n<i;++n){if(t=this.clone().startOf("day").valueOf(),e[n].since<=t&&t<=e[n].until)return e[n].narrow;if(e[n].until<=t&&t<=e[n].since)return e[n].narrow}return""},mn.eraAbbr=function(){for(var t,e=this.localeData().eras(),n=0,i=e.length;n<i;++n){if(t=this.clone().startOf("day").valueOf(),e[n].since<=t&&t<=e[n].until)return e[n].abbr;if(e[n].until<=t&&t<=e[n].since)return e[n].abbr}return""},mn.eraYear=function(){for(var t,e,i=this.localeData().eras(),r=0,o=i.length;r<o;++r)if(t=i[r].since<=i[r].until?1:-1,e=this.clone().startOf("day").valueOf(),i[r].since<=e&&e<=i[r].until||i[r].until<=e&&e<=i[r].since)return(this.year()-n(i[r].since).year())*t+i[r].offset;return this.year()},mn.year=jt,mn.isLeapYear=function(){return U(this.year())},mn.weekYear=function(t){return cn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},mn.isoWeekYear=function(t){return cn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},mn.quarter=mn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},mn.month=Mt,mn.daysInMonth=function(){return xt(this.year(),this.month())},mn.week=mn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},mn.isoWeek=mn.isoWeeks=function(t){var e=Ht(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},mn.weeksInYear=function(){var t=this.localeData()._week;return Ut(this.year(),t.dow,t.doy)},mn.weeksInWeekYear=function(){var t=this.localeData()._week;return Ut(this.weekYear(),t.dow,t.doy)},mn.isoWeeksInYear=function(){return Ut(this.year(),1,4)},mn.isoWeeksInISOWeekYear=function(){return Ut(this.isoWeekYear(),1,4)},mn.date=un,mn.day=mn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},mn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},mn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null==t)return this.day()||7;var e,n,i=(e=t,n=this.localeData(),"string"==typeof e?n.weekdaysParse(e)%7||7:isNaN(e)?null:e);return this.day(this.day()%7?i:i-7)},mn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},mn.hour=mn.hours=ne,mn.minute=mn.minutes=dn,mn.second=mn.seconds=pn,mn.millisecond=mn.milliseconds=fn,mn.utcOffset=function(t,e,i){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?o:Fe(this);if("string"==typeof t){if(null===(t=Ke(ut,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(r=Fe(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!e||this._changeInProgress?qe(this,Ue(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this},mn.utc=function(t){return this.utcOffset(0,t)},mn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Fe(this),"m")),this},mn.parseZone=function(){var t;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(t=Ke(ct,this._i))?this.utcOffset(t):this.utcOffset(0,!0)),this},mn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?De(t).utcOffset():0,(this.utcOffset()-t)%60==0)},mn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},mn.isLocal=function(){return!!this.isValid()&&!this._isUTC},mn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},mn.isUtc=Be,mn.isUTC=Be,mn.zoneAbbr=function(){return this._isUTC?"UTC":""},mn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},mn.dates=C("dates accessor is deprecated. Use date instead.",un),mn.months=C("months accessor is deprecated. Use month instead",Mt),mn.years=C("years accessor is deprecated. Use year instead",jt),mn.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),mn.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t,e={};return y(e,this),(e=Oe(e))._a?(t=(e._isUTC?h:De)(e._a),this._isDSTShifted=this.isValid()&&0<function(t,e,n){for(var i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0,a=0;a<i;a++)V(t[a])!==V(e[a])&&o++;return o+r}(e._a,t.toArray())):this._isDSTShifted=!1,this._isDSTShifted});var yn=x.prototype;function bn(t,e,n,i){var r=ue(),o=h().set(i,e);return r[n](o,t)}function wn(t,e,n){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return bn(t,e,n,"month");for(var i=[],r=0;r<12;r++)i[r]=bn(t,r,n,"month");return i}function En(t,e,n,i){"boolean"==typeof t?l(e)&&(n=e,e=void 0):(e=t,t=!1,l(n=e)&&(n=e,e=void 0)),e=e||"";var r,o=ue(),a=t?o._week.dow:0,s=[];if(null!=n)return bn(e,(n+a)%7,i,"day");for(r=0;r<7;r++)s[r]=bn(e,(r+a)%7,i,"day");return s}yn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return k(i)?i.call(e,n):i},yn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(S).map(function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t}).join(""),this._longDateFormat[t])},yn.invalidDate=function(){return this._invalidDate},yn.ordinal=function(t){return this._ordinal.replace("%d",t)},yn.preparse=vn,yn.postformat=vn,yn.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return k(r)?r(t,e,n,i):r.replace(/%d/i,t)},yn.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return k(n)?n(e):n.replace(/%s/i,e)},yn.set=function(t){var e,n;for(n in t)o(t,n)&&(k(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},yn.eras=function(t,e){for(var i,r=this._eras||ue("en")._eras,o=0,a=r.length;o<a;++o){switch(typeof r[o].since){case"string":i=n(r[o].since).startOf("day"),r[o].since=i.valueOf()}switch(typeof r[o].until){case"undefined":r[o].until=1/0;break;case"string":i=n(r[o].until).startOf("day").valueOf(),r[o].until=i.valueOf()}}return r},yn.erasParse=function(t,e,n){var i,r,o,a,s,l=this.eras();for(t=t.toUpperCase(),i=0,r=l.length;i<r;++i)if(o=l[i].name.toUpperCase(),a=l[i].abbr.toUpperCase(),s=l[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return l[i];break;case"NNNN":if(o===t)return l[i];break;case"NNNNN":if(s===t)return l[i]}else if(0<=[o,a,s].indexOf(t))return l[i]},yn.erasConvertYear=function(t,e){var i=t.since<=t.until?1:-1;return void 0===e?n(t.since).year():n(t.since).year()+(e-t.offset)*i},yn.erasAbbrRegex=function(t){return o(this,"_erasAbbrRegex")||sn.call(this),t?this._erasAbbrRegex:this._erasRegex},yn.erasNameRegex=function(t){return o(this,"_erasNameRegex")||sn.call(this),t?this._erasNameRegex:this._erasRegex},yn.erasNarrowRegex=function(t){return o(this,"_erasNarrowRegex")||sn.call(this),t?this._erasNarrowRegex:this._erasRegex},yn.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Rt).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},yn.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Rt.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},yn.monthsParse=function(t,e,n){var i,r,o;if(this._monthsParseExact)return function(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=yt.call(this._shortMonthsParse,a))?r:null:-1!==(r=yt.call(this._longMonthsParse,a))?r:null:"MMM"===e?-1!==(r=yt.call(this._shortMonthsParse,a))||-1!==(r=yt.call(this._longMonthsParse,a))?r:null:-1!==(r=yt.call(this._longMonthsParse,a))||-1!==(r=yt.call(this._shortMonthsParse,a))?r:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=h([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},yn.monthsRegex=function(t){return this._monthsParseExact?(o(this,"_monthsRegex")||Lt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Nt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},yn.monthsShortRegex=function(t){return this._monthsParseExact?(o(this,"_monthsRegex")||Lt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=At),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},yn.week=function(t){return Ht(t,this._week.dow,this._week.doy).week},yn.firstDayOfYear=function(){return this._week.doy},yn.firstDayOfWeek=function(){return this._week.dow},yn.weekdays=function(t,e){var n=i(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?zt(n,this._week.dow):t?n[t.day()]:n},yn.weekdaysMin=function(t){return!0===t?zt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},yn.weekdaysShort=function(t){return!0===t?zt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},yn.weekdaysParse=function(t,e,n){var i,r,o;if(this._weekdaysParseExact)return function(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=yt.call(this._weekdaysParse,a))?r:null:"ddd"===e?-1!==(r=yt.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=yt.call(this._minWeekdaysParse,a))?r:null:"dddd"===e?-1!==(r=yt.call(this._weekdaysParse,a))||-1!==(r=yt.call(this._shortWeekdaysParse,a))||-1!==(r=yt.call(this._minWeekdaysParse,a))?r:null:"ddd"===e?-1!==(r=yt.call(this._shortWeekdaysParse,a))||-1!==(r=yt.call(this._weekdaysParse,a))||-1!==(r=yt.call(this._minWeekdaysParse,a))?r:null:-1!==(r=yt.call(this._minWeekdaysParse,a))||-1!==(r=yt.call(this._weekdaysParse,a))||-1!==(r=yt.call(this._shortWeekdaysParse,a))?r:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=h([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},yn.weekdaysRegex=function(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Yt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},yn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Gt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},yn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},yn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},yn.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},le("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===V(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),n.lang=C("moment.lang is deprecated. Use moment.locale instead.",le),n.langData=C("moment.langData is deprecated. Use moment.localeData instead.",ue);var Cn=Math.abs;function Tn(t,e,n,i){var r=Ue(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function _n(t){return t<0?Math.floor(t):Math.ceil(t)}function On(t){return 4800*t/146097}function kn(t){return 146097*t/4800}function Dn(t){return function(){return this.as(t)}}var xn=Dn("ms"),In=Dn("s"),Sn=Dn("m"),Rn=Dn("h"),An=Dn("d"),Nn=Dn("w"),Pn=Dn("M"),Mn=Dn("Q"),Ln=Dn("y");function Kn(t){return function(){return this.isValid()?this._data[t]:NaN}}var jn=Kn("milliseconds"),Fn=Kn("seconds"),Bn=Kn("minutes"),$n=Kn("hours"),Hn=Kn("days"),Un=Kn("months"),zn=Kn("years"),Vn=Math.round,Wn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};var qn=Math.abs;function Yn(t){return(0<t)-(t<0)||+t}function Gn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i,r,o,a,s,l=qn(this._milliseconds)/1e3,c=qn(this._days),u=qn(this._months),d=this.asSeconds();return d?(t=z(l/60),e=z(t/60),l%=60,t%=60,n=z(u/12),u%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=d<0?"-":"",o=Yn(this._months)!==Yn(d)?"-":"",a=Yn(this._days)!==Yn(d)?"-":"",s=Yn(this._milliseconds)!==Yn(d)?"-":"",r+"P"+(n?o+n+"Y":"")+(u?o+u+"M":"")+(c?a+c+"D":"")+(e||t||l?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(l?s+i+"S":"")):"P0D"}var Xn=Ae.prototype;return Xn.isValid=function(){return this._isValid},Xn.abs=function(){var t=this._data;return this._milliseconds=Cn(this._milliseconds),this._days=Cn(this._days),this._months=Cn(this._months),t.milliseconds=Cn(t.milliseconds),t.seconds=Cn(t.seconds),t.minutes=Cn(t.minutes),t.hours=Cn(t.hours),t.months=Cn(t.months),t.years=Cn(t.years),this},Xn.add=function(t,e){return Tn(this,t,e,1)},Xn.subtract=function(t,e){return Tn(this,t,e,-1)},Xn.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=F(t))||"quarter"===t||"year"===t)switch(e=this._days+i/864e5,n=this._months+On(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(kn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},Xn.asMilliseconds=xn,Xn.asSeconds=In,Xn.asMinutes=Sn,Xn.asHours=Rn,Xn.asDays=An,Xn.asWeeks=Nn,Xn.asMonths=Pn,Xn.asQuarters=Mn,Xn.asYears=Ln,Xn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*V(this._months/12):NaN},Xn._bubble=function(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||o<=0&&a<=0&&s<=0||(o+=864e5*_n(kn(s)+a),s=a=0),l.milliseconds=o%1e3,t=z(o/1e3),l.seconds=t%60,e=z(t/60),l.minutes=e%60,n=z(e/60),l.hours=n%24,a+=z(n/24),s+=r=z(On(a)),a-=_n(kn(r)),i=z(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},Xn.clone=function(){return Ue(this)},Xn.get=function(t){return t=F(t),this.isValid()?this[t+"s"]():NaN},Xn.milliseconds=jn,Xn.seconds=Fn,Xn.minutes=Bn,Xn.hours=$n,Xn.days=Hn,Xn.weeks=function(){return z(this.days()/7)},Xn.months=Un,Xn.years=zn,Xn.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,o=Wn;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(r=t),"object"==typeof e&&(o=Object.assign({},Wn,e),null!=e.s&&null==e.ss&&(o.ss=e.s-1)),i=function(t,e,n,i){var r=Ue(t).abs(),o=Vn(r.as("s")),a=Vn(r.as("m")),s=Vn(r.as("h")),l=Vn(r.as("d")),c=Vn(r.as("M")),u=Vn(r.as("w")),d=Vn(r.as("y")),h=(o<=n.ss?["s",o]:o<n.s&&["ss",o])||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=e,h[3]=0<+t,h[4]=i,function(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}.apply(null,h)}(this,!r,o,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)},Xn.toISOString=Gn,Xn.toString=Gn,Xn.toJSON=Gn,Xn.locale=Je,Xn.localeData=tn,Xn.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gn),Xn.lang=Qe,P("X",0,0,"unix"),P("x",0,0,"valueOf"),ht("x",lt),ht("X",/[+-]?\d+(\.\d{1,3})?/),mt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t))}),mt("x",function(t,e,n){n._d=new Date(V(t))}),n.version="2.29.1",t=De,n.fn=mn,n.min=function(){return Se("isBefore",[].slice.call(arguments,0))},n.max=function(){return Se("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=h,n.unix=function(t){return De(1e3*t)},n.months=function(t,e){return wn(t,e,"months")},n.isDate=c,n.locale=le,n.invalid=g,n.duration=Ue,n.isMoment=w,n.weekdays=function(t,e,n){return En(t,e,n,"weekdays")},n.parseZone=function(){return De.apply(null,arguments).parseZone()},n.localeData=ue,n.isDuration=Ne,n.monthsShort=function(t,e){return wn(t,e,"monthsShort")},n.weekdaysMin=function(t,e,n){return En(t,e,n,"weekdaysMin")},n.defineLocale=ce,n.updateLocale=function(t,e){var n,i,r;return null!=e?(r=ie,null!=re[t]&&null!=re[t].parentLocale?re[t].set(D(re[t]._config,e)):(null!=(i=se(t))&&(r=i._config),e=D(r,e),null==i&&(e.abbr=t),(n=new x(e)).parentLocale=re[t],re[t]=n),le(t)):null!=re[t]&&(null!=re[t].parentLocale?(re[t]=re[t].parentLocale,t===le()&&le(t)):null!=re[t]&&delete re[t]),re[t]},n.locales=function(){return T(re)},n.weekdaysShort=function(t,e,n){return En(t,e,n,"weekdaysShort")},n.normalizeUnits=F,n.relativeTimeRounding=function(t){return void 0===t?Vn:"function"==typeof t&&(Vn=t,!0)},n.relativeTimeThreshold=function(t,e){return void 0!==Wn[t]&&(void 0===e?Wn[t]:(Wn[t]=e,"s"===t&&(Wn.ss=e-1),!0))},n.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=mn,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).PerfectScrollbar=e()}(this,function(){"use strict";function t(t){return getComputedStyle(t)}function e(t,e){for(var n in e){var i=e[n];"number"==typeof i&&(i+="px"),t.style[n]=i}return t}function n(t){var e=document.createElement("div");return e.className=t,e}var i="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function r(t,e){if(!i)throw new Error("No element matching method supported");return i.call(t,e)}function o(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function a(t,e){return Array.prototype.filter.call(t.children,function(t){return r(t,e)})}var s={main:"ps",rtl:"ps__rtl",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},l={x:null,y:null};function c(t,e){var n=t.element.classList,i=s.state.scrolling(e);n.contains(i)?clearTimeout(l[e]):n.add(i)}function u(t,e){l[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(s.state.scrolling(e))},t.settings.scrollingThreshold)}var d=function(t){this.element=t,this.handlers={}},h={isEmpty:{configurable:!0}};d.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},d.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(i){return!(!e||i===e)||(n.element.removeEventListener(t,i,!1),!1)})},d.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},h.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return 0===t.handlers[e].length})},Object.defineProperties(d.prototype,h);var f=function(){this.eventElements=[]};function p(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function g(t,e,n,i,r){var o;if(void 0===i&&(i=!0),void 0===r&&(r=!1),"top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,i,r){var o=n[0],a=n[1],s=n[2],l=n[3],d=n[4],h=n[5];void 0===i&&(i=!0);void 0===r&&(r=!1);var f=t.element;t.reach[l]=null,f[s]<1&&(t.reach[l]="start");f[s]>t[o]-t[a]-1&&(t.reach[l]="end");e&&(f.dispatchEvent(p("ps-scroll-"+l)),e<0?f.dispatchEvent(p("ps-scroll-"+d)):e>0&&f.dispatchEvent(p("ps-scroll-"+h)),i&&function(t,e){c(t,e),u(t,e)}(t,l));t.reach[l]&&(e||r)&&f.dispatchEvent(p("ps-"+l+"-reach-"+t.reach[l]))}(t,n,o,i,r)}function m(t){return parseInt(t,10)||0}f.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return e||(e=new d(t),this.eventElements.push(e)),e},f.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},f.prototype.unbind=function(t,e,n){var i=this.eventElement(t);i.unbind(e,n),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)},f.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},f.prototype.once=function(t,e,n){var i=this.eventElement(t),r=function(t){i.unbind(e,r),n(t)};i.bind(e,r)};var v={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function y(t){var n=t.element,i=Math.floor(n.scrollTop),r=n.getBoundingClientRect();t.containerWidth=Math.ceil(r.width),t.containerHeight=Math.ceil(r.height),t.contentWidth=n.scrollWidth,t.contentHeight=n.scrollHeight,n.contains(t.scrollbarXRail)||(a(n,s.element.rail("x")).forEach(function(t){return o(t)}),n.appendChild(t.scrollbarXRail)),n.contains(t.scrollbarYRail)||(a(n,s.element.rail("y")).forEach(function(t){return o(t)}),n.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=b(t,m(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=m((t.negativeScrollAdjustment+n.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=b(t,m(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=m(i*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,n){var i={width:n.railXWidth},r=Math.floor(t.scrollTop);n.isRtl?i.left=n.negativeScrollAdjustment+t.scrollLeft+n.containerWidth-n.contentWidth:i.left=t.scrollLeft;n.isScrollbarXUsingBottom?i.bottom=n.scrollbarXBottom-r:i.top=n.scrollbarXTop+r;e(n.scrollbarXRail,i);var o={top:r,height:n.railYHeight};n.isScrollbarYUsingRight?n.isRtl?o.right=n.contentWidth-(n.negativeScrollAdjustment+t.scrollLeft)-n.scrollbarYRight-n.scrollbarYOuterWidth-9:o.right=n.scrollbarYRight-t.scrollLeft:n.isRtl?o.left=n.negativeScrollAdjustment+t.scrollLeft+2*n.containerWidth-n.contentWidth-n.scrollbarYLeft-n.scrollbarYOuterWidth:o.left=n.scrollbarYLeft+t.scrollLeft;e(n.scrollbarYRail,o),e(n.scrollbarX,{left:n.scrollbarXLeft,width:n.scrollbarXWidth-n.railBorderXWidth}),e(n.scrollbarY,{top:n.scrollbarYTop,height:n.scrollbarYHeight-n.railBorderYWidth})}(n,t),t.scrollbarXActive?n.classList.add(s.state.active("x")):(n.classList.remove(s.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,n.scrollLeft=!0===t.isRtl?t.contentWidth:0),t.scrollbarYActive?n.classList.add(s.state.active("y")):(n.classList.remove(s.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,n.scrollTop=0)}function b(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function w(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],l=e[5],d=e[6],h=e[7],f=e[8],p=t.element,g=null,m=null,v=null;function b(e){e.touches&&e.touches[0]&&(e[r]=e.touches[0].pageY),p[d]=g+v*(e[r]-m),c(t,h),y(t),e.stopPropagation(),e.preventDefault()}function w(){u(t,h),t[f].classList.remove(s.state.clicking),t.event.unbind(t.ownerDocument,"mousemove",b)}function E(e,a){g=p[d],a&&e.touches&&(e[r]=e.touches[0].pageY),m=e[r],v=(t[i]-t[n])/(t[o]-t[l]),a?t.event.bind(t.ownerDocument,"touchmove",b):(t.event.bind(t.ownerDocument,"mousemove",b),t.event.once(t.ownerDocument,"mouseup",w),e.preventDefault()),t[f].classList.add(s.state.clicking),e.stopPropagation()}t.event.bind(t[a],"mousedown",function(t){E(t)}),t.event.bind(t[a],"touchstart",function(t){E(t,!0)})}var E={"click-rail":function(t){t.element,t.event.bind(t.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;t.element.scrollTop+=n*t.containerHeight,y(t),e.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=n*t.containerWidth,y(t),e.stopPropagation()})},"drag-thumb":function(t){w(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),w(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(r(e,":hover")||r(t.scrollbarX,":focus")||r(t.scrollbarY,":focus"))){var i,o=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(o){if("IFRAME"===o.tagName)o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(r(i=o,"input,[contenteditable]")||r(i,"select,[contenteditable]")||r(i,"textarea,[contenteditable]")||r(i,"button,[contenteditable]"))return}var a=0,s=0;switch(n.which){case 37:a=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:s=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:a=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:s=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:s=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:s=t.containerHeight;break;case 34:s=-t.containerHeight;break;case 36:s=t.contentHeight;break;case 35:s=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==a||t.settings.suppressScrollY&&0!==s||(e.scrollTop-=s,e.scrollLeft+=a,y(t),function(n,i){var r=Math.floor(e.scrollTop);if(0===n){if(!t.scrollbarYActive)return!1;if(0===r&&i>0||r>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(a,s)&&n.preventDefault())}})},wheel:function(e){var n=e.element;function i(i){var r=function(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(i),o=r[0],a=r[1];if(!function(e,i,r){if(!v.isWebKit&&n.querySelector("select:focus"))return!0;if(!n.contains(e))return!1;for(var o=e;o&&o!==n;){if(o.classList.contains(s.element.consuming))return!0;var a=t(o);if(r&&a.overflowY.match(/(scroll|auto)/)){var l=o.scrollHeight-o.clientHeight;if(l>0&&(o.scrollTop>0&&r<0||o.scrollTop<l&&r>0))return!0}if(i&&a.overflowX.match(/(scroll|auto)/)){var c=o.scrollWidth-o.clientWidth;if(c>0&&(o.scrollLeft>0&&i<0||o.scrollLeft<c&&i>0))return!0}o=o.parentNode}return!1}(i.target,o,a)){var l=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(a?n.scrollTop-=a*e.settings.wheelSpeed:n.scrollTop+=o*e.settings.wheelSpeed,l=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(o?n.scrollLeft+=o*e.settings.wheelSpeed:n.scrollLeft-=a*e.settings.wheelSpeed,l=!0):(n.scrollTop-=a*e.settings.wheelSpeed,n.scrollLeft+=o*e.settings.wheelSpeed),y(e),(l=l||function(t,i){var r=Math.floor(n.scrollTop),o=0===n.scrollTop,a=r+n.offsetHeight===n.scrollHeight,s=0===n.scrollLeft,l=n.scrollLeft+n.offsetWidth===n.scrollWidth;return!(Math.abs(i)>Math.abs(t)?o||a:s||l)||!e.settings.wheelPropagation}(o,a))&&!i.ctrlKey&&(i.stopPropagation(),i.preventDefault())}}void 0!==window.onwheel?e.event.bind(n,"wheel",i):void 0!==window.onmousewheel&&e.event.bind(n,"mousewheel",i)},touch:function(e){if(v.supportsTouch||v.supportsIePointer){var n=e.element,i={},r=0,o={},a=null;v.supportsTouch?(e.event.bind(n,"touchstart",d),e.event.bind(n,"touchmove",h),e.event.bind(n,"touchend",f)):v.supportsIePointer&&(window.PointerEvent?(e.event.bind(n,"pointerdown",d),e.event.bind(n,"pointermove",h),e.event.bind(n,"pointerup",f)):window.MSPointerEvent&&(e.event.bind(n,"MSPointerDown",d),e.event.bind(n,"MSPointerMove",h),e.event.bind(n,"MSPointerUp",f)))}function l(t,i){n.scrollTop-=i,n.scrollLeft-=t,y(e)}function c(t){return t.targetTouches?t.targetTouches[0]:t}function u(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function d(t){if(u(t)){var e=c(t);i.pageX=e.pageX,i.pageY=e.pageY,r=(new Date).getTime(),null!==a&&clearInterval(a)}}function h(a){if(u(a)){var d=c(a),h={pageX:d.pageX,pageY:d.pageY},f=h.pageX-i.pageX,p=h.pageY-i.pageY;if(function(e,i,r){if(!n.contains(e))return!1;for(var o=e;o&&o!==n;){if(o.classList.contains(s.element.consuming))return!0;var a=t(o);if(r&&a.overflowY.match(/(scroll|auto)/)){var l=o.scrollHeight-o.clientHeight;if(l>0&&(o.scrollTop>0&&r<0||o.scrollTop<l&&r>0))return!0}if(i&&a.overflowX.match(/(scroll|auto)/)){var c=o.scrollWidth-o.clientWidth;if(c>0&&(o.scrollLeft>0&&i<0||o.scrollLeft<c&&i>0))return!0}o=o.parentNode}return!1}(a.target,f,p))return;l(f,p),i=h;var g=(new Date).getTime(),m=g-r;m>0&&(o.x=f/m,o.y=p/m,r=g),function(t,i){var r=Math.floor(n.scrollTop),o=n.scrollLeft,a=Math.abs(t),s=Math.abs(i);if(s>a){if(i<0&&r===e.contentHeight-e.containerHeight||i>0&&0===r)return 0===window.scrollY&&i>0&&v.isChrome}else if(a>s&&(t<0&&o===e.contentWidth-e.containerWidth||t>0&&0===o))return!0;return!0}(f,p)&&a.preventDefault()}}function f(){e.settings.swipeEasing&&(clearInterval(a),a=setInterval(function(){e.isInitialized?clearInterval(a):o.x||o.y?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(a):(l(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(a)},10))}}},C=function(i,r){var o=this;if(void 0===r&&(r={}),"string"==typeof i&&(i=document.querySelector(i)),!i||!i.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var a in this.element=i,i.classList.add(s.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},r)this.settings[a]=r[a];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var l,c,u=function(){return i.classList.add(s.state.focus)},d=function(){return i.classList.remove(s.state.focus)};this.isRtl="rtl"===t(i).direction,!0===this.isRtl&&i.classList.add(s.rtl),this.isNegativeScroll=(c=i.scrollLeft,i.scrollLeft=-1,l=i.scrollLeft<0,i.scrollLeft=c,l),this.negativeScrollAdjustment=this.isNegativeScroll?i.scrollWidth-i.clientWidth:0,this.event=new f,this.ownerDocument=i.ownerDocument||document,this.scrollbarXRail=n(s.element.rail("x")),i.appendChild(this.scrollbarXRail),this.scrollbarX=n(s.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",u),this.event.bind(this.scrollbarX,"blur",d),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var h=t(this.scrollbarXRail);this.scrollbarXBottom=parseInt(h.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=m(h.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=m(h.borderLeftWidth)+m(h.borderRightWidth),e(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=m(h.marginLeft)+m(h.marginRight),e(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=n(s.element.rail("y")),i.appendChild(this.scrollbarYRail),this.scrollbarY=n(s.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",u),this.event.bind(this.scrollbarY,"blur",d),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var p=t(this.scrollbarYRail);this.scrollbarYRight=parseInt(p.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=m(p.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var n=t(e);return m(n.width)+m(n.paddingLeft)+m(n.paddingRight)+m(n.borderLeftWidth)+m(n.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=m(p.borderTopWidth)+m(p.borderBottomWidth),e(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=m(p.marginTop)+m(p.marginBottom),e(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:i.scrollLeft<=0?"start":i.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:i.scrollTop<=0?"start":i.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(t){return E[t](o)}),this.lastScrollTop=Math.floor(i.scrollTop),this.lastScrollLeft=i.scrollLeft,this.event.bind(this.element,"scroll",function(t){return o.onScroll(t)}),y(this)};return C.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,e(this.scrollbarXRail,{display:"block"}),e(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=m(t(this.scrollbarXRail).marginLeft)+m(t(this.scrollbarXRail).marginRight),this.railYMarginHeight=m(t(this.scrollbarYRail).marginTop)+m(t(this.scrollbarYRail).marginBottom),e(this.scrollbarXRail,{display:"none"}),e(this.scrollbarYRail,{display:"none"}),y(this),g(this,"top",0,!1,!0),g(this,"left",0,!1,!0),e(this.scrollbarXRail,{display:""}),e(this.scrollbarYRail,{display:""}))},C.prototype.onScroll=function(t){this.isAlive&&(y(this),g(this,"top",this.element.scrollTop-this.lastScrollTop),g(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},C.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),o(this.scrollbarX),o(this.scrollbarY),o(this.scrollbarXRail),o(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},C.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")},C}),function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():window.wNumb=t()}(function(){"use strict";var t=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];function e(t){return t.split("").reverse().join("")}function n(t,e){return t.substring(0,e.length)===e}function i(t,e,n){if((t[e]||t[n])&&t[e]===t[n])throw new Error(e)}function r(t){return"number"==typeof t&&isFinite(t)}function o(t,n,i,o,a,s,l,c,u,d,h,f){var p,g,m,v,y,b=f,w="",E="";return s&&(f=s(f)),!!r(f)&&(!1!==t&&0===parseFloat(f.toFixed(t))&&(f=0),f<0&&(p=!0,f=Math.abs(f)),!1!==t&&(y=t,v=(v=f).toString().split("e"),f=(+((v=(v=Math.round(+(v[0]+"e"+(v[1]?+v[1]+y:y)))).toString().split("e"))[0]+"e"+(v[1]?+v[1]-y:-y))).toFixed(y)),-1!==(f=f.toString()).indexOf(".")?(m=(g=f.split("."))[0],i&&(w=i+g[1])):m=f,n&&(m=e(m).match(/.{1,3}/g),m=e(m.join(e(n)))),p&&c&&(E+=c),o&&(E+=o),p&&u&&(E+=u),E+=m,E+=w,a&&(E+=a),d&&(E=d(E,b)),E)}function a(t,e,i,o,a,s,l,c,u,d,h,f){var p,g="";return h&&(f=h(f)),!(!f||"string"!=typeof f)&&(c&&n(f,c)&&(f=f.replace(c,""),p=!0),o&&n(f,o)&&(f=f.replace(o,"")),u&&n(f,u)&&(f=f.replace(u,""),p=!0),a&&function(t,e){return t.slice(-1*e.length)===e}(f,a)&&(f=f.slice(0,-1*a.length)),e&&(f=f.split(e).join("")),i&&(f=f.replace(i,".")),p&&(g+="-"),""!==(g=(g+=f).replace(/[^0-9\.\-.]/g,""))&&(g=Number(g),l&&(g=l(g)),!!r(g)&&g))}function s(e,n,i){var r,o=[];for(r=0;r<t.length;r+=1)o.push(e[t[r]]);return o.push(i),n.apply("",o)}return function e(n){if(!(this instanceof e))return new e(n);"object"==typeof n&&(n=function(e){var n,r,o,a={};for(void 0===e.suffix&&(e.suffix=e.postfix),n=0;n<t.length;n+=1)if(void 0===(o=e[r=t[n]]))"negative"!==r||a.negativeBefore?"mark"===r&&"."!==a.thousand?a[r]=".":a[r]=!1:a[r]="-";else if("decimals"===r){if(!(o>=0&&o<8))throw new Error(r);a[r]=o}else if("encoder"===r||"decoder"===r||"edit"===r||"undo"===r){if("function"!=typeof o)throw new Error(r);a[r]=o}else{if("string"!=typeof o)throw new Error(r);a[r]=o}return i(a,"mark","thousand"),i(a,"prefix","negative"),i(a,"prefix","negativeBefore"),a}(n),this.to=function(t){return s(n,o,t)},this.from=function(t){return s(n,a,t)})}}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.returnExports=e()}(this,function(){"use strict";var t,e=Function.call.bind(Function.apply),n=Function.call.bind(Function.call),i=Array.isArray,r=Object.keys,o=function(t){try{return t(),!1}catch(t){return!0}},a=function(t){try{return t()}catch(t){return!1}},s=function(t){return function(){return!e(t,this,arguments)}}(o),l=!!Object.defineProperty&&!o(function(){return Object.defineProperty({},"x",{get:function(){}})}),c="foo"===function(){}.name,u=Function.call.bind(Array.prototype.forEach),d=Function.call.bind(Array.prototype.reduce),h=Function.call.bind(Array.prototype.filter),f=Function.call.bind(Array.prototype.some),p=function(t,e,n,i){!i&&e in t||(l?Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n}):t[e]=n)},g=function(t,e,n){u(r(e),function(i){var r=e[i];p(t,i,r,!!n)})},m=Function.call.bind(Object.prototype.toString),v="function"==typeof/abc/?function(t){return"function"==typeof t&&"[object Function]"===m(t)}:function(t){return"function"==typeof t},y=function(t,e,n){if(!l)throw new TypeError("getters require true ES5 support");Object.defineProperty(t,e,{configurable:!0,enumerable:!1,get:n})},b=function(t,e,n){if(!l)throw new TypeError("getters require true ES5 support");var i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,{configurable:i.configurable,enumerable:i.enumerable,get:function(){return t[e]},set:function(n){t[e]=n}})},w=function(t,e,n){if(l){var i=Object.getOwnPropertyDescriptor(t,e);i.value=n,Object.defineProperty(t,e,i)}else t[e]=n},E=function(t,e,n){l?Object.defineProperty(t,e,n):"value"in n&&(t[e]=n.value)},C=function(t,e){e&&v(e.toString)&&p(t,"toString",e.toString.bind(e),!0)},T=Object.create||function(t,e){var n=function(){};n.prototype=t;var i=new n;return void 0!==e&&r(e).forEach(function(t){E(i,t,e[t])}),i},_=function(t,e){return!!Object.setPrototypeOf&&a(function(){var n=function e(n){var i=new t(n);return Object.setPrototypeOf(i,e.prototype),i};return Object.setPrototypeOf(n,t),n.prototype=T(t.prototype,{constructor:{value:n}}),e(n)})},O=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),k=O.isFinite,D=Function.call.bind(String.prototype.indexOf),x=Function.apply.bind(Array.prototype.indexOf),I=Function.call.bind(Array.prototype.concat),S=Function.call.bind(String.prototype.slice),R=Function.call.bind(Array.prototype.push),A=Function.apply.bind(Array.prototype.push),N=Function.call.bind(Array.prototype.join),P=Function.call.bind(Array.prototype.shift),M=Math.max,L=Math.min,K=Math.floor,j=Math.abs,F=Math.exp,B=Math.log,$=Math.sqrt,H=Function.call.bind(Object.prototype.hasOwnProperty),U=function(){},z=O.Map,V=z&&z.prototype.delete,W=z&&z.prototype.get,q=z&&z.prototype.has,Y=z&&z.prototype.set,G=O.Symbol||{},X=G.species||"@@species",Z=Number.isNaN||function(t){return t!=t},J=Number.isFinite||function(t){return"number"==typeof t&&k(t)},Q=v(Math.sign)?Math.sign:function(t){var e=Number(t);return 0===e?e:Z(e)?e:e<0?-1:1},tt=function(t){var e=Number(t);return e<-1||Z(e)?NaN:0===e||e===1/0?e:-1===e?-1/0:1+e-1==0?e:e*(B(1+e)/(1+e-1))},et=function(t){return"[object Arguments]"===m(t)},nt=et(arguments)?et:function(t){return null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==m(t)&&"[object Function]"===m(t.callee)},it=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t},rt=function(t){return"[object String]"===m(t)},ot=function(t){return"[object RegExp]"===m(t)},at=function(t){return"function"==typeof O.Symbol&&"symbol"==typeof t},st=function(t,e,n){var i=t[e];p(t,e,n,!0),C(t[e],i)},lt="function"==typeof G&&"function"==typeof G.for&&at(G()),ct=at(G.iterator)?G.iterator:"_es6-shim iterator_";O.Set&&"function"==typeof(new O.Set)["@@iterator"]&&(ct="@@iterator"),O.Reflect||p(O,"Reflect",{},!0);var ut=O.Reflect,dt=String,ht="undefined"!=typeof document&&document?document.all:null,ft=null==ht?function(t){return null==t}:function(t){return null==t&&t!==ht},pt={Call:function(t,n){var i=arguments.length>2?arguments[2]:[];if(!pt.IsCallable(t))throw new TypeError(t+" is not a function");return e(t,n,i)},RequireObjectCoercible:function(t,e){if(ft(t))throw new TypeError(e||"Cannot call method on "+t);return t},TypeIsObject:function(t){return null!=t&&!0!==t&&!1!==t&&("function"==typeof t||"object"==typeof t||t===ht)},ToObject:function(t,e){return Object(pt.RequireObjectCoercible(t,e))},IsCallable:v,IsConstructor:function(t){return pt.IsCallable(t)},ToInt32:function(t){return pt.ToNumber(t)>>0},ToUint32:function(t){return pt.ToNumber(t)>>>0},ToNumber:function(t){if(lt&&"[object Symbol]"===m(t))throw new TypeError("Cannot convert a Symbol value to a number");return+t},ToInteger:function(t){var e=pt.ToNumber(t);return Z(e)?0:0!==e&&J(e)?(e>0?1:-1)*K(j(e)):e},ToLength:function(t){var e=pt.ToInteger(t);return e<=0?0:e>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e},SameValue:function(t,e){return t===e?0!==t||1/t==1/e:Z(t)&&Z(e)},SameValueZero:function(t,e){return t===e||Z(t)&&Z(e)},IsIterable:function(t){return pt.TypeIsObject(t)&&(void 0!==t[ct]||nt(t))},GetIterator:function(e){if(nt(e))return new t(e,"value");var n=pt.GetMethod(e,ct);if(!pt.IsCallable(n))throw new TypeError("value is not an iterable");var i=pt.Call(n,e);if(!pt.TypeIsObject(i))throw new TypeError("bad iterator");return i},GetMethod:function(t,e){var n=pt.ToObject(t)[e];if(!ft(n)){if(!pt.IsCallable(n))throw new TypeError("Method not callable: "+e);return n}},IteratorComplete:function(t){return!!t.done},IteratorClose:function(t,e){var n=pt.GetMethod(t,"return");if(void 0!==n){var i,r;try{i=pt.Call(n,t)}catch(t){r=t}if(!e){if(r)throw r;if(!pt.TypeIsObject(i))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(t){var e=arguments.length>1?t.next(arguments[1]):t.next();if(!pt.TypeIsObject(e))throw new TypeError("bad iterator");return e},IteratorStep:function(t){var e=pt.IteratorNext(t);return!pt.IteratorComplete(e)&&e},Construct:function(t,e,n,i){var r=void 0===n?t:n;if(!i&&ut.construct)return ut.construct(t,e,r);var o=r.prototype;pt.TypeIsObject(o)||(o=Object.prototype);var a=T(o),s=pt.Call(t,a,e);return pt.TypeIsObject(s)?s:a},SpeciesConstructor:function(t,e){var n=t.constructor;if(void 0===n)return e;if(!pt.TypeIsObject(n))throw new TypeError("Bad constructor");var i=n[X];if(ft(i))return e;if(!pt.IsConstructor(i))throw new TypeError("Bad @@species");return i},CreateHTML:function(t,e,n,i){var r=pt.ToString(t),o="<"+e;""!==n&&(o+=" "+n+'="'+pt.ToString(i).replace(/"/g,"&quot;")+'"');return o+">"+r+"</"+e+">"},IsRegExp:function(t){if(!pt.TypeIsObject(t))return!1;var e=t[G.match];return void 0!==e?!!e:ot(t)},ToString:function(t){if(lt&&"[object Symbol]"===m(t))throw new TypeError("Cannot convert a Symbol value to a number");return dt(t)}};if(l&&lt){var gt=function(t){if(at(G[t]))return G[t];var e=G.for("Symbol."+t);return Object.defineProperty(G,t,{configurable:!1,enumerable:!1,writable:!1,value:e}),e};if(!at(G.search)){var mt=gt("search"),vt=String.prototype.search;p(RegExp.prototype,mt,function(t){return pt.Call(vt,t,[this])});st(String.prototype,"search",function(t){var e=pt.RequireObjectCoercible(this);if(!ft(t)){var n=pt.GetMethod(t,mt);if(void 0!==n)return pt.Call(n,t,[e])}return pt.Call(vt,e,[pt.ToString(t)])})}if(!at(G.replace)){var yt=gt("replace"),bt=String.prototype.replace;p(RegExp.prototype,yt,function(t,e){return pt.Call(bt,t,[this,e])});st(String.prototype,"replace",function(t,e){var n=pt.RequireObjectCoercible(this);if(!ft(t)){var i=pt.GetMethod(t,yt);if(void 0!==i)return pt.Call(i,t,[n,e])}return pt.Call(bt,n,[pt.ToString(t),e])})}if(!at(G.split)){var wt=gt("split"),Et=String.prototype.split;p(RegExp.prototype,wt,function(t,e){return pt.Call(Et,t,[this,e])});st(String.prototype,"split",function(t,e){var n=pt.RequireObjectCoercible(this);if(!ft(t)){var i=pt.GetMethod(t,wt);if(void 0!==i)return pt.Call(i,t,[n,e])}return pt.Call(Et,n,[pt.ToString(t),e])})}var Ct=at(G.match),Tt=Ct&&function(){var t={};return t[G.match]=function(){return 42},42!=="a".match(t)}();if(!Ct||Tt){var _t=gt("match"),Ot=String.prototype.match;p(RegExp.prototype,_t,function(t){return pt.Call(Ot,t,[this])});st(String.prototype,"match",function(t){var e=pt.RequireObjectCoercible(this);if(!ft(t)){var n=pt.GetMethod(t,_t);if(void 0!==n)return pt.Call(n,t,[e])}return pt.Call(Ot,e,[pt.ToString(t)])})}}var kt=function(t,e,n){C(e,t),Object.setPrototypeOf&&Object.setPrototypeOf(t,e),l?u(Object.getOwnPropertyNames(t),function(i){i in U||n[i]||b(t,i,e)}):u(Object.keys(t),function(i){i in U||n[i]||(e[i]=t[i])}),e.prototype=t.prototype,w(t.prototype,"constructor",e)},Dt=function(){return this},xt=function(t){l&&!H(t,X)&&y(t,X,Dt)},It=function(t,e){var n=e||function(){return this};p(t,ct,n),!t[ct]&&at(ct)&&(t[ct]=n)},St=function(t,e,n){if(function(t,e,n){l?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,writable:!0,value:n}):t[e]=n}(t,e,n),!pt.SameValue(t[e],n))throw new TypeError("property is nonconfigurable")},Rt=function(t,e,n,i){if(!pt.TypeIsObject(t))throw new TypeError("Constructor requires `new`: "+e.name);var r=e.prototype;pt.TypeIsObject(r)||(r=n);var o=T(r);for(var a in i)if(H(i,a)){var s=i[a];p(o,a,s,!0)}return o};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var At=String.fromCodePoint;st(String,"fromCodePoint",function(t){return pt.Call(At,this,arguments)})}var Nt={fromCodePoint:function(t){for(var e,n=[],i=0,r=arguments.length;i<r;i++){if(e=Number(arguments[i]),!pt.SameValue(e,pt.ToInteger(e))||e<0||e>1114111)throw new RangeError("Invalid code point "+e);e<65536?R(n,String.fromCharCode(e)):(e-=65536,R(n,String.fromCharCode(55296+(e>>10))),R(n,String.fromCharCode(e%1024+56320)))}return N(n,"")},raw:function(t){arguments.length;var e=pt.ToObject(t,"bad template"),n=pt.ToObject(e.raw,"bad raw value"),i=n.length,r=pt.ToLength(i);if(r<=0)return"";for(var o,a,s,l,c=[],u=0;u<r&&(o=pt.ToString(u),s=pt.ToString(n[o]),R(c,s),!(u+1>=r));)a=u+1<arguments.length?arguments[u+1]:"",l=pt.ToString(a),R(c,l),u+=1;return N(c,"")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&st(String,"raw",Nt.raw),g(String,Nt);var Pt={repeat:function(t){var e=pt.ToString(pt.RequireObjectCoercible(this)),n=pt.ToInteger(t);if(n<0||n>=1/0)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return function t(e,n){if(n<1)return"";if(n%2)return t(e,n-1)+e;var i=t(e,n/2);return i+i}(e,n)},startsWith:function(t){var e=pt.ToString(pt.RequireObjectCoercible(this));if(pt.IsRegExp(t))throw new TypeError('Cannot call method "startsWith" with a regex');var n,i=pt.ToString(t);arguments.length>1&&(n=arguments[1]);var r=M(pt.ToInteger(n),0);return S(e,r,r+i.length)===i},endsWith:function(t){var e=pt.ToString(pt.RequireObjectCoercible(this));if(pt.IsRegExp(t))throw new TypeError('Cannot call method "endsWith" with a regex');var n,i=pt.ToString(t),r=e.length;arguments.length>1&&(n=arguments[1]);var o=void 0===n?r:pt.ToInteger(n),a=L(M(o,0),r);return S(e,a-i.length,a)===i},includes:function(t){if(pt.IsRegExp(t))throw new TypeError('"includes" does not accept a RegExp');var e,n=pt.ToString(t);return arguments.length>1&&(e=arguments[1]),-1!==D(this,n,e)},codePointAt:function(t){var e=pt.ToString(pt.RequireObjectCoercible(this)),n=pt.ToInteger(t),i=e.length;if(n>=0&&n<i){var r=e.charCodeAt(n);if(r<55296||r>56319||n+1===i)return r;var o=e.charCodeAt(n+1);return o<56320||o>57343?r:1024*(r-55296)+(o-56320)+65536}}};if(String.prototype.includes&&!1!=="a".includes("a",1/0)&&st(String.prototype,"includes",Pt.includes),String.prototype.startsWith&&String.prototype.endsWith){var Mt=o(function(){return"/a/".startsWith(/a/)}),Lt=a(function(){return!1==="abc".startsWith("a",1/0)});Mt&&Lt||(st(String.prototype,"startsWith",Pt.startsWith),st(String.prototype,"endsWith",Pt.endsWith))}lt&&(a(function(){var t=/a/;return t[G.match]=!1,"/a/".startsWith(t)})||st(String.prototype,"startsWith",Pt.startsWith),a(function(){var t=/a/;return t[G.match]=!1,"/a/".endsWith(t)})||st(String.prototype,"endsWith",Pt.endsWith),a(function(){var t=/a/;return t[G.match]=!1,"/a/".includes(t)})||st(String.prototype,"includes",Pt.includes));g(String.prototype,Pt);var Kt=["\t\n\v\f\r Â áá ââââ","ââââââââ¯âã\u2028","\u2029\ufeff"].join(""),jt=new RegExp("(^["+Kt+"]+)|(["+Kt+"]+$)","g"),Ft=function(){return pt.ToString(pt.RequireObjectCoercible(this)).replace(jt,"")},Bt=["Â","â","ï¿¾"].join(""),$t=new RegExp("["+Bt+"]","g"),Ht=/^[-+]0x[0-9a-f]+$/i,Ut=Bt.trim().length!==Bt.length;p(String.prototype,"trim",Ft,Ut);var zt=function(t){return{value:t,done:0===arguments.length}},Vt=function(t){pt.RequireObjectCoercible(t),this._s=pt.ToString(t),this._i=0};Vt.prototype.next=function(){var t=this._s,e=this._i;if(void 0===t||e>=t.length)return this._s=void 0,zt();var n,i,r=t.charCodeAt(e);return i=r<55296||r>56319||e+1===t.length?1:(n=t.charCodeAt(e+1))<56320||n>57343?1:2,this._i=e+i,zt(t.substr(e,i))},It(Vt.prototype),It(String.prototype,function(){return new Vt(this)});var Wt={from:function(t){var e,i,r,o,a,s,l=this;if(arguments.length>1&&(e=arguments[1]),void 0===e)i=!1;else{if(!pt.IsCallable(e))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2]),i=!0}if(void 0!==(nt(t)||pt.GetMethod(t,ct))){a=pt.IsConstructor(l)?Object(new l):[];var c,u,d=pt.GetIterator(t);for(s=0;!1!==(c=pt.IteratorStep(d));){u=c.value;try{i&&(u=void 0===r?e(u,s):n(e,r,u,s)),a[s]=u}catch(t){throw pt.IteratorClose(d,!0),t}s+=1}o=s}else{var h,f=pt.ToObject(t);for(o=pt.ToLength(f.length),a=pt.IsConstructor(l)?Object(new l(o)):new Array(o),s=0;s<o;++s)h=f[s],i&&(h=void 0===r?e(h,s):n(e,r,h,s)),St(a,s,h)}return a.length=o,a},of:function(){for(var t=arguments.length,e=this,n=i(e)||!pt.IsCallable(e)?new Array(t):pt.Construct(e,[t]),r=0;r<t;++r)St(n,r,arguments[r]);return n.length=t,n}};g(Array,Wt),xt(Array),g((t=function(t,e){this.i=0,this.array=t,this.kind=e}).prototype,{next:function(){var e=this.i,n=this.array;if(!(this instanceof t))throw new TypeError("Not an ArrayIterator");if(void 0!==n&&e<pt.ToLength(n.length)){var i,r=this.kind;return"key"===r?i=e:"value"===r?i=n[e]:"entry"===r&&(i=[e,n[e]]),this.i=e+1,zt(i)}return this.array=void 0,zt()}}),It(t.prototype),Array.of===Wt.of||function(){var t=function(t){this.length=t};t.prototype=[];var e=Array.of.apply(t,[1,2]);return e instanceof t&&2===e.length}()||st(Array,"of",Wt.of);var qt={copyWithin:function(t,e){var n,i=pt.ToObject(this),r=pt.ToLength(i.length),o=pt.ToInteger(t),a=pt.ToInteger(e),s=o<0?M(r+o,0):L(o,r),l=a<0?M(r+a,0):L(a,r);arguments.length>2&&(n=arguments[2]);var c=void 0===n?r:pt.ToInteger(n),u=c<0?M(r+c,0):L(c,r),d=L(u-l,r-s),h=1;for(l<s&&s<l+d&&(h=-1,l+=d-1,s+=d-1);d>0;)l in i?i[s]=i[l]:delete i[s],l+=h,s+=h,d-=1;return i},fill:function(t){var e,n;arguments.length>1&&(e=arguments[1]),arguments.length>2&&(n=arguments[2]);var i=pt.ToObject(this),r=pt.ToLength(i.length);e=pt.ToInteger(void 0===e?0:e);for(var o=(n=pt.ToInteger(void 0===n?r:n))<0?r+n:n,a=e<0?M(r+e,0):L(e,r);a<r&&a<o;++a)i[a]=t;return i},find:function(t){var e=pt.ToObject(this),i=pt.ToLength(e.length);if(!pt.IsCallable(t))throw new TypeError("Array#find: predicate must be a function");for(var r,o=arguments.length>1?arguments[1]:null,a=0;a<i;a++)if(r=e[a],o){if(n(t,o,r,a,e))return r}else if(t(r,a,e))return r},findIndex:function(t){var e=pt.ToObject(this),i=pt.ToLength(e.length);if(!pt.IsCallable(t))throw new TypeError("Array#findIndex: predicate must be a function");for(var r=arguments.length>1?arguments[1]:null,o=0;o<i;o++)if(r){if(n(t,r,e[o],o,e))return o}else if(t(e[o],o,e))return o;return-1},keys:function(){return new t(this,"key")},values:function(){return new t(this,"value")},entries:function(){return new t(this,"entry")}};if(Array.prototype.keys&&!pt.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!pt.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[ct]&&(g(Array.prototype,{values:Array.prototype[ct]}),at(G.unscopables)&&(Array.prototype[G.unscopables].values=!0)),c&&Array.prototype.values&&"values"!==Array.prototype.values.name){var Yt=Array.prototype.values;st(Array.prototype,"values",function(){return pt.Call(Yt,this,arguments)}),p(Array.prototype,ct,Array.prototype.values,!0)}g(Array.prototype,qt),1/[!0].indexOf(!0,-0)<0&&p(Array.prototype,"indexOf",function(t){var e=x(this,arguments);return 0===e&&1/e<0?0:e},!0),It(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&It(Object.getPrototypeOf([].values()));var Gt=a(function(){return 0===Array.from({length:-1}).length}),Xt=function(){var t=Array.from([0].entries());return 1===t.length&&i(t[0])&&0===t[0][0]&&0===t[0][1]}();if(Gt&&Xt||st(Array,"from",Wt.from),!a(function(){return Array.from([0],void 0)})){var Zt=Array.from;st(Array,"from",function(t){return arguments.length>1&&void 0!==arguments[1]?pt.Call(Zt,this,arguments):n(Zt,this,t)})}var Jt=-(Math.pow(2,32)-1),Qt=function(t,e){var i={length:Jt};return i[e?(i.length>>>0)-1:0]=!0,a(function(){return n(t,i,function(){throw new RangeError("should not reach here")},[]),!0})};if(!Qt(Array.prototype.forEach)){var te=Array.prototype.forEach;st(Array.prototype,"forEach",function(t){return pt.Call(te,this.length>=0?this:[],arguments)})}if(!Qt(Array.prototype.map)){var ee=Array.prototype.map;st(Array.prototype,"map",function(t){return pt.Call(ee,this.length>=0?this:[],arguments)})}if(!Qt(Array.prototype.filter)){var ne=Array.prototype.filter;st(Array.prototype,"filter",function(t){return pt.Call(ne,this.length>=0?this:[],arguments)})}if(!Qt(Array.prototype.some)){var ie=Array.prototype.some;st(Array.prototype,"some",function(t){return pt.Call(ie,this.length>=0?this:[],arguments)})}if(!Qt(Array.prototype.every)){var re=Array.prototype.every;st(Array.prototype,"every",function(t){return pt.Call(re,this.length>=0?this:[],arguments)})}if(!Qt(Array.prototype.reduce)){var oe=Array.prototype.reduce;st(Array.prototype,"reduce",function(t){return pt.Call(oe,this.length>=0?this:[],arguments)})}if(!Qt(Array.prototype.reduceRight,!0)){var ae=Array.prototype.reduceRight;st(Array.prototype,"reduceRight",function(t){return pt.Call(ae,this.length>=0?this:[],arguments)})}var se=8!==Number("0o10"),le=2!==Number("0b10"),ce=f(Bt,function(t){return 0===Number(t+0+t)});if(se||le||ce){var ue=Number,de=/^0b[01]+$/i,he=/^0o[0-7]+$/i,fe=de.test.bind(de),pe=he.test.bind(he),ge=$t.test.bind($t),me=Ht.test.bind(Ht),ve=function(){var t=function(e){var n;"string"==typeof(n=arguments.length>0?it(e)?e:function(t,e){var n;if("function"==typeof t.valueOf&&(n=t.valueOf(),it(n)))return n;if("function"==typeof t.toString&&(n=t.toString(),it(n)))return n;throw new TypeError("No default value")}(e):0)&&(n=pt.Call(Ft,n),fe(n)?n=parseInt(S(n,2),2):pe(n)?n=parseInt(S(n,2),8):(ge(n)||me(n))&&(n=NaN));var i=this,r=a(function(){return ue.prototype.valueOf.call(i),!0});return i instanceof t&&!r?new ue(n):ue(n)};return t}();kt(ue,ve,{}),g(ve,{NaN:ue.NaN,MAX_VALUE:ue.MAX_VALUE,MIN_VALUE:ue.MIN_VALUE,NEGATIVE_INFINITY:ue.NEGATIVE_INFINITY,POSITIVE_INFINITY:ue.POSITIVE_INFINITY}),Number=ve,w(O,"Number",ve)}var ye=Math.pow(2,53)-1;g(Number,{MAX_SAFE_INTEGER:ye,MIN_SAFE_INTEGER:-ye,EPSILON:2.220446049250313e-16,parseInt:O.parseInt,parseFloat:O.parseFloat,isFinite:J,isInteger:function(t){return J(t)&&pt.ToInteger(t)===t},isSafeInteger:function(t){return Number.isInteger(t)&&j(t)<=Number.MAX_SAFE_INTEGER},isNaN:Z}),p(Number,"parseInt",O.parseInt,Number.parseInt!==O.parseInt),1===[,1].find(function(){return!0})&&st(Array.prototype,"find",qt.find),0!==[,1].findIndex(function(){return!0})&&st(Array.prototype,"findIndex",qt.findIndex);var be=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),we=function(t,e){l&&be(t,e)&&Object.defineProperty(t,e,{enumerable:!1})},Ee=function(){for(var t=Number(this),e=arguments.length,n=e-t,i=new Array(n<0?0:n),r=t;r<e;++r)i[r-t]=arguments[r];return i},Ce=function(t){return function(e,n){return e[n]=t[n],e}},Te=function(t,e){var n,i=r(Object(e));return pt.IsCallable(Object.getOwnPropertySymbols)&&(n=h(Object.getOwnPropertySymbols(Object(e)),be(e))),d(I(i,n||[]),Ce(e),t)},_e={assign:function(t,e){var n=pt.ToObject(t,"Cannot convert undefined or null to object");return d(pt.Call(Ee,1,arguments),Te,n)},is:function(t,e){return pt.SameValue(t,e)}};if(Object.assign&&Object.preventExtensions&&function(){var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}}()&&st(Object,"assign",_e.assign),g(Object,_e),l){var Oe={setPrototypeOf:function(t,e){var i,r=function(t,e){return function(t,e){if(!pt.TypeIsObject(t))throw new TypeError("cannot set prototype on a non-object");if(null!==e&&!pt.TypeIsObject(e))throw new TypeError("can only set prototype to an object or null"+e)}(t,e),n(i,t,e),t};try{i=t.getOwnPropertyDescriptor(t.prototype,e).set,n(i,{},null)}catch(n){if(t.prototype!=={}[e])return;i=function(t){this[e]=t},r.polyfill=r(r({},null),t.prototype)instanceof t}return r}(Object,"__proto__")};g(Object,Oe)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&function(){var t=Object.create(null),e=Object.getPrototypeOf,n=Object.setPrototypeOf;Object.getPrototypeOf=function(n){var i=e(n);return i===t?null:i},Object.setPrototypeOf=function(e,i){return n(e,null===i?t:i)},Object.setPrototypeOf.polyfill=!1}(),!!o(function(){return Object.keys("foo")})){var ke=Object.keys;st(Object,"keys",function(t){return ke(pt.ToObject(t))}),r=Object.keys}if(o(function(){return Object.keys(/a/g)})){var De=Object.keys;st(Object,"keys",function(t){if(ot(t)){var e=[];for(var n in t)H(t,n)&&R(e,n);return e}return De(t)}),r=Object.keys}if(Object.getOwnPropertyNames&&!!o(function(){return Object.getOwnPropertyNames("foo")})){var xe="object"==typeof window?Object.getOwnPropertyNames(window):[],Ie=Object.getOwnPropertyNames;st(Object,"getOwnPropertyNames",function(t){var e=pt.ToObject(t);if("[object Window]"===m(e))try{return Ie(e)}catch(t){return I([],xe)}return Ie(e)})}if(Object.getOwnPropertyDescriptor&&!!o(function(){return Object.getOwnPropertyDescriptor("foo","bar")})){var Se=Object.getOwnPropertyDescriptor;st(Object,"getOwnPropertyDescriptor",function(t,e){return Se(pt.ToObject(t),e)})}if(Object.seal&&!!o(function(){return Object.seal("foo")})){var Re=Object.seal;st(Object,"seal",function(t){return pt.TypeIsObject(t)?Re(t):t})}if(Object.isSealed&&!!o(function(){return Object.isSealed("foo")})){var Ae=Object.isSealed;st(Object,"isSealed",function(t){return!pt.TypeIsObject(t)||Ae(t)})}if(Object.freeze&&!!o(function(){return Object.freeze("foo")})){var Ne=Object.freeze;st(Object,"freeze",function(t){return pt.TypeIsObject(t)?Ne(t):t})}if(Object.isFrozen&&!!o(function(){return Object.isFrozen("foo")})){var Pe=Object.isFrozen;st(Object,"isFrozen",function(t){return!pt.TypeIsObject(t)||Pe(t)})}if(Object.preventExtensions&&!!o(function(){return Object.preventExtensions("foo")})){var Me=Object.preventExtensions;st(Object,"preventExtensions",function(t){return pt.TypeIsObject(t)?Me(t):t})}if(Object.isExtensible&&!!o(function(){return Object.isExtensible("foo")})){var Le=Object.isExtensible;st(Object,"isExtensible",function(t){return!!pt.TypeIsObject(t)&&Le(t)})}if(Object.getPrototypeOf&&!!o(function(){return Object.getPrototypeOf("foo")})){var Ke=Object.getPrototypeOf;st(Object,"getPrototypeOf",function(t){return Ke(pt.ToObject(t))})}var je=l&&function(){var t=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return t&&pt.IsCallable(t.get)}();if(l&&!je){y(RegExp.prototype,"flags",function(){if(!pt.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t})}var Fe=l&&a(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),Be=lt&&l&&function(){var t=/./;return t[G.match]=!1,RegExp(t)===t}(),$e=a(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),He=$e&&a(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!$e||!He){var Ue=RegExp.prototype.toString;p(RegExp.prototype,"toString",function(){var t=pt.RequireObjectCoercible(this);return ot(t)?n(Ue,t):"/"+dt(t.source)+"/"+dt(t.flags)},!0),C(RegExp.prototype.toString,Ue)}if(l&&(!Fe||Be)){var ze=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,Ve=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},We=pt.IsCallable(Ve.get)?Ve.get:function(){return this.source},qe=RegExp,Ye=function t(e,n){var i=pt.IsRegExp(e);return this instanceof t||!i||void 0!==n||e.constructor!==t?ot(e)?new t(pt.Call(We,e),void 0===n?pt.Call(ze,e):n):(i&&(e.source,void 0===n&&e.flags),new qe(e,n)):e};kt(qe,Ye,{$input:!0}),RegExp=Ye,w(O,"RegExp",Ye)}if(l){var Ge={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};u(r(Ge),function(t){t in RegExp&&!(Ge[t]in RegExp)&&y(RegExp,Ge[t],function(){return RegExp[t]})})}xt(RegExp);var Xe=1/Number.EPSILON,Ze=Math.pow(2,-23),Je=Math.pow(2,127)*(2-Ze),Qe=Math.pow(2,-126),tn=Math.E,en=Math.LOG2E,nn=Math.LOG10E,rn=Number.prototype.clz;delete Number.prototype.clz;var on={acosh:function(t){var e=Number(t);if(Z(e)||t<1)return NaN;if(1===e)return 0;if(e===1/0)return e;var n=1/(e*e);if(e<2)return tt(e-1+$(1-n)*e);var i=e/2;return tt(i+$(1-n)*i-1)+1/en},asinh:function(t){var e=Number(t);if(0===e||!k(e))return e;var n=j(e),i=n*n,r=Q(e);return n<1?r*tt(n+i/($(i+1)+1)):r*(tt(n/2+$(1+1/i)*n/2-1)+1/en)},atanh:function(t){var e=Number(t);if(0===e)return e;if(-1===e)return-1/0;if(1===e)return 1/0;if(Z(e)||e<-1||e>1)return NaN;var n=j(e);return Q(e)*tt(2*n/(1-n))/2},cbrt:function(t){var e=Number(t);if(0===e)return e;var n,i=e<0;return i&&(e=-e),n=e===1/0?1/0:(e/((n=F(B(e)/3))*n)+2*n)/3,i?-n:n},clz32:function(t){var e=Number(t),n=pt.ToUint32(e);return 0===n?32:rn?pt.Call(rn,n):31-K(B(n+.5)*en)},cosh:function(t){var e=Number(t);if(0===e)return 1;if(Z(e))return NaN;if(!k(e))return 1/0;var n=F(j(e)-1);return(n+1/(n*tn*tn))*(tn/2)},expm1:function(t){var e=Number(t);if(e===-1/0)return-1;if(!k(e)||0===e)return e;if(j(e)>.5)return F(e)-1;for(var n=e,i=0,r=1;i+n!==i;)i+=n,n*=e/(r+=1);return i},hypot:function(t,e){for(var n=0,i=0,r=0;r<arguments.length;++r){var o=j(Number(arguments[r]));i<o?(n*=i/o*(i/o),n+=1,i=o):n+=o>0?o/i*(o/i):o}return i===1/0?1/0:i*$(n)},log2:function(t){return B(t)*en},log10:function(t){return B(t)*nn},log1p:tt,sign:Q,sinh:function(t){var e=Number(t);if(!k(e)||0===e)return e;var n=j(e);if(n<1){var i=Math.expm1(n);return Q(e)*i*(1+1/(i+1))/2}var r=F(n-1);return Q(e)*(r-1/(r*tn*tn))*(tn/2)},tanh:function(t){var e=Number(t);return Z(e)||0===e?e:e>=20?1:e<=-20?-1:(Math.expm1(e)-Math.expm1(-e))/(F(e)+F(-e))},trunc:function(t){var e=Number(t);return e<0?-K(-e):K(e)},imul:function(t,e){var n=pt.ToUint32(t),i=pt.ToUint32(e),r=65535&n,o=65535&i;return r*o+((n>>>16&65535)*o+r*(i>>>16&65535)<<16>>>0)|0},fround:function(t){var e=Number(t);if(0===e||e===1/0||e===-1/0||Z(e))return e;var n=Q(e),i=j(e);if(i<Qe)return n*function(t){return t+Xe-Xe}(i/Qe/Ze)*Qe*Ze;var r=(1+Ze/Number.EPSILON)*i,o=r-(r-i);return o>Je||Z(o)?n*(1/0):n*o}},an=function(t,e,n){return j(1-t/e)/Number.EPSILON<(n||8)};g(Math,on),p(Math,"sinh",on.sinh,Math.sinh(710)===1/0),p(Math,"cosh",on.cosh,Math.cosh(710)===1/0),p(Math,"log1p",on.log1p,-1e-17!==Math.log1p(-1e-17)),p(Math,"asinh",on.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),p(Math,"asinh",on.asinh,Math.asinh(1e300)===1/0),p(Math,"atanh",on.atanh,0===Math.atanh(1e-300)),p(Math,"tanh",on.tanh,-2e-17!==Math.tanh(-2e-17)),p(Math,"acosh",on.acosh,Math.acosh(Number.MAX_VALUE)===1/0),p(Math,"acosh",on.acosh,!an(Math.acosh(1+Number.EPSILON),Math.sqrt(2*Number.EPSILON))),p(Math,"cbrt",on.cbrt,!an(Math.cbrt(1e-300),1e-100)),p(Math,"sinh",on.sinh,-2e-17!==Math.sinh(-2e-17));var sn=Math.expm1(10);p(Math,"expm1",on.expm1,sn>22025.465794806718||sn<22025.465794806718),p(Math,"hypot",on.hypot,Math.hypot(1/0,NaN)!==1/0);var ln=Math.round,cn=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(Number.EPSILON/3.99-.5),un=[Xe+1,2*Xe-1].every(function(t){return Math.round(t)===t});p(Math,"round",function(t){var e=K(t);return t-e<.5?e:-1===e?-0:e+1},!cn||!un),C(Math.round,ln);var dn=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=on.imul,C(Math.imul,dn)),2!==Math.imul.length&&st(Math,"imul",function(t,e){return pt.Call(dn,Math,arguments)});var hn=function(){var t=O.setTimeout;if("function"==typeof t||"object"==typeof t){pt.IsPromise=function(t){return!!pt.TypeIsObject(t)&&void 0!==t._promise};var e,i=function(t){if(!pt.IsConstructor(t))throw new TypeError("Bad promise constructor");var e=this;if(e.resolve=void 0,e.reject=void 0,e.promise=new t(function(t,n){if(void 0!==e.resolve||void 0!==e.reject)throw new TypeError("Bad Promise implementation!");e.resolve=t,e.reject=n}),!pt.IsCallable(e.resolve)||!pt.IsCallable(e.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&pt.IsCallable(window.postMessage)&&(e=function(){var t=[],e="zero-timeout-message";return window.addEventListener("message",function(n){if(n.source===window&&n.data===e){if(n.stopPropagation(),0===t.length)return;P(t)()}},!0),function(n){R(t,n),window.postMessage(e,"*")}});var r,o,a=pt.IsCallable(O.setImmediate)?O.setImmediate:"object"==typeof process&&process.nextTick?process.nextTick:function(){var t=O.Promise,e=t&&t.resolve&&t.resolve();return e&&function(t){return e.then(t)}}()||(pt.IsCallable(e)?e():function(e){t(e,0)}),s=function(t){return t},l=function(t){throw t},c={},u=function(t,e,n){a(function(){d(t,e,n)})},d=function(t,e,n){var i,r;if(e===c)return t(n);try{i=t(n),r=e.resolve}catch(t){i=t,r=e.reject}r(i)},h=function(t,e){var n=t._promise,i=n.reactionLength;if(i>0&&(u(n.fulfillReactionHandler0,n.reactionCapability0,e),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,i>1))for(var r=1,o=0;r<i;r++,o+=3)u(n[o+0],n[o+2],e),t[o+0]=void 0,t[o+1]=void 0,t[o+2]=void 0;n.result=e,n.state=1,n.reactionLength=0},f=function(t,e){var n=t._promise,i=n.reactionLength;if(i>0&&(u(n.rejectReactionHandler0,n.reactionCapability0,e),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,i>1))for(var r=1,o=0;r<i;r++,o+=3)u(n[o+1],n[o+2],e),t[o+0]=void 0,t[o+1]=void 0,t[o+2]=void 0;n.result=e,n.state=2,n.reactionLength=0},p=function(t){var e=!1;return{resolve:function(n){var i;if(!e){if(e=!0,n===t)return f(t,new TypeError("Self resolution"));if(!pt.TypeIsObject(n))return h(t,n);try{i=n.then}catch(e){return f(t,e)}if(!pt.IsCallable(i))return h(t,n);a(function(){v(t,n,i)})}},reject:function(n){if(!e)return e=!0,f(t,n)}}},m=function(t,e,i,r){t===o?n(t,e,i,r,c):n(t,e,i,r)},v=function(t,e,n){var i=p(t),r=i.resolve,o=i.reject;try{m(n,e,r,o)}catch(t){o(t)}},y=function(){var t=function(e){if(!(this instanceof t))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!pt.IsCallable(e))throw new TypeError("not a valid resolver");var n=Rt(this,t,r,{_promise:{result:void 0,state:0,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),i=p(n),o=i.reject;try{e(i.resolve,o)}catch(t){o(t)}return n};return t}();r=y.prototype;var b=function(t,e,n,i){var r=!1;return function(o){r||(r=!0,e[t]=o,0==--i.count&&(0,n.resolve)(e))}};return g(y,{all:function(t){var e=this;if(!pt.TypeIsObject(e))throw new TypeError("Promise is not object");var n,r,o=new i(e);try{return function(t,e,n){for(var i,r,o=t.iterator,a=[],s={count:1},l=0;;){try{if(!1===(i=pt.IteratorStep(o))){t.done=!0;break}r=i.value}catch(e){throw t.done=!0,e}a[l]=void 0;var c=e.resolve(r),u=b(l,a,n,s);s.count+=1,m(c.then,c,u,n.reject),l+=1}0==--s.count&&(0,n.resolve)(a);return n.promise}(r={iterator:n=pt.GetIterator(t),done:!1},e,o)}catch(t){var a=t;if(r&&!r.done)try{pt.IteratorClose(n,!0)}catch(t){a=t}return(0,o.reject)(a),o.promise}},race:function(t){var e=this;if(!pt.TypeIsObject(e))throw new TypeError("Promise is not object");var n,r,o=new i(e);try{return function(t,e,n){for(var i,r,o,a=t.iterator;;){try{if(!1===(i=pt.IteratorStep(a))){t.done=!0;break}r=i.value}catch(e){throw t.done=!0,e}o=e.resolve(r),m(o.then,o,n.resolve,n.reject)}return n.promise}(r={iterator:n=pt.GetIterator(t),done:!1},e,o)}catch(t){var a=t;if(r&&!r.done)try{pt.IteratorClose(n,!0)}catch(t){a=t}return(0,o.reject)(a),o.promise}},reject:function(t){if(!pt.TypeIsObject(this))throw new TypeError("Bad promise constructor");var e=new i(this);return(0,e.reject)(t),e.promise},resolve:function(t){var e=this;if(!pt.TypeIsObject(e))throw new TypeError("Bad promise constructor");if(pt.IsPromise(t)&&t.constructor===e)return t;var n=new i(e);return(0,n.resolve)(t),n.promise}}),g(r,{catch:function(t){return this.then(null,t)},then:function(t,e){var n=this;if(!pt.IsPromise(n))throw new TypeError("not a promise");var r,o=pt.SpeciesConstructor(n,y);r=arguments.length>2&&arguments[2]===c&&o===y?c:new i(o);var a,d=pt.IsCallable(t)?t:s,h=pt.IsCallable(e)?e:l,f=n._promise;if(0===f.state){if(0===f.reactionLength)f.fulfillReactionHandler0=d,f.rejectReactionHandler0=h,f.reactionCapability0=r;else{var p=3*(f.reactionLength-1);f[p+0]=d,f[p+1]=h,f[p+2]=r}f.reactionLength+=1}else if(1===f.state)a=f.result,u(d,r,a);else{if(2!==f.state)throw new TypeError("unexpected Promise state");a=f.result,u(h,r,a)}return r.promise}}),c=new i(y),o=r.then,y}}();if(O.Promise&&(delete O.Promise.accept,delete O.Promise.defer,delete O.Promise.prototype.chain),"function"==typeof hn){g(O,{Promise:hn});var fn=_(O.Promise,function(t){return t.resolve(42).then(function(){})instanceof t}),pn=!o(function(){return O.Promise.reject(42).then(null,5).then(null,U)}),gn=o(function(){return O.Promise.call(3,U)}),mn=function(t){var e=t.resolve(5);e.constructor={};var n=t.resolve(e);try{n.then(null,U).then(null,U)}catch(t){return!0}return e===n}(O.Promise),vn=l&&function(){var t=0,e=Object.defineProperty({},"then",{get:function(){t+=1}});return Promise.resolve(e),1===t}(),yn=function t(e){var n=new Promise(e);e(3,function(){}),this.then=n.then,this.constructor=t};yn.prototype=Promise.prototype,yn.all=Promise.all;var bn=a(function(){return!!yn.all([1,2])});if(fn&&pn&&gn&&!mn&&vn&&!bn||(Promise=hn,st(O,"Promise",hn)),1!==Promise.all.length){var wn=Promise.all;st(Promise,"all",function(t){return pt.Call(wn,this,arguments)})}if(1!==Promise.race.length){var En=Promise.race;st(Promise,"race",function(t){return pt.Call(En,this,arguments)})}if(1!==Promise.resolve.length){var Cn=Promise.resolve;st(Promise,"resolve",function(t){return pt.Call(Cn,this,arguments)})}if(1!==Promise.reject.length){var Tn=Promise.reject;st(Promise,"reject",function(t){return pt.Call(Tn,this,arguments)})}we(Promise,"all"),we(Promise,"race"),we(Promise,"resolve"),we(Promise,"reject"),xt(Promise)}var _n=function(t){var e=r(d(t,function(t,e){return t[e]=!0,t},{}));return t.join(":")===e.join(":")},On=_n(["z","a","bb"]),kn=_n(["z",1,"a","3",2]);if(l){var Dn=function(t,e){return e||On?ft(t)?"^"+pt.ToString(t):"string"==typeof t?"$"+t:"number"==typeof t?kn?t:"n"+t:"boolean"==typeof t?"b"+t:null:null},xn=function(){return Object.create?Object.create(null):{}},In=function(t,e,r){if(i(r)||rt(r))u(r,function(t){if(!pt.TypeIsObject(t))throw new TypeError("Iterator value "+t+" is not an entry object");e.set(t[0],t[1])});else if(r instanceof t)n(t.prototype.forEach,r,function(t,n){e.set(n,t)});else{var o,a;if(!ft(r)){if(a=e.set,!pt.IsCallable(a))throw new TypeError("bad map");o=pt.GetIterator(r)}if(void 0!==o)for(;;){var s=pt.IteratorStep(o);if(!1===s)break;var l=s.value;try{if(!pt.TypeIsObject(l))throw new TypeError("Iterator value "+l+" is not an entry object");n(a,e,l[0],l[1])}catch(t){throw pt.IteratorClose(o,!0),t}}}},Sn=function(t,e,r){if(i(r)||rt(r))u(r,function(t){e.add(t)});else if(r instanceof t)n(t.prototype.forEach,r,function(t){e.add(t)});else{var o,a;if(!ft(r)){if(a=e.add,!pt.IsCallable(a))throw new TypeError("bad set");o=pt.GetIterator(r)}if(void 0!==o)for(;;){var s=pt.IteratorStep(o);if(!1===s)break;var l=s.value;try{n(a,e,l)}catch(t){throw pt.IteratorClose(o,!0),t}}}},Rn={Map:function(){var t={},e=function(t,e){this.key=t,this.value=e,this.next=null,this.prev=null};e.prototype.isRemoved=function(){return this.key===t};var i,r=function(t,e){if(!pt.TypeIsObject(t)||!function(t){return!!t._es6map}(t))throw new TypeError("Method Map.prototype."+e+" called on incompatible receiver "+pt.ToString(t))},o=function(t,e){r(t,"[[MapIterator]]"),this.head=t._head,this.i=this.head,this.kind=e};It(o.prototype={isMapIterator:!0,next:function(){if(!this.isMapIterator)throw new TypeError("Not a MapIterator");var t,e=this.i,n=this.kind,i=this.head;if(void 0===this.i)return zt();for(;e.isRemoved()&&e!==i;)e=e.prev;for(;e.next!==i;)if(!(e=e.next).isRemoved())return t="key"===n?e.key:"value"===n?e.value:[e.key,e.value],this.i=e,zt(t);return this.i=void 0,zt()}});var a=function t(){if(!(this instanceof t))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var n=Rt(this,t,i,{_es6map:!0,_head:null,_map:z?new z:null,_size:0,_storage:xn()}),r=new e(null,null);return r.next=r.prev=r,n._head=r,arguments.length>0&&In(t,n,arguments[0]),n};return y(i=a.prototype,"size",function(){if(void 0===this._size)throw new TypeError("size method called on incompatible Map");return this._size}),g(i,{get:function(t){var e;r(this,"get");var n=Dn(t,!0);if(null!==n)return(e=this._storage[n])?e.value:void 0;if(this._map)return(e=W.call(this._map,t))?e.value:void 0;for(var i=this._head,o=i;(o=o.next)!==i;)if(pt.SameValueZero(o.key,t))return o.value},has:function(t){r(this,"has");var e=Dn(t,!0);if(null!==e)return void 0!==this._storage[e];if(this._map)return q.call(this._map,t);for(var n=this._head,i=n;(i=i.next)!==n;)if(pt.SameValueZero(i.key,t))return!0;return!1},set:function(t,n){r(this,"set");var i,o=this._head,a=o,s=Dn(t,!0);if(null!==s){if(void 0!==this._storage[s])return this._storage[s].value=n,this;i=this._storage[s]=new e(t,n),a=o.prev}else this._map&&(q.call(this._map,t)?W.call(this._map,t).value=n:(i=new e(t,n),Y.call(this._map,t,i),a=o.prev));for(;(a=a.next)!==o;)if(pt.SameValueZero(a.key,t))return a.value=n,this;return i=i||new e(t,n),pt.SameValue(-0,t)&&(i.key=0),i.next=this._head,i.prev=this._head.prev,i.prev.next=i,i.next.prev=i,this._size+=1,this},delete:function(e){r(this,"delete");var n=this._head,i=n,o=Dn(e,!0);if(null!==o){if(void 0===this._storage[o])return!1;i=this._storage[o].prev,delete this._storage[o]}else if(this._map){if(!q.call(this._map,e))return!1;i=W.call(this._map,e).prev,V.call(this._map,e)}for(;(i=i.next)!==n;)if(pt.SameValueZero(i.key,e))return i.key=t,i.value=t,i.prev.next=i.next,i.next.prev=i.prev,this._size-=1,!0;return!1},clear:function(){r(this,"clear"),this._map=z?new z:null,this._size=0,this._storage=xn();for(var e=this._head,n=e,i=n.next;(n=i)!==e;)n.key=t,n.value=t,i=n.next,n.next=n.prev=e;e.next=e.prev=e},keys:function(){return r(this,"keys"),new o(this,"key")},values:function(){return r(this,"values"),new o(this,"value")},entries:function(){return r(this,"entries"),new o(this,"key+value")},forEach:function(t){r(this,"forEach");for(var e=arguments.length>1?arguments[1]:null,i=this.entries(),o=i.next();!o.done;o=i.next())e?n(t,e,o.value[1],o.value[0],this):t(o.value[1],o.value[0],this)}}),It(i,i.entries),a}(),Set:function(){var t,e=function(t,e){if(!pt.TypeIsObject(t)||!function(t){return t._es6set&&void 0!==t._storage}(t))throw new TypeError("Set.prototype."+e+" called on incompatible receiver "+pt.ToString(t))},i=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var n=Rt(this,e,t,{_es6set:!0,"[[SetData]]":null,_storage:xn()});if(!n._es6set)throw new TypeError("bad set");return arguments.length>0&&Sn(e,n,arguments[0]),n};t=i.prototype;var o=function(t){if(!t["[[SetData]]"]){var e=new Rn.Map;t["[[SetData]]"]=e,u(r(t._storage),function(t){var n=function(t){var e=t;if("^null"===e)return null;if("^undefined"!==e){var n=e.charAt(0);return"$"===n?S(e,1):"n"===n?+S(e,1):"b"===n?"btrue"===e:+e}}(t);e.set(n,n)}),t["[[SetData]]"]=e}t._storage=null};y(i.prototype,"size",function(){return e(this,"size"),this._storage?r(this._storage).length:(o(this),this["[[SetData]]"].size)}),g(i.prototype,{has:function(t){var n;return e(this,"has"),this._storage&&null!==(n=Dn(t))?!!this._storage[n]:(o(this),this["[[SetData]]"].has(t))},add:function(t){var n;return e(this,"add"),this._storage&&null!==(n=Dn(t))?(this._storage[n]=!0,this):(o(this),this["[[SetData]]"].set(t,t),this)},delete:function(t){var n;if(e(this,"delete"),this._storage&&null!==(n=Dn(t))){var i=H(this._storage,n);return delete this._storage[n]&&i}return o(this),this["[[SetData]]"].delete(t)},clear:function(){e(this,"clear"),this._storage&&(this._storage=xn()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){return e(this,"values"),o(this),new a(this["[[SetData]]"].values())},entries:function(){return e(this,"entries"),o(this),new a(this["[[SetData]]"].entries())},forEach:function(t){e(this,"forEach");var i=arguments.length>1?arguments[1]:null,r=this;o(r),this["[[SetData]]"].forEach(function(e,o){i?n(t,i,o,o,r):t(o,o,r)})}}),p(i.prototype,"keys",i.prototype.values,!0),It(i.prototype,i.prototype.values);var a=function(t){this.it=t};return a.prototype={isSetIterator:!0,next:function(){if(!this.isSetIterator)throw new TypeError("Not a SetIterator");return this.it.next()}},It(a.prototype),i}()};if(O.Set&&!Set.prototype.delete&&Set.prototype.remove&&Set.prototype.items&&Set.prototype.map&&Array.isArray((new Set).keys)&&(O.Set=Rn.Set),O.Map||O.Set){a(function(){return 2===new Map([[1,2]]).get(1)})||(O.Map=function t(){if(!(this instanceof t))throw new TypeError('Constructor Map requires "new"');var e=new z;return arguments.length>0&&In(t,e,arguments[0]),delete e.constructor,Object.setPrototypeOf(e,O.Map.prototype),e},O.Map.prototype=T(z.prototype),p(O.Map.prototype,"constructor",O.Map,!0),C(O.Map,z));var An=new Map,Nn=function(){var t=new Map([[1,0],[2,0],[3,0],[4,0]]);return t.set(-0,t),t.get(0)===t&&t.get(-0)===t&&t.has(0)&&t.has(-0)}(),Pn=An.set(1,2)===An;Nn&&Pn||st(Map.prototype,"set",function(t,e){return n(Y,this,0===t?0:t,e),this}),Nn||(g(Map.prototype,{get:function(t){return n(W,this,0===t?0:t)},has:function(t){return n(q,this,0===t?0:t)}},!0),C(Map.prototype.get,W),C(Map.prototype.has,q));var Mn=new Set,Ln=Set.prototype.delete&&Set.prototype.add&&Set.prototype.has&&function(t){return t.delete(0),t.add(-0),!t.has(0)}(Mn),Kn=Mn.add(1)===Mn;if(!Ln||!Kn){var jn=Set.prototype.add;Set.prototype.add=function(t){return n(jn,this,0===t?0:t),this},C(Set.prototype.add,jn)}if(!Ln){var Fn=Set.prototype.has;Set.prototype.has=function(t){return n(Fn,this,0===t?0:t)},C(Set.prototype.has,Fn);var Bn=Set.prototype.delete;Set.prototype.delete=function(t){return n(Bn,this,0===t?0:t)},C(Set.prototype.delete,Bn)}var $n=_(O.Map,function(t){var e=new t([]);return e.set(42,42),e instanceof t}),Hn=Object.setPrototypeOf&&!$n,Un=function(){try{return!(O.Map()instanceof O.Map)}catch(t){return t instanceof TypeError}}();0===O.Map.length&&!Hn&&Un||(O.Map=function t(){if(!(this instanceof t))throw new TypeError('Constructor Map requires "new"');var e=new z;return arguments.length>0&&In(t,e,arguments[0]),delete e.constructor,Object.setPrototypeOf(e,t.prototype),e},O.Map.prototype=z.prototype,p(O.Map.prototype,"constructor",O.Map,!0),C(O.Map,z));var zn=_(O.Set,function(t){var e=new t([]);return e.add(42,42),e instanceof t}),Vn=Object.setPrototypeOf&&!zn,Wn=function(){try{return!(O.Set()instanceof O.Set)}catch(t){return t instanceof TypeError}}();if(0!==O.Set.length||Vn||!Wn){var qn=O.Set;O.Set=function t(){if(!(this instanceof t))throw new TypeError('Constructor Set requires "new"');var e=new qn;return arguments.length>0&&Sn(t,e,arguments[0]),delete e.constructor,Object.setPrototypeOf(e,t.prototype),e},O.Set.prototype=qn.prototype,p(O.Set.prototype,"constructor",O.Set,!0),C(O.Set,qn)}var Yn=new O.Map,Gn=!a(function(){return Yn.keys().next().done});if(("function"!=typeof O.Map.prototype.clear||0!==(new O.Set).size||0!==Yn.size||"function"!=typeof O.Map.prototype.keys||"function"!=typeof O.Set.prototype.keys||"function"!=typeof O.Map.prototype.forEach||"function"!=typeof O.Set.prototype.forEach||s(O.Map)||s(O.Set)||"function"!=typeof Yn.keys().next||Gn||!$n)&&g(O,{Map:Rn.Map,Set:Rn.Set},!0),O.Set.prototype.keys!==O.Set.prototype.values&&p(O.Set.prototype,"keys",O.Set.prototype.values,!0),It(Object.getPrototypeOf((new O.Map).keys())),It(Object.getPrototypeOf((new O.Set).keys())),c&&"has"!==O.Set.prototype.has.name){var Xn=O.Set.prototype.has;st(O.Set.prototype,"has",function(t){return n(Xn,this,t)})}}g(O,Rn),xt(O.Map),xt(O.Set)}var Zn=function(t){if(!pt.TypeIsObject(t))throw new TypeError("target must be an object")},Jn={apply:function(){return pt.Call(pt.Call,null,arguments)},construct:function(t,e){if(!pt.IsConstructor(t))throw new TypeError("First argument must be a constructor.");var n=arguments.length>2?arguments[2]:t;if(!pt.IsConstructor(n))throw new TypeError("new.target must be a constructor.");return pt.Construct(t,e,n,"internal")},deleteProperty:function(t,e){if(Zn(t),l){var n=Object.getOwnPropertyDescriptor(t,e);if(n&&!n.configurable)return!1}return delete t[e]},has:function(t,e){return Zn(t),e in t}};Object.getOwnPropertyNames&&Object.assign(Jn,{ownKeys:function(t){Zn(t);var e=Object.getOwnPropertyNames(t);return pt.IsCallable(Object.getOwnPropertySymbols)&&A(e,Object.getOwnPropertySymbols(t)),e}});var Qn=function(t){return!o(t)};if(Object.preventExtensions&&Object.assign(Jn,{isExtensible:function(t){return Zn(t),Object.isExtensible(t)},preventExtensions:function(t){return Zn(t),Qn(function(){return Object.preventExtensions(t)})}}),l){var ti=function(t,e,n){var i=Object.getOwnPropertyDescriptor(t,e);if(!i){var r=Object.getPrototypeOf(t);if(null===r)return;return ti(r,e,n)}return"value"in i?i.value:i.get?pt.Call(i.get,n):void 0},ei=function(t,e,i,r){var o=Object.getOwnPropertyDescriptor(t,e);if(!o){var a=Object.getPrototypeOf(t);if(null!==a)return ei(a,e,i,r);o={value:void 0,writable:!0,enumerable:!0,configurable:!0}}return"value"in o?!!o.writable&&(!!pt.TypeIsObject(r)&&(Object.getOwnPropertyDescriptor(r,e)?ut.defineProperty(r,e,{value:i}):ut.defineProperty(r,e,{value:i,writable:!0,enumerable:!0,configurable:!0}))):!!o.set&&(n(o.set,r,i),!0)};Object.assign(Jn,{defineProperty:function(t,e,n){return Zn(t),Qn(function(){return Object.defineProperty(t,e,n)})},getOwnPropertyDescriptor:function(t,e){return Zn(t),Object.getOwnPropertyDescriptor(t,e)},get:function(t,e){Zn(t);var n=arguments.length>2?arguments[2]:t;return ti(t,e,n)},set:function(t,e,n){Zn(t);var i=arguments.length>3?arguments[3]:t;return ei(t,e,n,i)}})}if(Object.getPrototypeOf){var ni=Object.getPrototypeOf;Jn.getPrototypeOf=function(t){return Zn(t),ni(t)}}if(Object.setPrototypeOf&&Jn.getPrototypeOf){Object.assign(Jn,{setPrototypeOf:function(t,e){if(Zn(t),null!==e&&!pt.TypeIsObject(e))throw new TypeError("proto must be an object or null");return e===ut.getPrototypeOf(t)||!(ut.isExtensible&&!ut.isExtensible(t))&&(!function(t,e){for(var n=e;n;){if(t===n)return!0;n=Jn.getPrototypeOf(n)}return!1}(t,e)&&(Object.setPrototypeOf(t,e),!0))}})}Object.keys(Jn).forEach(function(t){!function(t,e){pt.IsCallable(O.Reflect[t])?a(function(){return O.Reflect[t](1),O.Reflect[t](NaN),O.Reflect[t](!0),!0})&&st(O.Reflect,t,e):p(O.Reflect,t,e)}(t,Jn[t])});var ii=O.Reflect.getPrototypeOf;if(c&&ii&&"getPrototypeOf"!==ii.name&&st(O.Reflect,"getPrototypeOf",function(t){return n(ii,O.Reflect,t)}),O.Reflect.setPrototypeOf&&a(function(){return O.Reflect.setPrototypeOf(1,{}),!0})&&st(O.Reflect,"setPrototypeOf",Jn.setPrototypeOf),O.Reflect.defineProperty&&(a(function(){var t=!O.Reflect.defineProperty(1,"test",{value:1}),e="function"!=typeof Object.preventExtensions||!O.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return t&&e})||st(O.Reflect,"defineProperty",Jn.defineProperty)),O.Reflect.construct&&(a(function(){var t=function(){};return O.Reflect.construct(function(){},[],t)instanceof t})||st(O.Reflect,"construct",Jn.construct)),"Invalid Date"!==String(new Date(NaN))){var ri=Date.prototype.toString;st(Date.prototype,"toString",function(){var t=+this;return t!=t?"Invalid Date":pt.Call(ri,this)})}var oi={anchor:function(t){return pt.CreateHTML(this,"a","name",t)},big:function(){return pt.CreateHTML(this,"big","","")},blink:function(){return pt.CreateHTML(this,"blink","","")},bold:function(){return pt.CreateHTML(this,"b","","")},fixed:function(){return pt.CreateHTML(this,"tt","","")},fontcolor:function(t){return pt.CreateHTML(this,"font","color",t)},fontsize:function(t){return pt.CreateHTML(this,"font","size",t)},italics:function(){return pt.CreateHTML(this,"i","","")},link:function(t){return pt.CreateHTML(this,"a","href",t)},small:function(){return pt.CreateHTML(this,"small","","")},strike:function(){return pt.CreateHTML(this,"strike","","")},sub:function(){return pt.CreateHTML(this,"sub","","")},sup:function(){return pt.CreateHTML(this,"sup","","")}};u(Object.keys(oi),function(t){var e=String.prototype[t],i=!1;if(pt.IsCallable(e)){var r=n(e,"",' " '),o=I([],r.match(/"/g)).length;i=r!==r.toLowerCase()||o>2}else i=!0;i&&st(String.prototype,t,oi[t])});var ai=function(){if(!lt)return!1;var t="object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!t)return!1;if(void 0!==t(G()))return!0;if("[null]"!==t([G()]))return!0;var e={a:G()};return e[G()]=!0,"{}"!==t(e)}(),si=a(function(){return!lt||"{}"===JSON.stringify(Object(G()))&&"[{}]"===JSON.stringify([Object(G())])});if(ai||!si){var li=JSON.stringify;st(JSON,"stringify",function(t){if("symbol"!=typeof t){var e;arguments.length>1&&(e=arguments[1]);var r=[t];if(i(e))r.push(e);else{var o=pt.IsCallable(e)?e:null;r.push(function(t,e){var i=o?n(o,this,t,e):e;if("symbol"!=typeof i)return at(i)?Ce({})(i):i})}return arguments.length>2&&r.push(arguments[2]),li.apply(this,r)}})}return O}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).FormValidation={})}(this,function(t){"use strict";function e(t){for(var e=t.length,n=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],i=0,r=0;e--;)r+=n[i][parseInt(t.charAt(e),10)],i=1-i;return r%10==0&&r>0}function n(t){for(var e=t.length,n=5,i=0;i<e;i++)n=(2*(n||10)%11+parseInt(t.charAt(i),10))%10;return 1===n}function i(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=t.length,i=e.length,r=Math.floor(i/2),o=0;o<n;o++)r=(2*(r||i)%(i+1)+e.indexOf(t.charAt(o)))%i;return 1===r}function r(t){for(var e=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],n=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],i=t.reverse(),r=0,o=0;o<i.length;o++)r=e[r][n[o%8][i[o]]];return 0===r}var o={luhn:e,mod11And10:n,mod37And36:i,verhoeff:r};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?f(t):e}function g(t,e,n,i){var r=(n.getAttribute("type")||"").toLowerCase();switch(n.tagName.toLowerCase()){case"textarea":return n.value;case"select":var o=n,a=o.selectedIndex;return a>=0?o.options.item(a).value:"";case"input":if("radio"===r||"checkbox"===r){var s=i.filter(function(t){return t.checked}).length;return 0===s?"":s+""}return n.value;default:return""}}function m(t,e){var n=Array.isArray(e)?e:[e],i=t;return n.forEach(function(t){i=i.replace("%s",t)}),i}function v(t,e){if("function"==typeof t)return t.apply(this,e);if("string"==typeof t){var n=t;"()"===n.substring(n.length-2)&&(n=n.substring(0,n.length-2));var i=n.split("."),r=i.pop(),o=window,a=!0,s=!1,l=void 0;try{for(var c,u=i[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){o=o[c.value]}}catch(t){s=!0,l=t}finally{try{!a&&null!=u.return&&u.return()}finally{if(s)throw l}}return void 0===o[r]?null:o[r].apply(this,e)}}var y={AMERICAN_EXPRESS:{length:[15],prefix:["34","37"]},DANKORT:{length:[16],prefix:["5019"]},DINERS_CLUB:{length:[14],prefix:["300","301","302","303","304","305","36"]},DINERS_CLUB_US:{length:[16],prefix:["54","55"]},DISCOVER:{length:[16],prefix:["6011","622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925","644","645","646","647","648","649","65"]},ELO:{length:[16],prefix:["4011","4312","4389","4514","4573","4576","5041","5066","5067","509","6277","6362","6363","650","6516","6550"]},FORBRUGSFORENINGEN:{length:[16],prefix:["600722"]},JCB:{length:[16],prefix:["3528","3529","353","354","355","356","357","358"]},LASER:{length:[16,17,18,19],prefix:["6304","6706","6771","6709"]},MAESTRO:{length:[12,13,14,15,16,17,18,19],prefix:["5018","5020","5038","5868","6304","6759","6761","6762","6763","6764","6765","6766"]},MASTERCARD:{length:[16],prefix:["51","52","53","54","55"]},SOLO:{length:[16,18,19],prefix:["6334","6767"]},UNIONPAY:{length:[16,17,18,19],prefix:["622126","622127","622128","622129","62213","62214","62215","62216","62217","62218","62219","6222","6223","6224","6225","6226","6227","6228","62290","62291","622920","622921","622922","622923","622924","622925"]},VISA:{length:[16],prefix:["4"]},VISA_ELECTRON:{length:[16],prefix:["4026","417500","4405","4508","4844","4913","4917"]}};function b(t,e,n,i){if(isNaN(t)||isNaN(e)||isNaN(n))return!1;if(t<1e3||t>9999||e<=0||e>12)return!1;if(n<=0||n>[31,t%400==0||t%100!=0&&t%4==0?29:28,31,30,31,30,31,31,30,31,30,31][e-1])return!1;if(!0===i){var r=new Date,o=r.getFullYear(),a=r.getMonth(),s=r.getDate();return t<o||t===o&&e-1<a||t===o&&e-1===a&&n<s}return!0}function w(t,e){return new Promise(function(n,i){var r=Object.assign({},{crossDomain:!1,headers:{},method:"GET",params:{}},e),o=Object.keys(r.params).map(function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r.params[t]))}).join("&"),a=t.indexOf("?"),s="GET"===r.method?"".concat(t).concat(a?"?":"&").concat(o):t;if(r.crossDomain){var l=document.createElement("script"),c="___fetch".concat(Date.now(),"___");window[c]=function(t){delete window[c],n(t)},l.src="".concat(s).concat(a?"&":"?","callback=").concat(c),l.async=!0,l.addEventListener("load",function(){l.parentNode.removeChild(l)}),l.addEventListener("error",function(){return i}),document.head.appendChild(l)}else{var u=new XMLHttpRequest;u.open(r.method,s),u.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"===r.method&&u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),Object.keys(r.headers).forEach(function(t){return u.setRequestHeader(t,r.headers[t])}),u.addEventListener("load",function(){n(JSON.parse(this.responseText))}),u.addEventListener("error",function(){return i}),u.send(function(t){return Object.keys(t).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))}).join("&")}(r.params))}})}function E(t,e){if(!/^\d{13}$/.test(t))return!1;var n=parseInt(t.substr(0,2),10),i=parseInt(t.substr(2,2),10),r=parseInt(t.substr(7,2),10),o=parseInt(t.substr(12,1),10);if(n>31||i>12)return!1;for(var a=0,s=0;s<6;s++)a+=(7-s)*(parseInt(t.charAt(s),10)+parseInt(t.charAt(s+6),10));if((10===(a=11-a%11)||11===a)&&(a=0),a!==o)return!1;switch(e.toUpperCase()){case"BA":return 10<=r&&r<=19;case"MK":return 41<=r&&r<=49;case"ME":return 20<=r&&r<=29;case"RS":return 70<=r&&r<=99;case"SI":return 50<=r&&r<=59;default:return!0}}function C(t){if(!/^\d{9,10}$/.test(t))return{meta:{},valid:!1};var e=1900+parseInt(t.substr(0,2),10),n=parseInt(t.substr(2,2),10)%50%20,i=parseInt(t.substr(4,2),10);if(9===t.length){if(e>=1980&&(e-=100),e>1953)return{meta:{},valid:!1}}else e<1954&&(e+=100);if(!b(e,n,i))return{meta:{},valid:!1};if(10===t.length){var r=parseInt(t.substr(0,9),10)%11;return e<1985&&(r%=10),{meta:{},valid:"".concat(r)===t.substr(9,1)}}return{meta:{},valid:!0}}function T(t){return{meta:{},valid:/^[0-9]{11}$/.test(t)&&n(t)}}function _(t){return/^[2-9]\d{11}$/.test(t)?{meta:{},valid:r(t.split("").map(function(t){return parseInt(t,10)}))}:{meta:{},valid:!1}}function O(t){return/^\d{1,9}$/.test(t)?{meta:{},valid:e(t)}:{meta:{},valid:!1}}function k(t){if(!/^[0-9]{11}$/.test(t))return{meta:{},valid:!1};var e=parseInt(t.charAt(0),10),n=parseInt(t.substr(1,2),10);if(!b(n=100*(e%2==0?17+e/2:17+(e+1)/2)+n,parseInt(t.substr(3,2),10),parseInt(t.substr(5,2),10),!0))return{meta:{},valid:!1};var i,r=[1,2,3,4,5,6,7,8,9,1],o=0;for(i=0;i<10;i++)o+=parseInt(t.charAt(i),10)*r[i];if(10!==(o%=11))return{meta:{},valid:"".concat(o)===t.charAt(10)};for(o=0,r=[3,4,5,6,7,8,9,1,2,3],i=0;i<10;i++)o+=parseInt(t.charAt(i),10)*r[i];return 10===(o%=11)&&(o=0),{meta:{},valid:"".concat(o)===t.charAt(10)}}function D(t){if(!/^[0-9]{10}$/.test(t)&&!/^[0-9]{6}[-|+][0-9]{4}$/.test(t))return{meta:{},valid:!1};var n=t.replace(/[^0-9]/g,"");return b(parseInt(n.substr(0,2),10)+1900,parseInt(n.substr(2,2),10),parseInt(n.substr(4,2),10))?{meta:{},valid:e(n)}:{meta:{},valid:!1}}function x(t){if(!/^[0-9]{10}[0|1][8|9][0-9]$/.test(t))return{meta:{},valid:!1};var n=parseInt(t.substr(0,2),10);return b(n=n>=new Date.getFullYear%100?n+1900:n+2e3,parseInt(t.substr(2,2),10),parseInt(t.substr(4,2),10))?{meta:{},valid:e(t)}:{meta:{},valid:!1}}function I(t){var e=t;return/^DE[0-9]{9}$/.test(e)&&(e=e.substr(2)),/^[0-9]{9}$/.test(e)?{meta:{},valid:n(e)}:{meta:{},valid:!1}}function S(t){var n=t;if(/^FR[0-9A-Z]{2}[0-9]{9}$/.test(n)&&(n=n.substr(2)),!/^[0-9A-Z]{2}[0-9]{9}$/.test(n))return{meta:{},valid:!1};if(!e(n.substr(2)))return{meta:{},valid:!1};if(/^[0-9]{2}$/.test(n.substr(0,2)))return{meta:{},valid:n.substr(0,2)==="".concat(parseInt(n.substr(2)+"12",10)%97)};var i,r="0123456789ABCDEFGHJKLMNPQRSTUVWXYZ";return i=/^[0-9]$/.test(n.charAt(0))?24*r.indexOf(n.charAt(0))+r.indexOf(n.charAt(1))-10:34*r.indexOf(n.charAt(0))+r.indexOf(n.charAt(1))-100,{meta:{},valid:(parseInt(n.substr(2),10)+1+Math.floor(i/11))%11==i%11}}function R(t){var e=t;if(/^(GR|EL)[0-9]{9}$/.test(e)&&(e=e.substr(2)),!/^[0-9]{9}$/.test(e))return{meta:{},valid:!1};8===e.length&&(e="0".concat(e));for(var n=[256,128,64,32,16,8,4,2],i=0,r=0;r<8;r++)i+=parseInt(e.charAt(r),10)*n[r];return{meta:{},valid:"".concat(i=i%11%10)===e.substr(8,1)}}function A(t){var e=t;return/^HR[0-9]{11}$/.test(e)&&(e=e.substr(2)),/^[0-9]{11}$/.test(e)?{meta:{},valid:n(e)}:{meta:{},valid:!1}}function N(t){var n=t;if(/^IT[0-9]{11}$/.test(n)&&(n=n.substr(2)),!/^[0-9]{11}$/.test(n))return{meta:{},valid:!1};if(0===parseInt(n.substr(0,7),10))return{meta:{},valid:!1};var i=parseInt(n.substr(7,3),10);return i<1||i>201&&999!==i&&888!==i?{meta:{},valid:!1}:{meta:{},valid:e(n)}}function P(t){var n=t;return/^SE[0-9]{10}01$/.test(n)&&(n=n.substr(2)),/^[0-9]{10}01$/.test(n)?{meta:{},valid:e(n=n.substr(0,10))}:{meta:{},valid:!1}}var M={between:function(){var t=function(t){return parseFloat("".concat(t).replace(",","."))};return{validate:function(e){var n=e.value;if(""===n)return{valid:!0};var i=Object.assign({},{inclusive:!0,message:""},e.options),r=t(i.min),o=t(i.max);return i.inclusive?{message:m(e.l10n?i.message||e.l10n.between.default:i.message,["".concat(r),"".concat(o)]),valid:parseFloat(n)>=r&&parseFloat(n)<=o}:{message:m(e.l10n?i.message||e.l10n.between.notInclusive:i.message,["".concat(r),"".concat(o)]),valid:parseFloat(n)>r&&parseFloat(n)<o}}}},blank:function(){return{validate:function(t){return{valid:!0}}}},callback:function(){return{validate:function(t){var e=v(t.options.callback,[t]);return"boolean"==typeof e?{valid:e}:e}}},choice:function(){return{validate:function(t){var e="select"===t.element.tagName.toLowerCase()?t.element.querySelectorAll("option:checked").length:t.elements.filter(function(t){return t.checked}).length,n=t.options.min?"".concat(t.options.min):"",i=t.options.max?"".concat(t.options.max):"",r=t.l10n?t.options.message||t.l10n.choice.default:t.options.message,o=!(n&&e<parseInt(n,10)||i&&e>parseInt(i,10));switch(!0){case!!n&&!!i:r=m(t.l10n?t.l10n.choice.between:t.options.message,[n,i]);break;case!!n:r=m(t.l10n?t.l10n.choice.more:t.options.message,n);break;case!!i:r=m(t.l10n?t.l10n.choice.less:t.options.message,i)}return{message:r,valid:o}}}},creditCard:function(){return{validate:function(t){if(""===t.value)return{meta:{type:null},valid:!0};if(/[^0-9-\s]+/.test(t.value))return{meta:{type:null},valid:!1};var n=t.value.replace(/\D/g,"");if(!e(n))return{meta:{type:null},valid:!1};for(var i=0,r=Object.keys(y);i<r.length;i++){var o=r[i];for(var a in y[o].prefix)if(t.value.substr(0,y[o].prefix[a].length)===y[o].prefix[a]&&-1!==y[o].length.indexOf(n.length))return{meta:{type:o},valid:!0}}return{meta:{type:null},valid:!1}}}},date:function(){var t=function(t,e,n){var i=e.indexOf("YYYY"),r=e.indexOf("MM"),o=e.indexOf("DD");if(-1===i||-1===r||-1===o)return null;var a=t.split(" "),s=a[0].split(n);if(s.length<3)return null;var l=new Date(parseInt(s[i],10),parseInt(s[r],10)-1,parseInt(s[o],10));if(a.length>1){var c=a[1].split(":");l.setHours(c.length>0?parseInt(c[0],10):0),l.setMinutes(c.length>1?parseInt(c[1],10):0),l.setSeconds(c.length>2?parseInt(c[2],10):0)}return l},e=function(t,e){var n=e.replace(/Y/g,"y").replace(/M/g,"m").replace(/D/g,"d").replace(/:m/g,":M").replace(/:mm/g,":MM").replace(/:S/,":s").replace(/:SS/,":ss"),i=t.getDate(),r=i<10?"0".concat(i):i,o=t.getMonth()+1,a=o<10?"0".concat(o):o,s="".concat(t.getFullYear()).substr(2),l=t.getFullYear(),c=t.getHours()%12||12,u=c<10?"0".concat(c):c,d=t.getHours(),h=d<10?"0".concat(d):d,f=t.getMinutes(),p=f<10?"0".concat(f):f,g=t.getSeconds(),m=g<10?"0".concat(g):g,v={H:"".concat(d),HH:"".concat(h),M:"".concat(f),MM:"".concat(p),d:"".concat(i),dd:"".concat(r),h:"".concat(c),hh:"".concat(u),m:"".concat(o),mm:"".concat(a),s:"".concat(g),ss:"".concat(m),yy:"".concat(s),yyyy:"".concat(l)};return n.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMs])\1?|"[^"]*"|'[^']*'/g,function(t){return v[t]?v[t]:t.slice(1,t.length-1)})};return{validate:function(n){if(""===n.value)return{meta:{date:null},valid:!0};var i=Object.assign({},{format:n.element&&"date"===n.element.getAttribute("type")?"YYYY-MM-DD":"MM/DD/YYYY",message:""},n.options),r=n.l10n?n.l10n.date.default:i.message,o={message:"".concat(r),meta:{date:null},valid:!1},a=i.format.split(" "),s=a.length>1?a[1]:null,l=a.length>2?a[2]:null,c=n.value.split(" "),u=c[0],d=c.length>1?c[1]:null;if(a.length!==c.length)return o;var h=i.separator||(-1!==u.indexOf("/")?"/":-1!==u.indexOf("-")?"-":-1!==u.indexOf(".")?".":"/");if(null===h||-1===u.indexOf(h))return o;var f=u.split(h),p=a[0].split(h);if(f.length!==p.length)return o;var g=f[p.indexOf("YYYY")],v=f[p.indexOf("MM")],y=f[p.indexOf("DD")];if(!/^\d+$/.test(g)||!/^\d+$/.test(v)||!/^\d+$/.test(y)||g.length>4||v.length>2||y.length>2)return o;var w=parseInt(g,10),E=parseInt(v,10),C=parseInt(y,10);if(!b(w,E,C))return o;var T=new Date(w,E-1,C);if(s){var _=d.split(":");if(s.split(":").length!==_.length)return o;var O=_.length>0?_[0].length<=2&&/^\d+$/.test(_[0])?parseInt(_[0],10):-1:0,k=_.length>1?_[1].length<=2&&/^\d+$/.test(_[1])?parseInt(_[1],10):-1:0,D=_.length>2?_[2].length<=2&&/^\d+$/.test(_[2])?parseInt(_[2],10):-1:0;if(-1===O||-1===k||-1===D)return o;if(D<0||D>60)return o;if(O<0||O>=24||l&&O>12)return o;if(k<0||k>59)return o;T.setHours(O),T.setMinutes(k),T.setSeconds(D)}var x="function"==typeof i.min?i.min():i.min,I=x instanceof Date?x:x?t(x,p,h):T,S="function"==typeof i.max?i.max():i.max,R=S instanceof Date?S:S?t(S,p,h):T,A=x instanceof Date?e(I,i.format):x,N=S instanceof Date?e(R,i.format):S;switch(!0){case!!A&&!N:return{message:m(n.l10n?n.l10n.date.min:r,A),meta:{date:T},valid:T.getTime()>=I.getTime()};case!!N&&!A:return{message:m(n.l10n?n.l10n.date.max:r,N),meta:{date:T},valid:T.getTime()<=R.getTime()};case!!N&&!!A:return{message:m(n.l10n?n.l10n.date.range:r,[A,N]),meta:{date:T},valid:T.getTime()<=R.getTime()&&T.getTime()>=I.getTime()};default:return{message:"".concat(r),meta:{date:T},valid:!0}}}}},different:function(){return{validate:function(t){var e="function"==typeof t.options.compare?t.options.compare.call(this):t.options.compare;return{valid:""===e||t.value!==e}}}},digits:function(){return{validate:function(t){return{valid:""===t.value||/^\d+$/.test(t.value)}}}},emailAddress:function(){return{validate:function(t){if(""===t.value)return{valid:!0};var e=Object.assign({},{multiple:!1,separator:/[,;]/},t.options),n=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;if(!0===e.multiple||"true"==="".concat(e.multiple)){for(var i=e.separator||/[,;]/,r=function(t,e){for(var n=t.split(/"/),i=n.length,r=[],o="",a=0;a<i;a++)if(a%2==0){var s=n[a].split(e),l=s.length;if(1===l)o+=s[0];else{r.push(o+s[0]);for(var c=1;c<l-1;c++)r.push(s[c]);o=s[l-1]}}else o+='"'+n[a],a<i-1&&(o+='"');return r.push(o),r}(t.value,i),o=r.length,a=0;a<o;a++)if(!n.test(r[a]))return{valid:!1};return{valid:!0}}return{valid:n.test(t.value)}}}},file:function(){return{validate:function(t){if(""===t.value)return{valid:!0};var e,n=t.options.extension?t.options.extension.toLowerCase().split(","):null,i=t.options.type?t.options.type.toLowerCase().split(","):null;if(window.File&&window.FileList&&window.FileReader){var r=t.element.files,o=r.length,a=0;if(t.options.maxFiles&&o>parseInt("".concat(t.options.maxFiles),10))return{meta:{error:"INVALID_MAX_FILES"},valid:!1};if(t.options.minFiles&&o<parseInt("".concat(t.options.minFiles),10))return{meta:{error:"INVALID_MIN_FILES"},valid:!1};for(var s={},l=0;l<o;l++){if(a+=r[l].size,s={ext:e=r[l].name.substr(r[l].name.lastIndexOf(".")+1),file:r[l],size:r[l].size,type:r[l].type},t.options.minSize&&r[l].size<parseInt("".concat(t.options.minSize),10))return{meta:Object.assign({},{error:"INVALID_MIN_SIZE"},s),valid:!1};if(t.options.maxSize&&r[l].size>parseInt("".concat(t.options.maxSize),10))return{meta:Object.assign({},{error:"INVALID_MAX_SIZE"},s),valid:!1};if(n&&-1===n.indexOf(e.toLowerCase()))return{meta:Object.assign({},{error:"INVALID_EXTENSION"},s),valid:!1};if(r[l].type&&i&&-1===i.indexOf(r[l].type.toLowerCase()))return{meta:Object.assign({},{error:"INVALID_TYPE"},s),valid:!1}}if(t.options.maxTotalSize&&a>parseInt("".concat(t.options.maxTotalSize),10))return{meta:Object.assign({},{error:"INVALID_MAX_TOTAL_SIZE",totalSize:a},s),valid:!1};if(t.options.minTotalSize&&a<parseInt("".concat(t.options.minTotalSize),10))return{meta:Object.assign({},{error:"INVALID_MIN_TOTAL_SIZE",totalSize:a},s),valid:!1}}else if(e=t.value.substr(t.value.lastIndexOf(".")+1),n&&-1===n.indexOf(e.toLowerCase()))return{meta:{error:"INVALID_EXTENSION",ext:e},valid:!1};return{valid:!0}}}},greaterThan:function(){return{validate:function(t){if(""===t.value)return{valid:!0};var e=Object.assign({},{inclusive:!0,message:""},t.options),n=parseFloat("".concat(e.min).replace(",","."));return e.inclusive?{message:m(t.l10n?e.message||t.l10n.greaterThan.default:e.message,"".concat(n)),valid:parseFloat(t.value)>=n}:{message:m(t.l10n?e.message||t.l10n.greaterThan.notInclusive:e.message,"".concat(n)),valid:parseFloat(t.value)>n}}}},identical:function(){return{validate:function(t){var e="function"==typeof t.options.compare?t.options.compare.call(this):t.options.compare;return{valid:""===e||t.value===e}}}},integer:function(){return{validate:function(t){if(""===t.value)return{valid:!0};var e=Object.assign({},{decimalSeparator:".",thousandsSeparator:""},t.options),n="."===e.decimalSeparator?"\\.":e.decimalSeparator,i="."===e.thousandsSeparator?"\\.":e.thousandsSeparator,r=new RegExp("^-?[0-9]{1,3}(".concat(i,"[0-9]{3})*(").concat(n,"[0-9]+)?$")),o=new RegExp(i,"g"),a="".concat(t.value);if(!r.test(a))return{valid:!1};i&&(a=a.replace(o,"")),n&&(a=a.replace(n,"."));var s=parseFloat(a);return{valid:!isNaN(s)&&isFinite(s)&&Math.floor(s)===s}}}},ip:function(){return{validate:function(t){if(""===t.value)return{valid:!0};var e=Object.assign({},{ipv4:!0,ipv6:!0},t.options),n=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\/([0-9]|[1-2][0-9]|3[0-2]))?$/,i=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*(\/(\d|\d\d|1[0-1]\d|12[0-8]))?$/;switch(!0){case e.ipv4&&!e.ipv6:return{message:t.l10n?e.message||t.l10n.ip.ipv4:e.message,valid:n.test(t.value)};case!e.ipv4&&e.ipv6:return{message:t.l10n?e.message||t.l10n.ip.ipv6:e.message,valid:i.test(t.value)};case e.ipv4&&e.ipv6:default:return{message:t.l10n?e.message||t.l10n.ip.default:e.message,valid:n.test(t.value)||i.test(t.value)}}}}},lessThan:function(){return{validate:function(t){if(""===t.value)return{valid:!0};var e=Object.assign({},{inclusive:!0,message:""},t.options),n=parseFloat("".concat(e.max).replace(",","."));return e.inclusive?{message:m(t.l10n?e.message||t.l10n.lessThan.default:e.message,"".concat(n)),valid:parseFloat(t.value)<=n}:{message:m(t.l10n?e.message||t.l10n.lessThan.notInclusive:e.message,"".concat(n)),valid:parseFloat(t.value)<n}}}},notEmpty:function(){return{validate:function(t){return{valid:""!==t.value}}}},numeric:function(){return{validate:function(t){if(""===t.value)return{valid:!0};var e=Object.assign({},{decimalSeparator:".",thousandsSeparator:""},t.options),n="".concat(t.value);n.substr(0,1)===e.decimalSeparator?n="0".concat(e.decimalSeparator).concat(n.substr(1)):n.substr(0,2)==="-".concat(e.decimalSeparator)&&(n="-0".concat(e.decimalSeparator).concat(n.substr(2)));var i="."===e.decimalSeparator?"\\.":e.decimalSeparator,r="."===e.thousandsSeparator?"\\.":e.thousandsSeparator,o=new RegExp("^-?[0-9]{1,3}(".concat(r,"[0-9]{3})*(").concat(i,"[0-9]+)?$")),a=new RegExp(r,"g");if(!o.test(n))return{valid:!1};r&&(n=n.replace(a,"")),i&&(n=n.replace(i,"."));var s=parseFloat(n);return{valid:!isNaN(s)&&isFinite(s)}}}},promise:function(){return{validate:function(t){return v(t.options.promise,[t])}}},regexp:function(){return{validate:function(t){if(""===t.value)return{valid:!0};var e=t.options.regexp;if(e instanceof RegExp)return{valid:e.test(t.value)};var n=e.toString();return{valid:(t.options.flags?new RegExp(n,t.options.flags):new RegExp(n)).test(t.value)}}}},remote:function(){var t={crossDomain:!1,data:{},headers:{},method:"GET",validKey:"valid"};return{validate:function(e){if(""===e.value)return Promise.resolve({valid:!0});var n=Object.assign({},t,e.options),i=n.data;return"function"==typeof n.data&&(i=n.data.call(this,e)),"string"==typeof i&&(i=JSON.parse(i)),i[n.name||e.field]=e.value,w("function"==typeof n.url?n.url.call(this,e):n.url,{crossDomain:n.crossDomain,headers:n.headers,method:n.method,params:i}).then(function(t){return Promise.resolve({message:t.message,meta:t,valid:"true"==="".concat(t[n.validKey])})}).catch(function(t){return Promise.reject({valid:!1})})}}},stringCase:function(){return{validate:function(t){if(""===t.value)return{valid:!0};var e=Object.assign({},{case:"lower"},t.options),n=(e.case||"lower").toLowerCase();return{message:e.message||(t.l10n?"upper"===n?t.l10n.stringCase.upper:t.l10n.stringCase.default:e.message),valid:"upper"===n?t.value===t.value.toUpperCase():t.value===t.value.toLowerCase()}}}},stringLength:function(){return{validate:function(t){var e=Object.assign({},{message:"",trim:!1,utf8Bytes:!1},t.options),n=!0===e.trim||"true"==="".concat(e.trim)?t.value.trim():t.value;if(""===n)return{valid:!0};var i=e.min?"".concat(e.min):"",r=e.max?"".concat(e.max):"",o=e.utf8Bytes?function(t){for(var e=t.length,n=t.length-1;n>=0;n--){var i=t.charCodeAt(n);i>127&&i<=2047?e++:i>2047&&i<=65535&&(e+=2),i>=56320&&i<=57343&&n--}return"".concat(e)}(n):n.length,a=!0,s=t.l10n?e.message||t.l10n.stringLength.default:e.message;switch((i&&o<parseInt(i,10)||r&&o>parseInt(r,10))&&(a=!1),!0){case!!i&&!!r:s=m(t.l10n?e.message||t.l10n.stringLength.between:e.message,[i,r]);break;case!!i:s=m(t.l10n?e.message||t.l10n.stringLength.more:e.message,"".concat(parseInt(i,10)-1));break;case!!r:s=m(t.l10n?e.message||t.l10n.stringLength.less:e.message,"".concat(parseInt(r,10)+1))}return{message:s,valid:a}}}},uri:function(){var t={allowEmptyProtocol:!1,allowLocal:!1,protocol:"http, https, ftp"};return{validate:function(e){if(""===e.value)return{valid:!0};var n=Object.assign({},t,e.options),i=!0===n.allowLocal||"true"==="".concat(n.allowLocal),r=!0===n.allowEmptyProtocol||"true"==="".concat(n.allowEmptyProtocol),o=n.protocol.split(",").join("|").replace(/\s/g,"");return{valid:new RegExp("^(?:(?:"+o+")://)"+(r?"?":"")+"(?:\\S+(?::\\S*)?@)?(?:"+(i?"":"(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})")+"(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-?)*[a-z\\u00a1-\\uffff0-9])*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))"+(i?"?":"")+")(?::\\d{2,5})?(?:/[^\\s]*)?$","i").test(e.value)}}}},base64:function(){return{validate:function(t){return{valid:""===t.value||/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$/.test(t.value)}}}},bic:function(){return{validate:function(t){return{valid:""===t.value||/^[a-zA-Z]{6}[a-zA-Z0-9]{2}([a-zA-Z0-9]{3})?$/.test(t.value)}}}},color:function(){var t=["hex","rgb","rgba","hsl","hsla","keyword"],e=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],n=function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},i=function(t){return/^hsl\((\s*(-?\d+)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*)\)$/.test(t)},r=function(t){return/^hsla\((\s*(-?\d+)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*,){2}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/.test(t)},o=function(t){return e.indexOf(t)>=0},a=function(t){return/^rgb\((\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*,){2}(\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*)\)$/.test(t)||/^rgb\((\s*(\b(0?\d{1,2}|100)\b%)\s*,){2}(\s*(\b(0?\d{1,2}|100)\b%)\s*)\)$/.test(t)},s=function(t){return/^rgba\((\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*,){3}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/.test(t)||/^rgba\((\s*(\b(0?\d{1,2}|100)\b%)\s*,){3}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/.test(t)};return{validate:function(e){if(""===e.value)return{valid:!0};var l="string"==typeof e.options.type?e.options.type.toString().replace(/s/g,"").split(","):e.options.type||t,c=!0,u=!1,d=void 0;try{for(var h,f=l[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var p=h.value.toLowerCase();if(-1!==t.indexOf(p)){var g=!0;switch(p){case"hex":g=n(e.value);break;case"hsl":g=i(e.value);break;case"hsla":g=r(e.value);break;case"keyword":g=o(e.value);break;case"rgb":g=a(e.value);break;case"rgba":g=s(e.value)}if(g)return{valid:!0}}}}catch(t){u=!0,d=t}finally{try{!c&&null!=f.return&&f.return()}finally{if(u)throw d}}return{valid:!1}}}},cusip:function(){return{validate:function(t){if(""===t.value)return{valid:!0};var e=t.value.toUpperCase();if(!/^[0-9A-Z]{9}$/.test(e))return{valid:!1};for(var n=e.split("").map(function(t){var e=t.charCodeAt(0);return e>=65&&e<=90?e-65+10+"":t}),i=n.length,r=0,o=0;o<i-1;o++){var a=parseInt(n[o],10);o%2!=0&&(a*=2),a>9&&(a-=9),r+=a}return{valid:(r=(10-r%10)%10)===parseInt(n[i-1],10)}}}},ean:function(){return{validate:function(t){if(""===t.value)return{valid:!0};if(!/^(\d{8}|\d{12}|\d{13}|\d{14})$/.test(t.value))return{valid:!1};for(var e=t.value.length,n=0,i=8===e?[3,1]:[1,3],r=0;r<e-1;r++)n+=parseInt(t.value.charAt(r),10)*i[r%2];return{valid:"".concat(n=(10-n%10)%10)===t.value.charAt(e-1)}}}},ein:function(){var t={ANDOVER:["10","12"],ATLANTA:["60","67"],AUSTIN:["50","53"],BROOKHAVEN:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],CINCINNATI:["30","32","35","36","37","38","61"],FRESNO:["15","24"],INTERNET:["20","26","27","45","46","47"],KANSAS_CITY:["40","44"],MEMPHIS:["94","95"],OGDEN:["80","90"],PHILADELPHIA:["33","39","41","42","43","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],SMALL_BUSINESS_ADMINISTRATION:["31"]};return{validate:function(e){if(""===e.value)return{meta:null,valid:!0};if(!/^[0-9]{2}-?[0-9]{7}$/.test(e.value))return{meta:null,valid:!1};var n="".concat(e.value.substr(0,2));for(var i in t)if(-1!==t[i].indexOf(n))return{meta:{campus:i},valid:!0};return{meta:null,valid:!1}}}},grid:function(){return{validate:function(t){if(""===t.value)return{valid:!0};var e=t.value.toUpperCase();return/^[GRID:]*([0-9A-Z]{2})[-\s]*([0-9A-Z]{5})[-\s]*([0-9A-Z]{10})[-\s]*([0-9A-Z]{1})$/g.test(e)?("GRID:"===(e=e.replace(/\s/g,"").replace(/-/g,"")).substr(0,5)&&(e=e.substr(5)),{valid:i(e)}):{valid:!1}}}},hex:function(){return{validate:function(t){return{valid:""===t.value||/^[0-9a-fA-F]+$/.test(t.value)}}}},iban:function(){var t={AD:"AD[0-9]{2}[0-9]{4}[0-9]{4}[A-Z0-9]{12}",AE:"AE[0-9]{2}[0-9]{3}[0-9]{16}",AL:"AL[0-9]{2}[0-9]{8}[A-Z0-9]{16}",AO:"AO[0-9]{2}[0-9]{21}",AT:"AT[0-9]{2}[0-9]{5}[0-9]{11}",AZ:"AZ[0-9]{2}[A-Z]{4}[A-Z0-9]{20}",BA:"BA[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{8}[0-9]{2}",BE:"BE[0-9]{2}[0-9]{3}[0-9]{7}[0-9]{2}",BF:"BF[0-9]{2}[0-9]{23}",BG:"BG[0-9]{2}[A-Z]{4}[0-9]{4}[0-9]{2}[A-Z0-9]{8}",BH:"BH[0-9]{2}[A-Z]{4}[A-Z0-9]{14}",BI:"BI[0-9]{2}[0-9]{12}",BJ:"BJ[0-9]{2}[A-Z]{1}[0-9]{23}",BR:"BR[0-9]{2}[0-9]{8}[0-9]{5}[0-9]{10}[A-Z][A-Z0-9]",CH:"CH[0-9]{2}[0-9]{5}[A-Z0-9]{12}",CI:"CI[0-9]{2}[A-Z]{1}[0-9]{23}",CM:"CM[0-9]{2}[0-9]{23}",CR:"CR[0-9]{2}[0-9][0-9]{3}[0-9]{14}",CV:"CV[0-9]{2}[0-9]{21}",CY:"CY[0-9]{2}[0-9]{3}[0-9]{5}[A-Z0-9]{16}",CZ:"CZ[0-9]{2}[0-9]{20}",DE:"DE[0-9]{2}[0-9]{8}[0-9]{10}",DK:"DK[0-9]{2}[0-9]{14}",DO:"DO[0-9]{2}[A-Z0-9]{4}[0-9]{20}",DZ:"DZ[0-9]{2}[0-9]{20}",EE:"EE[0-9]{2}[0-9]{2}[0-9]{2}[0-9]{11}[0-9]{1}",ES:"ES[0-9]{2}[0-9]{4}[0-9]{4}[0-9]{1}[0-9]{1}[0-9]{10}",FI:"FI[0-9]{2}[0-9]{6}[0-9]{7}[0-9]{1}",FO:"FO[0-9]{2}[0-9]{4}[0-9]{9}[0-9]{1}",FR:"FR[0-9]{2}[0-9]{5}[0-9]{5}[A-Z0-9]{11}[0-9]{2}",GB:"GB[0-9]{2}[A-Z]{4}[0-9]{6}[0-9]{8}",GE:"GE[0-9]{2}[A-Z]{2}[0-9]{16}",GI:"GI[0-9]{2}[A-Z]{4}[A-Z0-9]{15}",GL:"GL[0-9]{2}[0-9]{4}[0-9]{9}[0-9]{1}",GR:"GR[0-9]{2}[0-9]{3}[0-9]{4}[A-Z0-9]{16}",GT:"GT[0-9]{2}[A-Z0-9]{4}[A-Z0-9]{20}",HR:"HR[0-9]{2}[0-9]{7}[0-9]{10}",HU:"HU[0-9]{2}[0-9]{3}[0-9]{4}[0-9]{1}[0-9]{15}[0-9]{1}",IE:"IE[0-9]{2}[A-Z]{4}[0-9]{6}[0-9]{8}",IL:"IL[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{13}",IR:"IR[0-9]{2}[0-9]{22}",IS:"IS[0-9]{2}[0-9]{4}[0-9]{2}[0-9]{6}[0-9]{10}",IT:"IT[0-9]{2}[A-Z]{1}[0-9]{5}[0-9]{5}[A-Z0-9]{12}",JO:"JO[0-9]{2}[A-Z]{4}[0-9]{4}[0]{8}[A-Z0-9]{10}",KW:"KW[0-9]{2}[A-Z]{4}[0-9]{22}",KZ:"KZ[0-9]{2}[0-9]{3}[A-Z0-9]{13}",LB:"LB[0-9]{2}[0-9]{4}[A-Z0-9]{20}",LI:"LI[0-9]{2}[0-9]{5}[A-Z0-9]{12}",LT:"LT[0-9]{2}[0-9]{5}[0-9]{11}",LU:"LU[0-9]{2}[0-9]{3}[A-Z0-9]{13}",LV:"LV[0-9]{2}[A-Z]{4}[A-Z0-9]{13}",MC:"MC[0-9]{2}[0-9]{5}[0-9]{5}[A-Z0-9]{11}[0-9]{2}",MD:"MD[0-9]{2}[A-Z0-9]{20}",ME:"ME[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",MG:"MG[0-9]{2}[0-9]{23}",MK:"MK[0-9]{2}[0-9]{3}[A-Z0-9]{10}[0-9]{2}",ML:"ML[0-9]{2}[A-Z]{1}[0-9]{23}",MR:"MR13[0-9]{5}[0-9]{5}[0-9]{11}[0-9]{2}",MT:"MT[0-9]{2}[A-Z]{4}[0-9]{5}[A-Z0-9]{18}",MU:"MU[0-9]{2}[A-Z]{4}[0-9]{2}[0-9]{2}[0-9]{12}[0-9]{3}[A-Z]{3}",MZ:"MZ[0-9]{2}[0-9]{21}",NL:"NL[0-9]{2}[A-Z]{4}[0-9]{10}",NO:"NO[0-9]{2}[0-9]{4}[0-9]{6}[0-9]{1}",PK:"PK[0-9]{2}[A-Z]{4}[A-Z0-9]{16}",PL:"PL[0-9]{2}[0-9]{8}[0-9]{16}",PS:"PS[0-9]{2}[A-Z]{4}[A-Z0-9]{21}",PT:"PT[0-9]{2}[0-9]{4}[0-9]{4}[0-9]{11}[0-9]{2}",QA:"QA[0-9]{2}[A-Z]{4}[A-Z0-9]{21}",RO:"RO[0-9]{2}[A-Z]{4}[A-Z0-9]{16}",RS:"RS[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",SA:"SA[0-9]{2}[0-9]{2}[A-Z0-9]{18}",SE:"SE[0-9]{2}[0-9]{3}[0-9]{16}[0-9]{1}",SI:"SI[0-9]{2}[0-9]{5}[0-9]{8}[0-9]{2}",SK:"SK[0-9]{2}[0-9]{4}[0-9]{6}[0-9]{10}",SM:"SM[0-9]{2}[A-Z]{1}[0-9]{5}[0-9]{5}[A-Z0-9]{12}",SN:"SN[0-9]{2}[A-Z]{1}[0-9]{23}",TL:"TL38[0-9]{3}[0-9]{14}[0-9]{2}",TN:"TN59[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",TR:"TR[0-9]{2}[0-9]{5}[A-Z0-9]{1}[A-Z0-9]{16}",VG:"VG[0-9]{2}[A-Z]{4}[0-9]{16}",XK:"XK[0-9]{2}[0-9]{4}[0-9]{10}[0-9]{2}"},e=["AT","BE","BG","CH","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GI","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MC","MT","NL","NO","PL","PT","RO","SE","SI","SK","SM"];return{validate:function(n){if(""===n.value)return{valid:!0};var i=Object.assign({},{message:""},n.options),r=n.value.replace(/[^a-zA-Z0-9]/g,"").toUpperCase(),o=i.country||r.substr(0,2);if(!t[o])return{message:i.message,valid:!1};if(void 0!==i.sepa){var a=-1!==e.indexOf(o);if(("true"===i.sepa||!0===i.sepa)&&!a||("false"===i.sepa||!1===i.sepa)&&a)return{message:i.message,valid:!1}}var s=m(n.l10n?i.message||n.l10n.iban.country:i.message,n.l10n?n.l10n.iban.countries[o]:o);if(!new RegExp("^".concat(t[o],"$")).test(n.value))return{message:s,valid:!1};r=(r="".concat(r.substr(4)).concat(r.substr(0,4))).split("").map(function(t){var e=t.charCodeAt(0);return e>=65&&e<=90?e-65+10:t}).join("");for(var l=parseInt(r.substr(0,1),10),c=r.length,u=1;u<c;++u)l=(10*l+parseInt(r.substr(u,1),10))%97;return{message:s,valid:1===l}}}},id:function(){var t=["AR","BA","BG","BR","CH","CL","CN","CO","CZ","DK","EE","ES","FI","FR","HK","HR","ID","IE","IL","IS","KR","LT","LV","ME","MK","MX","MY","NL","NO","PE","PL","RO","RS","SE","SI","SK","SM","TH","TR","TW","UY","ZA"];return{validate:function(e){if(""===e.value)return{valid:!0};var n=Object.assign({},{message:""},e.options),i=e.value.substr(0,2);if(i="function"==typeof n.country?n.country.call(this):n.country,-1===t.indexOf(i))return{valid:!0};var r={meta:{},valid:!0};switch(i.toLowerCase()){case"ar":r=function(t){var e=t.replace(/\./g,"");return{meta:{},valid:/^\d{7,8}$/.test(e)}}(e.value);break;case"ba":r=function(t){return{meta:{},valid:E(t,"BA")}}(e.value);break;case"bg":r=function(t){if(!/^\d{10}$/.test(t)&&!/^\d{6}\s\d{3}\s\d{1}$/.test(t))return{meta:{},valid:!1};var e=t.replace(/\s/g,""),n=parseInt(e.substr(0,2),10)+1900,i=parseInt(e.substr(2,2),10);if(i>40?(n+=100,i-=40):i>20&&(n-=100,i-=20),!b(n,i,parseInt(e.substr(4,2),10)))return{meta:{},valid:!1};for(var r=0,o=[2,4,8,5,10,9,7,3,6],a=0;a<9;a++)r+=parseInt(e.charAt(a),10)*o[a];return{meta:{},valid:"".concat(r=r%11%10)===e.substr(9,1)}}(e.value);break;case"br":r=function(t){var e=t.replace(/\D/g,"");if(!/^\d{11}$/.test(e)||/^1{11}|2{11}|3{11}|4{11}|5{11}|6{11}|7{11}|8{11}|9{11}|0{11}$/.test(e))return{meta:{},valid:!1};var n,i=0;for(n=0;n<9;n++)i+=(10-n)*parseInt(e.charAt(n),10);if((10==(i=11-i%11)||11===i)&&(i=0),"".concat(i)!==e.charAt(9))return{meta:{},valid:!1};var r=0;for(n=0;n<10;n++)r+=(11-n)*parseInt(e.charAt(n),10);return(10==(r=11-r%11)||11===r)&&(r=0),{meta:{},valid:"".concat(r)===e.charAt(10)}}(e.value);break;case"ch":r=function(t){if(!/^756[\.]{0,1}[0-9]{4}[\.]{0,1}[0-9]{4}[\.]{0,1}[0-9]{2}$/.test(t))return{meta:{},valid:!1};for(var e=t.replace(/\D/g,"").substr(3),n=e.length,i=8===n?[3,1]:[1,3],r=0,o=0;o<n-1;o++)r+=parseInt(e.charAt(o),10)*i[o%2];return{meta:{},valid:"".concat(r=10-r%10)===e.charAt(n-1)}}(e.value);break;case"cl":r=function(t){if(!/^\d{7,8}[-]{0,1}[0-9K]$/i.test(t))return{meta:{},valid:!1};for(var e=t.replace(/\-/g,"");e.length<9;)e="0".concat(e);for(var n=[3,2,7,6,5,4,3,2],i=0,r=0;r<8;r++)i+=parseInt(e.charAt(r),10)*n[r];var o="".concat(i=11-i%11);return 11===i?o="0":10===i&&(o="K"),{meta:{},valid:o===e.charAt(8).toUpperCase()}}(e.value);break;case"cn":r=function(t){var e=t.trim();if(!/^\d{15}$/.test(e)&&!/^\d{17}[\dXx]{1}$/.test(e))return{meta:{},valid:!1};var n={11:{0:[0],1:[[0,9],[11,17]],2:[0,28,29]},12:{0:[0],1:[[0,16]],2:[0,21,23,25]},13:{0:[0],1:[[0,5],7,8,21,[23,33],[81,85]],2:[[0,5],[7,9],[23,25],27,29,30,81,83],3:[[0,4],[21,24]],4:[[0,4],6,21,[23,35],81],5:[[0,3],[21,35],81,82],6:[[0,4],[21,38],[81,84]],7:[[0,3],5,6,[21,33]],8:[[0,4],[21,28]],9:[[0,3],[21,30],[81,84]],10:[[0,3],[22,26],28,81,82],11:[[0,2],[21,28],81,82]},14:{0:[0],1:[0,1,[5,10],[21,23],81],2:[[0,3],11,12,[21,27]],3:[[0,3],11,21,22],4:[[0,2],11,21,[23,31],81],5:[[0,2],21,22,24,25,81],6:[[0,3],[21,24]],7:[[0,2],[21,29],81],8:[[0,2],[21,30],81,82],9:[[0,2],[21,32],81],10:[[0,2],[21,34],81,82],11:[[0,2],[21,30],81,82],23:[[0,3],22,23,[25,30],32,33]},15:{0:[0],1:[[0,5],[21,25]],2:[[0,7],[21,23]],3:[[0,4]],4:[[0,4],[21,26],[28,30]],5:[[0,2],[21,26],81],6:[[0,2],[21,27]],7:[[0,3],[21,27],[81,85]],8:[[0,2],[21,26]],9:[[0,2],[21,29],81],22:[[0,2],[21,24]],25:[[0,2],[22,31]],26:[[0,2],[24,27],[29,32],34],28:[0,1,[22,27]],29:[0,[21,23]]},21:{0:[0],1:[[0,6],[11,14],[22,24],81],2:[[0,4],[11,13],24,[81,83]],3:[[0,4],11,21,23,81],4:[[0,4],11,[21,23]],5:[[0,5],21,22],6:[[0,4],24,81,82],7:[[0,3],11,26,27,81,82],8:[[0,4],11,81,82],9:[[0,5],11,21,22],10:[[0,5],11,21,81],11:[[0,3],21,22],12:[[0,2],4,21,23,24,81,82],13:[[0,3],21,22,24,81,82],14:[[0,4],21,22,81]},22:{0:[0],1:[[0,6],12,22,[81,83]],2:[[0,4],11,21,[81,84]],3:[[0,3],22,23,81,82],4:[[0,3],21,22],5:[[0,3],21,23,24,81,82],6:[[0,2],4,5,[21,23],25,81],7:[[0,2],[21,24],81],8:[[0,2],21,22,81,82],24:[[0,6],24,26]},23:{0:[0],1:[[0,12],21,[23,29],[81,84]],2:[[0,8],21,[23,25],27,[29,31],81],3:[[0,7],21,81,82],4:[[0,7],21,22],5:[[0,3],5,6,[21,24]],6:[[0,6],[21,24]],7:[[0,16],22,81],8:[[0,5],11,22,26,28,33,81,82],9:[[0,4],21],10:[[0,5],24,25,81,[83,85]],11:[[0,2],21,23,24,81,82],12:[[0,2],[21,26],[81,83]],27:[[0,4],[21,23]]},31:{0:[0],1:[0,1,[3,10],[12,20]],2:[0,30]},32:{0:[0],1:[[0,7],11,[13,18],24,25],2:[[0,6],11,81,82],3:[[0,5],11,12,[21,24],81,82],4:[[0,2],4,5,11,12,81,82],5:[[0,9],[81,85]],6:[[0,2],11,12,21,23,[81,84]],7:[0,1,3,5,6,[21,24]],8:[[0,4],11,26,[29,31]],9:[[0,3],[21,25],28,81,82],10:[[0,3],11,12,23,81,84,88],11:[[0,2],11,12,[81,83]],12:[[0,4],[81,84]],13:[[0,2],11,[21,24]]},33:{0:[0],1:[[0,6],[8,10],22,27,82,83,85],2:[0,1,[3,6],11,12,25,26,[81,83]],3:[[0,4],22,24,[26,29],81,82],4:[[0,2],11,21,24,[81,83]],5:[[0,3],[21,23]],6:[[0,2],21,24,[81,83]],7:[[0,3],23,26,27,[81,84]],8:[[0,3],22,24,25,81],9:[[0,3],21,22],10:[[0,4],[21,24],81,82],11:[[0,2],[21,27],81]},34:{0:[0],1:[[0,4],11,[21,24],81],2:[[0,4],7,8,[21,23],25],3:[[0,4],11,[21,23]],4:[[0,6],21],5:[[0,4],6,[21,23]],6:[[0,4],21],7:[[0,3],11,21],8:[[0,3],11,[22,28],81],10:[[0,4],[21,24]],11:[[0,3],22,[24,26],81,82],12:[[0,4],21,22,25,26,82],13:[[0,2],[21,24]],14:[[0,2],[21,24]],15:[[0,3],[21,25]],16:[[0,2],[21,23]],17:[[0,2],[21,23]],18:[[0,2],[21,25],81]},35:{0:[0],1:[[0,5],11,[21,25],28,81,82],2:[[0,6],[11,13]],3:[[0,5],22],4:[[0,3],21,[23,30],81],5:[[0,5],21,[24,27],[81,83]],6:[[0,3],[22,29],81],7:[[0,2],[21,25],[81,84]],8:[[0,2],[21,25],81],9:[[0,2],[21,26],81,82]},36:{0:[0],1:[[0,5],11,[21,24]],2:[[0,3],22,81],3:[[0,2],13,[21,23]],4:[[0,3],21,[23,30],81,82],5:[[0,2],21],6:[[0,2],22,81],7:[[0,2],[21,35],81,82],8:[[0,3],[21,30],81],9:[[0,2],[21,26],[81,83]],10:[[0,2],[21,30]],11:[[0,2],[21,30],81]},37:{0:[0],1:[[0,5],12,13,[24,26],81],2:[[0,3],5,[11,14],[81,85]],3:[[0,6],[21,23]],4:[[0,6],81],5:[[0,3],[21,23]],6:[[0,2],[11,13],34,[81,87]],7:[[0,5],24,25,[81,86]],8:[[0,2],11,[26,32],[81,83]],9:[[0,3],11,21,23,82,83],10:[[0,2],[81,83]],11:[[0,3],21,22],12:[[0,3]],13:[[0,2],11,12,[21,29]],14:[[0,2],[21,28],81,82],15:[[0,2],[21,26],81],16:[[0,2],[21,26]],17:[[0,2],[21,28]]},41:{0:[0],1:[[0,6],8,22,[81,85]],2:[[0,5],11,[21,25]],3:[[0,7],11,[22,29],81],4:[[0,4],11,[21,23],25,81,82],5:[[0,3],5,6,22,23,26,27,81],6:[[0,3],11,21,22],7:[[0,4],11,21,[24,28],81,82],8:[[0,4],11,[21,23],25,[81,83]],9:[[0,2],22,23,[26,28]],10:[[0,2],[23,25],81,82],11:[[0,4],[21,23]],12:[[0,2],21,22,24,81,82],13:[[0,3],[21,30],81],14:[[0,3],[21,26],81],15:[[0,3],[21,28]],16:[[0,2],[21,28],81],17:[[0,2],[21,29]],90:[0,1]},42:{0:[0],1:[[0,7],[11,17]],2:[[0,5],22,81],3:[[0,3],[21,25],81],5:[[0,6],[25,29],[81,83]],6:[[0,2],6,7,[24,26],[82,84]],7:[[0,4]],8:[[0,2],4,21,22,81],9:[[0,2],[21,23],81,82,84],10:[[0,3],[22,24],81,83,87],11:[[0,2],[21,27],81,82],12:[[0,2],[21,24],81],13:[[0,3],21,81],28:[[0,2],22,23,[25,28]],90:[0,[4,6],21]},43:{0:[0],1:[[0,5],11,12,21,22,24,81],2:[[0,4],11,21,[23,25],81],3:[[0,2],4,21,81,82],4:[0,1,[5,8],12,[21,24],26,81,82],5:[[0,3],11,[21,25],[27,29],81],6:[[0,3],11,21,23,24,26,81,82],7:[[0,3],[21,26],81],8:[[0,2],11,21,22],9:[[0,3],[21,23],81],10:[[0,3],[21,28],81],11:[[0,3],[21,29]],12:[[0,2],[21,30],81],13:[[0,2],21,22,81,82],31:[0,1,[22,27],30]},44:{0:[0],1:[[0,7],[11,16],83,84],2:[[0,5],21,22,24,29,32,33,81,82],3:[0,1,[3,8]],4:[[0,4]],5:[0,1,[6,15],23,82,83],6:[0,1,[4,8]],7:[0,1,[3,5],81,[83,85]],8:[[0,4],11,23,25,[81,83]],9:[[0,3],23,[81,83]],12:[[0,3],[23,26],83,84],13:[[0,3],[22,24],81],14:[[0,2],[21,24],26,27,81],15:[[0,2],21,23,81],16:[[0,2],[21,25]],17:[[0,2],21,23,81],18:[[0,3],21,23,[25,27],81,82],19:[0],20:[0],51:[[0,3],21,22],52:[[0,3],21,22,24,81],53:[[0,2],[21,23],81]},45:{0:[0],1:[[0,9],[21,27]],2:[[0,5],[21,26]],3:[[0,5],11,12,[21,32]],4:[0,1,[3,6],11,[21,23],81],5:[[0,3],12,21],6:[[0,3],21,81],7:[[0,3],21,22],8:[[0,4],21,81],9:[[0,3],[21,24],81],10:[[0,2],[21,31]],11:[[0,2],[21,23]],12:[[0,2],[21,29],81],13:[[0,2],[21,24],81],14:[[0,2],[21,25],81]},46:{0:[0],1:[0,1,[5,8]],2:[0,1],3:[0,[21,23]],90:[[0,3],[5,7],[21,39]]},50:{0:[0],1:[[0,19]],2:[0,[22,38],[40,43]],3:[0,[81,84]]},51:{0:[0],1:[0,1,[4,8],[12,15],[21,24],29,31,32,[81,84]],3:[[0,4],11,21,22],4:[[0,3],11,21,22],5:[[0,4],21,22,24,25],6:[0,1,3,23,26,[81,83]],7:[0,1,3,4,[22,27],81],8:[[0,2],11,12,[21,24]],9:[[0,4],[21,23]],10:[[0,2],11,24,25,28],11:[[0,2],[11,13],23,24,26,29,32,33,81],13:[[0,4],[21,25],81],14:[[0,2],[21,25]],15:[[0,3],[21,29]],16:[[0,3],[21,23],81],17:[[0,3],[21,25],81],18:[[0,3],[21,27]],19:[[0,3],[21,23]],20:[[0,2],21,22,81],32:[0,[21,33]],33:[0,[21,38]],34:[0,1,[22,37]]},52:{0:[0],1:[[0,3],[11,15],[21,23],81],2:[0,1,3,21,22],3:[[0,3],[21,30],81,82],4:[[0,2],[21,25]],5:[[0,2],[21,27]],6:[[0,3],[21,28]],22:[0,1,[22,30]],23:[0,1,[22,28]],24:[0,1,[22,28]],26:[0,1,[22,36]],27:[[0,2],22,23,[25,32]]},53:{0:[0],1:[[0,3],[11,14],21,22,[24,29],81],3:[[0,2],[21,26],28,81],4:[[0,2],[21,28]],5:[[0,2],[21,24]],6:[[0,2],[21,30]],7:[[0,2],[21,24]],8:[[0,2],[21,29]],9:[[0,2],[21,27]],23:[0,1,[22,29],31],25:[[0,4],[22,32]],26:[0,1,[21,28]],27:[0,1,[22,30]],28:[0,1,22,23],29:[0,1,[22,32]],31:[0,2,3,[22,24]],34:[0,[21,23]],33:[0,21,[23,25]],35:[0,[21,28]]},54:{0:[0],1:[[0,2],[21,27]],21:[0,[21,29],32,33],22:[0,[21,29],[31,33]],23:[0,1,[22,38]],24:[0,[21,31]],25:[0,[21,27]],26:[0,[21,27]]},61:{0:[0],1:[[0,4],[11,16],22,[24,26]],2:[[0,4],22],3:[[0,4],[21,24],[26,31]],4:[[0,4],[22,31],81],5:[[0,2],[21,28],81,82],6:[[0,2],[21,32]],7:[[0,2],[21,30]],8:[[0,2],[21,31]],9:[[0,2],[21,29]],10:[[0,2],[21,26]]},62:{0:[0],1:[[0,5],11,[21,23]],2:[0,1],3:[[0,2],21],4:[[0,3],[21,23]],5:[[0,3],[21,25]],6:[[0,2],[21,23]],7:[[0,2],[21,25]],8:[[0,2],[21,26]],9:[[0,2],[21,24],81,82],10:[[0,2],[21,27]],11:[[0,2],[21,26]],12:[[0,2],[21,28]],24:[0,21,[24,29]],26:[0,21,[23,30]],29:[0,1,[21,27]],30:[0,1,[21,27]]},63:{0:[0],1:[[0,5],[21,23]],2:[0,2,[21,25]],21:[0,[21,23],[26,28]],22:[0,[21,24]],23:[0,[21,24]],25:[0,[21,25]],26:[0,[21,26]],27:[0,1,[21,26]],28:[[0,2],[21,23]]},64:{0:[0],1:[0,1,[4,6],21,22,81],2:[[0,3],5,[21,23]],3:[[0,3],[21,24],81],4:[[0,2],[21,25]],5:[[0,2],21,22]},65:{0:[0],1:[[0,9],21],2:[[0,5]],21:[0,1,22,23],22:[0,1,22,23],23:[[0,3],[23,25],27,28],28:[0,1,[22,29]],29:[0,1,[22,29]],30:[0,1,[22,24]],31:[0,1,[21,31]],32:[0,1,[21,27]],40:[0,2,3,[21,28]],42:[[0,2],21,[23,26]],43:[0,1,[21,26]],90:[[0,4]],27:[[0,2],22,23]},71:{0:[0]},81:{0:[0]},82:{0:[0]}},i=parseInt(e.substr(0,2),10),r=parseInt(e.substr(2,2),10),o=parseInt(e.substr(4,2),10);if(!n[i]||!n[i][r])return{meta:{},valid:!1};var a,s,l=!1,c=n[i][r];for(a=0;a<c.length;a++)if(Array.isArray(c[a])&&c[a][0]<=o&&o<=c[a][1]||!Array.isArray(c[a])&&o===c[a]){l=!0;break}if(!l)return{meta:{},valid:!1};if(s=18===e.length?e.substr(6,8):"19".concat(e.substr(6,6)),!b(parseInt(s.substr(0,4),10),parseInt(s.substr(4,2),10),parseInt(s.substr(6,2),10)))return{meta:{},valid:!1};if(18===e.length){var u=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],d=0;for(a=0;a<17;a++)d+=parseInt(e.charAt(a),10)*u[a];return d=(12-d%11)%11,{meta:{},valid:("X"!==e.charAt(17).toUpperCase()?parseInt(e.charAt(17),10):10)===d}}return{meta:{},valid:!0}}(e.value);break;case"co":r=function(t){var e=t.replace(/\./g,"").replace("-","");if(!/^\d{8,16}$/.test(e))return{meta:{},valid:!1};for(var n=e.length,i=[3,7,13,17,19,23,29,37,41,43,47,53,59,67,71],r=0,o=n-2;o>=0;o--)r+=parseInt(e.charAt(o),10)*i[o];return(r%=11)>=2&&(r=11-r),{meta:{},valid:"".concat(r)===e.substr(n-1)}}(e.value);break;case"cz":r=C(e.value);break;case"dk":r=function(t){if(!/^[0-9]{6}[-]{0,1}[0-9]{4}$/.test(t))return{meta:{},valid:!1};var e=t.replace(/-/g,""),n=parseInt(e.substr(0,2),10),i=parseInt(e.substr(2,2),10),r=parseInt(e.substr(4,2),10);switch(!0){case-1!=="5678".indexOf(e.charAt(6))&&r>=58:r+=1800;break;case-1!=="0123".indexOf(e.charAt(6)):case-1!=="49".indexOf(e.charAt(6))&&r>=37:r+=1900;break;default:r+=2e3}return{meta:{},valid:b(r,i,n)}}(e.value);break;case"ee":r=k(e.value);break;case"es":r=function(t){var e=/^[0-9]{8}[-]{0,1}[A-HJ-NP-TV-Z]$/.test(t),n=/^[XYZ][-]{0,1}[0-9]{7}[-]{0,1}[A-HJ-NP-TV-Z]$/.test(t),i=/^[A-HNPQS][-]{0,1}[0-9]{7}[-]{0,1}[0-9A-J]$/.test(t);if(!e&&!n&&!i)return{meta:{},valid:!1};var r,o,a=t.replace(/-/g,"");if(e||n){o="DNI";var s="XYZ".indexOf(a.charAt(0));return-1!==s&&(a=s+a.substr(1)+"",o="NIE"),{meta:{type:o},valid:(r="TRWAGMYFPDXBNJZSQVHLCKE"[(r=parseInt(a.substr(0,8),10))%23])===a.substr(8,1)}}r=a.substr(1,7),o="CIF";for(var l=a[0],c=a.substr(-1),u=0,d=0;d<r.length;d++)if(d%2!=0)u+=parseInt(r[d],10);else{var h=""+2*parseInt(r[d],10);u+=parseInt(h[0],10),2===h.length&&(u+=parseInt(h[1],10))}var f=u-10*Math.floor(u/10);return 0!==f&&(f=10-f),{meta:{type:o},valid:-1!=="KQS".indexOf(l)?c==="JABCDEFGHI"[f]:-1!=="ABEH".indexOf(l)?c===""+f:c===""+f||c==="JABCDEFGHI"[f]}}(e.value);break;case"fi":r=function(t){if(!/^[0-9]{6}[-+A][0-9]{3}[0-9ABCDEFHJKLMNPRSTUVWXY]$/.test(t))return{meta:{},valid:!1};var e=parseInt(t.substr(0,2),10),n=parseInt(t.substr(2,2),10),i=parseInt(t.substr(4,2),10);if(!b(i={"+":1800,"-":1900,A:2e3}[t.charAt(6)]+i,n,e))return{meta:{},valid:!1};if(parseInt(t.substr(7,3),10)<2)return{meta:{},valid:!1};var r=parseInt(t.substr(0,6)+t.substr(7,3)+"",10);return{meta:{},valid:"0123456789ABCDEFHJKLMNPRSTUVWXY".charAt(r%31)===t.charAt(10)}}(e.value);break;case"fr":r=function(t){var e=t.toUpperCase();if(!/^(1|2)\d{2}\d{2}(\d{2}|\d[A-Z]|\d{3})\d{2,3}\d{3}\d{2}$/.test(e))return{meta:{},valid:!1};var n=e.substr(5,2);switch(!0){case/^\d{2}$/.test(n):e=t;break;case"2A"===n:e="".concat(t.substr(0,5),"19").concat(t.substr(7));break;case"2B"===n:e="".concat(t.substr(0,5),"18").concat(t.substr(7));break;default:return{meta:{},valid:!1}}var i=97-parseInt(e.substr(0,13),10)%97;return{meta:{},valid:(i<10?"0".concat(i):"".concat(i))===e.substr(13)}}(e.value);break;case"hk":r=function(t){var e=t.toUpperCase();if(!/^[A-MP-Z]{1,2}[0-9]{6}[0-9A]$/.test(e))return{meta:{},valid:!1};var n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",i=e.charAt(0),r=e.charAt(1),o=0,a=e;/^[A-Z]$/.test(r)?(o+=9*(10+n.indexOf(i)),o+=8*(10+n.indexOf(r)),a=e.substr(2)):(o+=324,o+=8*(10+n.indexOf(i)),a=e.substr(1));for(var s=a.length,l=0;l<s-1;l++)o+=(7-l)*parseInt(a.charAt(l),10);var c=o%11;return{meta:{},valid:(0===c?"0":11-c==10?"A":"".concat(11-c))===a.charAt(s-1)}}(e.value);break;case"hr":r=T(e.value);break;case"id":r=_(e.value);break;case"ie":r=function(t){if(!/^\d{7}[A-W][AHWTX]?$/.test(t))return{meta:{},valid:!1};var e=function(t){for(var e=t;e.length<7;)e="0".concat(e);for(var n="WABCDEFGHIJKLMNOPQRSTUV",i=0,r=0;r<7;r++)i+=parseInt(e.charAt(r),10)*(8-r);return i+=9*n.indexOf(e.substr(7)),n[i%23]};return{meta:{},valid:9!==t.length||"A"!==t.charAt(8)&&"H"!==t.charAt(8)?t.charAt(7)===e(t.substr(0,7)):t.charAt(7)===e(t.substr(0,7)+t.substr(8)+"")}}(e.value);break;case"il":r=O(e.value);break;case"is":r=function(t){if(!/^[0-9]{6}[-]{0,1}[0-9]{4}$/.test(t))return{meta:{},valid:!1};var e=t.replace(/-/g,""),n=parseInt(e.substr(0,2),10),i=parseInt(e.substr(2,2),10),r=parseInt(e.substr(4,2),10),o=parseInt(e.charAt(9),10);if(!b(r=9===o?1900+r:100*(20+o)+r,i,n,!0))return{meta:{},valid:!1};for(var a=[3,2,7,6,5,4,3,2],s=0,l=0;l<8;l++)s+=parseInt(e.charAt(l),10)*a[l];return{meta:{},valid:"".concat(s=11-s%11)===e.charAt(8)}}(e.value);break;case"kr":r=function(t){var e=t.replace("-","");if(!/^\d{13}$/.test(e))return{meta:{},valid:!1};var n=e.charAt(6),i=parseInt(e.substr(0,2),10),r=parseInt(e.substr(2,2),10),o=parseInt(e.substr(4,2),10);switch(n){case"1":case"2":case"5":case"6":i+=1900;break;case"3":case"4":case"7":case"8":i+=2e3;break;default:i+=1800}if(!b(i,r,o))return{meta:{},valid:!1};for(var a=[2,3,4,5,6,7,8,9,2,3,4,5],s=e.length,l=0,c=0;c<s-1;c++)l+=a[c]*parseInt(e.charAt(c),10);return{meta:{},valid:"".concat((11-l%11)%10)===e.charAt(s-1)}}(e.value);break;case"lt":r=k(e.value);break;case"lv":r=function(t){if(!/^[0-9]{6}[-]{0,1}[0-9]{5}$/.test(t))return{meta:{},valid:!1};var e=t.replace(/\D/g,""),n=parseInt(e.substr(0,2),10),i=parseInt(e.substr(2,2),10),r=parseInt(e.substr(4,2),10);if(!b(r=r+1800+100*parseInt(e.charAt(6),10),i,n,!0))return{meta:{},valid:!1};for(var o=0,a=[10,5,8,4,2,1,6,3,7,9],s=0;s<10;s++)o+=parseInt(e.charAt(s),10)*a[s];return{meta:{},valid:"".concat(o=(o+1)%11%10)===e.charAt(10)}}(e.value);break;case"me":r=function(t){return{meta:{},valid:E(t,"ME")}}(e.value);break;case"mk":r=function(t){return{meta:{},valid:E(t,"MK")}}(e.value);break;case"mx":r=function(t){var e=t.toUpperCase();if(!/^[A-Z]{4}\d{6}[A-Z]{6}[0-9A-Z]\d$/.test(e))return{meta:{},valid:!1};var n=e.substr(0,4);if(["BACA","BAKA","BUEI","BUEY","CACA","CACO","CAGA","CAGO","CAKA","CAKO","COGE","COGI","COJA","COJE","COJI","COJO","COLA","CULO","FALO","FETO","GETA","GUEI","GUEY","JETA","JOTO","KACA","KACO","KAGA","KAGO","KAKA","KAKO","KOGE","KOGI","KOJA","KOJE","KOJI","KOJO","KOLA","KULO","LILO","LOCA","LOCO","LOKA","LOKO","MAME","MAMO","MEAR","MEAS","MEON","MIAR","MION","MOCO","MOKO","MULA","MULO","NACA","NACO","PEDA","PEDO","PENE","PIPI","PITO","POPO","PUTA","PUTO","QULO","RATA","ROBA","ROBE","ROBO","RUIN","SENO","TETA","VACA","VAGA","VAGO","VAKA","VUEI","VUEY","WUEI","WUEY"].indexOf(n)>=0)return{meta:{},valid:!1};var i=parseInt(e.substr(4,2),10),r=parseInt(e.substr(6,2),10),o=parseInt(e.substr(6,2),10);if(/^[0-9]$/.test(e.charAt(16))?i+=1900:i+=2e3,!b(i,r,o))return{meta:{},valid:!1};var a=e.charAt(10);if("H"!==a&&"M"!==a)return{meta:{},valid:!1};var s=e.substr(11,2);if(-1===["AS","BC","BS","CC","CH","CL","CM","CS","DF","DG","GR","GT","HG","JC","MC","MN","MS","NE","NL","NT","OC","PL","QR","QT","SL","SP","SR","TC","TL","TS","VZ","YN","ZS"].indexOf(s))return{meta:{},valid:!1};for(var l=0,c=e.length,u=0;u<c-1;u++)l+=(18-u)*"0123456789ABCDEFGHIJKLMN&OPQRSTUVWXYZ".indexOf(e.charAt(u));return{meta:{},valid:"".concat(l=(10-l%10)%10)===e.charAt(c-1)}}(e.value);break;case"my":r=function(t){if(!/^\d{12}$/.test(t))return{meta:{},valid:!1};var e=parseInt(t.substr(0,2),10),n=parseInt(t.substr(2,2),10),i=parseInt(t.substr(4,2),10);if(!b(e+1900,n,i)&&!b(e+2e3,n,i))return{meta:{},valid:!1};var r=t.substr(6,2);return{meta:{},valid:-1===["17","18","19","20","69","70","73","80","81","94","95","96","97"].indexOf(r)}}(e.value);break;case"nl":r=function(t){if(t.length<8)return{meta:{},valid:!1};var e=t;if(8===e.length&&(e="0".concat(e)),!/^[0-9]{4}[.]{0,1}[0-9]{2}[.]{0,1}[0-9]{3}$/.test(e))return{meta:{},valid:!1};if(e=e.replace(/\./g,""),0===parseInt(e,10))return{meta:{},valid:!1};for(var n=0,i=e.length,r=0;r<i-1;r++)n+=(9-r)*parseInt(e.charAt(r),10);return 10==(n%=11)&&(n=0),{meta:{},valid:"".concat(n)===e.charAt(i-1)}}(e.value);break;case"no":r=function(t){return/^\d{11}$/.test(t)?{meta:{},valid:"".concat(function(t){for(var e=[3,7,6,1,8,9,4,5,2],n=0,i=0;i<9;i++)n+=e[i]*parseInt(t.charAt(i),10);return 11-n%11}(t))===t.substr(-2,1)&&"".concat(function(t){for(var e=[5,4,3,2,7,6,5,4,3,2],n=0,i=0;i<10;i++)n+=e[i]*parseInt(t.charAt(i),10);return 11-n%11}(t))===t.substr(-1)}:{meta:{},valid:!1}}(e.value);break;case"pe":r=function(t){if(!/^\d{8}[0-9A-Z]*$/.test(t))return{meta:{},valid:!1};if(8===t.length)return{meta:{},valid:!0};for(var e=[3,2,7,6,5,4,3,2],n=0,i=0;i<8;i++)n+=e[i]*parseInt(t.charAt(i),10);var r=n%11,o=[6,5,4,3,2,1,1,0,9,8,7][r],a="KJIHGFEDCBA".charAt(r);return{meta:{},valid:t.charAt(8)==="".concat(o)||t.charAt(8)===a}}(e.value);break;case"pl":r=function(t){if(!/^[0-9]{11}$/.test(t))return{meta:{},valid:!1};for(var e=0,n=t.length,i=[1,3,7,9,1,3,7,9,1,3,7],r=0;r<n-1;r++)e+=i[r]*parseInt(t.charAt(r),10);return 0==(e%=10)&&(e=10),{meta:{},valid:"".concat(e=10-e)===t.charAt(n-1)}}(e.value);break;case"ro":r=function(t){if(!/^[0-9]{13}$/.test(t))return{meta:{},valid:!1};var e=parseInt(t.charAt(0),10);if(0===e||7===e||8===e)return{meta:{},valid:!1};var n=parseInt(t.substr(1,2),10),i=parseInt(t.substr(3,2),10),r=parseInt(t.substr(5,2),10);if(r>31&&i>12)return{meta:{},valid:!1};if(9!==e&&!b(n={1:1900,2:1900,3:1800,4:1800,5:2e3,6:2e3}[e+""]+n,i,r))return{meta:{},valid:!1};for(var o=0,a=[2,7,9,1,4,6,3,5,8,2,7,9],s=t.length,l=0;l<s-1;l++)o+=parseInt(t.charAt(l),10)*a[l];return 10==(o%=11)&&(o=1),{meta:{},valid:"".concat(o)===t.charAt(s-1)}}(e.value);break;case"rs":r=function(t){return{meta:{},valid:E(t,"RS")}}(e.value);break;case"se":r=D(e.value);break;case"si":r=function(t){return{meta:{},valid:E(t,"SI")}}(e.value);break;case"sk":r=C(e.value);break;case"sm":r=function(t){return{meta:{},valid:/^\d{5}$/.test(t)}}(e.value);break;case"th":r=function(t){if(13!==t.length)return{meta:{},valid:!1};for(var e=0,n=0;n<12;n++)e+=parseInt(t.charAt(n),10)*(13-n);return{meta:{},valid:(11-e%11)%10===parseInt(t.charAt(12),10)}}(e.value);break;case"tr":r=function(t){if(11!==t.length)return{meta:{},valid:!1};for(var e=0,n=0;n<10;n++)e+=parseInt(t.charAt(n),10);return{meta:{},valid:e%10===parseInt(t.charAt(10),10)}}(e.value);break;case"tw":r=function(t){var e=t.toUpperCase();if(!/^[A-Z][12][0-9]{8}$/.test(e))return{meta:{},valid:!1};for(var n=e.length,i="ABCDEFGHJKLMNPQRSTUVXYWZIO".indexOf(e.charAt(0))+10,r=Math.floor(i/10)+i%10*(n-1),o=0,a=1;a<n-1;a++)o+=parseInt(e.charAt(a),10)*(n-1-a);return{meta:{},valid:(r+o+parseInt(e.charAt(n-1),10))%10==0}}(e.value);break;case"uy":r=function(t){if(!/^\d{8}$/.test(t))return{meta:{},valid:!1};for(var e=[2,9,8,7,6,3,4],n=0,i=0;i<7;i++)n+=parseInt(t.charAt(i),10)*e[i];return(n%=10)>0&&(n=10-n),{meta:{},valid:"".concat(n)===t.charAt(7)}}(e.value);break;case"za":r=x(e.value)}var o=m(e.l10n?n.message||e.l10n.id.country:n.message,e.l10n?e.l10n.id.countries[i.toUpperCase()]:i.toUpperCase());return Object.assign({},{message:o},r)}}},imei:function(){return{validate:function(t){if(""===t.value)return{valid:!0};switch(!0){case/^\d{15}$/.test(t.value):case/^\d{2}-\d{6}-\d{6}-\d{1}$/.test(t.value):case/^\d{2}\s\d{6}\s\d{6}\s\d{1}$/.test(t.value):return{valid:e(t.value.replace(/[^0-9]/g,""))};case/^\d{14}$/.test(t.value):case/^\d{16}$/.test(t.value):case/^\d{2}-\d{6}-\d{6}(|-\d{2})$/.test(t.value):case/^\d{2}\s\d{6}\s\d{6}(|\s\d{2})$/.test(t.value):return{valid:!0};default:return{valid:!1}}}}},imo:function(){return{validate:function(t){if(""===t.value)return{valid:!0};if(!/^IMO \d{7}$/i.test(t.value))return{valid:!1};for(var e=t.value.replace(/^.*(\d{7})$/,"$1"),n=0,i=6;i>=1;i--)n+=parseInt(e.slice(6-i,-i),10)*(i+1);return{valid:n%10===parseInt(e.charAt(6),10)}}}},isbn:function(){return{validate:function(t){if(""===t.value)return{meta:{type:null},valid:!0};var e;switch(!0){case/^\d{9}[\dX]$/.test(t.value):case 13===t.value.length&&/^(\d+)-(\d+)-(\d+)-([\dX])$/.test(t.value):case 13===t.value.length&&/^(\d+)\s(\d+)\s(\d+)\s([\dX])$/.test(t.value):e="ISBN10";break;case/^(978|979)\d{9}[\dX]$/.test(t.value):case 17===t.value.length&&/^(978|979)-(\d+)-(\d+)-(\d+)-([\dX])$/.test(t.value):case 17===t.value.length&&/^(978|979)\s(\d+)\s(\d+)\s(\d+)\s([\dX])$/.test(t.value):e="ISBN13";break;default:return{meta:{type:null},valid:!1}}var n,i,r=t.value.replace(/[^0-9X]/gi,"").split(""),o=r.length,a=0;switch(e){case"ISBN10":for(a=0,n=0;n<o-1;n++)a+=parseInt(r[n],10)*(10-n);return 11==(i=11-a%11)?i=0:10===i&&(i="X"),{meta:{type:e},valid:"".concat(i)===r[o-1]};case"ISBN13":for(a=0,n=0;n<o-1;n++)a+=n%2==0?parseInt(r[n],10):3*parseInt(r[n],10);return 10==(i=10-a%10)&&(i="0"),{meta:{type:e},valid:"".concat(i)===r[o-1]}}}}},isin:function(){return{validate:function(t){if(""===t.value)return{valid:!0};var e=t.value.toUpperCase();if(!new RegExp("^(AF|AX|AL|DZ|AS|AD|AO|AI|AQ|AG|AR|AM|AW|AU|AT|AZ|BS|BH|BD|BB|BY|BE|BZ|BJ|BM|BT|BO|BQ|BA|BW|BV|BR|IO|BN|BG|BF|BI|KH|CM|CA|CV|KY|CF|TD|CL|CN|CX|CC|CO|KM|CG|CD|CK|CR|CI|HR|CU|CW|CY|CZ|DK|DJ|DM|DO|EC|EG|SV|GQ|ER|EE|ET|FK|FO|FJ|FI|FR|GF|PF|TF|GA|GM|GE|DE|GH|GI|GR|GL|GD|GP|GU|GT|GG|GN|GW|GY|HT|HM|VA|HN|HK|HU|IS|IN|ID|IR|IQ|IE|IM|IL|IT|JM|JP|JE|JO|KZ|KE|KI|KP|KR|KW|KG|LA|LV|LB|LS|LR|LY|LI|LT|LU|MO|MK|MG|MW|MY|MV|ML|MT|MH|MQ|MR|MU|YT|MX|FM|MD|MC|MN|ME|MS|MA|MZ|MM|NA|NR|NP|NL|NC|NZ|NI|NE|NG|NU|NF|MP|NO|OM|PK|PW|PS|PA|PG|PY|PE|PH|PN|PL|PT|PR|QA|RE|RO|RU|RW|BL|SH|KN|LC|MF|PM|VC|WS|SM|ST|SA|SN|RS|SC|SL|SG|SX|SK|SI|SB|SO|ZA|GS|SS|ES|LK|SD|SR|SJ|SZ|SE|CH|SY|TW|TJ|TZ|TH|TL|TG|TK|TO|TT|TN|TR|TM|TC|TV|UG|UA|AE|GB|US|UM|UY|UZ|VU|VE|VN|VG|VI|WF|EH|YE|ZM|ZW)[0-9A-Z]{10}$").test(t.value))return{valid:!1};var n,i=e.length,r="";for(n=0;n<i-1;n++){var o=e.charCodeAt(n);r+=o>57?(o-55).toString():e.charAt(n)}var a="",s=r.length,l=s%2!=0?0:1;for(n=0;n<s;n++)a+=parseInt(r[n],10)*(n%2===l?2:1)+"";var c=0;for(n=0;n<a.length;n++)c+=parseInt(a.charAt(n),10);return{valid:"".concat(c=(10-c%10)%10)===e.charAt(i-1)}}}},ismn:function(){return{validate:function(t){if(""===t.value)return{meta:null,valid:!0};var e;switch(!0){case/^M\d{9}$/.test(t.value):case/^M-\d{4}-\d{4}-\d{1}$/.test(t.value):case/^M\s\d{4}\s\d{4}\s\d{1}$/.test(t.value):e="ISMN10";break;case/^9790\d{9}$/.test(t.value):case/^979-0-\d{4}-\d{4}-\d{1}$/.test(t.value):case/^979\s0\s\d{4}\s\d{4}\s\d{1}$/.test(t.value):e="ISMN13";break;default:return{meta:null,valid:!1}}var n=t.value;"ISMN10"===e&&(n="9790".concat(n.substr(1)));for(var i=0,r=(n=n.replace(/[^0-9]/gi,"")).length,o=[1,3],a=0;a<r-1;a++)i+=parseInt(n.charAt(a),10)*o[a%2];return{meta:{type:e},valid:"".concat(i=(10-i%10)%10)===n.charAt(r-1)}}}},issn:function(){return{validate:function(t){if(""===t.value)return{valid:!0};if(!/^\d{4}\-\d{3}[\dX]$/.test(t.value))return{valid:!1};var e=t.value.replace(/[^0-9X]/gi,"").split(""),n=e.length,i=0;"X"===e[7]&&(e[7]="10");for(var r=0;r<n;r++)i+=parseInt(e[r],10)*(8-r);return{valid:i%11==0}}}},mac:function(){return{validate:function(t){return{valid:""===t.value||/^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$/.test(t.value)||/^([0-9A-Fa-f]{4}\.){2}([0-9A-Fa-f]{4})$/.test(t.value)}}}},meid:function(){return{validate:function(t){if(""===t.value)return{valid:!0};var n=t.value;switch(!0){case/^[0-9A-F]{15}$/i.test(n):case/^[0-9A-F]{2}[- ][0-9A-F]{6}[- ][0-9A-F]{6}[- ][0-9A-F]$/i.test(n):case/^\d{19}$/.test(n):case/^\d{5}[- ]\d{5}[- ]\d{4}[- ]\d{4}[- ]\d$/.test(n):var i=n.charAt(n.length-1).toUpperCase();if((n=n.replace(/[- ]/g,"")).match(/^\d*$/i))return{valid:e(n)};n=n.slice(0,-1);var r,o="";for(r=1;r<=13;r+=2)o+=(2*parseInt(n.charAt(r),16)).toString(16);var a=0;for(r=0;r<o.length;r++)a+=parseInt(o.charAt(r),16);return{valid:a%10==0?"0"===i:i===(2*(10*Math.floor((a+10)/10)-a)).toString(16).toUpperCase()};case/^[0-9A-F]{14}$/i.test(n):case/^[0-9A-F]{2}[- ][0-9A-F]{6}[- ][0-9A-F]{6}$/i.test(n):case/^\d{18}$/.test(n):case/^\d{5}[- ]\d{5}[- ]\d{4}[- ]\d{4}$/.test(n):return{valid:!0};default:return{valid:!1}}}}},phone:function(){var t=["AE","BG","BR","CN","CZ","DE","DK","ES","FR","GB","IN","MA","NL","PK","RO","RU","SK","TH","US","VE"];return{validate:function(e){if(""===e.value)return{valid:!0};var n=Object.assign({},{message:""},e.options),i=e.value.trim(),r=i.substr(0,2);if(!(r="function"==typeof n.country?n.country.call(this):n.country)||-1===t.indexOf(r.toUpperCase()))return{valid:!0};var o=!0;switch(r.toUpperCase()){case"AE":o=/^(((\+|00)?971[\s\.-]?(\(0\)[\s\.-]?)?|0)(\(5(0|2|5|6)\)|5(0|2|5|6)|2|3|4|6|7|9)|60)([\s\.-]?[0-9]){7}$/.test(i);break;case"BG":o=/^(0|359|00)(((700|900)[0-9]{5}|((800)[0-9]{5}|(800)[0-9]{4}))|(87|88|89)([0-9]{7})|((2[0-9]{7})|(([3-9][0-9])(([0-9]{6})|([0-9]{5})))))$/.test(i.replace(/\+|\s|-|\/|\(|\)/gi,""));break;case"BR":o=/^(([\d]{4}[-.\s]{1}[\d]{2,3}[-.\s]{1}[\d]{2}[-.\s]{1}[\d]{2})|([\d]{4}[-.\s]{1}[\d]{3}[-.\s]{1}[\d]{4})|((\(?\+?[0-9]{2}\)?\s?)?(\(?\d{2}\)?\s?)?\d{4,5}[-.\s]?\d{4}))$/.test(i);break;case"CN":o=/^((00|\+)?(86(?:-| )))?((\d{11})|(\d{3}[- ]{1}\d{4}[- ]{1}\d{4})|((\d{2,4}[- ]){1}(\d{7,8}|(\d{3,4}[- ]{1}\d{4}))([- ]{1}\d{1,4})?))$/.test(i);break;case"CZ":o=/^(((00)([- ]?)|\+)(420)([- ]?))?((\d{3})([- ]?)){2}(\d{3})$/.test(i);break;case"DE":o=/^(((((((00|\+)49[ \-/]?)|0)[1-9][0-9]{1,4})[ \-/]?)|((((00|\+)49\()|\(0)[1-9][0-9]{1,4}\)[ \-/]?))[0-9]{1,7}([ \-/]?[0-9]{1,5})?)$/.test(i);break;case"DK":o=/^(\+45|0045|\(45\))?\s?[2-9](\s?\d){7}$/.test(i);break;case"ES":o=/^(?:(?:(?:\+|00)34\D?))?(?:5|6|7|8|9)(?:\d\D?){8}$/.test(i);break;case"FR":o=/^(?:(?:(?:\+|00)33[ ]?(?:\(0\)[ ]?)?)|0){1}[1-9]{1}([ .-]?)(?:\d{2}\1?){3}\d{2}$/.test(i);break;case"GB":o=/^\(?(?:(?:0(?:0|11)\)?[\s-]?\(?|\+)44\)?[\s-]?\(?(?:0\)?[\s-]?\(?)?|0)(?:\d{2}\)?[\s-]?\d{4}[\s-]?\d{4}|\d{3}\)?[\s-]?\d{3}[\s-]?\d{3,4}|\d{4}\)?[\s-]?(?:\d{5}|\d{3}[\s-]?\d{3})|\d{5}\)?[\s-]?\d{4,5}|8(?:00[\s-]?11[\s-]?11|45[\s-]?46[\s-]?4\d))(?:(?:[\s-]?(?:x|ext\.?\s?|\#)\d+)?)$/.test(i);break;case"IN":o=/((\+?)((0[ -]+)*|(91 )*)(\d{12}|\d{10}))|\d{5}([- ]*)\d{6}/.test(i);break;case"MA":o=/^(?:(?:(?:\+|00)212[\s]?(?:[\s]?\(0\)[\s]?)?)|0){1}(?:5[\s.-]?[2-3]|6[\s.-]?[13-9]){1}[0-9]{1}(?:[\s.-]?\d{2}){3}$/.test(i);break;case"NL":o=/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9])((\s|\s?-\s?)?[0-9])((\s|\s?-\s?)?[0-9])\s?[0-9]\s?[0-9]\s?[0-9]\s?[0-9]\s?[0-9]$/gm.test(i);break;case"PK":o=/^0?3[0-9]{2}[0-9]{7}$/.test(i);break;case"RO":o=/^(\+4|)?(07[0-8]{1}[0-9]{1}|02[0-9]{2}|03[0-9]{2}){1}?(\s|\.|\-)?([0-9]{3}(\s|\.|\-|)){2}$/g.test(i);break;case"RU":o=/^((8|\+7|007)[\-\.\/ ]?)?([\(\/\.]?\d{3}[\)\/\.]?[\-\.\/ ]?)?[\d\-\.\/ ]{7,10}$/g.test(i);break;case"SK":o=/^(((00)([- ]?)|\+)(421)([- ]?))?((\d{3})([- ]?)){2}(\d{3})$/.test(i);break;case"TH":o=/^0\(?([6|8-9]{2})*-([0-9]{3})*-([0-9]{4})$/.test(i);break;case"VE":o=/^0(?:2(?:12|4[0-9]|5[1-9]|6[0-9]|7[0-8]|8[1-35-8]|9[1-5]|3[45789])|4(?:1[246]|2[46]))\d{7}$/.test(i);break;case"US":default:o=/^(?:(1\-?)|(\+1 ?))?\(?\d{3}\)?[\-\.\s]?\d{3}[\-\.\s]?\d{4}$/.test(i)}return{message:m(e.l10n?n.message||e.l10n.phone.country:n.message,e.l10n?e.l10n.phone.countries[r]:r),valid:o}}}},rtn:function(){return{validate:function(t){if(""===t.value)return{valid:!0};if(!/^\d{9}$/.test(t.value))return{valid:!1};for(var e=0,n=0;n<t.value.length;n+=3)e+=3*parseInt(t.value.charAt(n),10)+7*parseInt(t.value.charAt(n+1),10)+parseInt(t.value.charAt(n+2),10);return{valid:0!==e&&e%10==0}}}},sedol:function(){return{validate:function(t){if(""===t.value)return{valid:!0};var e=t.value.toUpperCase();if(!/^[0-9A-Z]{7}$/.test(e))return{valid:!1};for(var n=[1,3,1,7,3,9,1],i=e.length,r=0,o=0;o<i-1;o++)r+=n[o]*parseInt(e.charAt(o),36);return{valid:"".concat(r=(10-r%10)%10)===e.charAt(i-1)}}}},siren:function(){return{validate:function(t){return{valid:""===t.value||/^\d{9}$/.test(t.value)&&e(t.value)}}}},siret:function(){return{validate:function(t){if(""===t.value)return{valid:!0};for(var e,n=t.value.length,i=0,r=0;r<n;r++)e=parseInt(t.value.charAt(r),10),r%2==0&&(e*=2)>9&&(e-=9),i+=e;return{valid:i%10==0}}}},step:function(){var t=function(t,e){if(0===e)return 1;var n="".concat(t).split("."),i="".concat(e).split("."),r=(1===n.length?0:n[1].length)+(1===i.length?0:i[1].length);return function(t,e){var n,i=Math.pow(10,e),r=t*i;switch(!0){case 0===r:n=0;break;case r>0:n=1;break;case r<0:n=-1}return r%1==.5*n?(Math.floor(r)+(n>0?1:0))/i:Math.round(r)/i}(t-e*Math.floor(t/e),r)};return{validate:function(e){if(""===e.value)return{valid:!0};var n=parseFloat(e.value);if(isNaN(n)||!isFinite(n))return{valid:!1};var i=Object.assign({},{baseValue:0,message:"",step:1},e.options),r=t(n-i.baseValue,i.step);return{message:m(e.l10n?i.message||e.l10n.step.default:i.message,"".concat(i.step)),valid:0===r||r===i.step}}}},uuid:function(){return{validate:function(t){if(""===t.value)return{valid:!0};var e=Object.assign({},{message:""},t.options),n={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},i=e.version?"".concat(e.version):"all";return{message:e.version?m(t.l10n?e.message||t.l10n.uuid.version:e.message,e.version):t.l10n?t.l10n.uuid.default:e.message,valid:null===n[i]||n[i].test(t.value)}}}},vat:function(){var t=["AR","AT","BE","BG","BR","CH","CY","CZ","DE","DK","EE","EL","ES","FI","FR","GB","GR","HR","HU","IE","IS","IT","LT","LU","LV","MT","NL","NO","PL","PT","RO","RU","RS","SE","SK","SI","VE","ZA"];return{validate:function(e){var n=e.value;if(""===n)return{valid:!0};var i=Object.assign({},{message:""},e.options),r=n.substr(0,2);if(r="function"==typeof i.country?i.country.call(this):i.country,-1===t.indexOf(r))return{valid:!0};var o={meta:{},valid:!0};switch(r.toLowerCase()){case"ar":o=function(t){var e=t.replace("-","");if(/^AR[0-9]{11}$/.test(e)&&(e=e.substr(2)),!/^[0-9]{11}$/.test(e))return{meta:{},valid:!1};for(var n=[5,4,3,2,7,6,5,4,3,2],i=0,r=0;r<10;r++)i+=parseInt(e.charAt(r),10)*n[r];return 11==(i=11-i%11)&&(i=0),{meta:{},valid:"".concat(i)===e.substr(10)}}(n);break;case"at":o=function(t){var e=t;if(/^ATU[0-9]{8}$/.test(e)&&(e=e.substr(2)),!/^U[0-9]{8}$/.test(e))return{meta:{},valid:!1};e=e.substr(1);for(var n=[1,2,1,2,1,2,1],i=0,r=0,o=0;o<7;o++)(r=parseInt(e.charAt(o),10)*n[o])>9&&(r=Math.floor(r/10)+r%10),i+=r;return 10==(i=10-(i+4)%10)&&(i=0),{meta:{},valid:"".concat(i)===e.substr(7,1)}}(n);break;case"be":o=function(t){var e=t;return/^BE[0]?[0-9]{9}$/.test(e)&&(e=e.substr(2)),/^[0]?[0-9]{9}$/.test(e)?(9===e.length&&(e="0".concat(e)),"0"===e.substr(1,1)?{meta:{},valid:!1}:{meta:{},valid:(parseInt(e.substr(0,8),10)+parseInt(e.substr(8,2),10))%97==0}):{meta:{},valid:!1}}(n);break;case"bg":o=function(t){var e=t;if(/^BG[0-9]{9,10}$/.test(e)&&(e=e.substr(2)),!/^[0-9]{9,10}$/.test(e))return{meta:{},valid:!1};var n=0,i=0;if(9===e.length){for(i=0;i<8;i++)n+=parseInt(e.charAt(i),10)*(i+1);if(10==(n%=11))for(n=0,i=0;i<8;i++)n+=parseInt(e.charAt(i),10)*(i+3);return{meta:{},valid:"".concat(n%=10)===e.substr(8)}}return{meta:{},valid:function(t){var e=parseInt(t.substr(0,2),10)+1900,n=parseInt(t.substr(2,2),10);if(n>40?(e+=100,n-=40):n>20&&(e-=100,n-=20),!b(e,n,parseInt(t.substr(4,2),10)))return!1;for(var i=[2,4,8,5,10,9,7,3,6],r=0,o=0;o<9;o++)r+=parseInt(t.charAt(o),10)*i[o];return"".concat(r=r%11%10)===t.substr(9,1)}(e)||function(t){for(var e=[21,19,17,13,11,9,7,3,1],n=0,i=0;i<9;i++)n+=parseInt(t.charAt(i),10)*e[i];return"".concat(n%=10)===t.substr(9,1)}(e)||function(t){for(var e=[4,3,2,7,6,5,4,3,2],n=0,i=0;i<9;i++)n+=parseInt(t.charAt(i),10)*e[i];return 10!=(n=11-n%11)&&(11===n&&(n=0),"".concat(n)===t.substr(9,1))}(e)}}(n);break;case"br":o=function(t){if(""===t)return{meta:{},valid:!0};var e=t.replace(/[^\d]+/g,"");if(""===e||14!==e.length)return{meta:{},valid:!1};if("00000000000000"===e||"11111111111111"===e||"22222222222222"===e||"33333333333333"===e||"44444444444444"===e||"55555555555555"===e||"66666666666666"===e||"77777777777777"===e||"88888888888888"===e||"99999999999999"===e)return{meta:{},valid:!1};var n,i=e.length-2,r=e.substring(0,i),o=e.substring(i),a=0,s=i-7;for(n=i;n>=1;n--)a+=parseInt(r.charAt(i-n),10)*s--,s<2&&(s=9);var l=a%11<2?0:11-a%11;if(l!==parseInt(o.charAt(0),10))return{meta:{},valid:!1};for(i+=1,r=e.substring(0,i),a=0,s=i-7,n=i;n>=1;n--)a+=parseInt(r.charAt(i-n),10)*s--,s<2&&(s=9);return{meta:{},valid:(l=a%11<2?0:11-a%11)===parseInt(o.charAt(1),10)}}(n);break;case"ch":o=function(t){var e=t;if(/^CHE[0-9]{9}(MWST|TVA|IVA|TPV)?$/.test(e)&&(e=e.substr(2)),!/^E[0-9]{9}(MWST|TVA|IVA|TPV)?$/.test(e))return{meta:{},valid:!1};e=e.substr(1);for(var n=[5,4,3,2,7,6,5,4],i=0,r=0;r<8;r++)i+=parseInt(e.charAt(r),10)*n[r];return 10==(i=11-i%11)?{meta:{},valid:!1}:(11===i&&(i=0),{meta:{},valid:"".concat(i)===e.substr(8,1)})}(n);break;case"cy":o=function(t){var e=t;if(/^CY[0-5|9][0-9]{7}[A-Z]$/.test(e)&&(e=e.substr(2)),!/^[0-5|9][0-9]{7}[A-Z]$/.test(e))return{meta:{},valid:!1};if("12"===e.substr(0,2))return{meta:{},valid:!1};for(var n=0,i={0:1,1:0,2:5,3:7,4:9,5:13,6:15,7:17,8:19,9:21},r=0;r<8;r++){var o=parseInt(e.charAt(r),10);r%2==0&&(o=i["".concat(o)]),n+=o}return{meta:{},valid:"".concat("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[n%26])===e.substr(8,1)}}(n);break;case"cz":o=function(t){var e=t;if(/^CZ[0-9]{8,10}$/.test(e)&&(e=e.substr(2)),!/^[0-9]{8,10}$/.test(e))return{meta:{},valid:!1};var n=0,i=0;if(8===e.length){if("9"==="".concat(e.charAt(0)))return{meta:{},valid:!1};for(n=0,i=0;i<7;i++)n+=parseInt(e.charAt(i),10)*(8-i);return 10==(n=11-n%11)&&(n=0),11===n&&(n=1),{meta:{},valid:"".concat(n)===e.substr(7,1)}}if(9===e.length&&"6"==="".concat(e.charAt(0))){for(n=0,i=0;i<7;i++)n+=parseInt(e.charAt(i+1),10)*(8-i);return 10==(n=11-n%11)&&(n=0),11===n&&(n=1),{meta:{},valid:"".concat(n=[8,7,6,5,4,3,2,1,0,9,10][n-1])===e.substr(8,1)}}if(9===e.length||10===e.length){var r=1900+parseInt(e.substr(0,2),10),o=parseInt(e.substr(2,2),10)%50%20,a=parseInt(e.substr(4,2),10);if(9===e.length){if(r>=1980&&(r-=100),r>1953)return{meta:{},valid:!1}}else r<1954&&(r+=100);if(!b(r,o,a))return{meta:{},valid:!1};if(10===e.length){var s=parseInt(e.substr(0,9),10)%11;return r<1985&&(s%=10),{meta:{},valid:"".concat(s)===e.substr(9,1)}}return{meta:{},valid:!0}}return{meta:{},valid:!1}}(n);break;case"de":o=I(n);break;case"dk":o=function(t){var e=t;if(/^DK[0-9]{8}$/.test(e)&&(e=e.substr(2)),!/^[0-9]{8}$/.test(e))return{meta:{},valid:!1};for(var n=0,i=[2,7,6,5,4,3,2,1],r=0;r<8;r++)n+=parseInt(e.charAt(r),10)*i[r];return{meta:{},valid:n%11==0}}(n);break;case"ee":o=function(t){var e=t;if(/^EE[0-9]{9}$/.test(e)&&(e=e.substr(2)),!/^[0-9]{9}$/.test(e))return{meta:{},valid:!1};for(var n=0,i=[3,7,1,3,7,1,3,7,1],r=0;r<9;r++)n+=parseInt(e.charAt(r),10)*i[r];return{meta:{},valid:n%10==0}}(n);break;case"el":o=R(n);break;case"es":o=function(t){var e=t;if(/^ES[0-9A-Z][0-9]{7}[0-9A-Z]$/.test(e)&&(e=e.substr(2)),!/^[0-9A-Z][0-9]{7}[0-9A-Z]$/.test(e))return{meta:{},valid:!1};var n=e.charAt(0);return/^[0-9]$/.test(n)?{meta:{type:"DNI"},valid:function(t){var e=parseInt(t.substr(0,8),10);return"".concat("TRWAGMYFPDXBNJZSQVHLCKE"[e%23])===t.substr(8,1)}(e)}:/^[XYZ]$/.test(n)?{meta:{type:"NIE"},valid:function(t){var e=["XYZ".indexOf(t.charAt(0)),t.substr(1)].join(""),n="TRWAGMYFPDXBNJZSQVHLCKE"[parseInt(e,10)%23];return"".concat(n)===t.substr(8,1)}(e)}:{meta:{type:"CIF"},valid:function(t){var e,n=t.charAt(0);if(-1!=="KLM".indexOf(n))return e=parseInt(t.substr(1,8),10),"".concat(e="TRWAGMYFPDXBNJZSQVHLCKE"[e%23])===t.substr(8,1);if(-1!=="ABCDEFGHJNPQRSUVW".indexOf(n)){for(var i=[2,1,2,1,2,1,2],r=0,o=0,a=0;a<7;a++)(o=parseInt(t.charAt(a+1),10)*i[a])>9&&(o=Math.floor(o/10)+o%10),r+=o;return 10==(r=10-r%10)&&(r=0),"".concat(r)===t.substr(8,1)||"JABCDEFGHI"[r]===t.substr(8,1)}return!1}(e)}}(n);break;case"fi":o=function(t){var e=t;if(/^FI[0-9]{8}$/.test(e)&&(e=e.substr(2)),!/^[0-9]{8}$/.test(e))return{meta:{},valid:!1};for(var n=[7,9,10,5,8,4,2,1],i=0,r=0;r<8;r++)i+=parseInt(e.charAt(r),10)*n[r];return{meta:{},valid:i%11==0}}(n);break;case"fr":o=S(n);break;case"gb":o=function(t){var e=t;if((/^GB[0-9]{9}$/.test(e)||/^GB[0-9]{12}$/.test(e)||/^GBGD[0-9]{3}$/.test(e)||/^GBHA[0-9]{3}$/.test(e)||/^GB(GD|HA)8888[0-9]{5}$/.test(e))&&(e=e.substr(2)),!(/^[0-9]{9}$/.test(e)||/^[0-9]{12}$/.test(e)||/^GD[0-9]{3}$/.test(e)||/^HA[0-9]{3}$/.test(e)||/^(GD|HA)8888[0-9]{5}$/.test(e)))return{meta:{},valid:!1};var n=e.length;if(5===n){var i=e.substr(0,2),r=parseInt(e.substr(2),10);return{meta:{},valid:"GD"===i&&r<500||"HA"===i&&r>=500}}if(11===n&&("GD8888"===e.substr(0,6)||"HA8888"===e.substr(0,6)))return"GD"===e.substr(0,2)&&parseInt(e.substr(6,3),10)>=500||"HA"===e.substr(0,2)&&parseInt(e.substr(6,3),10)<500?{meta:{},valid:!1}:{meta:{},valid:parseInt(e.substr(6,3),10)%97===parseInt(e.substr(9,2),10)};if(9===n||12===n){for(var o=[8,7,6,5,4,3,2,10,1],a=0,s=0;s<9;s++)a+=parseInt(e.charAt(s),10)*o[s];return a%=97,{meta:{},valid:parseInt(e.substr(0,3),10)>=100?0===a||42===a||55===a:0===a}}return{meta:{},valid:!0}}(n);break;case"gr":o=R(n);break;case"hr":o=A(n);break;case"hu":o=function(t){var e=t;if(/^HU[0-9]{8}$/.test(e)&&(e=e.substr(2)),!/^[0-9]{8}$/.test(e))return{meta:{},valid:!1};for(var n=[9,7,3,1,9,7,3,1],i=0,r=0;r<8;r++)i+=parseInt(e.charAt(r),10)*n[r];return{meta:{},valid:i%10==0}}(n);break;case"ie":o=function(t){var e=t;if(/^IE[0-9][0-9A-Z\*\+][0-9]{5}[A-Z]{1,2}$/.test(e)&&(e=e.substr(2)),!/^[0-9][0-9A-Z\*\+][0-9]{5}[A-Z]{1,2}$/.test(e))return{meta:{},valid:!1};var n=function(t){for(var e=t;e.length<7;)e="0".concat(e);for(var n="WABCDEFGHIJKLMNOPQRSTUV",i=0,r=0;r<7;r++)i+=parseInt(e.charAt(r),10)*(8-r);return i+=9*n.indexOf(e.substr(7)),n[i%23]};return/^[0-9]+$/.test(e.substr(0,7))?{meta:{},valid:e.charAt(7)===n("".concat(e.substr(0,7)).concat(e.substr(8)))}:-1!=="ABCDEFGHIJKLMNOPQRSTUVWXYZ+*".indexOf(e.charAt(1))?{meta:{},valid:e.charAt(7)===n("".concat(e.substr(2,5)).concat(e.substr(0,1)))}:{meta:{},valid:!0}}(n);break;case"is":o=function(t){var e=t;return/^IS[0-9]{5,6}$/.test(e)&&(e=e.substr(2)),{meta:{},valid:/^[0-9]{5,6}$/.test(e)}}(n);break;case"it":o=N(n);break;case"lt":o=function(t){var e=t;if(/^LT([0-9]{7}1[0-9]|[0-9]{10}1[0-9])$/.test(e)&&(e=e.substr(2)),!/^([0-9]{7}1[0-9]|[0-9]{10}1[0-9])$/.test(e))return{meta:{},valid:!1};var n,i=e.length,r=0;for(n=0;n<i-1;n++)r+=parseInt(e.charAt(n),10)*(1+n%9);var o=r%11;if(10===o)for(r=0,n=0;n<i-1;n++)r+=parseInt(e.charAt(n),10)*(1+(n+2)%9);return{meta:{},valid:"".concat(o=o%11%10)===e.charAt(i-1)}}(n);break;case"lu":o=function(t){var e=t;return/^LU[0-9]{8}$/.test(e)&&(e=e.substr(2)),/^[0-9]{8}$/.test(e)?{meta:{},valid:"".concat(parseInt(e.substr(0,6),10)%89)===e.substr(6,2)}:{meta:{},valid:!1}}(n);break;case"lv":o=function(t){var e=t;if(/^LV[0-9]{11}$/.test(e)&&(e=e.substr(2)),!/^[0-9]{11}$/.test(e))return{meta:{},valid:!1};var n,i=parseInt(e.charAt(0),10),r=e.length,o=0,a=[];if(i>3){for(o=0,a=[9,1,4,8,3,10,2,5,7,6,1],n=0;n<r;n++)o+=parseInt(e.charAt(n),10)*a[n];return{meta:{},valid:3==(o%=11)}}var s=parseInt(e.substr(0,2),10),l=parseInt(e.substr(2,2),10),c=parseInt(e.substr(4,2),10);if(!b(c=c+1800+100*parseInt(e.charAt(6),10),l,s))return{meta:{},valid:!1};for(o=0,a=[10,5,8,4,2,1,6,3,7,9],n=0;n<r-1;n++)o+=parseInt(e.charAt(n),10)*a[n];return{meta:{},valid:"".concat(o=(o+1)%11%10)===e.charAt(r-1)}}(n);break;case"mt":o=function(t){var e=t;if(/^MT[0-9]{8}$/.test(e)&&(e=e.substr(2)),!/^[0-9]{8}$/.test(e))return{meta:{},valid:!1};for(var n=[3,4,6,7,8,9,10,1],i=0,r=0;r<8;r++)i+=parseInt(e.charAt(r),10)*n[r];return{meta:{},valid:i%37==0}}(n);break;case"nl":o=function(t){var e=t;if(/^NL[0-9]{9}B[0-9]{2}$/.test(e)&&(e=e.substr(2)),!/^[0-9]{9}B[0-9]{2}$/.test(e))return{meta:{},valid:!1};for(var n=[9,8,7,6,5,4,3,2],i=0,r=0;r<8;r++)i+=parseInt(e.charAt(r),10)*n[r];return(i%=11)>9&&(i=0),{meta:{},valid:"".concat(i)===e.substr(8,1)}}(n);break;case"no":o=function(t){var e=t;if(/^NO[0-9]{9}$/.test(e)&&(e=e.substr(2)),!/^[0-9]{9}$/.test(e))return{meta:{},valid:!1};for(var n=[3,2,7,6,5,4,3,2],i=0,r=0;r<8;r++)i+=parseInt(e.charAt(r),10)*n[r];return 11==(i=11-i%11)&&(i=0),{meta:{},valid:"".concat(i)===e.substr(8,1)}}(n);break;case"pl":o=function(t){var e=t;if(/^PL[0-9]{10}$/.test(e)&&(e=e.substr(2)),!/^[0-9]{10}$/.test(e))return{meta:{},valid:!1};for(var n=[6,5,7,2,3,4,5,6,7,-1],i=0,r=0;r<10;r++)i+=parseInt(e.charAt(r),10)*n[r];return{meta:{},valid:i%11==0}}(n);break;case"pt":o=function(t){var e=t;if(/^PT[0-9]{9}$/.test(e)&&(e=e.substr(2)),!/^[0-9]{9}$/.test(e))return{meta:{},valid:!1};for(var n=[9,8,7,6,5,4,3,2],i=0,r=0;r<8;r++)i+=parseInt(e.charAt(r),10)*n[r];return(i=11-i%11)>9&&(i=0),{meta:{},valid:"".concat(i)===e.substr(8,1)}}(n);break;case"ro":o=function(t){var e=t;if(/^RO[1-9][0-9]{1,9}$/.test(e)&&(e=e.substr(2)),!/^[1-9][0-9]{1,9}$/.test(e))return{meta:{},valid:!1};for(var n=e.length,i=[7,5,3,2,1,7,5,3,2].slice(10-n),r=0,o=0;o<n-1;o++)r+=parseInt(e.charAt(o),10)*i[o];return{meta:{},valid:"".concat(r=10*r%11%10)===e.substr(n-1,1)}}(n);break;case"rs":o=function(t){var e=t;if(/^RS[0-9]{9}$/.test(e)&&(e=e.substr(2)),!/^[0-9]{9}$/.test(e))return{meta:{},valid:!1};for(var n=10,i=0,r=0;r<8;r++)0==(i=(parseInt(e.charAt(r),10)+n)%10)&&(i=10),n=2*i%11;return{meta:{},valid:(n+parseInt(e.substr(8,1),10))%10==1}}(n);break;case"ru":o=function(t){var e=t;if(/^RU([0-9]{10}|[0-9]{12})$/.test(e)&&(e=e.substr(2)),!/^([0-9]{10}|[0-9]{12})$/.test(e))return{meta:{},valid:!1};var n=0;if(10===e.length){var i=[2,4,10,3,5,9,4,6,8,0],r=0;for(n=0;n<10;n++)r+=parseInt(e.charAt(n),10)*i[n];return(r%=11)>9&&(r%=10),{meta:{},valid:"".concat(r)===e.substr(9,1)}}if(12===e.length){var o=[7,2,4,10,3,5,9,4,6,8,0],a=[3,7,2,4,10,3,5,9,4,6,8,0],s=0,l=0;for(n=0;n<11;n++)s+=parseInt(e.charAt(n),10)*o[n],l+=parseInt(e.charAt(n),10)*a[n];return(s%=11)>9&&(s%=10),(l%=11)>9&&(l%=10),{meta:{},valid:"".concat(s)===e.substr(10,1)&&"".concat(l)===e.substr(11,1)}}return{meta:{},valid:!0}}(n);break;case"se":o=P(n);break;case"si":o=function(t){var e=t.match(/^(SI)?([1-9][0-9]{7})$/);if(!e)return{meta:{},valid:!1};for(var n=e[1]?t.substr(2):t,i=[8,7,6,5,4,3,2],r=0,o=0;o<7;o++)r+=parseInt(n.charAt(o),10)*i[o];return 10==(r=11-r%11)&&(r=0),{meta:{},valid:"".concat(r)===n.substr(7,1)}}(n);break;case"sk":o=function(t){var e=t;return/^SK[1-9][0-9][(2-4)|(6-9)][0-9]{7}$/.test(e)&&(e=e.substr(2)),/^[1-9][0-9][(2-4)|(6-9)][0-9]{7}$/.test(e)?{meta:{},valid:parseInt(e,10)%11==0}:{meta:{},valid:!1}}(n);break;case"ve":o=function(t){var e=t;if(/^VE[VEJPG][0-9]{9}$/.test(e)&&(e=e.substr(2)),!/^[VEJPG][0-9]{9}$/.test(e))return{meta:{},valid:!1};for(var n=[3,2,7,6,5,4,3,2],i={E:8,G:20,J:12,P:16,V:4}[e.charAt(0)],r=0;r<8;r++)i+=parseInt(e.charAt(r+1),10)*n[r];return(11==(i=11-i%11)||10===i)&&(i=0),{meta:{},valid:"".concat(i)===e.substr(9,1)}}(n);break;case"za":o=function(t){var e=t;return/^ZA4[0-9]{9}$/.test(e)&&(e=e.substr(2)),{meta:{},valid:/^4[0-9]{9}$/.test(e)}}(n)}var a=m(e.l10n?i.message||e.l10n.vat.country:i.message,e.l10n?e.l10n.vat.countries[r.toUpperCase()]:r.toUpperCase());return Object.assign({},{message:a},o)}}},vin:function(){return{validate:function(t){if(""===t.value)return{valid:!0};if(!/^[a-hj-npr-z0-9]{8}[0-9xX][a-hj-npr-z0-9]{8}$/i.test(t.value))return{valid:!1};for(var e=t.value.toUpperCase(),n={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,J:1,K:2,L:3,M:4,N:5,P:7,R:9,S:2,T:3,U:4,V:5,W:6,X:7,Y:8,Z:9,0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},i=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],r=e.length,o=0,a=0;a<r;a++)o+=n["".concat(e.charAt(a))]*i[a];var s="".concat(o%11);return"10"===s&&(s="X"),{valid:s===e.charAt(8)}}}},zipCode:function(){var t=["AT","BG","BR","CA","CH","CZ","DE","DK","ES","FR","GB","IE","IN","IT","MA","NL","PL","PT","RO","RU","SE","SG","SK","US"];return{validate:function(e){var n=Object.assign({},e.options);if(""===e.value||!n.country)return{valid:!0};var i=e.value.substr(0,2);if(!(i="function"==typeof n.country?n.country.call(this):n.country)||-1===t.indexOf(i.toUpperCase()))return{valid:!0};var r=!1;switch(i=i.toUpperCase()){case"AT":r=/^([1-9]{1})(\d{3})$/.test(e.value);break;case"BG":r=/^([1-9]{1}[0-9]{3})$/.test(e.value);break;case"BR":r=/^(\d{2})([\.]?)(\d{3})([\-]?)(\d{3})$/.test(e.value);break;case"CA":r=/^(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|X|Y){1}[0-9]{1}(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|W|X|Y|Z){1}\s?[0-9]{1}(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|W|X|Y|Z){1}[0-9]{1}$/i.test(e.value);break;case"CH":r=/^([1-9]{1})(\d{3})$/.test(e.value);break;case"CZ":r=/^(\d{3})([ ]?)(\d{2})$/.test(e.value);break;case"DE":r=/^(?!01000|99999)(0[1-9]\d{3}|[1-9]\d{4})$/.test(e.value);break;case"DK":r=/^(DK(-|\s)?)?\d{4}$/i.test(e.value);break;case"ES":r=/^(?:0[1-9]|[1-4][0-9]|5[0-2])\d{3}$/.test(e.value);break;case"FR":r=/^[0-9]{5}$/i.test(e.value);break;case"GB":r=function(t){for(var e="[ABCDEFGHIJKLMNOPRSTUWYZ]",n="[ABCDEFGHKLMNOPQRSTUVWXY]",i="[ABDEFGHJLNPQRSTUWXYZ]",r=0,o=[new RegExp("^(".concat(e,"{1}").concat(n,"?[0-9]{1,2})(\\s*)([0-9]{1}").concat(i,"{2})$"),"i"),new RegExp("^(".concat(e,"{1}[0-9]{1}").concat("[ABCDEFGHJKPMNRSTUVWXY]","{1})(\\s*)([0-9]{1}").concat(i,"{2})$"),"i"),new RegExp("^(".concat(e,"{1}").concat(n,"{1}?[0-9]{1}").concat("[ABEHMNPRVWXY]","{1})(\\s*)([0-9]{1}").concat(i,"{2})$"),"i"),new RegExp("^(BF1)(\\s*)([0-6]{1}[ABDEFGHJLNPQRST]{1}[ABDEFGHJLNPQRSTUWZYZ]{1})$","i"),/^(GIR)(\s*)(0AA)$/i,/^(BFPO)(\s*)([0-9]{1,4})$/i,/^(BFPO)(\s*)(c\/o\s*[0-9]{1,3})$/i,/^([A-Z]{4})(\s*)(1ZZ)$/i,/^(AI-2640)$/i];r<o.length;r++)if(o[r].test(t))return!0;return!1}(e.value);break;case"IN":r=/^\d{3}\s?\d{3}$/.test(e.value);break;case"IE":r=/^(D6W|[ACDEFHKNPRTVWXY]\d{2})\s[0-9ACDEFHKNPRTVWXY]{4}$/.test(e.value);break;case"IT":r=/^(I-|IT-)?\d{5}$/i.test(e.value);break;case"MA":r=/^[1-9][0-9]{4}$/i.test(e.value);break;case"NL":r=/^[1-9][0-9]{3} ?(?!sa|sd|ss)[a-z]{2}$/i.test(e.value);break;case"PL":r=/^[0-9]{2}\-[0-9]{3}$/.test(e.value);break;case"PT":r=/^[1-9]\d{3}-\d{3}$/.test(e.value);break;case"RO":r=/^(0[1-8]{1}|[1-9]{1}[0-5]{1})?[0-9]{4}$/i.test(e.value);break;case"RU":r=/^[0-9]{6}$/i.test(e.value);break;case"SE":r=/^(S-)?\d{3}\s?\d{2}$/i.test(e.value);break;case"SG":r=/^([0][1-9]|[1-6][0-9]|[7]([0-3]|[5-9])|[8][0-2])(\d{4})$/i.test(e.value);break;case"SK":r=/^(\d{3})([ ]?)(\d{2})$/.test(e.value);break;case"US":default:r=/^\d{4,5}([\-]?\d{4})?$/.test(e.value)}return{message:m(e.l10n?n.message||e.l10n.zipCode.country:n.message,e.l10n?e.l10n.zipCode.countries[i]:i),valid:r}}}}},L=function(){function t(e,n){a(this,t),this.elements={},this.ee={fns:{},clear:function(){this.fns={}},emit:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(this.fns[t]||[]).map(function(t){return t.apply(t,n)})},off:function(t,e){if(this.fns[t]){var n=this.fns[t].indexOf(e);n>=0&&this.fns[t].splice(n,1)}},on:function(t,e){(this.fns[t]=this.fns[t]||[]).push(e)}},this.filter={filters:{},add:function(t,e){(this.filters[t]=this.filters[t]||[]).push(e)},clear:function(){this.filters={}},execute:function(t,e,n){if(!this.filters[t]||!this.filters[t].length)return e;for(var i=e,r=this.filters[t],o=r.length,a=0;a<o;a++)i=r[a].apply(i,n);return i},remove:function(t,e){this.filters[t]&&(this.filters[t]=this.filters[t].filter(function(t){return t!==e}))}},this.plugins={},this.results=new Map,this.validators={},this.form=e,this.fields=n}return l(t,[{key:"on",value:function(t,e){return this.ee.on(t,e),this}},{key:"off",value:function(t,e){return this.ee.off(t,e),this}},{key:"emit",value:function(t){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return(e=this.ee).emit.apply(e,[t].concat(i)),this}},{key:"registerPlugin",value:function(t,e){if(this.plugins[t])throw new Error("The plguin ".concat(t," is registered"));return e.setCore(this),e.install(),this.plugins[t]=e,this}},{key:"deregisterPlugin",value:function(t){var e=this.plugins[t];return e&&e.uninstall(),delete this.plugins[t],this}},{key:"registerValidator",value:function(t,e){if(this.validators[t])throw new Error("The validator ".concat(t," is registered"));return this.validators[t]=e,this}},{key:"registerFilter",value:function(t,e){return this.filter.add(t,e),this}},{key:"deregisterFilter",value:function(t,e){return this.filter.remove(t,e),this}},{key:"executeFilter",value:function(t,e,n){return this.filter.execute(t,e,n)}},{key:"addField",value:function(t,e){var n=Object.assign({},{selector:"",validators:{}},e);return this.fields[t]=this.fields[t]?{selector:n.selector||this.fields[t].selector,validators:Object.assign({},this.fields[t].validators,n.validators)}:n,this.elements[t]=this.queryElements(t),this.emit("core.field.added",{elements:this.elements[t],field:t,options:this.fields[t]}),this}},{key:"removeField",value:function(t){if(!this.fields[t])throw new Error("The field ".concat(t," validators are not defined. Please ensure the field is added first"));var e=this.elements[t],n=this.fields[t];return delete this.elements[t],delete this.fields[t],this.emit("core.field.removed",{elements:e,field:t,options:n}),this}},{key:"validate",value:function(){var t=this;return this.emit("core.form.validating"),this.filter.execute("validate-pre",Promise.resolve(),[]).then(function(){return Promise.all(Object.keys(t.fields).map(function(e){return t.validateField(e)})).then(function(e){switch(!0){case-1!==e.indexOf("Invalid"):return t.emit("core.form.invalid"),Promise.resolve("Invalid");case-1!==e.indexOf("NotValidated"):return t.emit("core.form.notvalidated"),Promise.resolve("NotValidated");default:return t.emit("core.form.valid"),Promise.resolve("Valid")}})})}},{key:"validateField",value:function(t){var e=this,n=this.results.get(t);if("Valid"===n||"Invalid"===n)return Promise.resolve(n);this.emit("core.field.validating",t);var i=this.elements[t];if(0===i.length)return this.emit("core.field.valid",t),Promise.resolve("Valid");var r=i[0].getAttribute("type");return"radio"===r||"checkbox"===r||1===i.length?this.validateElement(t,i[0]):Promise.all(i.map(function(n){return e.validateElement(t,n)})).then(function(n){switch(!0){case-1!==n.indexOf("Invalid"):return e.emit("core.field.invalid",t),e.results.set(t,"Invalid"),Promise.resolve("Invalid");case-1!==n.indexOf("NotValidated"):return e.emit("core.field.notvalidated",t),e.results.delete(t),Promise.resolve("NotValidated");default:return e.emit("core.field.valid",t),e.results.set(t,"Valid"),Promise.resolve("Valid")}})}},{key:"validateElement",value:function(t,e){var n=this;this.results.delete(t);var i=this.elements[t];if(this.filter.execute("element-ignored",!1,[t,e,i]))return this.emit("core.element.ignored",{element:e,elements:i,field:t}),Promise.resolve("Ignored");var r=this.fields[t].validators;this.emit("core.element.validating",{element:e,elements:i,field:t});var o=Object.keys(r).map(function(i){return function(){return n.executeValidator(t,e,i,r[i])}});return this.waterfall(o).then(function(r){var o=-1===r.indexOf("Invalid");n.emit("core.element.validated",{element:e,elements:i,field:t,valid:o});var a=e.getAttribute("type");return("radio"===a||"checkbox"===a||1===i.length)&&n.emit(o?"core.field.valid":"core.field.invalid",t),Promise.resolve(o?"Valid":"Invalid")}).catch(function(r){return n.emit("core.element.notvalidated",{element:e,elements:i,field:t}),Promise.resolve(r)})}},{key:"executeValidator",value:function(t,e,n,i){var r=this,o=this.elements[t],a=this.filter.execute("validator-name",n,[n,t]);if(i.message=this.filter.execute("validator-message",i.message,[this.locale,t,a]),!this.validators[a]||!1===i.enabled)return this.emit("core.validator.validated",{element:e,elements:o,field:t,result:this.normalizeResult(t,a,{valid:!0}),validator:a}),Promise.resolve("Valid");var s=this.validators[a],l=this.getElementValue(t,e,a);if(!this.filter.execute("field-should-validate",!0,[t,e,l,n]))return this.emit("core.validator.notvalidated",{element:e,elements:o,field:t,validator:n}),Promise.resolve("NotValidated");this.emit("core.validator.validating",{element:e,elements:o,field:t,validator:n});var c=s().validate({element:e,elements:o,field:t,l10n:this.localization,options:i,value:l});if("function"==typeof c.then)return c.then(function(i){var a=r.normalizeResult(t,n,i);return r.emit("core.validator.validated",{element:e,elements:o,field:t,result:a,validator:n}),a.valid?"Valid":"Invalid"});var u=this.normalizeResult(t,n,c);return this.emit("core.validator.validated",{element:e,elements:o,field:t,result:u,validator:n}),Promise.resolve(u.valid?"Valid":"Invalid")}},{key:"getElementValue",value:function(t,e,n){var i=g(this.form,0,e,this.elements[t]);return this.filter.execute("field-value",i,[i,t,e,n])}},{key:"getElements",value:function(t){return this.elements[t]}},{key:"getFields",value:function(){return this.fields}},{key:"getFormElement",value:function(){return this.form}},{key:"getLocale",value:function(){return this.locale}},{key:"getPlugin",value:function(t){return this.plugins[t]}},{key:"updateFieldStatus",value:function(t,e,n){var i=this,r=this.elements[t],o=r[0].getAttribute("type");if(("radio"===o||"checkbox"===o?[r[0]]:r).forEach(function(r){return i.updateElementStatus(t,r,e,n)}),!n)switch(e){case"NotValidated":this.emit("core.field.notvalidated",t),this.results.delete(t);break;case"Validating":this.emit("core.field.validating",t),this.results.delete(t);break;case"Valid":this.emit("core.field.valid",t),this.results.set(t,"Valid");break;case"Invalid":this.emit("core.field.invalid",t),this.results.set(t,"Invalid")}return this}},{key:"updateElementStatus",value:function(t,e,n,i){var r=this,o=this.elements[t],a=this.fields[t].validators,s=i?[i]:Object.keys(a);switch(n){case"NotValidated":s.forEach(function(n){return r.emit("core.validator.notvalidated",{element:e,elements:o,field:t,validator:n})}),this.emit("core.element.notvalidated",{element:e,elements:o,field:t});break;case"Validating":s.forEach(function(n){return r.emit("core.validator.validating",{element:e,elements:o,field:t,validator:n})}),this.emit("core.element.validating",{element:e,elements:o,field:t});break;case"Valid":s.forEach(function(n){return r.emit("core.validator.validated",{element:e,field:t,result:{message:a[n].message,valid:!0},validator:n})}),this.emit("core.element.validated",{element:e,elements:o,field:t,valid:!0});break;case"Invalid":s.forEach(function(n){return r.emit("core.validator.validated",{element:e,field:t,result:{message:a[n].message,valid:!1},validator:n})}),this.emit("core.element.validated",{element:e,elements:o,field:t,valid:!1})}return this}},{key:"resetForm",value:function(t){var e=this;return Object.keys(this.fields).forEach(function(n){return e.resetField(n,t)}),this.emit("core.form.reset",{reset:t}),this}},{key:"resetField",value:function(t,e){if(e){var n=this.elements[t],i=n[0].getAttribute("type");n.forEach(function(t){"radio"===i||"checkbox"===i?(t.removeAttribute("selected"),t.removeAttribute("checked"),t.checked=!1):(t.setAttribute("value",""),(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&(t.value=""))})}return this.updateFieldStatus(t,"NotValidated"),this.emit("core.field.reset",{field:t,reset:e}),this}},{key:"revalidateField",value:function(t){return this.updateFieldStatus(t,"NotValidated"),this.validateField(t)}},{key:"disableValidator",value:function(t,e){return this.toggleValidator(!1,t,e)}},{key:"enableValidator",value:function(t,e){return this.toggleValidator(!0,t,e)}},{key:"updateValidatorOption",value:function(t,e,n,i){return this.fields[t]&&this.fields[t].validators&&this.fields[t].validators[e]&&(this.fields[t].validators[e][n]=i),this}},{key:"destroy",value:function(){var t=this;return Object.keys(this.plugins).forEach(function(e){return t.plugins[e].uninstall()}),this.ee.clear(),this.filter.clear(),this.results.clear(),this.plugins={},this}},{key:"setLocale",value:function(t,e){return this.locale=t,this.localization=e,this}},{key:"waterfall",value:function(t){return t.reduce(function(t,e,n,i){return t.then(function(t){return e().then(function(e){return t.push(e),t})})},Promise.resolve([]))}},{key:"queryElements",value:function(t){var e=this.fields[t].selector?"#"===this.fields[t].selector.charAt(0)?'[id="'.concat(this.fields[t].selector.substring(1),'"]'):this.fields[t].selector:'[name="'.concat(t,'"]');return[].slice.call(this.form.querySelectorAll(e))}},{key:"normalizeResult",value:function(t,e,n){var i=this.fields[t].validators[e];return Object.assign({},n,{message:n.message||(i?i.message:"")||(this.localization&&this.localization[e]&&this.localization[e].default?this.localization[e].default:"")||"The field ".concat(t," is not valid")})}},{key:"toggleValidator",value:function(t,e,n){var i=this,r=this.fields[e].validators;return n&&r&&r[n]?this.fields[e].validators[n].enabled=t:n||Object.keys(r).forEach(function(n){return i.fields[e].validators[n].enabled=t}),this.updateFieldStatus(e,"NotValidated",n)}}]),t}();var K=function(){function t(e){a(this,t),this.opts=e}return l(t,[{key:"setCore",value:function(t){return this.core=t,this}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}}]),t}(),j={getFieldValue:g},F=function(t){function e(t){var n;return a(this,e),(n=p(this,d(e).call(this,t))).opts=t||{},n.validatorNameFilter=n.getValidatorName.bind(f(n)),n}return u(e,K),l(e,[{key:"install",value:function(){this.core.registerFilter("validator-name",this.validatorNameFilter)}},{key:"uninstall",value:function(){this.core.deregisterFilter("validator-name",this.validatorNameFilter)}},{key:"getValidatorName",value:function(t,e){return this.opts[t]||t}}]),e}(),B=function(t){function e(){var t;return a(this,e),(t=p(this,d(e).call(this,{}))).elementValidatedHandler=t.onElementValidated.bind(f(t)),t.fieldValidHandler=t.onFieldValid.bind(f(t)),t.fieldInvalidHandler=t.onFieldInvalid.bind(f(t)),t.messageDisplayedHandler=t.onMessageDisplayed.bind(f(t)),t}return u(e,K),l(e,[{key:"install",value:function(){this.core.on("core.field.valid",this.fieldValidHandler).on("core.field.invalid",this.fieldInvalidHandler).on("core.element.validated",this.elementValidatedHandler).on("plugins.message.displayed",this.messageDisplayedHandler)}},{key:"uninstall",value:function(){this.core.off("core.field.valid",this.fieldValidHandler).off("core.field.invalid",this.fieldInvalidHandler).off("core.element.validated",this.elementValidatedHandler).off("plugins.message.displayed",this.messageDisplayedHandler)}},{key:"onElementValidated",value:function(t){t.valid&&(t.element.setAttribute("aria-invalid","false"),t.element.removeAttribute("aria-describedby"))}},{key:"onFieldValid",value:function(t){var e=this.core.getElements(t);e&&e.forEach(function(t){t.setAttribute("aria-invalid","false"),t.removeAttribute("aria-describedby")})}},{key:"onFieldInvalid",value:function(t){var e=this.core.getElements(t);e&&e.forEach(function(t){return t.setAttribute("aria-invalid","true")})}},{key:"onMessageDisplayed",value:function(t){t.messageElement.setAttribute("role","alert"),t.messageElement.setAttribute("aria-hidden","false");var e=this.core.getElements(t.field),n=e.indexOf(t.element),i="js-fv-".concat(t.field,"-").concat(n,"-").concat(Date.now(),"-message");t.messageElement.setAttribute("id",i),t.element.setAttribute("aria-describedby",i);var r=t.element.getAttribute("type");("radio"===r||"checkbox"===r)&&e.forEach(function(t){return t.setAttribute("aria-describedby",i)})}}]),e}(),$=function(t){function e(t){var n;return a(this,e),(n=p(this,d(e).call(this,t))).opts=Object.assign({},{html5Input:!1,pluginPrefix:"data-fvp-",prefix:"data-fv-"},t),n}return u(e,K),l(e,[{key:"install",value:function(){var t=this;this.parsePlugins();var e=this.parseOptions();Object.keys(e).forEach(function(n){return t.core.addField(n,e[n])})}},{key:"parseOptions",value:function(){var t=this,e=this.opts.prefix,n={},i=this.core.getFields(),r=this.core.getFormElement();return[].slice.call(r.querySelectorAll("[name], [".concat(e,"field]"))).forEach(function(i){var r=t.parseElement(i);if(!t.isEmptyOption(r)){var o=i.getAttribute("name")||i.getAttribute("".concat(e,"field"));n[o]=Object.assign({},n[o],r)}}),Object.keys(n).forEach(function(t){Object.keys(n[t].validators).forEach(function(e){n[t].validators[e].enabled=n[t].validators[e].enabled||!1,i[t]&&i[t].validators&&i[t].validators[e]&&Object.assign(n[t].validators[e],i[t].validators[e])})}),Object.assign({},i,n)}},{key:"createPluginInstance",value:function(t,e){for(var n=t.split("."),i=window||this,r=0,o=n.length;r<o;r++)i=i[n[r]];if("function"!=typeof i)throw new Error("the plugin ".concat(t," doesn't exist"));return new i(e)}},{key:"parsePlugins",value:function(){for(var t=this,e=this.core.getFormElement(),n=new RegExp("^".concat(this.opts.pluginPrefix,"([a-z0-9-]+)(___)*([a-z0-9-]+)*$")),i=e.attributes.length,r={},o=0;o<i;o++){var a=e.attributes[o].name,s=e.attributes[o].value,l=n.exec(a);if(l&&4===l.length){var u=this.toCamelCase(l[1]);r[u]=Object.assign({},l[3]?c({},this.toCamelCase(l[3]),s):{enabled:""===s||"true"===s},r[u])}}Object.keys(r).forEach(function(e){var n=r[e],i=n.enabled,o=n.class;if(i&&o){delete n.enabled,delete n.clazz;var a=t.createPluginInstance(o,n);t.core.registerPlugin(e,a)}})}},{key:"isEmptyOption",value:function(t){var e=t.validators;return 0===Object.keys(e).length&&e.constructor===Object}},{key:"parseElement",value:function(t){for(var e=new RegExp("^".concat(this.opts.prefix,"([a-z0-9-]+)(___)*([a-z0-9-]+)*$")),n=t.attributes.length,i={},r=t.getAttribute("type"),o=0;o<n;o++){var a=t.attributes[o].name,s=t.attributes[o].value;if(this.opts.html5Input)switch(!0){case"minlength"===a:i.stringLength=Object.assign({},{enabled:!0,min:parseInt(s,10)},i.stringLength);break;case"maxlength"===a:i.stringLength=Object.assign({},{enabled:!0,max:parseInt(s,10)},i.stringLength);break;case"pattern"===a:i.regexp=Object.assign({},{enabled:!0,regexp:s},i.regexp);break;case"required"===a:i.notEmpty=Object.assign({},{enabled:!0},i.notEmpty);break;case"type"===a&&"color"===s:i.color=Object.assign({},{enabled:!0,type:"hex"},i.color);break;case"type"===a&&"email"===s:i.emailAddress=Object.assign({},{enabled:!0},i.emailAddress);break;case"type"===a&&"url"===s:i.uri=Object.assign({},{enabled:!0},i.uri);break;case"type"===a&&"range"===s:i.between=Object.assign({},{enabled:!0,max:parseFloat(t.getAttribute("max")),min:parseFloat(t.getAttribute("min"))},i.between);break;case"min"===a&&"date"!==r&&"range"!==r:i.greaterThan=Object.assign({},{enabled:!0,min:parseFloat(s)},i.greaterThan);break;case"max"===a&&"date"!==r&&"range"!==r:i.lessThan=Object.assign({},{enabled:!0,max:parseFloat(s)},i.lessThan)}var l=e.exec(a);if(l&&4===l.length){var u=this.toCamelCase(l[1]);i[u]=Object.assign({},l[3]?c({},this.toCamelCase(l[3]),s):{enabled:""===s||"true"===s},i[u])}}return{validators:i}}},{key:"toUpperCase",value:function(t){return t.charAt(1).toUpperCase()}},{key:"toCamelCase",value:function(t){return t.replace(/-./g,this.toUpperCase)}}]),e}(),H=function(t){function e(){var t;return a(this,e),(t=p(this,d(e).call(this,{}))).onValidHandler=t.onFormValid.bind(f(t)),t}return u(e,K),l(e,[{key:"install",value:function(){if(this.core.getFormElement().querySelectorAll('[type="submit"][name="submit"]').length)throw new Error("Do not use `submit` for the name attribute of submit button");this.core.on("core.form.valid",this.onValidHandler)}},{key:"uninstall",value:function(){this.core.off("core.form.valid",this.onValidHandler)}},{key:"onFormValid",value:function(){var t=this.core.getFormElement();t instanceof HTMLFormElement&&t.submit()}}]),e}(),U=function(t){function e(t){var n;return a(this,e),(n=p(this,d(e).call(this,t))).opts=t||{},n.triggerExecutedHandler=n.onTriggerExecuted.bind(f(n)),n}return u(e,K),l(e,[{key:"install",value:function(){this.core.on("plugins.trigger.executed",this.triggerExecutedHandler)}},{key:"uninstall",value:function(){this.core.off("plugins.trigger.executed",this.triggerExecutedHandler)}},{key:"onTriggerExecuted",value:function(t){if(this.opts[t.field]){var e=this.opts[t.field].split(" "),n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value.trim();this.opts[s]&&this.core.revalidateField(s)}}catch(t){i=!0,r=t}finally{try{!n&&null!=a.return&&a.return()}finally{if(i)throw r}}}}}]),e}(),z=function(t){function e(t){var n;return a(this,e),(n=p(this,d(e).call(this,t))).opts=Object.assign({},{excluded:e.defaultIgnore},t),n.ignoreValidationFilter=n.ignoreValidation.bind(f(n)),n}return u(e,K),l(e,[{key:"install",value:function(){this.core.registerFilter("element-ignored",this.ignoreValidationFilter)}},{key:"uninstall",value:function(){this.core.deregisterFilter("element-ignored",this.ignoreValidationFilter)}},{key:"ignoreValidation",value:function(t,e,n){return this.opts.excluded.apply(this,[t,e,n])}}],[{key:"defaultIgnore",value:function(t,e,n){var i=!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),r=e.getAttribute("disabled");return""===r||"disabled"===r||"hidden"===e.getAttribute("type")||!i}}]),e}(),V=function(t){function e(t){var n;return a(this,e),(n=p(this,d(e).call(this,t))).statuses=new Map,n.opts=Object.assign({},{onStatusChanged:function(){}},t),n.elementValidatingHandler=n.onElementValidating.bind(f(n)),n.elementValidatedHandler=n.onElementValidated.bind(f(n)),n.elementNotValidatedHandler=n.onElementNotValidated.bind(f(n)),n.elementIgnoredHandler=n.onElementIgnored.bind(f(n)),n.fieldAddedHandler=n.onFieldAdded.bind(f(n)),n.fieldRemovedHandler=n.onFieldRemoved.bind(f(n)),n}return u(e,K),l(e,[{key:"install",value:function(){this.core.on("core.element.validating",this.elementValidatingHandler).on("core.element.validated",this.elementValidatedHandler).on("core.element.notvalidated",this.elementNotValidatedHandler).on("core.element.ignored",this.elementIgnoredHandler).on("core.field.added",this.fieldAddedHandler).on("core.field.removed",this.fieldRemovedHandler)}},{key:"uninstall",value:function(){this.statuses.clear(),this.core.off("core.element.validating",this.elementValidatingHandler).off("core.element.validated",this.elementValidatedHandler).off("core.element.notvalidated",this.elementNotValidatedHandler).off("core.element.ignored",this.elementIgnoredHandler).off("core.field.added",this.fieldAddedHandler).off("core.field.removed",this.fieldRemovedHandler)}},{key:"areFieldsValid",value:function(){return Array.from(this.statuses.values()).every(function(t){return"Valid"===t||"NotValidated"===t||"Ignored"===t})}},{key:"getStatuses",value:function(){return this.statuses}},{key:"onFieldAdded",value:function(t){this.statuses.set(t.field,"NotValidated")}},{key:"onFieldRemoved",value:function(t){this.statuses.has(t.field)&&this.statuses.delete(t.field),this.opts.onStatusChanged(this.areFieldsValid())}},{key:"onElementValidating",value:function(t){this.statuses.set(t.field,"Validating"),this.opts.onStatusChanged(!1)}},{key:"onElementValidated",value:function(t){this.statuses.set(t.field,t.valid?"Valid":"Invalid"),t.valid?this.opts.onStatusChanged(this.areFieldsValid()):this.opts.onStatusChanged(!1)}},{key:"onElementNotValidated",value:function(t){this.statuses.set(t.field,"NotValidated"),this.opts.onStatusChanged(!1)}},{key:"onElementIgnored",value:function(t){this.statuses.set(t.field,"Ignored"),this.opts.onStatusChanged(this.areFieldsValid())}}]),e}();function W(t,e){var n=[],i=[];Object.keys(e).forEach(function(t){t&&(e[t]?n.push(t):i.push(t))}),i.forEach(function(e){return function(t,e){e.split(" ").forEach(function(e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")})}(t,e)}),n.forEach(function(e){return function(t,e){e.split(" ").forEach(function(e){t.classList?t.classList.add(e):" ".concat(t.className," ").indexOf(" ".concat(e," "))&&(t.className+=" ".concat(e))})}(t,e)})}function q(t,e){var n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;return n?n.call(t,e):[].slice.call(t.parentElement.querySelectorAll(e)).indexOf(t)>=0}function Y(t,e){for(var n=t;n&&!q(n,e);)n=n.parentElement;return n}var G=function(t){function e(t){var n;return a(this,e),(n=p(this,d(e).call(this,t))).messages=new Map,n.defaultContainer=document.createElement("div"),n.opts=Object.assign({},{container:function(t,e){return n.defaultContainer}},t),n.elementIgnoredHandler=n.onElementIgnored.bind(f(n)),n.fieldAddedHandler=n.onFieldAdded.bind(f(n)),n.fieldRemovedHandler=n.onFieldRemoved.bind(f(n)),n.validatorValidatedHandler=n.onValidatorValidated.bind(f(n)),n.validatorNotValidatedHandler=n.onValidatorNotValidated.bind(f(n)),n}return u(e,K),l(e,[{key:"install",value:function(){this.core.getFormElement().appendChild(this.defaultContainer),this.core.on("core.element.ignored",this.elementIgnoredHandler).on("core.field.added",this.fieldAddedHandler).on("core.field.removed",this.fieldRemovedHandler).on("core.validator.validated",this.validatorValidatedHandler).on("core.validator.notvalidated",this.validatorNotValidatedHandler)}},{key:"uninstall",value:function(){this.core.getFormElement().removeChild(this.defaultContainer),this.messages.forEach(function(t){return t.parentNode.removeChild(t)}),this.messages.clear(),this.core.off("core.element.ignored",this.elementIgnoredHandler).off("core.field.added",this.fieldAddedHandler).off("core.field.removed",this.fieldRemovedHandler).off("core.validator.validated",this.validatorValidatedHandler).off("core.validator.notvalidated",this.validatorNotValidatedHandler)}},{key:"onFieldAdded",value:function(t){var e=this,n=t.elements;n&&(n.forEach(function(t){var n=e.messages.get(t);n&&(n.parentNode.removeChild(n),e.messages.delete(t))}),this.prepareFieldContainer(t.field,n))}},{key:"onFieldRemoved",value:function(t){var e=this;if(t.elements.length&&t.field){var n=t.elements[0].getAttribute("type");("radio"===n||"checkbox"===n?[t.elements[0]]:t.elements).forEach(function(t){if(e.messages.has(t)){var n=e.messages.get(t);n.parentNode.removeChild(n),e.messages.delete(t)}})}}},{key:"prepareFieldContainer",value:function(t,e){var n=this;if(e.length){var i=e[0].getAttribute("type");"radio"===i||"checkbox"===i?this.prepareElementContainer(t,e[0],e):e.forEach(function(i){return n.prepareElementContainer(t,i,e)})}}},{key:"prepareElementContainer",value:function(t,e,n){var i;switch(!0){case"string"==typeof this.opts.container:var r=this.opts.container;r="#"===r.charAt(0)?'[id="'.concat(r.substring(1),'"]'):r,i=this.core.getFormElement().querySelector(r);break;default:i=this.opts.container(t,e)}var o=document.createElement("div");i.appendChild(o),W(o,{"fv-plugins-message-container":!0}),this.core.emit("plugins.message.placed",{element:e,elements:n,field:t,messageElement:o}),this.messages.set(e,o)}},{key:"getMessage",value:function(t){return"string"==typeof t.message?t.message:t.message[this.core.getLocale()]}},{key:"onValidatorValidated",value:function(t){var e=t.elements,n=t.element.getAttribute("type"),i="radio"===n||"checkbox"===n?e[0]:t.element;if(this.messages.has(i)){var r=this.messages.get(i),o=r.querySelector('[data-field="'.concat(t.field,'"][data-validator="').concat(t.validator,'"]'));if(o||t.result.valid)o&&!t.result.valid?(o.innerHTML=this.getMessage(t.result),this.core.emit("plugins.message.displayed",{element:t.element,field:t.field,message:t.result.message,messageElement:o,meta:t.result.meta,validator:t.validator})):o&&t.result.valid&&r.removeChild(o);else{var a=document.createElement("div");a.innerHTML=this.getMessage(t.result),a.setAttribute("data-field",t.field),a.setAttribute("data-validator",t.validator),this.opts.clazz&&W(a,c({},this.opts.clazz,!0)),r.appendChild(a),this.core.emit("plugins.message.displayed",{element:t.element,field:t.field,message:t.result.message,messageElement:a,meta:t.result.meta,validator:t.validator})}}}},{key:"onValidatorNotValidated",value:function(t){var e=t.elements,n=t.element.getAttribute("type"),i="radio"===n||"checkbox"===n?e[0]:t.element;if(this.messages.has(i)){var r=this.messages.get(i),o=r.querySelector('[data-field="'.concat(t.field,'"][data-validator="').concat(t.validator,'"]'));o&&r.removeChild(o)}}},{key:"onElementIgnored",value:function(t){var e=t.elements,n=t.element.getAttribute("type"),i="radio"===n||"checkbox"===n?e[0]:t.element;if(this.messages.has(i)){var r=this.messages.get(i);[].slice.call(r.querySelectorAll('[data-field="'.concat(t.field,'"]'))).forEach(function(t){r.removeChild(t)})}}}],[{key:"getClosestContainer",value:function(t,e,n){for(var i=t;i&&i!==e&&(i=i.parentElement,!n.test(i.className)););return i}}]),e}(),X=function(t){function e(t){var n;return a(this,e),(n=p(this,d(e).call(this,t))).results=new Map,n.containers=new Map,n.opts=Object.assign({},{defaultMessageContainer:!0,eleInvalidClass:"",eleValidClass:"",rowClasses:"",rowValidatingClass:""},t),n.elementIgnoredHandler=n.onElementIgnored.bind(f(n)),n.elementValidatingHandler=n.onElementValidating.bind(f(n)),n.elementValidatedHandler=n.onElementValidated.bind(f(n)),n.elementNotValidatedHandler=n.onElementNotValidated.bind(f(n)),n.iconPlacedHandler=n.onIconPlaced.bind(f(n)),n.fieldAddedHandler=n.onFieldAdded.bind(f(n)),n.fieldRemovedHandler=n.onFieldRemoved.bind(f(n)),n}return u(e,K),l(e,[{key:"install",value:function(){var t,e=this;W(this.core.getFormElement(),(c(t={},this.opts.formClass,!0),c(t,"fv-plugins-framework",!0),t)),this.core.on("core.element.ignored",this.elementIgnoredHandler).on("core.element.validating",this.elementValidatingHandler).on("core.element.validated",this.elementValidatedHandler).on("core.element.notvalidated",this.elementNotValidatedHandler).on("plugins.icon.placed",this.iconPlacedHandler).on("core.field.added",this.fieldAddedHandler).on("core.field.removed",this.fieldRemovedHandler),this.opts.defaultMessageContainer&&this.core.registerPlugin("___frameworkMessage",new G({clazz:this.opts.messageClass,container:function(t,n){var i=Y(n,"string"==typeof e.opts.rowSelector?e.opts.rowSelector:e.opts.rowSelector(t,n));return G.getClosestContainer(n,i,e.opts.rowPattern)}}))}},{key:"uninstall",value:function(){var t;this.results.clear(),this.containers.clear(),W(this.core.getFormElement(),(c(t={},this.opts.formClass,!1),c(t,"fv-plugins-framework",!1),t)),this.core.off("core.element.ignored",this.elementIgnoredHandler).off("core.element.validating",this.elementValidatingHandler).off("core.element.validated",this.elementValidatedHandler).off("core.element.notvalidated",this.elementNotValidatedHandler).off("plugins.icon.placed",this.iconPlacedHandler).off("core.field.added",this.fieldAddedHandler).off("core.field.removed",this.fieldRemovedHandler)}},{key:"onIconPlaced",value:function(t){}},{key:"onFieldAdded",value:function(t){var e=this,n=t.elements;n&&(n.forEach(function(t){var n,i=e.containers.get(t);i&&(W(i,(c(n={},e.opts.rowInvalidClass,!1),c(n,e.opts.rowValidatingClass,!1),c(n,e.opts.rowValidClass,!1),c(n,"fv-plugins-icon-container",!1),n)),e.containers.delete(t))}),this.prepareFieldContainer(t.field,n))}},{key:"onFieldRemoved",value:function(t){var e=this;t.elements.forEach(function(t){var n,i=e.containers.get(t);i&&W(i,(c(n={},e.opts.rowInvalidClass,!1),c(n,e.opts.rowValidatingClass,!1),c(n,e.opts.rowValidClass,!1),n))})}},{key:"prepareFieldContainer",value:function(t,e){var n=this;if(e.length){var i=e[0].getAttribute("type");"radio"===i||"checkbox"===i?this.prepareElementContainer(t,e[0]):e.forEach(function(e){return n.prepareElementContainer(t,e)})}}},{key:"prepareElementContainer",value:function(t,e){var n,i=Y(e,"string"==typeof this.opts.rowSelector?this.opts.rowSelector:this.opts.rowSelector(t,e));i!==e&&(W(i,(c(n={},this.opts.rowClasses,!0),c(n,"fv-plugins-icon-container",!0),n)),this.containers.set(e,i))}},{key:"onElementValidating",value:function(t){var e,n=t.elements,i=t.element.getAttribute("type"),r="radio"===i||"checkbox"===i?n[0]:t.element,o=this.containers.get(r);o&&W(o,(c(e={},this.opts.rowInvalidClass,!1),c(e,this.opts.rowValidatingClass,!0),c(e,this.opts.rowValidClass,!1),e))}},{key:"onElementNotValidated",value:function(t){this.removeClasses(t.element,t.elements)}},{key:"onElementIgnored",value:function(t){this.removeClasses(t.element,t.elements)}},{key:"removeClasses",value:function(t,e){var n,i=t.getAttribute("type"),r="radio"===i||"checkbox"===i?e[0]:t;W(r,(c(n={},this.opts.eleValidClass,!1),c(n,this.opts.eleInvalidClass,!1),n));var o,a=this.containers.get(r);a&&W(a,(c(o={},this.opts.rowInvalidClass,!1),c(o,this.opts.rowValidatingClass,!1),c(o,this.opts.rowValidClass,!1),o))}},{key:"onElementValidated",value:function(t){var e,n=this,i=t.elements,r=t.element.getAttribute("type"),o="radio"===r||"checkbox"===r?i[0]:t.element;W(o,(c(e={},this.opts.eleValidClass,t.valid),c(e,this.opts.eleInvalidClass,!t.valid),e));var a=this.containers.get(o);if(a)if(t.valid){this.results.delete(o);var s,l=!0;if(this.containers.forEach(function(t,e){t===a&&!1===n.results.get(e)&&(l=!1)}),l)W(a,(c(s={},this.opts.rowInvalidClass,!1),c(s,this.opts.rowValidatingClass,!1),c(s,this.opts.rowValidClass,!0),s))}else{var u;this.results.set(o,!1),W(a,(c(u={},this.opts.rowInvalidClass,!0),c(u,this.opts.rowValidatingClass,!1),c(u,this.opts.rowValidClass,!1),u))}}}]),e}(),Z=function(t){function e(t){var n;return a(this,e),(n=p(this,d(e).call(this,t))).icons=new Map,n.opts=Object.assign({},{invalid:"fv-plugins-icon--invalid",onPlaced:function(){},onSet:function(){},valid:"fv-plugins-icon--valid",validating:"fv-plugins-icon--validating"},t),n.elementValidatingHandler=n.onElementValidating.bind(f(n)),n.elementValidatedHandler=n.onElementValidated.bind(f(n)),n.elementNotValidatedHandler=n.onElementNotValidated.bind(f(n)),n.elementIgnoredHandler=n.onElementIgnored.bind(f(n)),n.fieldAddedHandler=n.onFieldAdded.bind(f(n)),n}return u(e,K),l(e,[{key:"install",value:function(){this.core.on("core.element.validating",this.elementValidatingHandler).on("core.element.validated",this.elementValidatedHandler).on("core.element.notvalidated",this.elementNotValidatedHandler).on("core.element.ignored",this.elementIgnoredHandler).on("core.field.added",this.fieldAddedHandler)}},{key:"uninstall",value:function(){this.icons.forEach(function(t){return t.parentNode.removeChild(t)}),this.icons.clear(),this.core.off("core.element.validating",this.elementValidatingHandler).off("core.element.validated",this.elementValidatedHandler).off("core.element.notvalidated",this.elementNotValidatedHandler).off("core.element.ignored",this.elementIgnoredHandler).off("core.field.added",this.fieldAddedHandler)}},{key:"onFieldAdded",value:function(t){var e=this,n=t.elements;n&&(n.forEach(function(t){var n=e.icons.get(t);n&&(n.parentNode.removeChild(n),e.icons.delete(t))}),this.prepareFieldIcon(t.field,n))}},{key:"prepareFieldIcon",value:function(t,e){var n=this;if(e.length){var i=e[0].getAttribute("type");"radio"===i||"checkbox"===i?this.prepareElementIcon(t,e[0]):e.forEach(function(e){return n.prepareElementIcon(t,e)})}}},{key:"prepareElementIcon",value:function(t,e){var n=document.createElement("i");n.setAttribute("data-field",t),e.parentNode.insertBefore(n,e.nextSibling),W(n,{"fv-plugins-icon":!0});var i={classes:{invalid:this.opts.invalid,valid:this.opts.valid,validating:this.opts.validating},element:e,field:t,iconElement:n};this.core.emit("plugins.icon.placed",i),this.opts.onPlaced(i),this.icons.set(e,n)}},{key:"onElementValidating",value:function(t){var e,n=this.setClasses(t.field,t.element,t.elements,(c(e={},this.opts.invalid,!1),c(e,this.opts.valid,!1),c(e,this.opts.validating,!0),e)),i={element:t.element,field:t.field,iconElement:n,status:"Validating"};this.core.emit("plugins.icon.set",i),this.opts.onSet(i)}},{key:"onElementValidated",value:function(t){var e,n=this.setClasses(t.field,t.element,t.elements,(c(e={},this.opts.invalid,!t.valid),c(e,this.opts.valid,t.valid),c(e,this.opts.validating,!1),e)),i={element:t.element,field:t.field,iconElement:n,status:t.valid?"Valid":"Invalid"};this.core.emit("plugins.icon.set",i),this.opts.onSet(i)}},{key:"onElementNotValidated",value:function(t){var e,n=this.setClasses(t.field,t.element,t.elements,(c(e={},this.opts.invalid,!1),c(e,this.opts.valid,!1),c(e,this.opts.validating,!1),e)),i={element:t.element,field:t.field,iconElement:n,status:"NotValidated"};this.core.emit("plugins.icon.set",i),this.opts.onSet(i)}},{key:"onElementIgnored",value:function(t){var e,n=this.setClasses(t.field,t.element,t.elements,(c(e={},this.opts.invalid,!1),c(e,this.opts.valid,!1),c(e,this.opts.validating,!1),e)),i={element:t.element,field:t.field,iconElement:n,status:"Ignored"};this.core.emit("plugins.icon.set",i),this.opts.onSet(i)}},{key:"setClasses",value:function(t,e,n,i){var r=e.getAttribute("type"),o="radio"===r||"checkbox"===r?n[0]:e;if(this.icons.has(o)){var a=this.icons.get(o);return W(a,i),a}return null}}]),e}(),J=function(t){function e(t){var n;return a(this,e),(n=p(this,d(e).call(this,t))).invalidFields=new Map,n.opts=Object.assign({},{enabled:!0},t),n.validatorHandler=n.onValidatorValidated.bind(f(n)),n.shouldValidateFilter=n.shouldValidate.bind(f(n)),n.fieldAddedHandler=n.onFieldAdded.bind(f(n)),n.elementNotValidatedHandler=n.onElementNotValidated.bind(f(n)),n.elementValidatingHandler=n.onElementValidating.bind(f(n)),n}return u(e,K),l(e,[{key:"install",value:function(){this.core.on("core.validator.validated",this.validatorHandler).on("core.field.added",this.fieldAddedHandler).on("core.element.notvalidated",this.elementNotValidatedHandler).on("core.element.validating",this.elementValidatingHandler).registerFilter("field-should-validate",this.shouldValidateFilter)}},{key:"uninstall",value:function(){this.invalidFields.clear(),this.core.off("core.validator.validated",this.validatorHandler).off("core.field.added",this.fieldAddedHandler).off("core.element.notvalidated",this.elementNotValidatedHandler).off("core.element.validating",this.elementValidatingHandler).deregisterFilter("field-should-validate",this.shouldValidateFilter)}},{key:"shouldValidate",value:function(t,e,n,i){return!((!0===this.opts.enabled||!0===this.opts.enabled[t])&&this.invalidFields.has(e)&&!!this.invalidFields.get(e).length&&-1===this.invalidFields.get(e).indexOf(i))}},{key:"onValidatorValidated",value:function(t){var e=this.invalidFields.has(t.element)?this.invalidFields.get(t.element):[],n=e.indexOf(t.validator);t.result.valid&&n>=0?e.splice(n,1):!t.result.valid&&-1===n&&e.push(t.validator),this.invalidFields.set(t.element,e)}},{key:"onFieldAdded",value:function(t){t.elements&&this.clearInvalidFields(t.elements)}},{key:"onElementNotValidated",value:function(t){this.clearInvalidFields(t.elements)}},{key:"onElementValidating",value:function(t){this.clearInvalidFields(t.elements)}},{key:"clearInvalidFields",value:function(t){var e=this;t.forEach(function(t){return e.invalidFields.delete(t)})}}]),e}(),Q=function(t){function e(t){var n;return a(this,e),(n=p(this,d(e).call(this,t))).isFormValid=!1,n.opts=Object.assign({},{aspNetButton:!1,selector:'[type="submit"]:not([formnovalidate])'},t),n.submitHandler=n.handleSubmitEvent.bind(f(n)),n.buttonClickHandler=n.handleClickEvent.bind(f(n)),n}return u(e,K),l(e,[{key:"install",value:function(){var t=this;if(this.core.getFormElement()instanceof HTMLFormElement){var e=this.core.getFormElement();this.selectorButtons=[].slice.call(e.querySelectorAll(this.opts.selector)),this.submitButtons=[].slice.call(e.querySelectorAll('[type="submit"]')),e.setAttribute("novalidate","novalidate"),e.addEventListener("submit",this.submitHandler),this.hiddenClickedEle=document.createElement("input"),this.hiddenClickedEle.setAttribute("type","hidden"),e.appendChild(this.hiddenClickedEle),this.submitButtons.forEach(function(e){e.addEventListener("click",t.buttonClickHandler)})}}},{key:"uninstall",value:function(){var t=this,e=this.core.getFormElement();e instanceof HTMLFormElement&&e.removeEventListener("submit",this.submitHandler),this.submitButtons.forEach(function(e){e.removeEventListener("click",t.buttonClickHandler)}),this.hiddenClickedEle.parentElement.removeChild(this.hiddenClickedEle)}},{key:"handleSubmitEvent",value:function(t){this.validateForm(t)}},{key:"handleClickEvent",value:function(t){var e=t.currentTarget;if(e instanceof HTMLElement&&-1!==this.selectorButtons.indexOf(e)&&(!this.opts.aspNetButton||!0!==this.isFormValid)){this.core.getFormElement().removeEventListener("submit",this.submitHandler),this.clickedButton=t.target;var n=this.clickedButton.getAttribute("name"),i=this.clickedButton.getAttribute("value");n&&i&&(this.hiddenClickedEle.setAttribute("name",n),this.hiddenClickedEle.setAttribute("value",i)),this.validateForm(t)}}},{key:"validateForm",value:function(t){var e=this;t.preventDefault(),this.core.validate().then(function(t){"Valid"===t&&e.opts.aspNetButton&&!e.isFormValid&&e.clickedButton&&(e.isFormValid=!0,e.clickedButton.removeEventListener("click",e.buttonClickHandler),e.clickedButton.click())})}}]),e}(),tt=function(t){function e(t){var n;return a(this,e),(n=p(this,d(e).call(this,t))).messages=new Map,n.opts=Object.assign({},{placement:"top",trigger:"click"},t),n.iconPlacedHandler=n.onIconPlaced.bind(f(n)),n.validatorValidatedHandler=n.onValidatorValidated.bind(f(n)),n.elementValidatedHandler=n.onElementValidated.bind(f(n)),n.documentClickHandler=n.onDocumentClicked.bind(f(n)),n}return u(e,K),l(e,[{key:"install",value:function(){this.tip=document.createElement("div"),W(this.tip,c({"fv-plugins-tooltip":!0},"fv-plugins-tooltip--".concat(this.opts.placement),!0)),document.body.appendChild(this.tip),this.core.on("plugins.icon.placed",this.iconPlacedHandler).on("core.validator.validated",this.validatorValidatedHandler).on("core.element.validated",this.elementValidatedHandler),"click"===this.opts.trigger&&document.addEventListener("click",this.documentClickHandler)}},{key:"uninstall",value:function(){this.messages.clear(),document.body.removeChild(this.tip),this.core.off("plugins.icon.placed",this.iconPlacedHandler).off("core.validator.validated",this.validatorValidatedHandler).off("core.element.validated",this.elementValidatedHandler),"click"===this.opts.trigger&&document.removeEventListener("click",this.documentClickHandler)}},{key:"onIconPlaced",value:function(t){var e=this;switch(W(t.iconElement,{"fv-plugins-tooltip-icon":!0}),this.opts.trigger){case"hover":t.iconElement.addEventListener("mouseenter",function(n){return e.show(t.element,n)}),t.iconElement.addEventListener("mouseleave",function(t){return e.hide()});break;case"click":default:t.iconElement.addEventListener("click",function(n){return e.show(t.element,n)})}}},{key:"onValidatorValidated",value:function(t){if(!t.result.valid){var e=t.elements,n=t.element.getAttribute("type"),i="radio"===n||"checkbox"===n?e[0]:t.element,r="string"==typeof t.result.message?t.result.message:t.result.message[this.core.getLocale()];this.messages.set(i,r)}}},{key:"onElementValidated",value:function(t){if(t.valid){var e=t.elements,n=t.element.getAttribute("type"),i="radio"===n||"checkbox"===n?e[0]:t.element;this.messages.delete(i)}}},{key:"onDocumentClicked",value:function(t){this.hide()}},{key:"show",value:function(t,e){if(e.preventDefault(),e.stopPropagation(),this.messages.has(t)){W(this.tip,{"fv-plugins-tooltip--hide":!1}),this.tip.innerHTML='<span class="fv-plugins-tooltip__content">'.concat(this.messages.get(t),"</span>");var n=e.target.getBoundingClientRect(),i=0,r=0;switch(this.opts.placement){case"top":default:i=n.top-n.height,r=n.left+n.width/2-this.tip.clientWidth/2;break;case"top-left":i=n.top-n.height,r=n.left;break;case"top-right":i=n.top-n.height,r=n.left+n.width-this.tip.clientWidth;break;case"bottom":i=n.top+n.height,r=n.left+n.width/2-this.tip.clientWidth/2;break;case"bottom-left":i=n.top+n.height,r=n.left;break;case"bottom-right":i=n.top+n.height,r=n.left+n.width-this.tip.clientWidth;break;case"left":i=n.top+n.height/2-this.tip.clientHeight/2,r=n.left-this.tip.clientWidth;break;case"right":i=n.top+n.height/2-this.tip.clientHeight/2,r=n.left+n.width}i+=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,r+=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,this.tip.setAttribute("style","top: ".concat(i,"px; left: ").concat(r,"px"))}}},{key:"hide",value:function(){W(this.tip,{"fv-plugins-tooltip--hide":!0})}}]),e}(),et=function(t){function e(t){var n;a(this,e),(n=p(this,d(e).call(this,t))).handlers=[],n.timers=new Map,n.ieVersion=function(){for(var t=3,e=document.createElement("div"),n=e.all||[];e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><br><![endif]--\x3e",n[0];);return t>4?t:document.documentMode}();var i=document.createElement("div");return n.defaultEvent=9!==n.ieVersion&&"oninput"in i?"input":"keyup",n.opts=Object.assign({},{delay:0,event:n.defaultEvent,threshold:0},t),n.fieldAddedHandler=n.onFieldAdded.bind(f(n)),n.fieldRemovedHandler=n.onFieldRemoved.bind(f(n)),n}return u(e,K),l(e,[{key:"install",value:function(){this.core.on("core.field.added",this.fieldAddedHandler).on("core.field.removed",this.fieldRemovedHandler)}},{key:"uninstall",value:function(){this.handlers.forEach(function(t){return t.element.removeEventListener(t.event,t.handler)}),this.handlers=[],this.timers.forEach(function(t){return window.clearTimeout(t)}),this.timers.clear(),this.core.off("core.field.added",this.fieldAddedHandler).off("core.field.removed",this.fieldRemovedHandler)}},{key:"prepareHandler",value:function(t,e){var n=this;e.forEach(function(e){var i=[];switch(!0){case!!n.opts.event&&!1===n.opts.event[t]:i=[];break;case!!n.opts.event&&!!n.opts.event[t]:i=n.opts.event[t].split(" ");break;case"string"==typeof n.opts.event&&n.opts.event!==n.defaultEvent:i=n.opts.event.split(" ");break;default:var r=e.getAttribute("type"),o=e.tagName.toLowerCase();i=["radio"===r||"checkbox"===r||"file"===r||"select"===o?"change":n.ieVersion>=10&&e.getAttribute("placeholder")?"keyup":n.defaultEvent]}i.forEach(function(i){var r=function(i){return n.handleEvent(i,t,e)};n.handlers.push({element:e,event:i,field:t,handler:r}),e.addEventListener(i,r)})})}},{key:"handleEvent",value:function(t,e,n){var i=this;if(this.exceedThreshold(e,n)&&this.core.executeFilter("plugins-trigger-should-validate",!0,[e,n])){var r=function(){return i.core.validateElement(e,n).then(function(r){i.core.emit("plugins.trigger.executed",{element:n,event:t,field:e})})},o=this.opts.delay[e]||this.opts.delay;if(0===o)r();else{var a=this.timers.get(n);a&&window.clearTimeout(a),this.timers.set(n,window.setTimeout(r,1e3*o))}}}},{key:"onFieldAdded",value:function(t){this.handlers.filter(function(e){return e.field===t.field}).forEach(function(t){return t.element.removeEventListener(t.event,t.handler)}),this.prepareHandler(t.field,t.elements)}},{key:"onFieldRemoved",value:function(t){this.handlers.filter(function(e){return e.field===t.field&&t.elements.indexOf(e.element)>=0}).forEach(function(t){return t.element.removeEventListener(t.event,t.handler)})}},{key:"exceedThreshold",value:function(t,e){var n=0!==this.opts.threshold[t]&&0!==this.opts.threshold&&(this.opts.threshold[t]||this.opts.threshold);if(!n)return!0;var i=e.getAttribute("type");return-1!==["button","checkbox","file","hidden","image","radio","reset","submit"].indexOf(i)||this.core.getElementValue(t,e).length>=n}}]),e}(),nt={Alias:F,Aria:B,Declarative:$,DefaultSubmit:H,Dependency:U,Excluded:z,FieldStatus:V,Framework:X,Icon:Z,Message:G,Sequence:J,SubmitButton:Q,Tooltip:tt,Trigger:et};var it={call:v,classSet:W,closest:Y,fetch:w,format:m,hasClass:function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )".concat(e,"( |$)"),"gi").test(t.className)},isValidDate:b};t.Plugin=K,t.algorithms=o,t.filters=j,t.formValidation=function(t,e){var n=Object.assign({},{fields:{},locale:"en_US",plugins:{}},e),i=new L(t,n.fields);return i.setLocale(n.locale,n.localization),Object.keys(n.plugins).forEach(function(t){return i.registerPlugin(t,n.plugins[t])}),Object.keys(M).forEach(function(t){return i.registerValidator(t,M[t])}),Object.keys(n.fields).forEach(function(t){return i.addField(t,n.fields[t])}),i},t.locales={},t.plugins=nt,t.utils=it,t.validators=M,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):((t=t||self).FormValidation=t.FormValidation||{},t.FormValidation.plugins=t.FormValidation.plugins||{},t.FormValidation.plugins.Bootstrap=e())}(this,function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}var a=FormValidation.utils.classSet,s=FormValidation.utils.hasClass,l=FormValidation.plugins.Framework;return function(t){function r(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),o(this,i(r).call(this,Object.assign({},{eleInvalidClass:"is-invalid",eleValidClass:"is-valid",formClass:"fv-plugins-bootstrap",messageClass:"fv-help-block",rowInvalidClass:"has-danger",rowPattern:/^(.*)(col|offset)(-(sm|md|lg|xl))*-[0-9]+(.*)$/,rowSelector:".form-group",rowValidClass:"has-success"},t)))}return n(r,l),e(r,[{key:"onIconPlaced",value:function(t){var e=t.element.parentElement;s(e,"input-group")&&e.parentElement.insertBefore(t.iconElement,e.nextSibling);var n=t.element.getAttribute("type");if("checkbox"===n||"radio"===n){var i=e.parentElement;s(e,"form-check")?(a(t.iconElement,{"fv-plugins-icon-check":!0}),e.parentElement.insertBefore(t.iconElement,e.nextSibling)):s(e.parentElement,"form-check")&&(a(t.iconElement,{"fv-plugins-icon-check":!0}),i.parentElement.insertBefore(t.iconElement,i.nextSibling))}}}]),r}()}),function(){"use strict";function t(t){t.fn._fadeIn=t.fn.fadeIn;var e=t.noop||function(){},n=/MSIE/.test(navigator.userAgent),i=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),r=(document.documentMode,t.isFunction(document.createElement("div").style.setExpression));t.blockUI=function(t){s(window,t)},t.unblockUI=function(t){l(window,t)},t.growlUI=function(e,n,i,r){var o=t('<div class="growlUI"></div>');e&&o.append("<h1>"+e+"</h1>"),n&&o.append("<h2>"+n+"</h2>"),void 0===i&&(i=3e3);var a=function(e){e=e||{},t.blockUI({message:o,fadeIn:void 0!==e.fadeIn?e.fadeIn:700,fadeOut:void 0!==e.fadeOut?e.fadeOut:1e3,timeout:void 0!==e.timeout?e.timeout:i,centerY:!1,showOverlay:!1,onUnblock:r,css:t.blockUI.defaults.growlCSS})};a();o.css("opacity");o.mouseover(function(){a({fadeIn:0,timeout:3e4});var e=t(".blockMsg");e.stop(),e.fadeTo(300,1)}).mouseout(function(){t(".blockMsg").fadeOut(1e3)})},t.fn.block=function(e){if(this[0]===window)return t.blockUI(e),this;var n=t.extend({},t.blockUI.defaults,e||{});return this.each(function(){var e=t(this);n.ignoreIfBlocked&&e.data("blockUI.isBlocked")||e.unblock({fadeOut:0})}),this.each(function(){"static"==t.css(this,"position")&&(this.style.position="relative",t(this).data("blockUI.static",!0)),this.style.zoom=1,s(this,e)})},t.fn.unblock=function(e){return this[0]===window?(t.unblockUI(e),this):this.each(function(){l(this,e)})},t.blockUI.version=2.7,t.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var o=null,a=[];function s(s,c){var d,p,g=s==window,m=c&&void 0!==c.message?c.message:void 0;if(!(c=t.extend({},t.blockUI.defaults,c||{})).ignoreIfBlocked||!t(s).data("blockUI.isBlocked")){if(c.overlayCSS=t.extend({},t.blockUI.defaults.overlayCSS,c.overlayCSS||{}),d=t.extend({},t.blockUI.defaults.css,c.css||{}),c.onOverlayClick&&(c.overlayCSS.cursor="pointer"),p=t.extend({},t.blockUI.defaults.themedCSS,c.themedCSS||{}),m=void 0===m?c.message:m,g&&o&&l(window,{fadeOut:0}),m&&"string"!=typeof m&&(m.parentNode||m.jquery)){var v=m.jquery?m[0]:m,y={};t(s).data("blockUI.history",y),y.el=v,y.parent=v.parentNode,y.display=v.style.display,y.position=v.style.position,y.parent&&y.parent.removeChild(v)}t(s).data("blockUI.onUnblock",c.onUnblock);var b,w,E,C,T=c.baseZ;b=n||c.forceIframe?t('<iframe class="blockUI" style="z-index:'+T+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+c.iframeSrc+'"></iframe>'):t('<div class="blockUI" style="display:none"></div>'),w=c.theme?t('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+T+++';display:none"></div>'):t('<div class="blockUI blockOverlay" style="z-index:'+T+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),c.theme&&g?(C='<div class="blockUI '+c.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(T+10)+';display:none;position:fixed">',c.title&&(C+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(c.title||"&nbsp;")+"</div>"),C+='<div class="ui-widget-content ui-dialog-content"></div>',C+="</div>"):c.theme?(C='<div class="blockUI '+c.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(T+10)+';display:none;position:absolute">',c.title&&(C+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(c.title||"&nbsp;")+"</div>"),C+='<div class="ui-widget-content ui-dialog-content"></div>',C+="</div>"):C=g?'<div class="blockUI '+c.blockMsgClass+' blockPage" style="z-index:'+(T+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+c.blockMsgClass+' blockElement" style="z-index:'+(T+10)+';display:none;position:absolute"></div>',E=t(C),m&&(c.theme?(E.css(p),E.addClass("ui-widget-content")):E.css(d)),c.theme||w.css(c.overlayCSS),w.css("position",g?"fixed":"absolute"),(n||c.forceIframe)&&b.css("opacity",0);var _=[b,w,E],O=t(g?"body":s);t.each(_,function(){this.appendTo(O)}),c.theme&&c.draggable&&t.fn.draggable&&E.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var k=r&&(!t.support.boxModel||t("object,embed",g?null:s).length>0);if(i||k){if(g&&c.allowBodyStretch&&t.support.boxModel&&t("html,body").css("height","100%"),(i||!t.support.boxModel)&&!g)var D=f(s,"borderTopWidth"),x=f(s,"borderLeftWidth"),I=D?"(0 - "+D+")":0,S=x?"(0 - "+x+")":0;t.each(_,function(t,e){var n=e[0].style;if(n.position="absolute",t<2)g?n.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+c.quirksmodeOffsetHack+') + "px"'):n.setExpression("height",'this.parentNode.offsetHeight + "px"'),g?n.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):n.setExpression("width",'this.parentNode.offsetWidth + "px"'),S&&n.setExpression("left",S),I&&n.setExpression("top",I);else if(c.centerY)g&&n.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),n.marginTop=0;else if(!c.centerY&&g){var i="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(c.css&&c.css.top?parseInt(c.css.top,10):0)+') + "px"';n.setExpression("top",i)}})}if(m&&(c.theme?E.find(".ui-widget-content").append(m):E.append(m),(m.jquery||m.nodeType)&&t(m).show()),(n||c.forceIframe)&&c.showOverlay&&b.show(),c.fadeIn){var R=c.onBlock?c.onBlock:e,A=c.showOverlay&&!m?R:e,N=m?R:e;c.showOverlay&&w._fadeIn(c.fadeIn,A),m&&E._fadeIn(c.fadeIn,N)}else c.showOverlay&&w.show(),m&&E.show(),c.onBlock&&c.onBlock.bind(E)();if(u(1,s,c),g?(o=E[0],a=t(c.focusableElements,o),c.focusInput&&setTimeout(h,20)):function(t,e,n){var i=t.parentNode,r=t.style,o=(i.offsetWidth-t.offsetWidth)/2-f(i,"borderLeftWidth"),a=(i.offsetHeight-t.offsetHeight)/2-f(i,"borderTopWidth");e&&(r.left=o>0?o+"px":"0");n&&(r.top=a>0?a+"px":"0")}(E[0],c.centerX,c.centerY),c.timeout){var P=setTimeout(function(){g?t.unblockUI(c):t(s).unblock(c)},c.timeout);t(s).data("blockUI.timeout",P)}}}function l(e,n){var i,r,s=e==window,l=t(e),d=l.data("blockUI.history"),h=l.data("blockUI.timeout");h&&(clearTimeout(h),l.removeData("blockUI.timeout")),n=t.extend({},t.blockUI.defaults,n||{}),u(0,e,n),null===n.onUnblock&&(n.onUnblock=l.data("blockUI.onUnblock"),l.removeData("blockUI.onUnblock")),r=s?t("body").children().filter(".blockUI").add("body > .blockUI"):l.find(">.blockUI"),n.cursorReset&&(r.length>1&&(r[1].style.cursor=n.cursorReset),r.length>2&&(r[2].style.cursor=n.cursorReset)),s&&(o=a=null),n.fadeOut?(i=r.length,r.stop().fadeOut(n.fadeOut,function(){0==--i&&c(r,d,n,e)})):c(r,d,n,e)}function c(e,n,i,r){var o=t(r);if(!o.data("blockUI.isBlocked")){e.each(function(t,e){this.parentNode&&this.parentNode.removeChild(this)}),n&&n.el&&(n.el.style.display=n.display,n.el.style.position=n.position,n.el.style.cursor="default",n.parent&&n.parent.appendChild(n.el),o.removeData("blockUI.history")),o.data("blockUI.static")&&o.css("position","static"),"function"==typeof i.onUnblock&&i.onUnblock(r,i);var a=t(document.body),s=a.width(),l=a[0].style.width;a.width(s-1).width(s),a[0].style.width=l}}function u(e,n,i){var r=n==window,a=t(n);if((e||(!r||o)&&(r||a.data("blockUI.isBlocked")))&&(a.data("blockUI.isBlocked",e),r&&i.bindEvents&&(!e||i.showOverlay))){var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";e?t(document).bind(s,i,d):t(document).unbind(s,d)}}function d(e){if("keydown"===e.type&&e.keyCode&&9==e.keyCode&&o&&e.data.constrainTabKey){var n=a,i=!e.shiftKey&&e.target===n[n.length-1],r=e.shiftKey&&e.target===n[0];if(i||r)return setTimeout(function(){h(r)},10),!1}var s=e.data,l=t(e.target);return l.hasClass("blockOverlay")&&s.onOverlayClick&&s.onOverlayClick(e),l.parents("div."+s.blockMsgClass).length>0||0===l.parents().children().filter("div.blockUI").length}function h(t){if(a){var e=a[!0===t?a.length-1:0];e&&e.focus()}}function f(e,n){return parseInt(t.css(e,n),10)||0}}"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function r(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function o(n,i){return function(){return i!==e&&t.fn.datepicker.deprecated(i),this[n].apply(this,arguments)}}function a(e){var n={};if(p[e]||(e=e.split("-")[0],p[e])){var i=p[e];return t.each(f,function(t,e){e in i&&(n[e]=i[e])}),n}}var s=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;n<i;n++)if(0<=this[n].valueOf()-e&&this[n].valueOf()-e<864e5)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new s;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),l=function(e,n){t.data(e,"datepicker",this),this._events=[],this._secondaryEvents=[],this._process_options(n),this.dates=new s,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=t(g.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};l.prototype={constructor:l,_resolveViewName:function(e){return t.each(g.viewModes,function(n,i){if(e===n||-1!==t.inArray(e,i.names))return e=n,!1}),e},_resolveDaysOfWeek:function(e){return t.isArray(e)||(e=e.split(/[,\s]*/)),t.map(e,Number)},_check_template:function(n){try{return n!==e&&""!==n&&((n.match(/[<>]/g)||[]).length<=0||t(n).length>0)}catch(t){return!1}},_process_options:function(e){this._o=t.extend({},this._o,e);var r=this.o=t.extend({},this._o),o=r.language;p[o]||(o=o.split("-")[0],p[o]||(o=h.language)),r.language=o,r.startView=this._resolveViewName(r.startView),r.minViewMode=this._resolveViewName(r.minViewMode),r.maxViewMode=this._resolveViewName(r.maxViewMode),r.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,r.startView)),!0!==r.multidate&&(r.multidate=Number(r.multidate)||!1,!1!==r.multidate&&(r.multidate=Math.max(0,r.multidate))),r.multidateSeparator=String(r.multidateSeparator),r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var a=g.parseFormat(r.format);r.startDate!==-1/0&&(r.startDate?r.startDate instanceof Date?r.startDate=this._local_to_utc(this._zero_time(r.startDate)):r.startDate=g.parseDate(r.startDate,a,r.language,r.assumeNearbyYear):r.startDate=-1/0),r.endDate!==1/0&&(r.endDate?r.endDate instanceof Date?r.endDate=this._local_to_utc(this._zero_time(r.endDate)):r.endDate=g.parseDate(r.endDate,a,r.language,r.assumeNearbyYear):r.endDate=1/0),r.daysOfWeekDisabled=this._resolveDaysOfWeek(r.daysOfWeekDisabled||[]),r.daysOfWeekHighlighted=this._resolveDaysOfWeek(r.daysOfWeekHighlighted||[]),r.datesDisabled=r.datesDisabled||[],t.isArray(r.datesDisabled)||(r.datesDisabled=r.datesDisabled.split(",")),r.datesDisabled=t.map(r.datesDisabled,function(t){return g.parseDate(t,a,r.language,r.assumeNearbyYear)});var s=String(r.orientation).toLowerCase().split(/\s+/g),l=r.orientation.toLowerCase();if(s=t.grep(s,function(t){return/^auto|left|right|top|bottom$/.test(t)}),r.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===s.length)switch(s[0]){case"top":case"bottom":r.orientation.y=s[0];break;case"left":case"right":r.orientation.x=s[0]}else l=t.grep(s,function(t){return/^left|right$/.test(t)}),r.orientation.x=l[0]||"auto",l=t.grep(s,function(t){return/^top|bottom$/.test(t)}),r.orientation.y=l[0]||"auto";if(r.defaultViewDate instanceof Date||"string"==typeof r.defaultViewDate)r.defaultViewDate=g.parseDate(r.defaultViewDate,a,r.language,r.assumeNearbyYear);else if(r.defaultViewDate){var c=r.defaultViewDate.year||(new Date).getFullYear(),u=r.defaultViewDate.month||0,d=r.defaultViewDate.day||1;r.defaultViewDate=n(c,u,d)}else r.defaultViewDate=i()},_applyEvents:function(t){for(var n,i,r,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(i=e,r=t[o][1]):3===t[o].length&&(i=t[o][1],r=t[o][2]),n.on(r,i)},_unapplyEvents:function(t){for(var n,i,r,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(r=e,i=t[o][1]):3===t[o].length&&(r=t[o][1],i=t[o][2]),n.off(i,r)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.inputField.length?this._events=[[this.inputField,e],[this.component,{click:t.proxy(this.show,this)}]]:this._events=[[this.element,{click:t.proxy(this.show,this),keydown:t.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[this.picker,".prev, .next",{click:t.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:t.proxy(this.dayCellClick,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),r=this._utc_to_local(i);this.element.trigger({type:e,date:r,viewMode:this.viewMode,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return g.formatDate(n,e,this.o.language)},this)})},show:function(){if(!(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var n;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))n=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}this.setDate(n),this.update(),e.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==e?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,t.map(e,this._utc_to_local)),this},setDate:o("setDates"),setUTCDate:o("setUTCDates"),remove:o("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(n){n===e&&(n=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return g.formatDate(t,n,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=t(this.o.container),r=i.width(),o="body"===this.o.container?t(document).scrollTop():i.scrollTop(),a=i.offset(),s=[0];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==Number(e)&&s.push(Number(e))});var l=Math.max.apply(Math,s)+this.o.zIndexOffset,c=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=c.left-a.left,f=c.top-a.top;"body"!==this.o.container&&(f+=o),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=e-d)):c.left<0?(this.picker.addClass("datepicker-orient-left"),h-=c.left-10):h+e>r?(this.picker.addClass("datepicker-orient-right"),h+=d-e):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var p=this.o.orientation.y;if("auto"===p&&(p=-o+f-n<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+p),"top"===p?f-=n+parseInt(this.picker.css("padding-top")):f+=u,this.o.rtl){var g=r-(h+d);this.picker.css({top:f,right:g,zIndex:l})}else this.picker.css({top:f,left:h,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),n=[],i=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return g.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=t.grep(n,t.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),i?(this.setValue(),this.element.change()):this.dates.length&&String(e)!==String(this.dates)&&i&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&e.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var e=this.o.weekStart,n="<tr>";for(this.o.calendarWeeks&&(n+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)n+='<th class="dow',-1!==t.inArray(e,this.o.daysOfWeekDisabled)&&(n+=" disabled"),n+='">'+p[this.o.language].daysMin[e++%7]+"</th>";n+="</tr>",this.picker.find(".datepicker-days thead").append(n)}},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",n=0;n<12;n++)e+='<span class="month'+(t&&t.getMonth()===n?" focused":"")+'">'+p[this.o.language].monthsShort[n]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],o=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),s=i();return e.getUTCFullYear()<o||e.getUTCFullYear()===o&&e.getUTCMonth()<a?n.push("old"):(e.getUTCFullYear()>o||e.getUTCFullYear()===o&&e.getUTCMonth()>a)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&r(e,s)&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),this.dateWithinRange(e)||n.push("disabled"),this.dateIsDisabled(e)&&n.push("disabled","disabled-date"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&n.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected"),e.valueOf()===this.range[0]&&n.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&n.push("range-end")),n},_fill_yearsView:function(n,i,r,o,a,s,l){for(var c,u,d,h="",f=r/10,p=this.picker.find(n),g=Math.floor(o/r)*r,m=g+9*f,v=Math.floor(this.viewDate.getFullYear()/f)*f,y=t.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/f)*f}),b=g-f;b<=m+f;b+=f)c=[i],u=null,b===g-f?c.push("old"):b===m+f&&c.push("new"),-1!==t.inArray(b,y)&&c.push("active"),(b<a||b>s)&&c.push("disabled"),b===v&&c.push("focused"),l!==t.noop&&((d=l(new Date(b,0,1)))===e?d={}:"boolean"==typeof d?d={enabled:d}:"string"==typeof d&&(d={classes:d}),!1===d.enabled&&c.push("disabled"),d.classes&&(c=c.concat(d.classes.split(/\s+/))),d.tooltip&&(u=d.tooltip)),h+='<span class="'+c.join(" ")+'"'+(u?' title="'+u+'"':"")+">"+b+"</span>";p.find(".datepicker-switch").text(g+"-"+m),p.find("td").html(h)},fill:function(){var r,o,a=new Date(this.viewDate),s=a.getUTCFullYear(),l=a.getUTCMonth(),c=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,u=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,f=p[this.o.language].today||p.en.today||"",m=p[this.o.language].clear||p.en.clear||"",v=p[this.o.language].titleFormat||p.en.titleFormat,y=i(),b=(!0===this.o.todayBtn||"linked"===this.o.todayBtn)&&y>=this.o.startDate&&y<=this.o.endDate&&!this.weekOfDateIsDisabled(y);if(!isNaN(s)&&!isNaN(l)){this.picker.find(".datepicker-days .datepicker-switch").text(g.formatDate(a,v,this.o.language)),this.picker.find("tfoot .today").text(f).css("display",b?"table-cell":"none"),this.picker.find("tfoot .clear").text(m).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var w=n(s,l,0),E=w.getUTCDate();w.setUTCDate(E-(w.getUTCDay()-this.o.weekStart+7)%7);var C=new Date(w);w.getUTCFullYear()<100&&C.setUTCFullYear(w.getUTCFullYear()),C.setUTCDate(C.getUTCDate()+42),C=C.valueOf();for(var T,_,O=[];w.valueOf()<C;){if((T=w.getUTCDay())===this.o.weekStart&&(O.push("<tr>"),this.o.calendarWeeks)){var k=new Date(+w+(this.o.weekStart-T-7)%7*864e5),D=new Date(Number(k)+(11-k.getUTCDay())%7*864e5),x=new Date(Number(x=n(D.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864e5),I=(D-x)/864e5/7+1;O.push('<td class="cw">'+I+"</td>")}(_=this.getClassNames(w)).push("day");var S=w.getUTCDate();this.o.beforeShowDay!==t.noop&&((o=this.o.beforeShowDay(this._utc_to_local(w)))===e?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),!1===o.enabled&&_.push("disabled"),o.classes&&(_=_.concat(o.classes.split(/\s+/))),o.tooltip&&(r=o.tooltip),o.content&&(S=o.content)),_=t.isFunction(t.uniqueSort)?t.uniqueSort(_):t.unique(_),O.push('<td class="'+_.join(" ")+'"'+(r?' title="'+r+'"':"")+' data-date="'+w.getTime().toString()+'">'+S+"</td>"),r=null,T===this.o.weekEnd&&O.push("</tr>"),w.setUTCDate(w.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(O.join(""));var R=p[this.o.language].monthsTitle||p.en.monthsTitle||"Months",A=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?R:s).end().find("tbody span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===s&&A.eq(e.getUTCMonth()).addClass("active")}),(s<c||s>d)&&A.addClass("disabled"),s===c&&A.slice(0,u).addClass("disabled"),s===d&&A.slice(h+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var N=this;t.each(A,function(n,i){var r=new Date(s,n,1),o=N.o.beforeShowMonth(r);o===e?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),!1!==o.enabled||t(i).hasClass("disabled")||t(i).addClass("disabled"),o.classes&&t(i).addClass(o.classes),o.tooltip&&t(i).prop("title",o.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,s,c,d,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,s,c,d,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,s,c,d,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,n=new Date(this.viewDate),i=n.getUTCFullYear(),r=n.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,s=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=1;switch(this.viewMode){case 4:c*=10;case 3:c*=10;case 2:c*=10;case 1:t=Math.floor(i/c)*c<=o,e=Math.floor(i/c)*c+c>s;break;case 0:t=i<=o&&r<=a,e=i>=s&&r>=l}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(e){var r,o,a;e.preventDefault(),e.stopPropagation(),(r=t(e.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),r.hasClass("today")&&!r.hasClass("day")&&(this.setViewMode(0),this._setDate(i(),"linked"===this.o.todayBtn?null:"view")),r.hasClass("clear")&&this.clearDates(),r.hasClass("disabled")||(r.hasClass("month")||r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),1,1===this.viewMode?(a=r.parent().find("span").index(r),o=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a)):(a=0,o=Number(r.text()),this.viewDate.setUTCFullYear(o)),this._trigger(g.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(n(o,a,1)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(e){var n=t(e.currentTarget).data("date"),i=new Date(n);this.o.updateViewDate&&(i.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),i.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(i)},navArrowsClick:function(e){var n=t(e.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(n*=12*g.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,n),this._trigger(g.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):!1===this.o.multidate?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var n=new Date(t);return n.setUTCDate(t.getUTCDate()+e),n},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!function(t){return t&&!isNaN(t.getTime())}(t))return this.o.defaultViewDate;if(!e)return t;var n,i,r=new Date(t.valueOf()),o=r.getUTCDate(),a=r.getUTCMonth(),s=Math.abs(e);if(e=e>0?1:-1,1===s)i=-1===e?function(){return r.getUTCMonth()===a}:function(){return r.getUTCMonth()!==n},n=a+e,r.setUTCMonth(n),n=(n+12)%12;else{for(var l=0;l<s;l++)r=this.moveMonth(r,e);n=r.getUTCMonth(),r.setUTCDate(o),i=function(){return n!==r.getUTCMonth()}}for(;i();)r.setUTCDate(--o),r.setUTCMonth(n);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,n){do{if(t=this[n](t,e),!this.dateWithinRange(t))return!1;n="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep(this.o.datesDisabled,function(t){return r(e,t)}).length>0},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,n,i=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(n=this.moveAvailableDate(r,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(n=this.moveAvailableDate(r,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?n=this.moveAvailableDate(r,e,"moveDay"):this.weekOfDateIsDisabled(r)||(n=this.moveAvailableDate(r,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(r,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(r,e,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}i&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation())},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+g.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var c=function(e,n){t.data(e,"datepicker",this),this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,this.keepEmptyValues=n.keepEmptyValues,delete n.keepEmptyValues,d.call(t(this.inputs),n).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t.data(e,"datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},clearDates:function(){t.each(this.pickers,function(t,e){e.clearDates()})},dateUpdated:function(n){if(!this.updating){this.updating=!0;var i=t.data(n.target,"datepicker");if(i!==e){var r=i.getUTCDate(),o=this.keepEmptyValues,a=t.inArray(n.target,this.inputs),s=a-1,l=a+1,c=this.inputs.length;if(-1!==a){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e!==i&&o||e.setUTCDate(r)}),r<this.dates[s])for(;s>=0&&r<this.dates[s];)this.pickers[s--].setUTCDate(r);else if(r>this.dates[l])for(;l<c&&r>this.dates[l];)this.pickers[l++].setUTCDate(r);this.updateDates(),delete this.updating}}}},destroy:function(){t.map(this.pickers,function(t){t.destroy()}),t(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:o("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var u=t.fn.datepicker,d=function(n){var i,r=Array.apply(null,arguments);if(r.shift(),this.each(function(){var e=t(this),o=e.data("datepicker"),s="object"==typeof n&&n;if(!o){var u=function(e,n){function i(t,e){return e.toLowerCase()}var r=t(e).data(),o={},a=new RegExp("^"+n.toLowerCase()+"([A-Z])");for(var s in n=new RegExp("^"+n.toLowerCase()),r)n.test(s)&&(o[s.replace(a,i)]=r[s]);return o}(this,"date"),d=a(t.extend({},h,u,s).language),f=t.extend({},h,d,u,s);e.hasClass("input-daterange")||f.inputs?(t.extend(f,{inputs:f.inputs||e.find("input").toArray()}),o=new c(this,f)):o=new l(this,f),e.data("datepicker",o)}"string"==typeof n&&"function"==typeof o[n]&&(i=o[n].apply(o,r))}),i===e||i instanceof l||i instanceof c)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+n+" function)");return i};t.fn.datepicker=d;var h=t.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},f=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=l;var p=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},g={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(n,r,o,a){function s(){var t=this.slice(0,c[h].length),e=c[h].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!n)return e;if(n instanceof Date)return n;if("string"==typeof r&&(r=g.parseFormat(r)),r.toValue)return r.toValue(n,r,o);var c,u,d,h,f,m={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},v={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(n in v&&(n=v[n]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(n)){for(c=n.match(/([\-+]\d+)([dmwy])/gi),n=new Date,h=0;h<c.length;h++)u=c[h].match(/([\-+]\d+)([dmwy])/i),d=Number(u[1]),f=m[u[2].toLowerCase()],n=l.prototype[f](n,d);return l.prototype._zero_utc_time(n)}c=n&&n.match(this.nonpunctuation)||[];var y,b,w={},E=["yyyy","yy","M","MM","m","mm","d","dd"],C={yyyy:function(t,e){return t.setUTCFullYear(a?function(t,e){return!0===e&&(e=10),t<100&&(t+=2e3)>(new Date).getFullYear()+e&&(t-=100),t}(e,a):e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};C.yy=C.yyyy,C.M=C.MM=C.mm=C.m,C.dd=C.d,n=i();var T=r.parts.slice();if(c.length!==T.length&&(T=t(T).filter(function(e,n){return-1!==t.inArray(n,E)}).toArray()),c.length===T.length){var _,O,k;for(h=0,_=T.length;h<_;h++){if(y=parseInt(c[h],10),u=T[h],isNaN(y))switch(u){case"MM":b=t(p[o].months).filter(s),y=t.inArray(b[0],p[o].months)+1;break;case"M":b=t(p[o].monthsShort).filter(s),y=t.inArray(b[0],p[o].monthsShort)+1}w[u]=y}for(h=0;h<E.length;h++)(k=E[h])in w&&!isNaN(w[k])&&(O=new Date(n),C[k](O,w[k]),isNaN(O)||(n=O))}return n},formatDate:function(e,n,i){if(!e)return"";if("string"==typeof n&&(n=g.parseFormat(n)),n.toDisplay)return n.toDisplay(e,n,i);var r={d:e.getUTCDate(),D:p[i].daysShort[e.getUTCDay()],DD:p[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:p[i].monthsShort[e.getUTCMonth()],MM:p[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,e=[];for(var o=t.extend([],n.separators),a=0,s=n.parts.length;a<=s;a++)o.length&&e.push(o.shift()),e.push(r[n.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+h.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+h.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=g,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=u,this},t.fn.datepicker.version="1.9.0",t.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),d.call(n,"show"))}),t(function(){d.call(t('[data-provide="datepicker-inline"]'))})}),$.fn.datepicker.defaults.zIndexOffset=10,function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}"indexOf"in Array.prototype||(Array.prototype.indexOf=function(t,n){n===e&&(n=0),n<0&&(n+=this.length),n<0&&(n=0);for(var i=this.length;n<i;n++)if(n in this&&this[n]===t)return n;return-1});var i=function(n,i){var r=this;this.element=t(n),this.container=i.container||"body",this.language=i.language||this.element.data("date-language")||"en",this.language=this.language in o?this.language:this.language.split("-")[0],this.language=this.language in o?this.language:"en",this.isRTL=o[this.language].rtl||!1,this.formatType=i.formatType||this.element.data("format-type")||"standard",this.format=a.parseFormat(i.format||this.element.data("date-format")||o[this.language].format||a.getDefaultFormat(this.formatType,"input"),this.formatType),this.isInline=!1,this.isVisible=!1,this.isInput=this.element.is("input"),this.fontAwesome=i.fontAwesome||this.element.data("font-awesome")||!1,this.bootcssVer=i.bootcssVer||(this.isInput?this.element.is(".form-control")?3:2:this.bootcssVer=this.element.is(".input-group")?3:2),this.component=!!this.element.is(".date")&&(3===this.bootcssVer?this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-remove, .input-group-addon .glyphicon-calendar, .input-group-addon .fa-calendar, .input-group-addon .fa-clock-o").parent():this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar, .add-on .fa-calendar, .add-on .fa-clock-o").parent()),this.componentReset=!!this.element.is(".date")&&(3===this.bootcssVer?this.element.find(".input-group-addon .glyphicon-remove, .input-group-addon .fa-times").parent():this.element.find(".add-on .icon-remove, .add-on .fa-times").parent()),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.linkField=i.linkField||this.element.data("link-field")||!1,this.linkFormat=a.parseFormat(i.linkFormat||this.element.data("link-format")||a.getDefaultFormat(this.formatType,"link"),this.formatType),this.minuteStep=i.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=i.pickerPosition||this.element.data("picker-position")||"bottom-right",this.showMeridian=i.showMeridian||this.element.data("show-meridian")||!1,this.initialDate=i.initialDate||new Date,this.zIndex=i.zIndex||this.element.data("z-index")||e,this.title=void 0!==i.title&&i.title,this.timezone=i.timezone||function(){var t,e,n,i,r;if((n=(null!=(r=(e=(new Date).toString()).split("(")[1])?r.slice(0,-1):0)||e.split(" "))instanceof Array){i=[];for(var o=0,a=n.length;o<a;o++)(t=null!==(r=n[o].match(/\b[A-Z]+\b/)))&&r[0]&&i.push(t);n=i.pop()}return n}(),this.icons={leftArrow:this.fontAwesome?"fa-arrow-left":3===this.bootcssVer?"glyphicon-arrow-left":"icon-arrow-left",rightArrow:this.fontAwesome?"fa-arrow-right":3===this.bootcssVer?"glyphicon-arrow-right":"icon-arrow-right"},this.icontype=this.fontAwesome?"fa":"glyphicon",this._attachEvents(),this.clickedOutside=function(e){0===t(e.target).closest(".datetimepicker").length&&r.hide()},this.formatViewType="datetime","formatViewType"in i?this.formatViewType=i.formatViewType:"formatViewType"in this.element.data()&&(this.formatViewType=this.element.data("formatViewType")),this.minView=0,"minView"in i?this.minView=i.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=a.convertViewMode(this.minView),this.maxView=a.modes.length-1,"maxView"in i?this.maxView=i.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=a.convertViewMode(this.maxView),this.wheelViewModeNavigation=!1,"wheelViewModeNavigation"in i?this.wheelViewModeNavigation=i.wheelViewModeNavigation:"wheelViewModeNavigation"in this.element.data()&&(this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")),this.wheelViewModeNavigationInverseDirection=!1,"wheelViewModeNavigationInverseDirection"in i?this.wheelViewModeNavigationInverseDirection=i.wheelViewModeNavigationInverseDirection:"wheelViewModeNavigationInverseDirection"in this.element.data()&&(this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")),this.wheelViewModeNavigationDelay=100,"wheelViewModeNavigationDelay"in i?this.wheelViewModeNavigationDelay=i.wheelViewModeNavigationDelay:"wheelViewModeNavigationDelay"in this.element.data()&&(this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")),this.startViewMode=2,"startView"in i?this.startViewMode=i.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=a.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,this.viewSelect=this.minView,"viewSelect"in i?this.viewSelect=i.viewSelect:"viewSelect"in this.element.data()&&(this.viewSelect=this.element.data("view-select")),this.viewSelect=a.convertViewMode(this.viewSelect),this.forceParse=!0,"forceParse"in i?this.forceParse=i.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse"));for(var s=3===this.bootcssVer?a.templateV3:a.template;-1!==s.indexOf("{iconType}");)s=s.replace("{iconType}",this.icontype);for(;-1!==s.indexOf("{leftArrow}");)s=s.replace("{leftArrow}",this.icons.leftArrow);for(;-1!==s.indexOf("{rightArrow}");)s=s.replace("{rightArrow}",this.icons.rightArrow);if(this.picker=t(s).appendTo(this.isInline?this.element:this.container).on({click:t.proxy(this.click,this),mousedown:t.proxy(this.mousedown,this)}),this.wheelViewModeNavigation&&(t.fn.mousewheel?this.picker.on({mousewheel:t.proxy(this.mousewheel,this)}):console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")),this.isInline?this.picker.addClass("datetimepicker-inline"):this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu"),this.isRTL){this.picker.addClass("datetimepicker-rtl");var l=3===this.bootcssVer?".prev span, .next span":".prev i, .next i";this.picker.find(l).toggleClass(this.icons.leftArrow+" "+this.icons.rightArrow)}t(document).on("mousedown touchend",this.clickedOutside),this.autoclose=!1,"autoclose"in i?this.autoclose=i.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in i?this.keyboardNavigation=i.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=i.todayBtn||this.element.data("date-today-btn")||!1,this.clearBtn=i.clearBtn||this.element.data("date-clear-btn")||!1,this.todayHighlight=i.todayHighlight||this.element.data("date-today-highlight")||!1,this.weekStart=0,void 0!==i.weekStart?this.weekStart=i.weekStart:void 0!==this.element.data("date-weekstart")?this.weekStart=this.element.data("date-weekstart"):void 0!==o[this.language].weekStart&&(this.weekStart=o[this.language].weekStart),this.weekStart=this.weekStart%7,this.weekEnd=(this.weekStart+6)%7,this.onRenderDay=function(t){var e=(i.onRenderDay||function(){return[]})(t);"string"==typeof e&&(e=[e]);return["day"].concat(e||[])},this.onRenderHour=function(t){var e=(i.onRenderHour||function(){return[]})(t);return"string"==typeof e&&(e=[e]),["hour"].concat(e||[])},this.onRenderMinute=function(t){var e=(i.onRenderMinute||function(){return[]})(t),n=["minute"];return"string"==typeof e&&(e=[e]),t<this.startDate||t>this.endDate?n.push("disabled"):Math.floor(this.date.getUTCMinutes()/this.minuteStep)===Math.floor(t.getUTCMinutes()/this.minuteStep)&&n.push("active"),n.concat(e||[])},this.onRenderYear=function(t){var e=(i.onRenderYear||function(){return[]})(t),n=["year"];"string"==typeof e&&(e=[e]),this.date.getUTCFullYear()===t.getUTCFullYear()&&n.push("active");var r=t.getUTCFullYear(),o=this.endDate.getUTCFullYear();return(t<this.startDate||r>o)&&n.push("disabled"),n.concat(e||[])},this.onRenderMonth=function(t){var e=(i.onRenderMonth||function(){return[]})(t);return"string"==typeof e&&(e=[e]),["month"].concat(e||[])},this.startDate=new Date(-8639968443048e3),this.endDate=new Date(8639968443048e3),this.datesDisabled=[],this.daysOfWeekDisabled=[],this.setStartDate(i.startDate||this.element.data("date-startdate")),this.setEndDate(i.endDate||this.element.data("date-enddate")),this.setDatesDisabled(i.datesDisabled||this.element.data("date-dates-disabled")),this.setDaysOfWeekDisabled(i.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.setMinutesDisabled(i.minutesDisabled||this.element.data("date-minute-disabled")),this.setHoursDisabled(i.hoursDisabled||this.element.data("date-hour-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};i.prototype={constructor:i,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?(this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]],this.componentReset&&this._events.push([this.componentReset,{click:t.proxy(this.reset,this)}])):this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]];for(var e,n,i=0;i<this._events.length;i++)e=this._events[i][0],n=this._events[i][1],e.on(n)},_detachEvents:function(){for(var t,e,n=0;n<this._events.length;n++)t=this._events[n][0],e=this._events[n][1],t.off(e);this._events=[]},show:function(e){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.forceParse&&this.update(),this.place(),t(window).on("resize",t.proxy(this.place,this)),e&&(e.stopPropagation(),e.preventDefault()),this.isVisible=!0,this.element.trigger({type:"show",date:this.date})},hide:function(){this.isVisible&&(this.isInline||(this.picker.hide(),t(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||t(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.isVisible=!1,this.element.trigger({type:"hide",date:this.date})))},remove:function(){this._detachEvents(),t(document).off("mousedown",this.clickedOutside),this.picker.remove(),delete this.picker,delete this.element.data().datetimepicker},getDate:function(){var t=this.getUTCDate();return null===t?null:new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},getInitialDate:function(){return this.initialDate},setInitialDate:function(t){this.initialDate=t},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){t>=this.startDate&&t<=this.endDate?(this.date=t,this.setValue(),this.viewDate=this.date,this.fill()):this.element.trigger({type:"outOfRange",date:t,startDate:this.startDate,endDate:this.endDate})},setFormat:function(t){var e;this.format=a.parseFormat(t,this.formatType),this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val()&&this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e):(this.component&&this.element.find("input").val(e),this.element.data("date",e)),this.linkField&&t("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))},getFormattedDate:function(t){return t=t||this.format,a.formatDate(this.date,t,this.language,this.formatType,this.timezone)},setStartDate:function(t){this.startDate=t||this.startDate,8639968443048e3!==this.startDate.valueOf()&&(this.startDate=a.parseDate(this.startDate,this.format,this.language,this.formatType,this.timezone)),this.update(),this.updateNavArrows()},setEndDate:function(t){this.endDate=t||this.endDate,8639968443048e3!==this.endDate.valueOf()&&(this.endDate=a.parseDate(this.endDate,this.format,this.language,this.formatType,this.timezone)),this.update(),this.updateNavArrows()},setDatesDisabled:function(e){this.datesDisabled=e||[],t.isArray(this.datesDisabled)||(this.datesDisabled=this.datesDisabled.split(/,\s*/));var n=this;this.datesDisabled=t.map(this.datesDisabled,function(t){return a.parseDate(t,n.format,n.language,n.formatType,n.timezone).toDateString()}),this.update(),this.updateNavArrows()},setTitle:function(t,e){return this.picker.find(t).find("th:eq(1)").text(!1===this.title?e:this.title)},setDaysOfWeekDisabled:function(e){this.daysOfWeekDisabled=e||[],t.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=t.map(this.daysOfWeekDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},setMinutesDisabled:function(e){this.minutesDisabled=e||[],t.isArray(this.minutesDisabled)||(this.minutesDisabled=this.minutesDisabled.split(/,\s*/)),this.minutesDisabled=t.map(this.minutesDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},setHoursDisabled:function(e){this.hoursDisabled=e||[],t.isArray(this.hoursDisabled)||(this.hoursDisabled=this.hoursDisabled.split(/,\s*/)),this.hoursDisabled=t.map(this.hoursDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){if(!this.zIndex){var e=0;t("div").each(function(){var n=parseInt(t(this).css("zIndex"),10);n>e&&(e=n)}),this.zIndex=e+10}var n,i,r,o;o=this.container instanceof t?this.container.offset():t(this.container).offset(),this.component?(r=(n=this.component.offset()).left,"bottom-left"!==this.pickerPosition&&"top-left"!==this.pickerPosition||(r+=this.component.outerWidth()-this.picker.outerWidth())):(r=(n=this.element.offset()).left,"bottom-left"!==this.pickerPosition&&"top-left"!==this.pickerPosition||(r+=this.element.outerWidth()-this.picker.outerWidth()));var a=document.body.clientWidth||window.innerWidth;r+220>a&&(r=a-220),i="top-left"===this.pickerPosition||"top-right"===this.pickerPosition?n.top-this.picker.outerHeight():n.top+this.height,i-=o.top,r-=o.left,this.picker.css({top:i,left:r,zIndex:this.zIndex})}},hour_minute:"^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]",update:function(){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):"string"==typeof(t=(this.isInput?this.element.val():this.element.find("input").val())||this.element.data("date")||this.initialDate)&&(t=t.replace(/^\s+|\s+$/g,"")),t||(t=new Date,e=!1),"string"==typeof t&&(new RegExp(this.hour_minute).test(t)||new RegExp(this.hour_minute+":[0-5][0-9]").test(t))&&(t=this.getDate()),this.date=a.parseDate(t,this.format,this.language,this.formatType,this.timezone),e&&this.setValue(),this.date<this.startDate?this.viewDate=new Date(this.startDate):this.date>this.endDate?this.viewDate=new Date(this.endDate):this.viewDate=new Date(this.date),this.fill()},fillDow:function(){for(var t=this.weekStart,e="<tr>";t<this.weekStart+7;)e+='<th class="dow">'+o[this.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datetimepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=new Date(this.viewDate),n=0;n<12;n++){e.setUTCMonth(n),t+='<span class="'+this.onRenderMonth(e).join(" ")+'">'+o[this.language].monthsShort[n]+"</span>"}this.picker.find(".datetimepicker-months td").html(t)},fill:function(){if(this.date&&this.viewDate){var e=new Date(this.viewDate),i=e.getUTCFullYear(),s=e.getUTCMonth(),l=e.getUTCDate(),c=e.getUTCHours(),u=this.startDate.getUTCFullYear(),d=this.startDate.getUTCMonth(),h=this.endDate.getUTCFullYear(),f=this.endDate.getUTCMonth()+1,p=new n(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(),g=new Date;if(this.setTitle(".datetimepicker-days",o[this.language].months[s]+" "+i),"time"===this.formatViewType){var m=this.getFormattedDate();this.setTitle(".datetimepicker-hours",m),this.setTitle(".datetimepicker-minutes",m)}else this.setTitle(".datetimepicker-hours",l+" "+o[this.language].months[s]+" "+i),this.setTitle(".datetimepicker-minutes",l+" "+o[this.language].months[s]+" "+i);this.picker.find("tfoot th.today").text(o[this.language].today||o.en.today).toggle(!1!==this.todayBtn),this.picker.find("tfoot th.clear").text(o[this.language].clear||o.en.clear).toggle(!1!==this.clearBtn),this.updateNavArrows(),this.fillMonths();var v=n(i,s-1,28,0,0,0,0),y=a.getDaysInMonth(v.getUTCFullYear(),v.getUTCMonth());v.setUTCDate(y),v.setUTCDate(y-(v.getUTCDay()-this.weekStart+7)%7);var b=new Date(v);b.setUTCDate(b.getUTCDate()+42),b=b.valueOf();for(var w,E=[];v.valueOf()<b;)v.getUTCDay()===this.weekStart&&E.push("<tr>"),w=this.onRenderDay(v),v.getUTCFullYear()<i||v.getUTCFullYear()===i&&v.getUTCMonth()<s?w.push("old"):(v.getUTCFullYear()>i||v.getUTCFullYear()===i&&v.getUTCMonth()>s)&&w.push("new"),this.todayHighlight&&v.getUTCFullYear()===g.getFullYear()&&v.getUTCMonth()===g.getMonth()&&v.getUTCDate()===g.getDate()&&w.push("today"),v.valueOf()===p&&w.push("active"),(v.valueOf()+864e5<=this.startDate||v.valueOf()>this.endDate||-1!==t.inArray(v.getUTCDay(),this.daysOfWeekDisabled)||-1!==t.inArray(v.toDateString(),this.datesDisabled))&&w.push("disabled"),E.push('<td class="'+w.join(" ")+'">'+v.getUTCDate()+"</td>"),v.getUTCDay()===this.weekEnd&&E.push("</tr>"),v.setUTCDate(v.getUTCDate()+1);this.picker.find(".datetimepicker-days tbody").empty().append(E.join("")),E=[];var C="",T="",_="",O=this.hoursDisabled||[];e=new Date(this.viewDate);for(var k=0;k<24;k++){e.setUTCHours(k),w=this.onRenderHour(e),-1!==O.indexOf(k)&&w.push("disabled");var D=n(i,s,l,k);D.valueOf()+36e5<=this.startDate||D.valueOf()>this.endDate?w.push("disabled"):c===k&&w.push("active"),this.showMeridian&&2===o[this.language].meridiem.length?((T=k<12?o[this.language].meridiem[0]:o[this.language].meridiem[1])!==_&&(""!==_&&E.push("</fieldset>"),E.push('<fieldset class="hour"><legend>'+T.toUpperCase()+"</legend>")),_=T,C=k%12?k%12:12,k<12?w.push("hour_am"):w.push("hour_pm"),E.push('<span class="'+w.join(" ")+'">'+C+"</span>"),23===k&&E.push("</fieldset>")):(C=k+":00",E.push('<span class="'+w.join(" ")+'">'+C+"</span>"))}this.picker.find(".datetimepicker-hours td").html(E.join("")),E=[],C="",T="",_="";var x=this.minutesDisabled||[];e=new Date(this.viewDate);for(k=0;k<60;k+=this.minuteStep)-1===x.indexOf(k)&&(e.setUTCMinutes(k),e.setUTCSeconds(0),w=this.onRenderMinute(e),this.showMeridian&&2===o[this.language].meridiem.length?((T=c<12?o[this.language].meridiem[0]:o[this.language].meridiem[1])!==_&&(""!==_&&E.push("</fieldset>"),E.push('<fieldset class="minute"><legend>'+T.toUpperCase()+"</legend>")),_=T,C=c%12?c%12:12,E.push('<span class="'+w.join(" ")+'">'+C+":"+(k<10?"0"+k:k)+"</span>"),59===k&&E.push("</fieldset>")):(C=k+":00",E.push('<span class="'+w.join(" ")+'">'+c+":"+(k<10?"0"+k:k)+"</span>")));this.picker.find(".datetimepicker-minutes td").html(E.join(""));var I=this.date.getUTCFullYear(),S=this.setTitle(".datetimepicker-months",i).end().find(".month").removeClass("active");I===i&&S.eq(this.date.getUTCMonth()).addClass("active"),(i<u||i>h)&&S.addClass("disabled"),i===u&&S.slice(0,d).addClass("disabled"),i===h&&S.slice(f).addClass("disabled"),E="",i=10*parseInt(i/10,10);var R=this.setTitle(".datetimepicker-years",i+"-"+(i+9)).end().find("td");i-=1,e=new Date(this.viewDate);for(k=-1;k<11;k++)e.setUTCFullYear(i),w=this.onRenderYear(e),-1!==k&&10!==k||w.push(r),E+='<span class="'+w.join(" ")+'">'+i+"</span>",i+=1;R.html(E),this.place()}},updateNavArrows:function(){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth(),i=t.getUTCDate(),r=t.getUTCHours();switch(this.viewMode){case 0:e<=this.startDate.getUTCFullYear()&&n<=this.startDate.getUTCMonth()&&i<=this.startDate.getUTCDate()&&r<=this.startDate.getUTCHours()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),e>=this.endDate.getUTCFullYear()&&n>=this.endDate.getUTCMonth()&&i>=this.endDate.getUTCDate()&&r>=this.endDate.getUTCHours()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:e<=this.startDate.getUTCFullYear()&&n<=this.startDate.getUTCMonth()&&i<=this.startDate.getUTCDate()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),e>=this.endDate.getUTCFullYear()&&n>=this.endDate.getUTCMonth()&&i>=this.endDate.getUTCDate()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 2:e<=this.startDate.getUTCFullYear()&&n<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),e>=this.endDate.getUTCFullYear()&&n>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 3:case 4:e<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),e>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},mousewheel:function(e){if(e.preventDefault(),e.stopPropagation(),!this.wheelPause){this.wheelPause=!0;var n=e.originalEvent.wheelDelta,i=n>0?1:0===n?0:-1;this.wheelViewModeNavigationInverseDirection&&(i=-i),this.showMode(i),setTimeout(t.proxy(function(){this.wheelPause=!1},this),this.wheelViewModeNavigationDelay)}},click:function(e){e.stopPropagation(),e.preventDefault();var i=t(e.target).closest("span, td, th, legend");if(i.is("."+this.icontype)&&(i=t(i).parent().closest("span, td, th, legend")),1===i.length){if(i.is(".disabled"))return void this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var r=a.modes[this.viewMode].navStep*("prev"===i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,r);break;case 1:this.viewDate=this.moveDate(this.viewDate,r);break;case 2:this.viewDate=this.moveMonth(this.viewDate,r);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,r)}this.fill(),this.element.trigger({type:i[0].className+":"+this.convertViewModeText(this.viewMode),date:this.viewDate,startDate:this.startDate,endDate:this.endDate});break;case"clear":this.reset(),this.autoclose&&this.hide();break;case"today":var o=new Date;(o=n(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),0))<this.startDate?o=this.startDate:o>this.endDate&&(o=this.endDate),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(o),this.fill(),this.autoclose&&this.hide()}break;case"span":if(!i.is(".disabled")){var s=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),c=this.viewDate.getUTCDate(),u=this.viewDate.getUTCHours(),d=this.viewDate.getUTCMinutes(),h=this.viewDate.getUTCSeconds();if(i.is(".month")?(this.viewDate.setUTCDate(1),l=i.parent().find("span").index(i),c=this.viewDate.getUTCDate(),this.viewDate.setUTCMonth(l),this.element.trigger({type:"changeMonth",date:this.viewDate}),this.viewSelect>=3&&this._setDate(n(s,l,c,u,d,h,0))):i.is(".year")?(this.viewDate.setUTCDate(1),s=parseInt(i.text(),10)||0,this.viewDate.setUTCFullYear(s),this.element.trigger({type:"changeYear",date:this.viewDate}),this.viewSelect>=4&&this._setDate(n(s,l,c,u,d,h,0))):i.is(".hour")?(u=parseInt(i.text(),10)||0,(i.hasClass("hour_am")||i.hasClass("hour_pm"))&&(12===u&&i.hasClass("hour_am")?u=0:12!==u&&i.hasClass("hour_pm")&&(u+=12)),this.viewDate.setUTCHours(u),this.element.trigger({type:"changeHour",date:this.viewDate}),this.viewSelect>=1&&this._setDate(n(s,l,c,u,d,h,0))):i.is(".minute")&&(d=parseInt(i.text().substr(i.text().indexOf(":")+1),10)||0,this.viewDate.setUTCMinutes(d),this.element.trigger({type:"changeMinute",date:this.viewDate}),this.viewSelect>=0&&this._setDate(n(s,l,c,u,d,h,0))),0!==this.viewMode){var f=this.viewMode;this.showMode(-1),this.fill(),f===this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){c=parseInt(i.text(),10)||1,s=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),u=this.viewDate.getUTCHours(),d=this.viewDate.getUTCMinutes(),h=this.viewDate.getUTCSeconds();i.is(".old")?0===l?(l=11,s-=1):l-=1:i.is(".new")&&(11===l?(l=0,s+=1):l+=1),this.viewDate.setUTCFullYear(s),this.viewDate.setUTCMonth(l,c),this.element.trigger({type:"changeDay",date:this.viewDate}),this.viewSelect>=2&&this._setDate(n(s,l,c,u,d,h,0))}f=this.viewMode;this.showMode(-1),this.fill(),f===this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(t,e){var n;e&&"date"!==e||(this.date=t),e&&"view"!==e||(this.viewDate=t),this.fill(),this.setValue(),this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),this.element.trigger({type:"changeDate",date:this.getDate()}),null===t&&(this.date=this.viewDate)},moveMinute:function(t,e){if(!e)return t;var n=new Date(t.valueOf());return n.setUTCMinutes(n.getUTCMinutes()+e*this.minuteStep),n},moveHour:function(t,e){if(!e)return t;var n=new Date(t.valueOf());return n.setUTCHours(n.getUTCHours()+e),n},moveDate:function(t,e){if(!e)return t;var n=new Date(t.valueOf());return n.setUTCDate(n.getUTCDate()+e),n},moveMonth:function(t,e){if(!e)return t;var n,i,r=new Date(t.valueOf()),o=r.getUTCDate(),a=r.getUTCMonth(),s=Math.abs(e);if(e=e>0?1:-1,1===s)i=-1===e?function(){return r.getUTCMonth()===a}:function(){return r.getUTCMonth()!==n},n=a+e,r.setUTCMonth(n),(n<0||n>11)&&(n=(n+12)%12);else{for(var l=0;l<s;l++)r=this.moveMonth(r,e);n=r.getUTCMonth(),r.setUTCDate(o),i=function(){return n!==r.getUTCMonth()}}for(;i();)r.setUTCDate(--o),r.setUTCMonth(n);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.startDate&&t<=this.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))27===t.keyCode&&this.show();else{var e,n,i,r,o=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;e=37===t.keyCode?-1:1;var a=this.viewMode;t.ctrlKey?a+=2:t.shiftKey&&(a+=1),4===a?(n=this.moveYear(this.date,e),i=this.moveYear(this.viewDate,e)):3===a?(n=this.moveMonth(this.date,e),i=this.moveMonth(this.viewDate,e)):2===a?(n=this.moveDate(this.date,e),i=this.moveDate(this.viewDate,e)):1===a?(n=this.moveHour(this.date,e),i=this.moveHour(this.viewDate,e)):0===a&&(n=this.moveMinute(this.date,e),i=this.moveMinute(this.viewDate,e)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;e=38===t.keyCode?-1:1,a=this.viewMode,t.ctrlKey?a+=2:t.shiftKey&&(a+=1),4===a?(n=this.moveYear(this.date,e),i=this.moveYear(this.viewDate,e)):3===a?(n=this.moveMonth(this.date,e),i=this.moveMonth(this.viewDate,e)):2===a?(n=this.moveDate(this.date,7*e),i=this.moveDate(this.viewDate,7*e)):1===a?this.showMeridian?(n=this.moveHour(this.date,6*e),i=this.moveHour(this.viewDate,6*e)):(n=this.moveHour(this.date,4*e),i=this.moveHour(this.viewDate,4*e)):0===a&&(n=this.moveMinute(this.date,4*e),i=this.moveMinute(this.viewDate,4*e)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 13:if(0!==this.viewMode){var s=this.viewMode;this.showMode(-1),this.fill(),s===this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide();t.preventDefault();break;case 9:this.hide()}if(o)this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change(),this.element.trigger({type:"changeDate",date:this.getDate()})}},showMode:function(t){if(t){var e=Math.max(0,Math.min(a.modes.length-1,this.viewMode+t));e>=this.minView&&e<=this.maxView&&(this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:e}),this.viewMode=e)}this.picker.find(">div").hide().filter(".datetimepicker-"+a.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},reset:function(){this._setDate(null,"date")},convertViewModeText:function(t){switch(t){case 4:return"decade";case 3:return"year";case 2:return"month";case 1:return"day";case 0:return"hour"}}};var r=t.fn.datetimepicker;t.fn.datetimepicker=function(n){var r,o=Array.apply(null,arguments);return o.shift(),this.each(function(){var a=t(this),s=a.data("datetimepicker"),l="object"==typeof n&&n;if(s||a.data("datetimepicker",s=new i(this,t.extend({},t.fn.datetimepicker.defaults,l))),"string"==typeof n&&"function"==typeof s[n]&&(r=s[n].apply(s,o))!==e)return!1}),r!==e?r:this},t.fn.datetimepicker.defaults={},t.fn.datetimepicker.Constructor=i;var o=t.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today",clear:"Clear"}},a={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,a.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},getDefaultFormat:function(t,e){if("standard"===t)return"input"===e?"yyyy-mm-dd hh:ii":"yyyy-mm-dd hh:ii:ss";if("php"===t)return"input"===e?"Y-m-d H:i":"Y-m-d H:i:s";throw new Error("Invalid format type.")},validParts:function(t){if("standard"===t)return/t|hh?|HH?|p|P|z|Z|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;if("php"===t)return/[dDjlNwzFmMnStyYaABgGhHis]/g;throw new Error("Invalid format type.")},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(t,e){var n=t.replace(this.validParts(e),"\0").split("\0"),i=t.match(this.validParts(e));if(!n||!n.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:n,parts:i}},parseDate:function(e,r,a,s,l){if(e instanceof Date){var c=new Date(e.valueOf()-6e4*e.getTimezoneOffset());return c.setMilliseconds(0),c}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(e)&&(r=this.parseFormat("yyyy-mm-dd",s)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(e)&&(r=this.parseFormat("yyyy-mm-dd hh:ii",s)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(e)&&(r=this.parseFormat("yyyy-mm-dd hh:ii:ss",s)),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(e)){var u,d=/([-+]\d+)([dmwy])/,h=e.match(/([-+]\d+)([dmwy])/g);e=new Date;for(var f=0;f<h.length;f++)switch(m=d.exec(h[f]),u=parseInt(m[1]),m[2]){case"d":e.setUTCDate(e.getUTCDate()+u);break;case"m":e=i.prototype.moveMonth.call(i.prototype,e,u);break;case"w":e.setUTCDate(e.getUTCDate()+7*u);break;case"y":e=i.prototype.moveYear.call(i.prototype,e,u)}return n(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),0)}h=e&&e.toString().match(this.nonpunctuation)||[],e=new Date(0,0,0,0,0,0,0);var p,g,m,v={},y=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P","z","Z"],b={hh:function(t,e){return t.setUTCHours(e)},h:function(t,e){return t.setUTCHours(e)},HH:function(t,e){return t.setUTCHours(12===e?0:e)},H:function(t,e){return t.setUTCHours(12===e?0:e)},ii:function(t,e){return t.setUTCMinutes(e)},i:function(t,e){return t.setUTCMinutes(e)},ss:function(t,e){return t.setUTCSeconds(e)},s:function(t,e){return t.setUTCSeconds(e)},yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;){if(isNaN(t.getUTCMonth()))return t;t.setUTCDate(t.getUTCDate()-1)}return t},d:function(t,e){return t.setUTCDate(e)},p:function(t,e){return t.setUTCHours(1===e?t.getUTCHours()+12:t.getUTCHours())},z:function(){return l}};if(b.M=b.MM=b.mm=b.m,b.dd=b.d,b.P=b.p,b.Z=b.z,e=n(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()),h.length===r.parts.length){f=0;for(var w=r.parts.length;f<w;f++){if(p=parseInt(h[f],10),m=r.parts[f],isNaN(p))switch(m){case"MM":g=t(o[a].months).filter(function(){var t=this.slice(0,h[f].length);return t===h[f].slice(0,t.length)}),p=t.inArray(g[0],o[a].months)+1;break;case"M":g=t(o[a].monthsShort).filter(function(){var t=this.slice(0,h[f].length),e=h[f].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}),p=t.inArray(g[0],o[a].monthsShort)+1;break;case"p":case"P":p=t.inArray(h[f].toLowerCase(),o[a].meridiem)}v[m]=p}var E;for(f=0;f<y.length;f++)(E=y[f])in v&&!isNaN(v[E])&&b[E](e,v[E])}return e},formatDate:function(e,n,i,r,s){if(null===e)return"";var l;if("standard"===r)l={t:e.getTime(),yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear(),m:e.getUTCMonth()+1,M:o[i].monthsShort[e.getUTCMonth()],MM:o[i].months[e.getUTCMonth()],d:e.getUTCDate(),D:o[i].daysShort[e.getUTCDay()],DD:o[i].days[e.getUTCDay()],p:2===o[i].meridiem.length?o[i].meridiem[e.getUTCHours()<12?0:1]:"",h:e.getUTCHours(),i:e.getUTCMinutes(),s:e.getUTCSeconds(),z:s},2===o[i].meridiem.length?l.H=l.h%12==0?12:l.h%12:l.H=l.h,l.HH=(l.H<10?"0":"")+l.H,l.P=l.p.toUpperCase(),l.Z=l.z,l.hh=(l.h<10?"0":"")+l.h,l.ii=(l.i<10?"0":"")+l.i,l.ss=(l.s<10?"0":"")+l.s,l.dd=(l.d<10?"0":"")+l.d,l.mm=(l.m<10?"0":"")+l.m;else{if("php"!==r)throw new Error("Invalid format type.");(l={y:e.getUTCFullYear().toString().substring(2),Y:e.getUTCFullYear(),F:o[i].months[e.getUTCMonth()],M:o[i].monthsShort[e.getUTCMonth()],n:e.getUTCMonth()+1,t:a.getDaysInMonth(e.getUTCFullYear(),e.getUTCMonth()),j:e.getUTCDate(),l:o[i].days[e.getUTCDay()],D:o[i].daysShort[e.getUTCDay()],w:e.getUTCDay(),N:0===e.getUTCDay()?7:e.getUTCDay(),S:e.getUTCDate()%10<=o[i].suffix.length?o[i].suffix[e.getUTCDate()%10-1]:"",a:2===o[i].meridiem.length?o[i].meridiem[e.getUTCHours()<12?0:1]:"",g:e.getUTCHours()%12==0?12:e.getUTCHours()%12,G:e.getUTCHours(),i:e.getUTCMinutes(),s:e.getUTCSeconds()}).m=(l.n<10?"0":"")+l.n,l.d=(l.j<10?"0":"")+l.j,l.A=l.a.toString().toUpperCase(),l.h=(l.g<10?"0":"")+l.g,l.H=(l.G<10?"0":"")+l.G,l.i=(l.i<10?"0":"")+l.i,l.s=(l.s<10?"0":"")+l.s}e=[];for(var c=t.extend([],n.separators),u=0,d=n.parts.length;u<d;u++)c.length&&e.push(c.shift()),e.push(l[n.parts[u]]);return c.length&&e.push(c.shift()),e.join("")},convertViewMode:function(t){switch(t){case 4:case"decade":t=4;break;case 3:case"year":t=3;break;case 2:case"month":t=2;break;case 1:case"day":t=1;break;case 0:case"hour":t=0}return t},headTemplate:'<thead><tr><th class="prev"><i class="{iconType} {leftArrow}"/></th><th colspan="5" class="switch"></th><th class="next"><i class="{iconType} {rightArrow}"/></th></tr></thead>',headTemplateV3:'<thead><tr><th class="prev"><span class="{iconType} {leftArrow}"></span> </th><th colspan="5" class="switch"></th><th class="next"><span class="{iconType} {rightArrow}"></span> </th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};a.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+a.headTemplate+a.contTemplate+a.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+a.headTemplate+a.contTemplate+a.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+a.headTemplate+"<tbody></tbody>"+a.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+a.headTemplate+a.contTemplate+a.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+a.headTemplate+a.contTemplate+a.footTemplate+"</table></div></div>",a.templateV3='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+a.headTemplateV3+a.contTemplate+a.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+a.headTemplateV3+a.contTemplate+a.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+a.headTemplateV3+"<tbody></tbody>"+a.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+a.headTemplateV3+a.contTemplate+a.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+a.headTemplateV3+a.contTemplate+a.footTemplate+"</table></div></div>",t.fn.datetimepicker.DPGlobal=a,t.fn.datetimepicker.noConflict=function(){return t.fn.datetimepicker=r,this},t(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(e){var n=t(this);n.data("datetimepicker")||(e.preventDefault(),n.datetimepicker("show"))}),t(function(){t('[data-provide="datetimepicker-inline"]').datetimepicker()})}),function(t,e,n){"use strict";var i=function(e,n){this.widget="",this.$element=t(e),this.defaultTime=n.defaultTime,this.disableFocus=n.disableFocus,this.disableMousewheel=n.disableMousewheel,this.isOpen=n.isOpen,this.minuteStep=n.minuteStep,this.modalBackdrop=n.modalBackdrop,this.orientation=n.orientation,this.secondStep=n.secondStep,this.snapToStep=n.snapToStep,this.showInputs=n.showInputs,this.showMeridian=n.showMeridian,this.showSeconds=n.showSeconds,this.template=n.template,this.appendWidgetTo=n.appendWidgetTo,this.showWidgetOnAddonClick=n.showWidgetOnAddonClick,this.icons=n.icons,this.maxHours=n.maxHours,this.explicitMode=n.explicitMode,this.handleDocumentClick=function(t){var e=t.data.scope;e.$element.parent().find(t.target).length||e.$widget.is(t.target)||e.$widget.find(t.target).length||e.hideWidget()},this._init()};i.prototype={constructor:i,_init:function(){var e=this;this.showWidgetOnAddonClick&&this.$element.parent().hasClass("input-group")&&this.$element.parent().hasClass("bootstrap-timepicker")?(this.$element.parent(".input-group.bootstrap-timepicker").find(".input-group-addon").on({"click.timepicker":t.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)})):this.template?this.$element.on({"focus.timepicker":t.proxy(this.showWidget,this),"click.timepicker":t.proxy(this.showWidget,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)}):this.$element.on({"focus.timepicker":t.proxy(this.highlightUnit,this),"click.timepicker":t.proxy(this.highlightUnit,this),"keydown.timepicker":t.proxy(this.elementKeydown,this),"blur.timepicker":t.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":t.proxy(this.mousewheel,this)}),!1!==this.template?this.$widget=t(this.getTemplate()).on("click",t.proxy(this.widgetClick,this)):this.$widget=!1,this.showInputs&&!1!==this.$widget&&this.$widget.find("input").each(function(){t(this).on({"click.timepicker":function(){t(this).select()},"keydown.timepicker":t.proxy(e.widgetKeydown,e),"keyup.timepicker":t.proxy(e.widgetKeyup,e)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(1===this.hour)this.hour=12;else{if(12===this.hour)return this.hour--,this.toggleMeridian();if(0===this.hour)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=this.maxHours-1:this.hour--},decrementMinute:function(t){var e;0>(e=t?this.minute-t:this.minute-this.minuteStep)?(this.decrementHour(),this.minute=e+60):this.minute=e},decrementSecond:function(){var t=this.second-this.secondStep;0>t?(this.decrementMinute(!0),this.second=t+60):this.second=t},elementKeydown:function(t){switch(t.which){case 9:if(t.shiftKey){if("hour"===this.highlightedUnit){this.hideWidget();break}this.highlightPrevUnit()}else{if(this.showMeridian&&"meridian"===this.highlightedUnit||this.showSeconds&&"second"===this.highlightedUnit||!this.showMeridian&&!this.showSeconds&&"minute"===this.highlightedUnit){this.hideWidget();break}this.highlightNextUnit()}t.preventDefault(),this.updateFromElementVal();break;case 27:this.updateFromElementVal();break;case 37:t.preventDefault(),this.highlightPrevUnit(),this.updateFromElementVal();break;case 38:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:t.preventDefault(),this.highlightNextUnit(),this.updateFromElementVal();break;case 40:switch(t.preventDefault(),this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var t=this.$element.get(0);if("selectionStart"in t)return t.selectionStart;if(n.selection){t.focus();var e=n.selection.createRange(),i=n.selection.createRange().text.length;return e.moveStart("character",-t.value.length),e.text.length-i}},getTemplate:function(){var t,e,n,i,r,o;switch(this.showInputs?(e='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>',n='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>',i='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>',r='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(e='<span class="bootstrap-timepicker-hour"></span>',n='<span class="bootstrap-timepicker-minute"></span>',i='<span class="bootstrap-timepicker-second"></span>',r='<span class="bootstrap-timepicker-meridian"></span>'),o='<table><tr><td><a href="#" data-action="incrementHour"><span class="'+this.icons.up+'"></span></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><span class="'+this.icons.up+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><span class="'+this.icons.up+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="'+this.icons.up+'"></span></a></td>':"")+"</tr><tr><td>"+e+'</td> <td class="separator">:</td><td>'+n+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+i+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+r+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><span class="'+this.icons.down+'"></span></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><span class="'+this.icons.down+'"></span></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><span class="'+this.icons.down+'"></span></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><span class="'+this.icons.down+'"></span></a></td>':"")+"</tr></table>",this.template){case"modal":t='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">&times;</a><h3>Pick a Time</h3></div><div class="modal-content">'+o+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":t='<div class="bootstrap-timepicker-widget dropdown-menu">'+o+"</div>"}return t},getTime:function(){return""===this.hour?"":this.hour+":"+(1===this.minute.toString().length?"0"+this.minute:this.minute)+(this.showSeconds?":"+(1===this.second.toString().length?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){!1!==this.isOpen&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),"modal"===this.template&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),t(n).off("mousedown.timepicker, touchend.timepicker",this.handleDocumentClick),this.isOpen=!1,this.$widget.detach())},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="hour",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(0,1):t.setSelectionRange(0,2)},0)},highlightMinute:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="minute",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(2,4):t.setSelectionRange(3,5)},0)},highlightSecond:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="second",t.setSelectionRange&&setTimeout(function(){e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0)},highlightMeridian:function(){var t=this.$element.get(0),e=this;this.highlightedUnit="meridian",t.setSelectionRange&&(this.showSeconds?setTimeout(function(){e.hour<10?t.setSelectionRange(8,10):t.setSelectionRange(9,11)},0):setTimeout(function(){e.hour<10?t.setSelectionRange(5,7):t.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(11===this.hour)return this.hour++,this.toggleMeridian();12===this.hour&&(this.hour=0)}return this.hour===this.maxHours-1?void(this.hour=0):void this.hour++},incrementMinute:function(t){var e;(e=t?this.minute+t:this.minute+this.minuteStep-this.minute%this.minuteStep)>59?(this.incrementHour(),this.minute=e-60):this.minute=e},incrementSecond:function(){var t=this.second+this.secondStep-this.second%this.secondStep;t>59?(this.incrementMinute(!0),this.second=t-60):this.second=t},mousewheel:function(e){if(!this.disableMousewheel){e.preventDefault(),e.stopPropagation();var n=e.originalEvent.wheelDelta||-e.originalEvent.detail,i=null;switch("mousewheel"===e.type?i=-1*e.originalEvent.wheelDelta:"DOMMouseScroll"===e.type&&(i=40*e.originalEvent.detail),i&&(e.preventDefault(),t(this).scrollTop(i+t(this).scrollTop())),this.highlightedUnit){case"minute":n>0?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":n>0?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:n>0?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1}},changeToNearestStep:function(t,e){return t%e==0?t:Math.round(t%e/e)?(t+(e-t%e))%60:t-t%e},place:function(){if(!this.isInline){var n=this.$widget.outerWidth(),i=this.$widget.outerHeight(),r=t(e).width(),o=t(e).height(),a=t(e).scrollTop(),s=parseInt(this.$element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"),10)+10,l=this.component?this.component.parent().offset():this.$element.offset(),c=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),d=l.left,h=l.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"),"auto"!==this.orientation.x?(this.$widget.addClass("timepicker-orient-"+this.orientation.x),"right"===this.orientation.x&&(d-=n-u)):(this.$widget.addClass("timepicker-orient-left"),l.left<0?d-=l.left-10:l.left+n>r&&(d=r-n-10));var f,p,g=this.orientation.y;"auto"===g&&(f=-a+l.top-i,p=a+o-(l.top+c+i),g=Math.max(f,p)===p?"top":"bottom"),this.$widget.addClass("timepicker-orient-"+g),"top"===g?h+=c:h-=i+parseInt(this.$widget.css("padding-top"),10),this.$widget.css({top:h,left:d,zIndex:s})}},remove:function(){t("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(t){if(this.$element.val())this.updateFromElementVal();else if("current"===t){var e=new Date,n=e.getHours(),i=e.getMinutes(),r=e.getSeconds(),o="AM";0!==r&&(60===(r=Math.ceil(e.getSeconds()/this.secondStep)*this.secondStep)&&(i+=1,r=0)),0!==i&&(60===(i=Math.ceil(e.getMinutes()/this.minuteStep)*this.minuteStep)&&(n+=1,i=0)),this.showMeridian&&(0===n?n=12:n>=12?(n>12&&(n-=12),o="PM"):o="AM"),this.hour=n,this.minute=i,this.second=r,this.meridian=o,this.update()}else!1===t?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(t)},setTime:function(t,e){if(t){var n,i,r,o,a,s;if("object"==typeof t&&t.getMonth)r=t.getHours(),o=t.getMinutes(),a=t.getSeconds(),this.showMeridian&&(s="AM",r>12&&(s="PM",r%=12),12===r&&(s="PM"));else{if((n=(/a/i.test(t)?1:0)+(/p/i.test(t)?2:0))>2)return void this.clear();if(r=(i=t.replace(/[^0-9\:]/g,"").split(":"))[0]?i[0].toString():i.toString(),this.explicitMode&&r.length>2&&r.length%2!=0)return void this.clear();o=i[1]?i[1].toString():"",a=i[2]?i[2].toString():"",r.length>4&&(a=r.slice(-2),r=r.slice(0,-2)),r.length>2&&(o=r.slice(-2),r=r.slice(0,-2)),o.length>2&&(a=o.slice(-2),o=o.slice(0,-2)),r=parseInt(r,10),o=parseInt(o,10),a=parseInt(a,10),isNaN(r)&&(r=0),isNaN(o)&&(o=0),isNaN(a)&&(a=0),a>59&&(a=59),o>59&&(o=59),r>=this.maxHours&&(r=this.maxHours-1),this.showMeridian?(r>12&&(n=2,r-=12),n||(n=1),0===r&&(r=12),s=1===n?"AM":"PM"):12>r&&2===n?r+=12:r>=this.maxHours?r=this.maxHours-1:(0>r||12===r&&1===n)&&(r=0)}this.hour=r,this.snapToStep?(this.minute=this.changeToNearestStep(o,this.minuteStep),this.second=this.changeToNearestStep(a,this.secondStep)):(this.minute=o,this.second=a),this.meridian=s,this.update(e)}else this.clear()},showWidget:function(){this.isOpen||this.$element.is(":disabled")||(this.$widget.appendTo(this.appendWidgetTo),t(n).on("mousedown.timepicker, touchend.timepicker",{scope:this},this.handleDocumentClick),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.place(),this.disableFocus&&this.$element.blur(),""===this.hour&&(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),"modal"===this.template&&this.$widget.modal?this.$widget.modal("show").on("hidden",t.proxy(this.hideWidget,this)):!1===this.isOpen&&this.$widget.addClass("open"),this.isOpen=!0)},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM"},update:function(t){this.updateElement(),t||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(!1!==this.$widget){var t=this.hour,e=1===this.minute.toString().length?"0"+this.minute:this.minute,n=1===this.second.toString().length?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(t),this.$widget.find("input.bootstrap-timepicker-minute").val(e),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(n),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(t),this.$widget.find("span.bootstrap-timepicker-minute").text(e),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(n),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(!1!==this.$widget){var t=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(t,!0)}},widgetClick:function(e){e.stopPropagation(),e.preventDefault();var n=t(e.target),i=n.closest("a").data("action");i&&this[i](),this.update(),n.is("input")&&n.get(0).setSelectionRange(0,2)},widgetKeydown:function(e){var n=t(e.target),i=n.attr("class").replace("bootstrap-timepicker-","");switch(e.which){case 9:if(e.shiftKey){if("hour"===i)return this.hideWidget()}else if(this.showMeridian&&"meridian"===i||this.showSeconds&&"second"===i||!this.showMeridian&&!this.showSeconds&&"minute"===i)return this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(e.preventDefault(),i){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),n.get(0).setSelectionRange(0,2);break;case 40:switch(e.preventDefault(),i){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),n.get(0).setSelectionRange(0,2)}},widgetKeyup:function(t){(65===t.which||77===t.which||80===t.which||46===t.which||8===t.which||t.which>=48&&t.which<=57||t.which>=96&&t.which<=105)&&this.updateFromWidgetInputs()}},t.fn.timepicker=function(e){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var r=t(this),o=r.data("timepicker"),a="object"==typeof e&&e;o||r.data("timepicker",o=new i(this,t.extend({},t.fn.timepicker.defaults,a,t(this).data()))),"string"==typeof e&&o[e].apply(o,n)})},t.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,snapToStep:!1,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0,icons:{up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},maxHours:24,explicitMode:!1},t.fn.timepicker.Constructor=i,t(n).on("focus.timepicker.data-api click.timepicker.data-api",'[data-provide="timepicker"]',function(e){var n=t(this);n.data("timepicker")||(e.preventDefault(),n.timepicker())})}(jQuery,window,document),$.fn.timepicker.defaults=$.extend(!0,{},$.fn.timepicker.defaults,{icons:{up:"ki ki-arrow-up",down:"ki ki-arrow-down"}}),function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(t,n){return n.fn||(n.fn={}),"function"!=typeof t&&t.hasOwnProperty("default")&&(t=t.default),e(t,n)});else if("object"==typeof module&&module.exports){var n="undefined"!=typeof window?window.jQuery:void 0;n||(n=require("jquery")).fn||(n.fn={});var i="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment");module.exports=e(i,n)}else t.daterangepicker=e(t.moment,t.jQuery)}(this,function(t,e){var n=function(n,i,r){if(this.parentEl="body",this.element=e(n),this.startDate=t().startOf("day"),this.endDate=t().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=t().subtract(100,"year").format("YYYY"),this.maxYear=t().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:t.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:t.weekdaysMin(),monthNames:t.monthsShort(),firstDay:t.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof i&&null!==i||(i={}),"string"==typeof(i=e.extend(this.element.data(),i)).template||i.template instanceof e||(i.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=i.parentEl&&e(i.parentEl).length?e(i.parentEl):e(this.parentEl),this.container=e(i.template).appendTo(this.parentEl),"object"==typeof i.locale&&("string"==typeof i.locale.direction&&(this.locale.direction=i.locale.direction),"string"==typeof i.locale.format&&(this.locale.format=i.locale.format),"string"==typeof i.locale.separator&&(this.locale.separator=i.locale.separator),"object"==typeof i.locale.daysOfWeek&&(this.locale.daysOfWeek=i.locale.daysOfWeek.slice()),"object"==typeof i.locale.monthNames&&(this.locale.monthNames=i.locale.monthNames.slice()),"number"==typeof i.locale.firstDay&&(this.locale.firstDay=i.locale.firstDay),"string"==typeof i.locale.applyLabel&&(this.locale.applyLabel=i.locale.applyLabel),"string"==typeof i.locale.cancelLabel&&(this.locale.cancelLabel=i.locale.cancelLabel),"string"==typeof i.locale.weekLabel&&(this.locale.weekLabel=i.locale.weekLabel),"string"==typeof i.locale.customRangeLabel)){(f=document.createElement("textarea")).innerHTML=i.locale.customRangeLabel;var o=f.value;this.locale.customRangeLabel=o}if(this.container.addClass(this.locale.direction),"string"==typeof i.startDate&&(this.startDate=t(i.startDate,this.locale.format)),"string"==typeof i.endDate&&(this.endDate=t(i.endDate,this.locale.format)),"string"==typeof i.minDate&&(this.minDate=t(i.minDate,this.locale.format)),"string"==typeof i.maxDate&&(this.maxDate=t(i.maxDate,this.locale.format)),"object"==typeof i.startDate&&(this.startDate=t(i.startDate)),"object"==typeof i.endDate&&(this.endDate=t(i.endDate)),"object"==typeof i.minDate&&(this.minDate=t(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=t(i.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof i.applyButtonClasses&&(this.applyButtonClasses=i.applyButtonClasses),"string"==typeof i.applyClass&&(this.applyButtonClasses=i.applyClass),"string"==typeof i.cancelButtonClasses&&(this.cancelButtonClasses=i.cancelButtonClasses),"string"==typeof i.cancelClass&&(this.cancelButtonClasses=i.cancelClass),"object"==typeof i.maxSpan&&(this.maxSpan=i.maxSpan),"object"==typeof i.dateLimit&&(this.maxSpan=i.dateLimit),"string"==typeof i.opens&&(this.opens=i.opens),"string"==typeof i.drops&&(this.drops=i.drops),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"boolean"==typeof i.showISOWeekNumbers&&(this.showISOWeekNumbers=i.showISOWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses.join(" ")),"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns),"number"==typeof i.minYear&&(this.minYear=i.minYear),"number"==typeof i.maxYear&&(this.maxYear=i.maxYear),"boolean"==typeof i.showCustomRangeLabel&&(this.showCustomRangeLabel=i.showCustomRangeLabel),"boolean"==typeof i.singleDatePicker&&(this.singleDatePicker=i.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker),"boolean"==typeof i.timePickerSeconds&&(this.timePickerSeconds=i.timePickerSeconds),"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement),"boolean"==typeof i.timePicker24Hour&&(this.timePicker24Hour=i.timePicker24Hour),"boolean"==typeof i.autoApply&&(this.autoApply=i.autoApply),"boolean"==typeof i.autoUpdateInput&&(this.autoUpdateInput=i.autoUpdateInput),"boolean"==typeof i.linkedCalendars&&(this.linkedCalendars=i.linkedCalendars),"function"==typeof i.isInvalidDate&&(this.isInvalidDate=i.isInvalidDate),"function"==typeof i.isCustomDate&&(this.isCustomDate=i.isCustomDate),"boolean"==typeof i.alwaysShowCalendars&&(this.alwaysShowCalendars=i.alwaysShowCalendars),0!=this.locale.firstDay)for(var a=this.locale.firstDay;a>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),a--;var s,l,c;if(void 0===i.startDate&&void 0===i.endDate&&e(this.element).is(":text")){var u=e(this.element).val(),d=u.split(this.locale.separator);s=l=null,2==d.length?(s=t(d[0],this.locale.format),l=t(d[1],this.locale.format)):this.singleDatePicker&&""!==u&&(s=t(u,this.locale.format),l=t(u,this.locale.format)),null!==s&&null!==l&&(this.setStartDate(s),this.setEndDate(l))}if("object"==typeof i.ranges){for(c in i.ranges){s="string"==typeof i.ranges[c][0]?t(i.ranges[c][0],this.locale.format):t(i.ranges[c][0]),l="string"==typeof i.ranges[c][1]?t(i.ranges[c][1],this.locale.format):t(i.ranges[c][1]),this.minDate&&s.isBefore(this.minDate)&&(s=this.minDate.clone());var h=this.maxDate;if(this.maxSpan&&h&&s.clone().add(this.maxSpan).isAfter(h)&&(h=s.clone().add(this.maxSpan)),h&&l.isAfter(h)&&(l=h.clone()),!(this.minDate&&l.isBefore(this.minDate,this.timepicker?"minute":"day")||h&&s.isAfter(h,this.timepicker?"minute":"day"))){var f;(f=document.createElement("textarea")).innerHTML=c;o=f.value;this.ranges[o]=[s,l]}}var p="<ul>";for(c in this.ranges)p+='<li data-range-key="'+c+'">'+c+"</li>";this.showCustomRangeLabel&&(p+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),p+="</ul>",this.container.find(".ranges").prepend(p)}"function"==typeof r&&(this.callback=r),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof i.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply")),(void 0===i.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",e.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",e.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",e.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",e.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",e.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",e.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",e.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",e.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":e.proxy(this.show,this),"focus.daterangepicker":e.proxy(this.show,this),"keyup.daterangepicker":e.proxy(this.elementChanged,this),"keydown.daterangepicker":e.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",e.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",e.proxy(this.toggle,this))),this.updateElement()};return n.prototype={constructor:n,setStartDate:function(e){"string"==typeof e&&(this.startDate=t(e,this.locale.format)),"object"==typeof e&&(this.startDate=t(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=t(e,this.locale.format)),"object"==typeof e&&(this.endDate=t(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var t,e,n,i;if(this.endDate){if(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(e)&&(e=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour)"PM"===(i=this.container.find(".left .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0)}else if(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(e)&&(e=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour)"PM"===(i=this.container.find(".right .ampmselect").val())&&t<12&&(t+=12),"AM"===i&&12===t&&(t=0);this.leftCalendar.month.hour(t).minute(e).second(n),this.rightCalendar.month.hour(t).minute(e).second(n)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(n){var i,r=(i="left"==n?this.leftCalendar:this.rightCalendar).month.month(),o=i.month.year(),a=i.month.hour(),s=i.month.minute(),l=i.month.second(),c=t([o,r]).daysInMonth(),u=t([o,r,1]),d=t([o,r,c]),h=t(u).subtract(1,"month").month(),f=t(u).subtract(1,"month").year(),p=t([f,h]).daysInMonth(),g=u.day();(i=[]).firstDay=u,i.lastDay=d;for(var m=0;m<6;m++)i[m]=[];var v=p-g+this.locale.firstDay+1;v>p&&(v-=7),g==this.locale.firstDay&&(v=p-6);for(var y=t([f,h,v,12,s,l]),b=(m=0,0),w=0;m<42;m++,b++,y=t(y).add(24,"hour"))m>0&&b%7==0&&(b=0,w++),i[w][b]=y.clone().hour(a).minute(s).second(l),y.hour(12),this.minDate&&i[w][b].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&i[w][b].isBefore(this.minDate)&&"left"==n&&(i[w][b]=this.minDate.clone()),this.maxDate&&i[w][b].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&i[w][b].isAfter(this.maxDate)&&"right"==n&&(i[w][b]=this.maxDate.clone());"left"==n?this.leftCalendar.calendar=i:this.rightCalendar.calendar=i;var E="left"==n?this.minDate:this.startDate,C=this.maxDate,T=("left"==n?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');T+="<thead>",T+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(T+="<th></th>"),E&&!E.isBefore(i.firstDay)||this.linkedCalendars&&"left"!=n?T+="<th></th>":T+='<th class="prev available"><span></span></th>';var _=this.locale.monthNames[i[1][1].month()]+i[1][1].format(" YYYY");if(this.showDropdowns){for(var O=i[1][1].month(),k=i[1][1].year(),D=C&&C.year()||this.maxYear,x=E&&E.year()||this.minYear,I=k==x,S=k==D,R='<select class="monthselect">',A=0;A<12;A++)(!I||E&&A>=E.month())&&(!S||C&&A<=C.month())?R+="<option value='"+A+"'"+(A===O?" selected='selected'":"")+">"+this.locale.monthNames[A]+"</option>":R+="<option value='"+A+"'"+(A===O?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[A]+"</option>";R+="</select>";for(var N='<select class="yearselect">',P=x;P<=D;P++)N+='<option value="'+P+'"'+(P===k?' selected="selected"':"")+">"+P+"</option>";_=R+(N+="</select>")}if(T+='<th colspan="5" class="month">'+_+"</th>",C&&!C.isAfter(i.lastDay)||this.linkedCalendars&&"right"!=n&&!this.singleDatePicker?T+="<th></th>":T+='<th class="next available"><span></span></th>',T+="</tr>",T+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(T+='<th class="week">'+this.locale.weekLabel+"</th>"),e.each(this.locale.daysOfWeek,function(t,e){T+="<th>"+e+"</th>"}),T+="</tr>",T+="</thead>",T+="<tbody>",null==this.endDate&&this.maxSpan){var M=this.startDate.clone().add(this.maxSpan).endOf("day");C&&!M.isBefore(C)||(C=M)}for(w=0;w<6;w++){T+="<tr>",this.showWeekNumbers?T+='<td class="week">'+i[w][0].week()+"</td>":this.showISOWeekNumbers&&(T+='<td class="week">'+i[w][0].isoWeek()+"</td>");for(b=0;b<7;b++){var L=[];i[w][b].isSame(new Date,"day")&&L.push("today"),i[w][b].isoWeekday()>5&&L.push("weekend"),i[w][b].month()!=i[1][1].month()&&L.push("off","ends"),this.minDate&&i[w][b].isBefore(this.minDate,"day")&&L.push("off","disabled"),C&&i[w][b].isAfter(C,"day")&&L.push("off","disabled"),this.isInvalidDate(i[w][b])&&L.push("off","disabled"),i[w][b].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&L.push("active","start-date"),null!=this.endDate&&i[w][b].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&L.push("active","end-date"),null!=this.endDate&&i[w][b]>this.startDate&&i[w][b]<this.endDate&&L.push("in-range");var K=this.isCustomDate(i[w][b]);!1!==K&&("string"==typeof K?L.push(K):Array.prototype.push.apply(L,K));var j="",F=!1;for(m=0;m<L.length;m++)j+=L[m]+" ","disabled"==L[m]&&(F=!0);F||(j+="available"),T+='<td class="'+j.replace(/^\s+|\s+$/g,"")+'" data-title="r'+w+"c"+b+'">'+i[w][b].date()+"</td>"}T+="</tr>"}T+="</tbody>",T+="</table>",this.container.find(".drp-calendar."+n+" .calendar-table").html(T)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,n,i,r=this.maxDate;if(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(r=this.startDate.clone().add(this.maxSpan)),"left"==t)n=this.startDate.clone(),i=this.minDate;else if("right"==t){n=this.endDate.clone(),i=this.startDate;var o=this.container.find(".drp-calendar.right .calendar-time");if(""!=o.html()&&(n.hour(isNaN(n.hour())?o.find(".hourselect option:selected").val():n.hour()),n.minute(isNaN(n.minute())?o.find(".minuteselect option:selected").val():n.minute()),n.second(isNaN(n.second())?o.find(".secondselect option:selected").val():n.second()),!this.timePicker24Hour)){var a=o.find(".ampmselect option:selected").val();"PM"===a&&n.hour()<12&&n.hour(n.hour()+12),"AM"===a&&12===n.hour()&&n.hour(0)}n.isBefore(this.startDate)&&(n=this.startDate.clone()),r&&n.isAfter(r)&&(n=r.clone())}e='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,c=s;c<=l;c++){var u=c;this.timePicker24Hour||(u=n.hour()>=12?12==c?12:c+12:12==c?0:c);var d=n.clone().hour(u),h=!1;i&&d.minute(59).isBefore(i)&&(h=!0),r&&d.minute(0).isAfter(r)&&(h=!0),u!=n.hour()||h?e+=h?'<option value="'+c+'" disabled="disabled" class="disabled">'+c+"</option>":'<option value="'+c+'">'+c+"</option>":e+='<option value="'+c+'" selected="selected">'+c+"</option>"}e+="</select> ",e+=': <select class="minuteselect">';for(c=0;c<60;c+=this.timePickerIncrement){var f=c<10?"0"+c:c;d=n.clone().minute(c),h=!1;i&&d.second(59).isBefore(i)&&(h=!0),r&&d.second(0).isAfter(r)&&(h=!0),n.minute()!=c||h?e+=h?'<option value="'+c+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+c+'">'+f+"</option>":e+='<option value="'+c+'" selected="selected">'+f+"</option>"}if(e+="</select> ",this.timePickerSeconds){e+=': <select class="secondselect">';for(c=0;c<60;c++){f=c<10?"0"+c:c,d=n.clone().second(c),h=!1;i&&d.isBefore(i)&&(h=!0),r&&d.isAfter(r)&&(h=!0),n.second()!=c||h?e+=h?'<option value="'+c+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+c+'">'+f+"</option>":e+='<option value="'+c+'" selected="selected">'+f+"</option>"}e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var p="",g="";i&&n.clone().hour(12).minute(0).second(0).isBefore(i)&&(p=' disabled="disabled" class="disabled"'),r&&n.clone().hour(0).minute(0).second(0).isAfter(r)&&(g=' disabled="disabled" class="disabled"'),n.hour()>=12?e+='<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+g+">PM</option>":e+='<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+g+">PM</option>",e+="</select>"}this.container.find(".drp-calendar."+t+" .calendar-time").html(e)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var t,n={top:0,left:0},i=this.drops,r=e(window).width();switch(this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},r=this.parentEl[0].clientWidth+this.parentEl.offset().left),i){case"auto":(t=this.element.offset().top+this.element.outerHeight()-n.top)+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(t=this.element.offset().top-this.container.outerHeight()-n.top,i="up");break;case"up":t=this.element.offset().top-this.container.outerHeight()-n.top;break;default:t=this.element.offset().top+this.element.outerHeight()-n.top}this.container.css({top:0,left:0,right:"auto"});var o=this.container.outerWidth();if(this.container.toggleClass("drop-up","up"==i),"left"==this.opens){var a=r-this.element.offset().left-this.element.outerWidth();o+a>e(window).width()?this.container.css({top:t,right:"auto",left:9}):this.container.css({top:t,right:a,left:"auto"})}else if("center"==this.opens){(s=this.element.offset().left-n.left+this.element.outerWidth()/2-o/2)<0?this.container.css({top:t,right:"auto",left:9}):s+o>e(window).width()?this.container.css({top:t,left:"auto",right:0}):this.container.css({top:t,left:s,right:"auto"})}else{var s;(s=this.element.offset().left-n.left)+o>e(window).width()?this.container.css({top:t,left:"auto",right:0}):this.container.css({top:t,left:s,right:"auto"})}},show:function(t){this.isShowing||(this._outsideClickProxy=e.proxy(function(t){this.outsideClick(t)},this),e(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),e(window).on("resize.daterangepicker",e.proxy(function(t){this.move(t)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),e(document).off(".daterangepicker"),e(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var n=e(t.target);"focusin"==t.type||n.closest(this.element).length||n.closest(this.container).length||n.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(t){e(t.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(e(t.target).hasClass("available")){var n=e(t.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1),o=e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[i][r]:this.rightCalendar.calendar[i][r],a=this.leftCalendar,s=this.rightCalendar,l=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(t,n){if(!e(n).hasClass("week")){var i=e(n).attr("data-title"),r=i.substr(1,1),c=i.substr(3,1),u=e(n).parents(".drp-calendar").hasClass("left")?a.calendar[r][c]:s.calendar[r][c];u.isAfter(l)&&u.isBefore(o)||u.isSame(o,"day")?e(n).addClass("in-range"):e(n).removeClass("in-range")}})}},clickDate:function(t){if(e(t.target).hasClass("available")){var n=e(t.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1),o=e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[i][r]:this.rightCalendar.calendar[i][r];if(this.endDate||o.isBefore(this.startDate,"day")){if(this.timePicker){var a=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour)"PM"===(c=this.container.find(".left .ampmselect").val())&&a<12&&(a+=12),"AM"===c&&12===a&&(a=0);var s=parseInt(this.container.find(".left .minuteselect").val(),10);isNaN(s)&&(s=parseInt(this.container.find(".left .minuteselect option:last").val(),10));var l=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;o=o.clone().hour(a).minute(s).second(l)}this.endDate=null,this.setStartDate(o.clone())}else if(!this.endDate&&o.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var c;a=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour)"PM"===(c=this.container.find(".right .ampmselect").val())&&a<12&&(a+=12),"AM"===c&&12===a&&(a=0);s=parseInt(this.container.find(".right .minuteselect").val(),10);isNaN(s)&&(s=parseInt(this.container.find(".right .minuteselect option:last").val(),10));l=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;o=o.clone().hour(a).minute(s).second(l)}this.setEndDate(o.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply()),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var t=!0,e=0;for(var n in this.ranges){if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(i)==this.ranges[n][0].format(i)&&this.endDate.format(i)==this.ranges[n][1].format(i)){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}e++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var n=e(t.target).closest(".drp-calendar").hasClass("left"),i=n?"left":"right",r=this.container.find(".drp-calendar."+i),o=parseInt(r.find(".monthselect").val(),10),a=r.find(".yearselect").val();n||(a<this.startDate.year()||a==this.startDate.year()&&o<this.startDate.month())&&(o=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&o<this.minDate.month())&&(o=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&o>this.maxDate.month())&&(o=this.maxDate.month(),a=this.maxDate.year()),n?(this.leftCalendar.month.month(o).year(a),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(o).year(a),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var n=e(t.target).closest(".drp-calendar"),i=n.hasClass("left"),r=parseInt(n.find(".hourselect").val(),10),o=parseInt(n.find(".minuteselect").val(),10);isNaN(o)&&(o=parseInt(n.find(".minuteselect option:last").val(),10));var a=this.timePickerSeconds?parseInt(n.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var s=n.find(".ampmselect").val();"PM"===s&&r<12&&(r+=12),"AM"===s&&12===r&&(r=0)}if(i){var l=this.startDate.clone();l.hour(r),l.minute(o),l.second(a),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var c=this.endDate.clone();c.hour(r),c.minute(o),c.second(a),this.setEndDate(c)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var e=this.element.val().split(this.locale.separator),n=null,i=null;2===e.length&&(n=t(e[0],this.locale.format),i=t(e[1],this.locale.format)),(this.singleDatePicker||null===n||null===i)&&(i=n=t(this.element.val(),this.locale.format)),n.isValid()&&i.isValid()&&(this.setStartDate(n),this.setEndDate(i),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var t=this.startDate.format(this.locale.format);this.singleDatePicker||(t+=this.locale.separator+this.endDate.format(this.locale.format)),t!==this.element.val()&&this.element.val(t).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},e.fn.daterangepicker=function(t,i){var r=e.extend(!0,{},e.fn.daterangepicker.defaultOptions,t);return this.each(function(){var t=e(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new n(t,r,i))}),this},n}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n),n}:t(jQuery)}(function(t){"use strict";var e=0;t.fn.TouchSpin=function(n){var i={min:0,max:100,initval:"",replacementval:"",firstclickvalueifempty:null,step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalup:"+",verticaldown:"-",verticalupclass:"",verticaldownclass:"",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-primary",buttonup_class:"btn btn-primary",buttondown_txt:"-",buttonup_txt:"+",callback_before_calculation:function(t){return t},callback_after_calculation:function(t){return t}},r={min:"min",max:"max",initval:"init-val",replacementval:"replacement-val",firstclickvalueifempty:"first-click-value-if-empty",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"};return this.each(function(){var o,a,s,l,c,u,d,h,f,p,g=t(this),m=g.data(),v=0,y=!1;function b(){""===o.prefix&&(a=c.prefix.detach()),""===o.postfix&&(s=c.postfix.detach())}function w(){var t,e,n;""!==(t=o.callback_before_calculation(g.val()))?o.decimals>0&&"."===t||(e=parseFloat(t),isNaN(e)&&(e=""!==o.replacementval?o.replacementval:0),n=e,e.toString()!==t&&(n=e),null!==o.min&&e<o.min&&(n=o.min),null!==o.max&&e>o.max&&(n=o.max),n=function(t){switch(o.forcestepdivisibility){case"round":return(Math.round(t/o.step)*o.step).toFixed(o.decimals);case"floor":return(Math.floor(t/o.step)*o.step).toFixed(o.decimals);case"ceil":return(Math.ceil(t/o.step)*o.step).toFixed(o.decimals);default:return t.toFixed(o.decimals)}}(n),Number(t).toString()!==n.toString()&&(g.val(n),g.trigger("change"))):""!==o.replacementval&&(g.val(o.replacementval),g.trigger("change"))}function E(){if(o.booster){var t=Math.pow(2,Math.floor(v/o.boostat))*o.step;return o.maxboostedstep&&t>o.maxboostedstep&&(t=o.maxboostedstep,u=Math.round(u/t)*t),Math.max(o.step,t)}return o.step}function C(){return"number"==typeof o.firstclickvalueifempty?o.firstclickvalueifempty:(o.min+o.max)/2}function T(){w();var t,e=u=parseFloat(o.callback_before_calculation(c.input.val()));isNaN(u)?u=C():(t=E(),u+=t),null!==o.max&&u>o.max&&(u=o.max,g.trigger("touchspin.on.max"),D()),c.input.val(o.callback_after_calculation(Number(u).toFixed(o.decimals))),e!==u&&g.trigger("change")}function _(){w();var t,e=u=parseFloat(o.callback_before_calculation(c.input.val()));isNaN(u)?u=C():(t=E(),u-=t),null!==o.min&&u<o.min&&(u=o.min,g.trigger("touchspin.on.min"),D()),c.input.val(o.callback_after_calculation(Number(u).toFixed(o.decimals))),e!==u&&g.trigger("change")}function O(){D(),v=0,y="down",g.trigger("touchspin.on.startspin"),g.trigger("touchspin.on.startdownspin"),f=setTimeout(function(){d=setInterval(function(){v++,_()},o.stepinterval)},o.stepintervaldelay)}function k(){D(),v=0,y="up",g.trigger("touchspin.on.startspin"),g.trigger("touchspin.on.startupspin"),p=setTimeout(function(){h=setInterval(function(){v++,T()},o.stepinterval)},o.stepintervaldelay)}function D(){switch(clearTimeout(f),clearTimeout(p),clearInterval(d),clearInterval(h),y){case"up":g.trigger("touchspin.on.stopupspin"),g.trigger("touchspin.on.stopspin");break;case"down":g.trigger("touchspin.on.stopdownspin"),g.trigger("touchspin.on.stopspin")}v=0,y=!1}!function(){if(g.data("alreadyinitialized"))return;if(g.data("alreadyinitialized",!0),e+=1,g.data("spinnerid",e),!g.is("input"))return void console.log("Must be an input.");o=t.extend({},i,m,(u={},t.each(r,function(t,e){var n="bts-"+e;g.is("[data-"+n+"]")&&(u[t]=g.data(n))}),u),n),""!==o.initval&&""===g.val()&&g.val(o.initval),w(),function(){var e=g.val(),n=g.parent();""!==e&&(e=o.callback_after_calculation(Number(e).toFixed(o.decimals)));g.data("initvalue",e).val(e),g.addClass("form-control"),n.hasClass("input-group")?function(e){e.addClass("bootstrap-touchspin");var n,i,r=g.prev(),a=g.next(),s='<span class="input-group-addon input-group-prepend bootstrap-touchspin-prefix input-group-prepend bootstrap-touchspin-injected"><span class="input-group-text">'+o.prefix+"</span></span>",c='<span class="input-group-addon input-group-append bootstrap-touchspin-postfix input-group-append bootstrap-touchspin-injected"><span class="input-group-text">'+o.postfix+"</span></span>";r.hasClass("input-group-btn")||r.hasClass("input-group-prepend")?(n='<button class="'+o.buttondown_class+' bootstrap-touchspin-down bootstrap-touchspin-injected" type="button">'+o.buttondown_txt+"</button>",r.append(n)):(n='<span class="input-group-btn input-group-prepend bootstrap-touchspin-injected"><button class="'+o.buttondown_class+' bootstrap-touchspin-down" type="button">'+o.buttondown_txt+"</button></span>",t(n).insertBefore(g));a.hasClass("input-group-btn")||a.hasClass("input-group-append")?(i='<button class="'+o.buttonup_class+' bootstrap-touchspin-up bootstrap-touchspin-injected" type="button">'+o.buttonup_txt+"</button>",a.prepend(i)):(i='<span class="input-group-btn input-group-append bootstrap-touchspin-injected"><button class="'+o.buttonup_class+' bootstrap-touchspin-up" type="button">'+o.buttonup_txt+"</button></span>",t(i).insertAfter(g));t(s).insertBefore(g),t(c).insertAfter(g),l=e}(n):function(){var e,n="";g.hasClass("input-sm")&&(n="input-group-sm");g.hasClass("input-lg")&&(n="input-group-lg");e=o.verticalbuttons?'<div class="input-group '+n+' bootstrap-touchspin bootstrap-touchspin-injected"><span class="input-group-addon input-group-prepend bootstrap-touchspin-prefix"><span class="input-group-text">'+o.prefix+'</span></span><span class="input-group-addon bootstrap-touchspin-postfix input-group-append"><span class="input-group-text">'+o.postfix+'</span></span><span class="input-group-btn-vertical"><button class="'+o.buttondown_class+" bootstrap-touchspin-up "+o.verticalupclass+'" type="button">'+o.verticalup+'</button><button class="'+o.buttonup_class+" bootstrap-touchspin-down "+o.verticaldownclass+'" type="button">'+o.verticaldown+"</button></span></div>":'<div class="input-group bootstrap-touchspin bootstrap-touchspin-injected"><span class="input-group-btn input-group-prepend"><button class="'+o.buttondown_class+' bootstrap-touchspin-down" type="button">'+o.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix input-group-prepend"><span class="input-group-text">'+o.prefix+'</span></span><span class="input-group-addon bootstrap-touchspin-postfix input-group-append"><span class="input-group-text">'+o.postfix+'</span></span><span class="input-group-btn input-group-append"><button class="'+o.buttonup_class+' bootstrap-touchspin-up" type="button">'+o.buttonup_txt+"</button></span></div>";l=t(e).insertBefore(g),t(".bootstrap-touchspin-prefix",l).after(g),g.hasClass("input-sm")?l.addClass("input-group-sm"):g.hasClass("input-lg")&&l.addClass("input-group-lg")}()}(),c={down:t(".bootstrap-touchspin-down",l),up:t(".bootstrap-touchspin-up",l),input:t("input",l),prefix:t(".bootstrap-touchspin-prefix",l).addClass(o.prefix_extraclass),postfix:t(".bootstrap-touchspin-postfix",l).addClass(o.postfix_extraclass)},b(),g.on("keydown.touchspin",function(t){var e=t.keyCode||t.which;38===e?("up"!==y&&(T(),k()),t.preventDefault()):40===e&&("down"!==y&&(_(),O()),t.preventDefault())}),g.on("keyup.touchspin",function(t){var e=t.keyCode||t.which;38===e?D():40===e&&D()}),g.on("blur.touchspin",function(){w(),g.val(o.callback_after_calculation(g.val()))}),c.down.on("keydown",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||("down"!==y&&(_(),O()),t.preventDefault())}),c.down.on("keyup.touchspin",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||D()}),c.up.on("keydown.touchspin",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||("up"!==y&&(T(),k()),t.preventDefault())}),c.up.on("keyup.touchspin",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||D()}),c.down.on("mousedown.touchspin",function(t){c.down.off("touchstart.touchspin"),g.is(":disabled")||(_(),O(),t.preventDefault(),t.stopPropagation())}),c.down.on("touchstart.touchspin",function(t){c.down.off("mousedown.touchspin"),g.is(":disabled")||(_(),O(),t.preventDefault(),t.stopPropagation())}),c.up.on("mousedown.touchspin",function(t){c.up.off("touchstart.touchspin"),g.is(":disabled")||(T(),k(),t.preventDefault(),t.stopPropagation())}),c.up.on("touchstart.touchspin",function(t){c.up.off("mousedown.touchspin"),g.is(":disabled")||(T(),k(),t.preventDefault(),t.stopPropagation())}),c.up.on("mouseup.touchspin mouseout.touchspin touchleave.touchspin touchend.touchspin touchcancel.touchspin",function(t){y&&(t.stopPropagation(),D())}),c.down.on("mouseup.touchspin mouseout.touchspin touchleave.touchspin touchend.touchspin touchcancel.touchspin",function(t){y&&(t.stopPropagation(),D())}),c.down.on("mousemove.touchspin touchmove.touchspin",function(t){y&&(t.stopPropagation(),t.preventDefault())}),c.up.on("mousemove.touchspin touchmove.touchspin",function(t){y&&(t.stopPropagation(),t.preventDefault())}),g.on("mousewheel.touchspin DOMMouseScroll.touchspin",function(t){if(o.mousewheel&&g.is(":focus")){var e=t.originalEvent.wheelDelta||-t.originalEvent.deltaY||-t.originalEvent.detail;t.stopPropagation(),t.preventDefault(),e<0?_():T()}}),g.on("touchspin.destroy",function(){var e;e=g.parent(),D(),g.off(".touchspin"),e.hasClass("bootstrap-touchspin-injected")?(g.siblings().remove(),g.unwrap()):(t(".bootstrap-touchspin-injected",e).remove(),e.removeClass("bootstrap-touchspin")),g.data("alreadyinitialized",!1)}),g.on("touchspin.uponce",function(){D(),T()}),g.on("touchspin.downonce",function(){D(),_()}),g.on("touchspin.startupspin",function(){k()}),g.on("touchspin.startdownspin",function(){O()}),g.on("touchspin.stopspin",function(){D()}),g.on("touchspin.updatesettings",function(e,n){!function(e){(function(e){if(o=t.extend({},o,e),e.postfix){var n=g.parent().find(".bootstrap-touchspin-postfix");0===n.length&&s.insertAfter(g),g.parent().find(".bootstrap-touchspin-postfix .input-group-text").text(e.postfix)}if(e.prefix){var i=g.parent().find(".bootstrap-touchspin-prefix");0===i.length&&a.insertBefore(g),g.parent().find(".bootstrap-touchspin-prefix .input-group-text").text(e.prefix)}b()})(e),w();var n=c.input.val();""!==n&&(n=Number(o.callback_before_calculation(c.input.val())),c.input.val(o.callback_after_calculation(Number(n).toFixed(o.decimals))))}(n)});var u}()})}}),function(t){"use strict";t.event.special.destroyed||(t.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}),t.fn.extend({maxlength:function(e,n){var i=t("body");function r(t){var e=t.charCodeAt();return e?e<128?1:e<2048?2:3:0}function o(t){return t.split("").map(r).concat(0).reduce(function(t,e){return t+e})}function a(t){var n=t.val();n=e.twoCharLinebreak?n.replace(/\r(?!\n)|\n(?!\r)/g,"\r\n"):n.replace(/(?:\r\n|\r|\n)/g,"\n");var i=0;return i=e.utf8?o(n):n.length,"file"===t.prop("type")&&""!==t.val()&&(i-=12),i}function s(t,e){return e-a(t)}function l(t,e){e.css({display:"block"}),t.trigger("maxlength.shown")}function c(t,n,i){var r="";return e.message?r="function"==typeof e.message?e.message(t,n):e.message.replace("%charsTyped%",i).replace("%charsRemaining%",n-i).replace("%charsTotal%",n):(e.preText&&(r+=e.preText),e.showCharsTyped?r+=i:r+=n-i,e.showMaxLength&&(r+=e.separator+n),e.postText&&(r+=e.postText)),r}function u(t,n,i,r){var o,s,u,d;r&&(r.html(c(n.val(),i,i-t)),t>0?(o=n,s=e.threshold,u=i,d=!0,!e.alwaysShow&&u-a(o)>s&&(d=!1),d?l(n,r.removeClass(e.limitReachedClass).addClass(e.warningClass)):function(t,n){e.alwaysShow||(n.css({display:"none"}),t.trigger("maxlength.hidden"))}(n,r)):l(n,r.removeClass(e.warningClass).addClass(e.limitReachedClass))),e.customMaxAttribute&&(t<0?n.addClass("overmax"):n.removeClass("overmax"))}function d(n,i){var r=function(e){var n=e[0];return t.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():{width:n.offsetWidth,height:n.offsetHeight},e.offset())}(n);if("function"!==t.type(e.placement))if(t.isPlainObject(e.placement))!function(n,i){if(n&&i){var r={};t.each(["top","bottom","left","right","position"],function(t,n){var i=e.placement[n];void 0!==i&&(r[n]=i)}),i.css(r)}}(e.placement,i);else{var o=n.outerWidth(),a=i.outerWidth(),s=i.width(),l=i.height();switch(e.appendToParent&&(r.top-=n.parent().offset().top,r.left-=n.parent().offset().left),e.placement){case"bottom":i.css({top:r.top+r.height,left:r.left+r.width/2-s/2});break;case"top":i.css({top:r.top-l,left:r.left+r.width/2-s/2});break;case"left":i.css({top:r.top+r.height/2-l/2,left:r.left-s});break;case"right":i.css({top:r.top+r.height/2-l/2,left:r.left+r.width});break;case"bottom-right":i.css({top:r.top+r.height,left:r.left+r.width});break;case"top-right":i.css({top:r.top-l,left:r.left+o});break;case"top-left":i.css({top:r.top-l,left:r.left-a});break;case"bottom-left":i.css({top:r.top+n.outerHeight(),left:r.left-a});break;case"centered-right":i.css({top:r.top+l/2,left:r.left+o-a-3});break;case"bottom-right-inside":i.css({top:r.top+r.height,left:r.left+r.width-a});break;case"top-right-inside":i.css({top:r.top-l,left:r.left+o-a});break;case"top-left-inside":i.css({top:r.top-l,left:r.left});break;case"bottom-left-inside":i.css({top:r.top+n.outerHeight(),left:r.left})}}else e.placement(n,i,r)}function h(t){var n=t.attr("maxlength")||e.customMaxAttribute;if(e.customMaxAttribute&&!e.allowOverMax){var i=t.attr(e.customMaxAttribute);(!n||i<n)&&(n=i)}return n||(n=t.attr("size")),n}return t.isFunction(e)&&!n&&(n=e,e={}),e=t.extend({showOnReady:!1,alwaysShow:!0,threshold:0,warningClass:"small form-text text-muted",limitReachedClass:"small form-text text-danger",separator:" / ",preText:"",postText:"",showMaxLength:!0,placement:"bottom-right-inside",message:null,showCharsTyped:!0,validate:!1,utf8:!1,appendToParent:!1,twoCharLinebreak:!0,customMaxAttribute:null,allowOverMax:!1,zIndex:1099},e),this.each(function(){var n,a,l=t(this);function f(){var r=c(l.val(),n,"0");n=h(l),a||(a=t('<span class="bootstrap-maxlength"></span>').css({display:"none",position:"absolute",whiteSpace:"nowrap",zIndex:e.zIndex}).html(r)),l.is("textarea")&&(l.data("maxlenghtsizex",l.outerWidth()),l.data("maxlenghtsizey",l.outerHeight()),l.mouseup(function(){l.outerWidth()===l.data("maxlenghtsizex")&&l.outerHeight()===l.data("maxlenghtsizey")||d(l,a),l.data("maxlenghtsizex",l.outerWidth()),l.data("maxlenghtsizey",l.outerHeight())})),e.appendToParent?(l.parent().append(a),l.parent().css("position","relative")):i.append(a),u(s(l,h(l)),l,n,a),d(l,a)}t(window).resize(function(){a&&d(l,a)}),e.showOnReady?l.ready(function(){f()}):l.focus(function(){f()}),l.on("maxlength.reposition",function(){d(l,a)}),l.on("destroyed",function(){a&&a.remove()}),l.on("blur",function(){a&&!e.showOnReady&&a.remove()}),l.on("input",function(){var t=h(l),i=s(l,t),c=!0;return e.validate&&i<0?(!function(t,n){var i=t.val();if(e.twoCharLinebreak&&"\n"===(i=i.replace(/\r(?!\n)|\n(?!\r)/g,"\r\n"))[i.length-1]&&(n-=i.length%2),e.utf8){for(var a=i.split("").map(r),s=0,l=o(i)-n;s<l;s+=a.pop());n-=n-a.length}t.val(i.substr(0,n))}(l,t),c=!1):u(i,l,n,a),("bottom-right-inside"===e.placement||"top-right-inside"===e.placement||"function"==typeof e.placement||e.message&&"function"==typeof e.message)&&d(l,a),c})})}})}(jQuery),function(t,e){void 0===t&&void 0!==window&&(t=window),"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){!function(t){"use strict";var e=["sanitize","whiteList","sanitizeFn"],n=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],i={"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},r=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,o=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function a(e,i){var a=e.nodeName.toLowerCase();if(-1!==t.inArray(a,i))return-1===t.inArray(a,n)||Boolean(e.nodeValue.match(r)||e.nodeValue.match(o));for(var s=t(i).filter(function(t,e){return e instanceof RegExp}),l=0,c=s.length;l<c;l++)if(a.match(s[l]))return!0;return!1}function s(t,e,n){if(n&&"function"==typeof n)return n(t);for(var i=Object.keys(e),r=0,o=t.length;r<o;r++)for(var s=t[r].querySelectorAll("*"),l=0,c=s.length;l<c;l++){var u=s[l],d=u.nodeName.toLowerCase();if(-1!==i.indexOf(d))for(var h=[].slice.call(u.attributes),f=[].concat(e["*"]||[],e[d]||[]),p=0,g=h.length;p<g;p++){var m=h[p];a(m,f)||u.removeAttribute(m.nodeName)}else u.parentNode.removeChild(u)}}"classList"in document.createElement("_")||function(e){if("Element"in e){var n=e.Element.prototype,i=Object,r=function(){var e=t(this);return{add:function(t){return t=Array.prototype.slice.call(arguments).join(" "),e.addClass(t)},remove:function(t){return t=Array.prototype.slice.call(arguments).join(" "),e.removeClass(t)},toggle:function(t,n){return e.toggleClass(t,n)},contains:function(t){return e.hasClass(t)}}};if(i.defineProperty){var o={get:r,enumerable:!0,configurable:!0};try{i.defineProperty(n,"classList",o)}catch(t){void 0!==t.number&&-2146823252!==t.number||(o.enumerable=!1,i.defineProperty(n,"classList",o))}}else i.prototype.__defineGetter__&&n.__defineGetter__("classList",r)}}(window);var l,c,u,d=document.createElement("_");if(d.classList.add("c1","c2"),!d.classList.contains("c2")){var h=DOMTokenList.prototype.add,f=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,h.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,f.bind(this))}}if(d.classList.toggle("c3",!1),d.classList.contains("c3")){var p=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:p.call(this,t)}}function g(t,e){var n,i=t.selectedOptions,r=[];if(e){for(var o=0,a=i.length;o<a;o++)(n=i[o]).disabled||"OPTGROUP"===n.parentNode.tagName&&n.parentNode.disabled||r.push(n);return r}return i}function m(t,e){for(var n,i=[],r=e||t.selectedOptions,o=0,a=r.length;o<a;o++)(n=r[o]).disabled||"OPTGROUP"===n.parentNode.tagName&&n.parentNode.disabled||i.push(n.value);return t.multiple?i:i.length?i[0]:null}d=null,String.prototype.startsWith||(l=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),c={}.toString,u=function(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==c.call(t))throw new TypeError;var n=e.length,i=String(t),r=i.length,o=arguments.length>1?arguments[1]:void 0,a=o?Number(o):0;a!=a&&(a=0);var s=Math.min(Math.max(a,0),n);if(r+s>n)return!1;for(var l=-1;++l<r;)if(e.charCodeAt(s+l)!=i.charCodeAt(l))return!1;return!0},l?l(String.prototype,"startsWith",{value:u,configurable:!0,writable:!0}):String.prototype.startsWith=u),Object.keys||(Object.keys=function(t,e,n){for(e in n=[],t)n.hasOwnProperty.call(t,e)&&n.push(e);return n}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var v={useDefault:!1,_set:t.valHooks.select.set};t.valHooks.select.set=function(e,n){return n&&!v.useDefault&&t(e).data("selected",!0),v._set.apply(this,arguments)};var y=null,b=function(){try{return new Event("change"),!0}catch(t){return!1}}();function w(t,e,n,i){for(var r=["display","subtext","tokens"],o=!1,a=0;a<r.length;a++){var s=r[a],l=t[s];if(l&&(l=l.toString(),"display"===s&&(l=l.replace(/<[^>]+>/g,"")),i&&(l=k(l)),l=l.toUpperCase(),o="contains"===n?l.indexOf(e)>=0:l.startsWith(e)))break}return o}function E(t){return parseInt(t,10)||0}t.fn.triggerNative=function(t){var e,n=this[0];n.dispatchEvent?(b?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event")).initEvent(t,!0,!1),n.dispatchEvent(e)):n.fireEvent?((e=document.createEventObject()).eventType=t,n.fireEvent("on"+t,e)):this.trigger(t)};var C={"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"},T=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function O(t){return C[t]}function k(t){return(t=t.toString())&&t.replace(T,O).replace(_,"")}var D,x,I,S,R,A=(D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=function(t){return D[t]},I="(?:"+Object.keys(D).join("|")+")",S=RegExp(I),R=RegExp(I,"g"),function(t){return t=null==t?"":""+t,S.test(t)?t.replace(R,x):t}),N={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},P=27,M=13,L=32,K=9,j=38,F=40,B={success:!1,major:"3"};try{B.full=(t.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),B.major=B.full[0],B.success=!0}catch(t){}var $=0,H=".bs.select",U={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},z={MENU:"."+U.MENU},V={div:document.createElement("div"),span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode("Â "),fragment:document.createDocumentFragment()};V.noResults=V.li.cloneNode(!1),V.noResults.className="no-results",V.a.setAttribute("role","option"),V.a.className="dropdown-item",V.subtext.className="text-muted",V.text=V.span.cloneNode(!1),V.text.className="text",V.checkMark=V.span.cloneNode(!1);var W=new RegExp(j+"|"+F),q=new RegExp("^"+K+"$|"+P),Y={li:function(t,e,n){var i=V.li.cloneNode(!1);return t&&(1===t.nodeType||11===t.nodeType?i.appendChild(t):i.innerHTML=t),void 0!==e&&""!==e&&(i.className=e),null!=n&&i.classList.add("optgroup-"+n),i},a:function(t,e,n){var i=V.a.cloneNode(!0);return t&&(11===t.nodeType?i.appendChild(t):i.insertAdjacentHTML("beforeend",t)),void 0!==e&&""!==e&&i.classList.add.apply(i.classList,e.split(/\s+/)),n&&i.setAttribute("style",n),i},text:function(t,e){var n,i,r=V.text.cloneNode(!1);if(t.content)r.innerHTML=t.content;else{if(r.textContent=t.text,t.icon){var o=V.whitespace.cloneNode(!1);(i=(!0===e?V.i:V.span).cloneNode(!1)).className=this.options.iconBase+" "+t.icon,V.fragment.appendChild(i),V.fragment.appendChild(o)}t.subtext&&((n=V.subtext.cloneNode(!1)).textContent=t.subtext,r.appendChild(n))}if(!0===e)for(;r.childNodes.length>0;)V.fragment.appendChild(r.childNodes[0]);else V.fragment.appendChild(r);return V.fragment},label:function(t){var e,n,i=V.text.cloneNode(!1);if(i.innerHTML=t.display,t.icon){var r=V.whitespace.cloneNode(!1);(n=V.span.cloneNode(!1)).className=this.options.iconBase+" "+t.icon,V.fragment.appendChild(n),V.fragment.appendChild(r)}return t.subtext&&((e=V.subtext.cloneNode(!1)).textContent=t.subtext,i.appendChild(e)),V.fragment.appendChild(i),V.fragment}};var G=function(e,n){var i=this;v.useDefault||(t.valHooks.select.set=v._set,v.useDefault=!0),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.options=n,this.selectpicker={main:{},search:{},current:{},view:{},isSearching:!1,keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){i.selectpicker.keydown.keyHistory=""},800)}}}},this.sizeInfo={},null===this.options.title&&(this.options.title=this.$element.attr("title"));var r=this.options.windowPadding;"number"==typeof r&&(this.options.windowPadding=[r,r,r,r]),this.val=G.prototype.val,this.render=G.prototype.render,this.refresh=G.prototype.refresh,this.setStyle=G.prototype.setStyle,this.selectAll=G.prototype.selectAll,this.deselectAll=G.prototype.deselectAll,this.destroy=G.prototype.destroy,this.remove=G.prototype.remove,this.show=G.prototype.show,this.hide=G.prototype.hide,this.init()};function X(n){var i,r=arguments,o=n;if([].shift.apply(r),!B.success){try{B.full=(t.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(t){G.BootstrapVersion?B.full=G.BootstrapVersion.split(" ")[0].split("."):(B.full=[B.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",t))}B.major=B.full[0],B.success=!0}if("4"===B.major){var a=[];G.DEFAULTS.style===U.BUTTONCLASS&&a.push({name:"style",className:"BUTTONCLASS"}),G.DEFAULTS.iconBase===U.ICONBASE&&a.push({name:"iconBase",className:"ICONBASE"}),G.DEFAULTS.tickIcon===U.TICKICON&&a.push({name:"tickIcon",className:"TICKICON"}),U.DIVIDER="dropdown-divider",U.SHOW="show",U.BUTTONCLASS="btn-light",U.POPOVERHEADER="popover-header",U.ICONBASE="",U.TICKICON="bs-ok-default";for(var s=0;s<a.length;s++){n=a[s];G.DEFAULTS[n.name]=U[n.className]}}var l=this.each(function(){var n=t(this);if(n.is("select")){var a=n.data("selectpicker"),s="object"==typeof o&&o;if(a){if(s)for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(a.options[l]=s[l])}else{var c=n.data();for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&-1!==t.inArray(u,e)&&delete c[u];var d=t.extend({},G.DEFAULTS,t.fn.selectpicker.defaults||{},c,s);d.template=t.extend({},G.DEFAULTS.template,t.fn.selectpicker.defaults?t.fn.selectpicker.defaults.template:{},c.template,s.template),n.data("selectpicker",a=new G(this,d))}"string"==typeof o&&(i=a[o]instanceof Function?a[o].apply(a,r):a.options[o])}});return void 0!==i?i:l}G.VERSION="1.13.18",G.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:U.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:U.ICONBASE,tickIcon:U.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:i},G.prototype={constructor:G,init:function(){var t=this,e=this.$element.attr("id"),n=this.$element[0],i=n.form;$++,this.selectId="bs-select-"+$,n.classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),n.classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.buildData(),this.$element.after(this.$newElement).prependTo(this.$newElement),i&&null===n.form&&(i.id||(i.id="form-"+this.selectId),n.setAttribute("form",i.id)),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(z.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),n.classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(U.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide.bs.select",function(){if(t.isVirtual()){var e=t.$menuInner[0],n=e.firstChild.cloneNode(!1);e.replaceChild(n,e.firstChild),e.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){t.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown.bs.select",e)}}),n.hasAttribute("required")&&this.$element.on("invalid.bs.select",function(){t.$button[0].classList.add("bs-invalid"),t.$element.on("shown.bs.select.invalid",function(){t.$element.val(t.$element.val()).off("shown.bs.select.invalid")}).on("rendered.bs.select",function(){this.validity.valid&&t.$button[0].classList.remove("bs-invalid"),t.$element.off("rendered.bs.select")}),t.$button.on("blur.bs.select",function(){t.$element.trigger("focus").trigger("blur"),t.$button.off("blur.bs.select")})}),setTimeout(function(){t.buildList(),t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",n=this.multiple?' aria-multiselectable="true"':"",i="",r=this.autofocus?" autofocus":"";B.major<4&&this.$element.parent().hasClass("input-group")&&(i=" input-group-btn");var o,a="",s="",l="",c="";return this.options.header&&(a='<div class="'+U.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(s='<div class="bs-searchbox"><input type="search" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+A(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list"></div>'),this.multiple&&this.options.actionsBox&&(l='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+U.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+U.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(c='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+U.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),o='<div class="dropdown bootstrap-select'+e+i+'"><button type="button" tabindex="-1" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+r+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===B.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+U.MENU+" "+("4"===B.major?"":U.SHOW)+'">'+a+s+l+'<div class="inner '+U.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+n+'><ul class="'+U.MENU+" inner "+("4"===B.major?U.SHOW:"")+'" role="presentation"></ul></div>'+c+"</div></div>",t(o)},setPositionData:function(){this.selectpicker.view.canHighlight=[],this.selectpicker.view.size=0,this.selectpicker.view.firstHighlightIndex=!1;for(var t=0;t<this.selectpicker.current.data.length;t++){var e=this.selectpicker.current.data[t],n=!0;"divider"===e.type?(n=!1,e.height=this.sizeInfo.dividerHeight):"optgroup-label"===e.type?(n=!1,e.height=this.sizeInfo.dropdownHeaderHeight):e.height=this.sizeInfo.liHeight,e.disabled&&(n=!1),this.selectpicker.view.canHighlight.push(n),n&&(this.selectpicker.view.size++,e.posinset=this.selectpicker.view.size,!1===this.selectpicker.view.firstHighlightIndex&&(this.selectpicker.view.firstHighlightIndex=t)),e.position=(0===t?0:this.selectpicker.current.data[t-1].position)+e.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(e,n,i){var r,o,a=this,l=0,c=[];if(this.selectpicker.isSearching=e,this.selectpicker.current=e?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),n)if(i)l=this.$menuInner[0].scrollTop;else if(!a.multiple){var u=a.$element[0],d=(u.options[u.selectedIndex]||{}).liIndex;if("number"==typeof d&&!1!==a.options.size){var h=a.selectpicker.main.data[d],f=h&&h.position;f&&(l=f-(a.sizeInfo.menuInnerHeight+a.sizeInfo.liHeight)/2)}}function p(t,n){var i,l,u,d,h,f,p,g,m,v,y=a.selectpicker.current.elements.length,b=[],w=!0,E=a.isVirtual();a.selectpicker.view.scrollTop=t,i=Math.ceil(a.sizeInfo.menuInnerHeight/a.sizeInfo.liHeight*1.5),l=Math.round(y/i)||1;for(var C=0;C<l;C++){var T=(C+1)*i;if(C===l-1&&(T=y),b[C]=[C*i+(C?1:0),T],!y)break;void 0===h&&t-1<=a.selectpicker.current.data[T-1].position-a.sizeInfo.menuInnerHeight&&(h=C)}if(void 0===h&&(h=0),f=[a.selectpicker.view.position0,a.selectpicker.view.position1],u=Math.max(0,h-1),d=Math.min(l-1,h+1),a.selectpicker.view.position0=!1===E?0:Math.max(0,b[u][0])||0,a.selectpicker.view.position1=!1===E?y:Math.min(y,b[d][1])||0,p=f[0]!==a.selectpicker.view.position0||f[1]!==a.selectpicker.view.position1,void 0!==a.activeIndex&&(o=a.selectpicker.main.elements[a.prevActiveIndex],c=a.selectpicker.main.elements[a.activeIndex],r=a.selectpicker.main.elements[a.selectedIndex],n&&(a.activeIndex!==a.selectedIndex&&a.defocusItem(c),a.activeIndex=void 0),a.activeIndex&&a.activeIndex!==a.selectedIndex&&a.defocusItem(r)),void 0!==a.prevActiveIndex&&a.prevActiveIndex!==a.activeIndex&&a.prevActiveIndex!==a.selectedIndex&&a.defocusItem(o),(n||p)&&(g=a.selectpicker.view.visibleElements?a.selectpicker.view.visibleElements.slice():[],a.selectpicker.view.visibleElements=!1===E?a.selectpicker.current.elements:a.selectpicker.current.elements.slice(a.selectpicker.view.position0,a.selectpicker.view.position1),a.setOptionStatus(),(e||!1===E&&n)&&(m=g,v=a.selectpicker.view.visibleElements,w=!(m.length===v.length&&m.every(function(t,e){return t===v[e]}))),(n||!0===E)&&w)){var _,O,k=a.$menuInner[0],D=document.createDocumentFragment(),x=k.firstChild.cloneNode(!1),I=a.selectpicker.view.visibleElements,S=[];k.replaceChild(x,k.firstChild);C=0;for(var R=I.length;C<R;C++){var A,N,P=I[C];a.options.sanitize&&(A=P.lastChild)&&(N=a.selectpicker.current.data[C+a.selectpicker.view.position0])&&N.content&&!N.sanitized&&(S.push(A),N.sanitized=!0),D.appendChild(P)}if(a.options.sanitize&&S.length&&s(S,a.options.whiteList,a.options.sanitizeFn),!0===E?(_=0===a.selectpicker.view.position0?0:a.selectpicker.current.data[a.selectpicker.view.position0-1].position,O=a.selectpicker.view.position1>y-1?0:a.selectpicker.current.data[y-1].position-a.selectpicker.current.data[a.selectpicker.view.position1-1].position,k.firstChild.style.marginTop=_+"px",k.firstChild.style.marginBottom=O+"px"):(k.firstChild.style.marginTop=0,k.firstChild.style.marginBottom=0),k.firstChild.appendChild(D),!0===E&&a.sizeInfo.hasScrollBar){var M=k.firstChild.offsetWidth;if(n&&M<a.sizeInfo.menuInnerInnerWidth&&a.sizeInfo.totalMenuWidth>a.sizeInfo.selectWidth)k.firstChild.style.minWidth=a.sizeInfo.menuInnerInnerWidth+"px";else if(M>a.sizeInfo.menuInnerInnerWidth){a.$menu[0].style.minWidth=0;var L=k.firstChild.offsetWidth;L>a.sizeInfo.menuInnerInnerWidth&&(a.sizeInfo.menuInnerInnerWidth=L,k.firstChild.style.minWidth=a.sizeInfo.menuInnerInnerWidth+"px"),a.$menu[0].style.minWidth=""}}}if(a.prevActiveIndex=a.activeIndex,a.options.liveSearch){if(e&&n){var K,j=0;a.selectpicker.view.canHighlight[j]||(j=1+a.selectpicker.view.canHighlight.slice(1).indexOf(!0)),K=a.selectpicker.view.visibleElements[j],a.defocusItem(a.selectpicker.view.currentActive),a.activeIndex=(a.selectpicker.current.data[j]||{}).index,a.focusItem(K)}}else a.$menuInner.trigger("focus")}p(l,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(t,e){a.noScroll||p(this.scrollTop,e),a.noScroll=!1}),t(window).off("resize.bs.select."+this.selectId+".createView").on("resize.bs.select."+this.selectId+".createView",function(){a.$newElement.hasClass(U.SHOW)&&p(a.$menuInner[0].scrollTop)})},focusItem:function(t,e,n){if(t){e=e||this.selectpicker.main.data[this.activeIndex];var i=t.firstChild;i&&(i.setAttribute("aria-setsize",this.selectpicker.view.size),i.setAttribute("aria-posinset",e.posinset),!0!==n&&(this.focusedParent.setAttribute("aria-activedescendant",i.id),t.classList.add("active"),i.classList.add("active")))}},defocusItem:function(t){t&&(t.classList.remove("active"),t.firstChild&&t.firstChild.classList.remove("active"))},setPlaceholder:function(){var t=this,e=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=!0;var n=this.$element[0],i=!1,r=!this.selectpicker.view.titleOption.parentNode,o=n.selectedIndex,a=n.options[o],s=window.performance&&window.performance.getEntriesByType("navigation"),l=s&&s.length?"back_forward"!==s[0].type:2!==window.performance.navigation.type;r&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",i=!a||0===o&&!1===a.defaultSelected&&void 0===this.$element.data("selected")),(r||0!==this.selectpicker.view.titleOption.index)&&n.insertBefore(this.selectpicker.view.titleOption,n.firstChild),i&&l?n.selectedIndex=0:"complete"!==document.readyState&&window.addEventListener("pageshow",function(){t.selectpicker.view.displayedValue!==n.value&&t.render()})}return e},buildData:function(){var t=':not([hidden]):not([data-hidden="true"])',e=[],n=0,i=this.setPlaceholder()?1:0;this.options.hideDisabled&&(t+=":not(:disabled)");var r=this.$element[0].querySelectorAll("select > *"+t);function o(t){var n=e[e.length-1];n&&"divider"===n.type&&(n.optID||t.optID)||((t=t||{}).type="divider",e.push(t))}function a(t,n){if((n=n||{}).divider="true"===t.getAttribute("data-divider"),n.divider)o({optID:n.optID});else{var i=e.length,r=t.style.cssText,a=r?A(r):"",s=(t.className||"")+(n.optgroupClass||"");n.optID&&(s="opt "+s),n.optionClass=s.trim(),n.inlineStyle=a,n.text=t.textContent,n.content=t.getAttribute("data-content"),n.tokens=t.getAttribute("data-tokens"),n.subtext=t.getAttribute("data-subtext"),n.icon=t.getAttribute("data-icon"),t.liIndex=i,n.display=n.content||n.text,n.type="option",n.index=i,n.option=t,n.selected=!!t.selected,n.disabled=n.disabled||!!t.disabled,e.push(n)}}function s(r,s){var l=s[r],c=!(r-1<i)&&s[r-1],u=s[r+1],d=l.querySelectorAll("option"+t);if(d.length){var h,f,p={display:A(l.label),subtext:l.getAttribute("data-subtext"),icon:l.getAttribute("data-icon"),type:"optgroup-label",optgroupClass:" "+(l.className||"")};n++,c&&o({optID:n}),p.optID=n,e.push(p);for(var g=0,m=d.length;g<m;g++){var v=d[g];0===g&&(f=(h=e.length-1)+m),a(v,{headerIndex:h,lastIndex:f,optID:p.optID,optgroupClass:p.optgroupClass,disabled:l.disabled})}u&&o({optID:n})}}for(var l=r.length,c=i;c<l;c++){var u=r[c];"OPTGROUP"!==u.tagName?a(u,{}):s(c,r)}this.selectpicker.main.data=this.selectpicker.current.data=e},buildList:function(){var t=this,e=this.selectpicker.main.data,n=[],i=0;function r(e){var r,o=0;switch(e.type){case"divider":r=Y.li(!1,U.DIVIDER,e.optID?e.optID+"div":void 0);break;case"option":(r=Y.li(Y.a(Y.text.call(t,e),e.optionClass,e.inlineStyle),"",e.optID)).firstChild&&(r.firstChild.id=t.selectId+"-"+e.index);break;case"optgroup-label":r=Y.li(Y.label.call(t,e),"dropdown-header"+e.optgroupClass,e.optID)}e.element=r,n.push(r),e.display&&(o+=e.display.length),e.subtext&&(o+=e.subtext.length),e.icon&&(o+=1),o>i&&(i=o,t.selectpicker.view.widestOption=n[n.length-1])}!t.options.showTick&&!t.multiple||V.checkMark.parentNode||(V.checkMark.className=this.options.iconBase+" "+t.options.tickIcon+" check-mark",V.a.appendChild(V.checkMark));for(var o=e.length,a=0;a<o;a++){r(e[a])}this.selectpicker.main.elements=this.selectpicker.current.elements=n},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var t,e,n=this.$element[0],i=this.setPlaceholder()&&0===n.selectedIndex,r=g(n,this.options.hideDisabled),o=r.length,a=this.$button[0],l=a.querySelector(".filter-option-inner-inner"),c=document.createTextNode(this.options.multipleSeparator),u=V.fragment.cloneNode(!1),d=!1;if(a.classList.toggle("bs-placeholder",this.multiple?!o:!m(n,r)),this.multiple||1!==r.length||(this.selectpicker.view.displayedValue=m(n,r)),"static"===this.options.selectedTextFormat)u=Y.text.call(this,{text:this.options.title},!0);else if((t=this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&o>1)&&(t=(e=this.options.selectedTextFormat.split(">")).length>1&&o>e[1]||1===e.length&&o>=2),!1===t){if(!i){for(var h=0;h<o&&h<50;h++){var f=r[h],p=this.selectpicker.main.data[f.liIndex],v={};this.multiple&&h>0&&u.appendChild(c.cloneNode(!1)),f.title?v.text=f.title:p&&(p.content&&this.options.showContent?(v.content=p.content.toString(),d=!0):(this.options.showIcon&&(v.icon=p.icon),this.options.showSubtext&&!this.multiple&&p.subtext&&(v.subtext=" "+p.subtext),v.text=f.textContent.trim())),u.appendChild(Y.text.call(this,v,!0))}o>49&&u.appendChild(document.createTextNode("..."))}}else{var y=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(y+=":not(:disabled)");var b=this.$element[0].querySelectorAll("select > option"+y+", optgroup"+y+" option"+y).length,w="function"==typeof this.options.countSelectedText?this.options.countSelectedText(o,b):this.options.countSelectedText;u=Y.text.call(this,{text:w.replace("{0}",o.toString()).replace("{1}",b.toString())},!0)}if(null==this.options.title&&(this.options.title=this.$element.attr("title")),u.childNodes.length||(u=Y.text.call(this,{text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),a.title=u.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&d&&s([u],this.options.whiteList,this.options.sanitizeFn),l.innerHTML="",l.appendChild(u),B.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")){var E=a.querySelector(".filter-expand"),C=l.cloneNode(!0);C.className="filter-expand",E?a.replaceChild(C,E):a.appendChild(C)}this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){var n,i=this.$button[0],r=this.$newElement[0],o=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),B.major<4&&(r.classList.add("bs3"),r.parentNode.classList&&r.parentNode.classList.contains("input-group")&&(r.previousElementSibling||r.nextElementSibling)&&(r.previousElementSibling||r.nextElementSibling).classList.contains("input-group-addon")&&r.classList.add("bs3-has-addon")),n=t?t.trim():o,"add"==e?n&&i.classList.add.apply(i.classList,n.split(" ")):"remove"==e?n&&i.classList.remove.apply(i.classList,n.split(" ")):(o&&i.classList.remove.apply(i.classList,o.split(" ")),n&&i.classList.add.apply(i.classList,n.split(" ")))},liHeight:function(e){if(e||!1!==this.options.size&&!Object.keys(this.sizeInfo).length){var n,i=V.div.cloneNode(!1),r=V.div.cloneNode(!1),o=V.div.cloneNode(!1),a=document.createElement("ul"),s=V.li.cloneNode(!1),l=V.li.cloneNode(!1),c=V.a.cloneNode(!1),u=V.span.cloneNode(!1),d=this.options.header&&this.$menu.find("."+U.POPOVERHEADER).length>0?this.$menu.find("."+U.POPOVERHEADER)[0].cloneNode(!0):null,h=this.options.liveSearch?V.div.cloneNode(!1):null,f=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,g=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,u.className="text",c.className="dropdown-item "+(g?g.className:""),i.className=this.$menu[0].parentNode.className+" "+U.SHOW,i.style.width=0,"auto"===this.options.width&&(r.style.minWidth=0),r.className=U.MENU+" "+U.SHOW,o.className="inner "+U.SHOW,a.className=U.MENU+" inner "+("4"===B.major?U.SHOW:""),s.className=U.DIVIDER,l.className="dropdown-header",u.appendChild(document.createTextNode("â")),this.selectpicker.current.data.length)for(var m=0;m<this.selectpicker.current.data.length;m++){var v=this.selectpicker.current.data[m];if("option"===v.type){n=v.element;break}}else n=V.li.cloneNode(!1),c.appendChild(u),n.appendChild(c);if(l.appendChild(u.cloneNode(!0)),this.selectpicker.view.widestOption&&a.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),a.appendChild(n),a.appendChild(s),a.appendChild(l),d&&r.appendChild(d),h){var y=document.createElement("input");h.className="bs-searchbox",y.className="form-control",h.appendChild(y),r.appendChild(h)}f&&r.appendChild(f),o.appendChild(a),r.appendChild(o),p&&r.appendChild(p),i.appendChild(r),document.body.appendChild(i);var b,w=n.offsetHeight,C=l?l.offsetHeight:0,T=d?d.offsetHeight:0,_=h?h.offsetHeight:0,O=f?f.offsetHeight:0,k=p?p.offsetHeight:0,D=t(s).outerHeight(!0),x=!!window.getComputedStyle&&window.getComputedStyle(r),I=r.offsetWidth,S=x?null:t(r),R={vert:E(x?x.paddingTop:S.css("paddingTop"))+E(x?x.paddingBottom:S.css("paddingBottom"))+E(x?x.borderTopWidth:S.css("borderTopWidth"))+E(x?x.borderBottomWidth:S.css("borderBottomWidth")),horiz:E(x?x.paddingLeft:S.css("paddingLeft"))+E(x?x.paddingRight:S.css("paddingRight"))+E(x?x.borderLeftWidth:S.css("borderLeftWidth"))+E(x?x.borderRightWidth:S.css("borderRightWidth"))},A={vert:R.vert+E(x?x.marginTop:S.css("marginTop"))+E(x?x.marginBottom:S.css("marginBottom"))+2,horiz:R.horiz+E(x?x.marginLeft:S.css("marginLeft"))+E(x?x.marginRight:S.css("marginRight"))+2};o.style.overflowY="scroll",b=r.offsetWidth-I,document.body.removeChild(i),this.sizeInfo.liHeight=w,this.sizeInfo.dropdownHeaderHeight=C,this.sizeInfo.headerHeight=T,this.sizeInfo.searchHeight=_,this.sizeInfo.actionsHeight=O,this.sizeInfo.doneButtonHeight=k,this.sizeInfo.dividerHeight=D,this.sizeInfo.menuPadding=R,this.sizeInfo.menuExtras=A,this.sizeInfo.menuWidth=I,this.sizeInfo.menuInnerInnerWidth=I-R.horiz,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=b,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var e,n=t(window),i=this.$newElement.offset(),r=t(this.options.container);this.options.container&&r.length&&!r.is("body")?((e=r.offset()).top+=parseInt(r.css("borderTopWidth")),e.left+=parseInt(r.css("borderLeftWidth"))):e={top:0,left:0};var o=this.options.windowPadding;this.sizeInfo.selectOffsetTop=i.top-e.top-n.scrollTop(),this.sizeInfo.selectOffsetBot=n.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-o[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-n.scrollLeft(),this.sizeInfo.selectOffsetRight=n.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-o[1],this.sizeInfo.selectOffsetTop-=o[0],this.sizeInfo.selectOffsetLeft-=o[3]},setMenuSize:function(t){this.getSelectPosition();var e,n,i,r,o,a,s,l,c=this.sizeInfo.selectWidth,u=this.sizeInfo.liHeight,d=this.sizeInfo.headerHeight,h=this.sizeInfo.searchHeight,f=this.sizeInfo.actionsHeight,p=this.sizeInfo.doneButtonHeight,g=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,v=0;if(this.options.dropupAuto&&(s=u*this.selectpicker.current.elements.length+m.vert,l=this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&s+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot,!0===this.selectpicker.isSearching&&(l=this.selectpicker.dropup),this.$newElement.toggleClass(U.DROPUP,l),this.selectpicker.dropup=l),"auto"===this.options.size)r=this.selectpicker.current.elements.length>3?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,n=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,i=r+d+h+f+p,a=Math.max(r-m.vert,0),this.$newElement.hasClass(U.DROPUP)&&(n=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),o=n,e=n-d-h-f-p-m.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var y=0;y<this.options.size;y++)"divider"===this.selectpicker.current.data[y].type&&v++;e=(n=u*this.options.size+v*g+m.vert)-m.vert,o=n+d+h+f+p,i=a=""}this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":i+"px"}),this.$menuInner.css({"max-height":e+"px","overflow-y":"auto","min-height":a+"px"}),this.sizeInfo.menuInnerHeight=Math.max(e,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(U.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-c),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){if(this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var n=this,i=t(window);this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return n.setMenuSize()}),"auto"===this.options.size?i.off("resize.bs.select."+this.selectId+".setMenuSize scroll"+H+"."+this.selectId+".setMenuSize").on("resize.bs.select."+this.selectId+".setMenuSize scroll"+H+"."+this.selectId+".setMenuSize",function(){return n.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&i.off("resize.bs.select."+this.selectId+".setMenuSize scroll"+H+"."+this.selectId+".setMenuSize")}this.createView(!1,!0,e)},setWidth:function(){var t=this;"auto"===this.options.width?requestAnimationFrame(function(){t.$menu.css("min-width","0"),t.$element.on("loaded.bs.select",function(){t.liHeight(),t.setMenuSize();var e=t.$newElement.clone().appendTo("body"),n=e.css("width","auto").children("button").outerWidth();e.remove(),t.sizeInfo.selectWidth=Math.max(t.sizeInfo.totalMenuWidth,n),t.$newElement.css("width",t.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=t('<div class="bs-container" />');var e,n,i,r=this,o=t(this.options.container),a=function(a){var s={},l=r.options.display||!!t.fn.dropdown.Constructor.Default&&t.fn.dropdown.Constructor.Default.display;r.$bsContainer.addClass(a.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(U.DROPUP,a.hasClass(U.DROPUP)),e=a.offset(),o.is("body")?n={top:0,left:0}:((n=o.offset()).top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),n.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),i=a.hasClass(U.DROPUP)?0:a[0].offsetHeight,(B.major<4||"static"===l)&&(s.top=e.top-n.top+i,s.left=e.left-n.left),s.width=a[0].offsetWidth,r.$bsContainer.css(s)};this.$button.on("click.bs.dropdown.data-api",function(){r.isDisabled()||(a(r.$newElement),r.$bsContainer.appendTo(r.options.container).toggleClass(U.SHOW,!r.$button.hasClass(U.SHOW)).append(r.$menu))}),t(window).off("resize.bs.select."+this.selectId+" scroll"+H+"."+this.selectId).on("resize.bs.select."+this.selectId+" scroll"+H+"."+this.selectId,function(){r.$newElement.hasClass(U.SHOW)&&a(r.$newElement)}),this.$element.on("hide.bs.select",function(){r.$menu.data("height",r.$menu.height()),r.$bsContainer.detach()})},setOptionStatus:function(t){if(this.noScroll=!1,this.selectpicker.view.visibleElements&&this.selectpicker.view.visibleElements.length)for(var e=0;e<this.selectpicker.view.visibleElements.length;e++){var n=this.selectpicker.current.data[e+this.selectpicker.view.position0],i=n.option;i&&(!0!==t&&this.setDisabled(n.index,n.disabled),this.setSelected(n.index,i.selected))}},setSelected:function(t,e){var n,i,r=this.selectpicker.main.elements[t],o=this.selectpicker.main.data[t],a=void 0!==this.activeIndex,s=this.activeIndex===t||e&&!this.multiple&&!a;o.selected=e,i=r.firstChild,e&&(this.selectedIndex=t),r.classList.toggle("selected",e),s?(this.focusItem(r,o),this.selectpicker.view.currentActive=r,this.activeIndex=t):this.defocusItem(r),i&&(i.classList.toggle("selected",e),e?i.setAttribute("aria-selected",!0):this.multiple?i.setAttribute("aria-selected",!1):i.removeAttribute("aria-selected")),s||a||!e||void 0===this.prevActiveIndex||(n=this.selectpicker.main.elements[this.prevActiveIndex],this.defocusItem(n))},setDisabled:function(t,e){var n,i=this.selectpicker.main.elements[t];this.selectpicker.main.data[t].disabled=e,n=i.firstChild,i.classList.toggle(U.DISABLED,e),n&&("4"===B.major&&n.classList.toggle(U.DISABLED,e),e?(n.setAttribute("aria-disabled",e),n.setAttribute("tabindex",-1)):(n.removeAttribute("aria-disabled"),n.setAttribute("tabindex",0)))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add(U.DISABLED),this.$button.addClass(U.DISABLED).attr("aria-disabled",!0)):this.$button[0].classList.contains(U.DISABLED)&&(this.$newElement[0].classList.remove(U.DISABLED),this.$button.removeClass(U.DISABLED).attr("aria-disabled",!1))},clickListener:function(){var e=this,n=t(document);function i(){e.options.liveSearch?e.$searchbox.trigger("focus"):e.$menuInner.trigger("focus")}function r(){e.dropdown&&e.dropdown._popper&&e.dropdown._popper.state.isCreated?i():requestAnimationFrame(r)}n.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&n.data("spaceSelect")&&(t.preventDefault(),n.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){B.major>3&&!e.dropdown&&(e.dropdown=e.$button.data("bs.dropdown"),e.dropdown._menu=e.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){e.$newElement.hasClass(U.SHOW)||e.setSize()}),this.$element.on("shown.bs.select",function(){e.$menuInner[0].scrollTop!==e.selectpicker.view.scrollTop&&(e.$menuInner[0].scrollTop=e.selectpicker.view.scrollTop),B.major>3?requestAnimationFrame(r):i()}),this.$menuInner.on("mouseenter","li a",function(t){var n=this.parentElement,i=e.isVirtual()?e.selectpicker.view.position0:0,r=Array.prototype.indexOf.call(n.parentElement.children,n),o=e.selectpicker.current.data[r+i];e.focusItem(n,o,!0)}),this.$menuInner.on("click","li a",function(n,i){var r=t(this),o=e.$element[0],a=e.isVirtual()?e.selectpicker.view.position0:0,s=e.selectpicker.current.data[r.parent().index()+a],l=s.index,c=m(o),u=o.selectedIndex,d=o.options[u],h=!0;if(e.multiple&&1!==e.options.maxOptions&&n.stopPropagation(),n.preventDefault(),!e.isDisabled()&&!r.parent().hasClass(U.DISABLED)){var f=s.option,p=t(f),v=f.selected,b=p.parent("optgroup"),w=b.find("option"),E=e.options.maxOptions,C=b.data("maxOptions")||!1;if(l===e.activeIndex&&(i=!0),i||(e.prevActiveIndex=e.activeIndex,e.activeIndex=void 0),e.multiple){if(f.selected=!v,e.setSelected(l,!v),e.focusedParent.focus(),!1!==E||!1!==C){var T=E<g(o).length,_=C<b.find("option:selected").length;if(E&&T||C&&_)if(E&&1==E)o.selectedIndex=-1,f.selected=!0,e.setOptionStatus(!0);else if(C&&1==C){for(var O=0;O<w.length;O++){var k=w[O];k.selected=!1,e.setSelected(k.liIndex,!1)}f.selected=!0,e.setSelected(l,!0)}else{var D="string"==typeof e.options.maxOptionsText?[e.options.maxOptionsText,e.options.maxOptionsText]:e.options.maxOptionsText,x="function"==typeof D?D(E,C):D,I=x[0].replace("{n}",E),S=x[1].replace("{n}",C),R=t('<div class="notify"></div>');x[2]&&(I=I.replace("{var}",x[2][E>1?0:1]),S=S.replace("{var}",x[2][C>1?0:1])),f.selected=!1,e.$menu.append(R),E&&T&&(R.append(t("<div>"+I+"</div>")),h=!1,e.$element.trigger("maxReached.bs.select")),C&&_&&(R.append(t("<div>"+S+"</div>")),h=!1,e.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){e.setSelected(l,!1)},10),R[0].classList.add("fadeOut"),setTimeout(function(){R.remove()},1050)}}}else d&&(d.selected=!1),f.selected=!0,e.setSelected(l,!0);!e.multiple||e.multiple&&1===e.options.maxOptions?e.$button.trigger("focus"):e.options.liveSearch&&e.$searchbox.trigger("focus"),h&&(e.multiple||u!==o.selectedIndex)&&(y=[f.index,p.prop("selected"),c],e.$element.triggerNative("change"))}}),this.$menu.on("click","li."+U.DISABLED+" a, ."+U.POPOVERHEADER+", ."+U.POPOVERHEADER+" :not(.close)",function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),e.options.liveSearch&&!t(n.target).hasClass("close")?e.$searchbox.trigger("focus"):e.$button.trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.trigger("focus"):e.$button.trigger("focus")}),this.$menu.on("click","."+U.POPOVERHEADER+" .close",function(){e.$button.trigger("click")}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(n){e.options.liveSearch?e.$searchbox.trigger("focus"):e.$button.trigger("focus"),n.preventDefault(),n.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll()}),this.$button.on("focus.bs.select",function(t){var n=e.$element[0].getAttribute("tabindex");void 0!==n&&t.originalEvent&&t.originalEvent.isTrusted&&(this.setAttribute("tabindex",n),e.$element[0].setAttribute("tabindex",-1),e.selectpicker.view.tabindex=n)}).on("blur.bs.select",function(t){void 0!==e.selectpicker.view.tabindex&&t.originalEvent&&t.originalEvent.isTrusted&&(e.$element[0].setAttribute("tabindex",e.selectpicker.view.tabindex),this.setAttribute("tabindex",-1),e.selectpicker.view.tabindex=void 0)}),this.$element.on("change.bs.select",function(){e.render(),e.$element.trigger("changed.bs.select",y),y=null}).on("focus.bs.select",function(){e.options.mobile||e.$button[0].focus()})},liveSearchListener:function(){var t=this;this.$button.on("click.bs.dropdown.data-api",function(){t.$searchbox.val()&&(t.$searchbox.val(""),t.selectpicker.search.previousValue=void 0)}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var e=t.$searchbox[0].value;if(t.selectpicker.search.elements=[],t.selectpicker.search.data=[],e){var n=[],i=e.toUpperCase(),r={},o=[],a=t._searchStyle(),s=t.options.liveSearchNormalize;s&&(i=k(i));for(var l=0;l<t.selectpicker.main.data.length;l++){var c=t.selectpicker.main.data[l];r[l]||(r[l]=w(c,i,a,s)),r[l]&&void 0!==c.headerIndex&&-1===o.indexOf(c.headerIndex)&&(c.headerIndex>0&&(r[c.headerIndex-1]=!0,o.push(c.headerIndex-1)),r[c.headerIndex]=!0,o.push(c.headerIndex),r[c.lastIndex+1]=!0),r[l]&&"optgroup-label"!==c.type&&o.push(l)}l=0;for(var u=o.length;l<u;l++){var d=o[l],h=o[l-1],f=(c=t.selectpicker.main.data[d],t.selectpicker.main.data[h]);("divider"!==c.type||"divider"===c.type&&f&&"divider"!==f.type&&u-1!==l)&&(t.selectpicker.search.data.push(c),n.push(t.selectpicker.main.elements[d]))}t.activeIndex=void 0,t.noScroll=!0,t.$menuInner.scrollTop(0),t.selectpicker.search.elements=n,t.createView(!0),function(t,e){t.length||(V.noResults.innerHTML=this.options.noneResultsText.replace("{0}",'"'+A(e)+'"'),this.$menuInner[0].firstChild.appendChild(V.noResults))}.call(t,n,e)}else t.selectpicker.search.previousValue&&(t.$menuInner.scrollTop(0),t.createView(!1));t.selectpicker.search.previousValue=e})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(t){var e=this.$element[0];if(void 0!==t){var n=m(e);if(y=[null,null,n],this.$element.val(t).trigger("changed.bs.select",y),this.$newElement.hasClass(U.SHOW))if(this.multiple)this.setOptionStatus(!0);else{var i=(e.options[e.selectedIndex]||{}).liIndex;"number"==typeof i&&(this.setSelected(this.selectedIndex,!1),this.setSelected(i,!0))}return this.render(),y=null,this.$element}return this.$element.val()},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0);var e=this.$element[0],n=0,i=0,r=m(e);e.classList.add("bs-select-hidden");for(var o=0,a=this.selectpicker.current.data,s=a.length;o<s;o++){var l=a[o],c=l.option;c&&!l.disabled&&"divider"!==l.type&&(l.selected&&n++,c.selected=t,!0===t&&i++)}e.classList.remove("bs-select-hidden"),n!==i&&(this.setOptionStatus(),y=[null,null,r],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){(t=t||window.event)&&t.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(e){var n,i,r,o,a,s=t(this),l=s.hasClass("dropdown-toggle"),c=(l?s.closest(".dropdown"):s.closest(z.MENU)).data("this"),u=c.findLis(),d=!1,h=e.which===K&&!l&&!c.options.selectOnTab,f=W.test(e.which)||h,p=c.$menuInner[0].scrollTop,g=!0===c.isVirtual()?c.selectpicker.view.position0:0;if(!(e.which>=112&&e.which<=123))if(!(i=c.$newElement.hasClass(U.SHOW))&&(f||e.which>=48&&e.which<=57||e.which>=96&&e.which<=105||e.which>=65&&e.which<=90)&&(c.$button.trigger("click.bs.dropdown.data-api"),c.options.liveSearch))c.$searchbox.trigger("focus");else{if(e.which===P&&i&&(e.preventDefault(),c.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),f){if(!u.length)return;-1!==(n=(r=c.selectpicker.main.elements[c.activeIndex])?Array.prototype.indexOf.call(r.parentElement.children,r):-1)&&c.defocusItem(r),e.which===j?(-1!==n&&n--,n+g<0&&(n+=u.length),c.selectpicker.view.canHighlight[n+g]||-1===(n=c.selectpicker.view.canHighlight.slice(0,n+g).lastIndexOf(!0)-g)&&(n=u.length-1)):(e.which===F||h)&&(++n+g>=c.selectpicker.view.canHighlight.length&&(n=c.selectpicker.view.firstHighlightIndex),c.selectpicker.view.canHighlight[n+g]||(n=n+1+c.selectpicker.view.canHighlight.slice(n+g+1).indexOf(!0))),e.preventDefault();var m=g+n;e.which===j?0===g&&n===u.length-1?(c.$menuInner[0].scrollTop=c.$menuInner[0].scrollHeight,m=c.selectpicker.current.elements.length-1):d=(a=(o=c.selectpicker.current.data[m]).position-o.height)<p:(e.which===F||h)&&(n===c.selectpicker.view.firstHighlightIndex?(c.$menuInner[0].scrollTop=0,m=c.selectpicker.view.firstHighlightIndex):d=(a=(o=c.selectpicker.current.data[m]).position-c.sizeInfo.menuInnerHeight)>p),r=c.selectpicker.current.elements[m],c.activeIndex=c.selectpicker.current.data[m].index,c.focusItem(r),c.selectpicker.view.currentActive=r,d&&(c.$menuInner[0].scrollTop=a),c.options.liveSearch?c.$searchbox.trigger("focus"):s.trigger("focus")}else if(!s.is("input")&&!q.test(e.which)||e.which===L&&c.selectpicker.keydown.keyHistory){var v,y,b=[];e.preventDefault(),c.selectpicker.keydown.keyHistory+=N[e.which],c.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(c.selectpicker.keydown.resetKeyHistory.cancel),c.selectpicker.keydown.resetKeyHistory.cancel=c.selectpicker.keydown.resetKeyHistory.start(),y=c.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(y)&&(y=y.charAt(0));for(var E=0;E<c.selectpicker.current.data.length;E++){var C=c.selectpicker.current.data[E];w(C,y,"startsWith",!0)&&c.selectpicker.view.canHighlight[E]&&b.push(C.index)}if(b.length){var T=0;u.removeClass("active").find("a").removeClass("active"),1===y.length&&(-1===(T=b.indexOf(c.activeIndex))||T===b.length-1?T=0:T++),v=b[T],p-(o=c.selectpicker.main.data[v]).position>0?(a=o.position-o.height,d=!0):(a=o.position-c.sizeInfo.menuInnerHeight,d=o.position>p+c.sizeInfo.menuInnerHeight),r=c.selectpicker.main.elements[v],c.activeIndex=b[T],c.focusItem(r),r&&r.firstChild.focus(),d&&(c.$menuInner[0].scrollTop=a),s.trigger("focus")}}i&&(e.which===L&&!c.selectpicker.keydown.keyHistory||e.which===M||e.which===K&&c.options.selectOnTab)&&(e.which!==L&&e.preventDefault(),c.options.liveSearch&&e.which===L||(c.$menuInner.find(".active a").trigger("click",!0),s.trigger("focus"),c.options.liveSearch||(e.preventDefault(),t(document).data("spaceSelect",!0))))}},mobile:function(){this.options.mobile=!0,this.$element[0].classList.add("mobile-device")},refresh:function(){var e=t.extend({},this.options,this.$element.data());this.options=e,this.checkDisabled(),this.buildData(),this.setStyle(),this.render(),this.buildList(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.selectpicker.view.titleOption&&this.selectpicker.view.titleOption.parentNode&&this.selectpicker.view.titleOption.parentNode.removeChild(this.selectpicker.view.titleOption),this.$element.off(H).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),t(window).off(".bs.select."+this.selectId)}};var Z=t.fn.selectpicker;function J(){if(t.fn.dropdown)return(t.fn.dropdown.Constructor._dataApiKeydownHandler||t.fn.dropdown.Constructor.prototype.keydown).apply(this,arguments)}t.fn.selectpicker=X,t.fn.selectpicker.Constructor=G,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=Z,this},t(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.dropdown.data-api",':not(.bootstrap-select) > [data-toggle="dropdown"]',J).on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > .dropdown-menu",J).on("keydown.bs.select",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',G.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(t){t.stopPropagation()}),t(window).on("load.bs.select.data-api",function(){t(".selectpicker").each(function(){var e=t(this);X.call(e,e.data())})})}(t)}),function(t,e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("undefined"!=typeof exports)e(require("jquery"));else{e(t.jquery),t.bootstrapSwitch={}}}(this,function(t){"use strict";var e,n=(e=t)&&e.__esModule?e:{default:e};var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n.default||window.jQuery||window.$,a=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$element=o(e),this.options=o.extend({},o.fn.bootstrapSwitch.defaults,this._getElementOptions(),i),this.prevOptions={},this.$wrapper=o("<div>",{class:function(){var t=[];return t.push(n.options.state?"on":"off"),n.options.size&&t.push(n.options.size),n.options.disabled&&t.push("disabled"),n.options.readonly&&t.push("readonly"),n.options.indeterminate&&t.push("indeterminate"),n.options.inverse&&t.push("inverse"),n.$element.attr("id")&&t.push("id-"+n.$element.attr("id")),t.map(n._getClass.bind(n)).concat([n.options.baseClass],n._getClasses(n.options.wrapperClass)).join(" ")}}),this.$container=o("<div>",{class:this._getClass("container")}),this.$on=o("<span>",{html:this.options.onText,class:this._getClass("handle-on")+" "+this._getClass(this.options.onColor)}),this.$off=o("<span>",{html:this.options.offText,class:this._getClass("handle-off")+" "+this._getClass(this.options.offColor)}),this.$label=o("<span>",{html:this.options.labelText,class:this._getClass("label")}),this.$element.on("init.bootstrapSwitch",this.options.onInit.bind(this,e)),this.$element.on("switchChange.bootstrapSwitch",function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];!1===n.options.onSwitchChange.apply(e,i)&&(n.$element.is(":radio")?o('[name="'+n.$element.attr("name")+'"]').trigger("previousState.bootstrapSwitch",!0):n.$element.trigger("previousState.bootstrapSwitch",!0))}),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch",this.options.state)}return r(t,[{key:"setPrevOptions",value:function(){this.prevOptions=i({},this.options)}},{key:"state",value:function(t,e){return void 0===t?this.options.state:this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.$element.is(":radio")?o('[name="'+this.$element.attr("name")+'"]').trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),this.$element.prop("checked",Boolean(t)).trigger("change.bootstrapSwitch",e),this.$element)}},{key:"toggleState",value:function(t){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",t)}},{key:"size",value:function(t){return void 0===t?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(this._getClass(this.options.size)),t&&this.$wrapper.addClass(this._getClass(t)),this._width(),this._containerPosition(),this.options.size=t,this.$element)}},{key:"animate",value:function(t){return void 0===t?this.options.animate:this.options.animate===Boolean(t)?this.$element:this.toggleAnimate()}},{key:"toggleAnimate",value:function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(this._getClass("animate")),this.$element}},{key:"disabled",value:function(t){return void 0===t?this.options.disabled:this.options.disabled===Boolean(t)?this.$element:this.toggleDisabled()}},{key:"toggleDisabled",value:function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(this._getClass("disabled")),this.$element}},{key:"readonly",value:function(t){return void 0===t?this.options.readonly:this.options.readonly===Boolean(t)?this.$element:this.toggleReadonly()}},{key:"toggleReadonly",value:function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(this._getClass("readonly")),this.$element}},{key:"indeterminate",value:function(t){return void 0===t?this.options.indeterminate:this.options.indeterminate===Boolean(t)?this.$element:this.toggleIndeterminate()}},{key:"toggleIndeterminate",value:function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(this._getClass("indeterminate")),this._containerPosition(),this.$element}},{key:"inverse",value:function(t){return void 0===t?this.options.inverse:this.options.inverse===Boolean(t)?this.$element:this.toggleInverse()}},{key:"toggleInverse",value:function(){this.$wrapper.toggleClass(this._getClass("inverse"));var t=this.$on.clone(!0),e=this.$off.clone(!0);return this.$on.replaceWith(e),this.$off.replaceWith(t),this.$on=e,this.$off=t,this.options.inverse=!this.options.inverse,this.$element}},{key:"onColor",value:function(t){return void 0===t?this.options.onColor:(this.options.onColor&&this.$on.removeClass(this._getClass(this.options.onColor)),this.$on.addClass(this._getClass(t)),this.options.onColor=t,this.$element)}},{key:"offColor",value:function(t){return void 0===t?this.options.offColor:(this.options.offColor&&this.$off.removeClass(this._getClass(this.options.offColor)),this.$off.addClass(this._getClass(t)),this.options.offColor=t,this.$element)}},{key:"onText",value:function(t){return void 0===t?this.options.onText:(this.$on.html(t),this._width(),this._containerPosition(),this.options.onText=t,this.$element)}},{key:"offText",value:function(t){return void 0===t?this.options.offText:(this.$off.html(t),this._width(),this._containerPosition(),this.options.offText=t,this.$element)}},{key:"labelText",value:function(t){return void 0===t?this.options.labelText:(this.$label.html(t),this._width(),this.options.labelText=t,this.$element)}},{key:"handleWidth",value:function(t){return void 0===t?this.options.handleWidth:(this.options.handleWidth=t,this._width(),this._containerPosition(),this.$element)}},{key:"labelWidth",value:function(t){return void 0===t?this.options.labelWidth:(this.options.labelWidth=t,this._width(),this._containerPosition(),this.$element)}},{key:"baseClass",value:function(t){return this.options.baseClass}},{key:"wrapperClass",value:function(t){return void 0===t?this.options.wrapperClass:(t||(t=o.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(t).join(" ")),this.options.wrapperClass=t,this.$element)}},{key:"radioAllOff",value:function(t){if(void 0===t)return this.options.radioAllOff;var e=Boolean(t);return this.options.radioAllOff===e?this.$element:(this.options.radioAllOff=e,this.$element)}},{key:"onInit",value:function(t){return void 0===t?this.options.onInit:(t||(t=o.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=t,this.$element)}},{key:"onSwitchChange",value:function(t){return void 0===t?this.options.onSwitchChange:(t||(t=o.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=t,this.$element)}},{key:"destroy",value:function(){var t=this.$element.closest("form");return t.length&&t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element}},{key:"_getElementOptions",value:function(){return{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")}}},{key:"_width",value:function(){var t=this,e=this.$on.add(this.$off).add(this.$label).css("width",""),n="auto"===this.options.handleWidth?Math.round(Math.max(this.$on.width(),this.$off.width())):this.options.handleWidth;return e.width(n),this.$label.width(function(e,i){return"auto"!==t.options.labelWidth?t.options.labelWidth:i<n?n:i}),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)}},{key:"_containerPosition",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.state;arguments[1];this.$container.css("margin-left",function(){var n=[0,"-"+t._handleWidth+"px"];return t.options.indeterminate?"-"+t._handleWidth/2+"px":e?t.options.inverse?n[1]:n[0]:t.options.inverse?n[0]:n[1]})}},{key:"_init",value:function(){var t=this,e=function(){t.setPrevOptions(),t._width(),t._containerPosition(),setTimeout(function(){if(t.options.animate)return t.$wrapper.addClass(t._getClass("animate"))},50)};if(this.$wrapper.is(":visible"))e();else var n=window.setInterval(function(){if(t.$wrapper.is(":visible"))return e(),window.clearInterval(n)},50)}},{key:"_elementHandlers",value:function(){var t=this;return this.$element.on({"setPreviousOptions.bootstrapSwitch":this.setPrevOptions.bind(this),"previousState.bootstrapSwitch":function(){t.options=t.prevOptions,t.options.indeterminate&&t.$wrapper.addClass(t._getClass("indeterminate")),t.$element.prop("checked",t.options.state).trigger("change.bootstrapSwitch",!0)},"change.bootstrapSwitch":function(e,n){e.preventDefault(),e.stopImmediatePropagation();var i=t.$element.is(":checked");t._containerPosition(i),i!==t.options.state&&(t.options.state=i,t.$wrapper.toggleClass(t._getClass("off")).toggleClass(t._getClass("on")),n||(t.$element.is(":radio")&&o('[name="'+t.$element.attr("name")+'"]').not(t.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),t.$element.trigger("switchChange.bootstrapSwitch",[i])))},"focus.bootstrapSwitch":function(e){e.preventDefault(),t.$wrapper.addClass(t._getClass("focused"))},"blur.bootstrapSwitch":function(e){e.preventDefault(),t.$wrapper.removeClass(t._getClass("focused"))},"keydown.bootstrapSwitch":function(e){!e.which||t.options.disabled||t.options.readonly||37!==e.which&&39!==e.which||(e.preventDefault(),e.stopImmediatePropagation(),t.state(39===e.which))}})}},{key:"_handleHandlers",value:function(){var t=this;return this.$on.on("click.bootstrapSwitch",function(e){return e.preventDefault(),e.stopPropagation(),t.state(!1),t.$element.trigger("focus.bootstrapSwitch")}),this.$off.on("click.bootstrapSwitch",function(e){return e.preventDefault(),e.stopPropagation(),t.state(!0),t.$element.trigger("focus.bootstrapSwitch")})}},{key:"_labelHandlers",value:function(){var t=this,e={click:function(t){t.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(e){t._dragStart||t.options.disabled||t.options.readonly||(e.preventDefault(),e.stopPropagation(),t._dragStart=(e.pageX||e.originalEvent.touches[0].pageX)-parseInt(t.$container.css("margin-left"),10),t.options.animate&&t.$wrapper.removeClass(t._getClass("animate")),t.$element.trigger("focus.bootstrapSwitch"))},"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(e){if(null!=t._dragStart){var n=(e.pageX||e.originalEvent.touches[0].pageX)-t._dragStart;e.preventDefault(),n<-t._handleWidth||n>0||(t._dragEnd=n,t.$container.css("margin-left",t._dragEnd+"px"))}},"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(e){if(t._dragStart){if(e.preventDefault(),t.options.animate&&t.$wrapper.addClass(t._getClass("animate")),t._dragEnd){var n=t._dragEnd>-t._handleWidth/2;t._dragEnd=!1,t.state(t.options.inverse?!n:n)}else t.state(!t.options.state);t._dragStart=!1}},"mouseleave.bootstrapSwitch":function(){t.$label.trigger("mouseup.bootstrapSwitch")}};this.$label.on(e)}},{key:"_externalLabelHandler",value:function(){var t=this,e=this.$element.closest("label");e.on("click",function(n){n.preventDefault(),n.stopImmediatePropagation(),n.target===e[0]&&t.toggleState()})}},{key:"_formHandler",value:function(){var t=this.$element.closest("form");t.data("bootstrap-switch")||t.on("reset.bootstrapSwitch",function(){window.setTimeout(function(){t.find("input").filter(function(){return o(this).data("bootstrap-switch")}).each(function(){return o(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)}},{key:"_getClass",value:function(t){return this.options.baseClass+"-"+t}},{key:"_getClasses",value:function(t){return o.isArray(t)?t.map(this._getClass.bind(this)):[this._getClass(t)]}}]),t}();o.fn.bootstrapSwitch=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Array.prototype.reduce.call(this,function(e,i){var r=o(i),s=r.data("bootstrap-switch"),l=s||new a(i,t);return s||r.data("bootstrap-switch",l),"string"==typeof t?l[t].apply(l,n):e},this)},o.fn.bootstrapSwitch.Constructor=a,o.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n),n}:t(jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var n,i,r,o;return e&&e.requirejs||(e?i=e:e={},function(t){var e,o,a,s,l={},c={},u={},d={},h=Object.prototype.hasOwnProperty,f=[].slice,p=/\.js$/;function g(t,e){return h.call(t,e)}function m(t,e){var n,i,r,o,a,s,l,c,d,h,f,g=e&&e.split("/"),m=u.map,v=m&&m["*"]||{};if(t){for(a=(t=t.split("/")).length-1,u.nodeIdCompat&&p.test(t[a])&&(t[a]=t[a].replace(p,"")),"."===t[0].charAt(0)&&g&&(t=g.slice(0,g.length-1).concat(t)),d=0;d<t.length;d++)if("."===(f=t[d]))t.splice(d,1),d-=1;else if(".."===f){if(0===d||1===d&&".."===t[2]||".."===t[d-1])continue;d>0&&(t.splice(d-1,2),d-=2)}t=t.join("/")}if((g||v)&&m){for(d=(n=t.split("/")).length;d>0;d-=1){if(i=n.slice(0,d).join("/"),g)for(h=g.length;h>0;h-=1)if((r=m[g.slice(0,h).join("/")])&&(r=r[i])){o=r,s=d;break}if(o)break;!l&&v&&v[i]&&(l=v[i],c=d)}!o&&l&&(o=l,s=c),o&&(n.splice(0,s,o),t=n.join("/"))}return t}function v(e,n){return function(){var i=f.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),o.apply(t,i.concat([e,n]))}}function y(t){return function(e){l[t]=e}}function b(n){if(g(c,n)){var i=c[n];delete c[n],d[n]=!0,e.apply(t,i)}if(!g(l,n)&&!g(d,n))throw new Error("No "+n);return l[n]}function w(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function E(t){return t?w(t):[]}function C(t){return function(){return u&&u.config&&u.config[t]||{}}}a=function(t,e){var n,i,r=w(t),o=r[0],a=e[1];return t=r[1],o&&(n=b(o=m(o,a))),o?t=n&&n.normalize?n.normalize(t,(i=a,function(t){return m(t,i)})):m(t,a):(o=(r=w(t=m(t,a)))[0],t=r[1],o&&(n=b(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:n}},s={require:function(t){return v(t)},exports:function(t){var e=l[t];return void 0!==e?e:l[t]={}},module:function(t){return{id:t,uri:"",exports:l[t],config:C(t)}}},e=function(e,n,i,r){var o,u,h,f,p,m,w,C=[],T=typeof i;if(m=E(r=r||e),"undefined"===T||"function"===T){for(n=!n.length&&i.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if("require"===(u=(f=a(n[p],m)).f))C[p]=s.require(e);else if("exports"===u)C[p]=s.exports(e),w=!0;else if("module"===u)o=C[p]=s.module(e);else if(g(l,u)||g(c,u)||g(d,u))C[p]=b(u);else{if(!f.p)throw new Error(e+" missing "+u);f.p.load(f.n,v(r,!0),y(u),{}),C[p]=l[u]}h=i?i.apply(l[e],C):void 0,e&&(o&&o.exports!==t&&o.exports!==l[e]?l[e]=o.exports:h===t&&w||(l[e]=h))}else e&&(l[e]=i)},n=i=o=function(n,i,r,l,c){if("string"==typeof n)return s[n]?s[n](i):b(a(n,E(i)).f);if(!n.splice){if((u=n).deps&&o(u.deps,u.callback),!i)return;i.splice?(n=i,i=r,r=null):n=t}return i=i||function(){},"function"==typeof r&&(r=l,l=c),l?e(t,n,i,r):setTimeout(function(){e(t,n,i,r)},4),o},o.config=function(t){return o(t)},n._defined=l,(r=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),g(l,t)||g(c,t)||(c[t]=[t,e,n])}).amd={jQuery:!0}}(),e.requirejs=n,e.require=i,e.define=r),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){var e={};function n(t){var e=t.prototype,n=[];for(var i in e){"function"==typeof e[i]&&("constructor"!==i&&n.push(i))}return n}e.Extend=function(t,e){var n={}.hasOwnProperty;function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},e.Decorate=function(t,e){var i=n(e),r=n(t);function o(){var n=Array.prototype.unshift,i=e.prototype.constructor.length,r=t.prototype.constructor;i>0&&(n.call(arguments,t.prototype.constructor),r=e.prototype.constructor),r.apply(this,arguments)}e.displayName=t.displayName,o.prototype=new function(){this.constructor=o};for(var a=0;a<r.length;a++){var s=r[a];o.prototype[s]=t.prototype[s]}for(var l=function(t){var n=function(){};t in o.prototype&&(n=o.prototype[t]);var i=e.prototype[t];return function(){return Array.prototype.unshift.call(arguments,n),i.apply(this,arguments)}},c=0;c<i.length;c++){var u=i[c];o.prototype[u]=l(u)}return o};var i=function(){this.listeners={}};i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].apply(this,e)},e.Observable=i,e.generateChars=function(t){for(var e="",n=0;n<t;n++){e+=Math.floor(36*Math.random()).toString(36)}return e},e.bind=function(t,e){return function(){t.apply(e,arguments)}},e._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var r=0;r<n.length;r++){var o=n[r];(o=o.substring(0,1).toLowerCase()+o.substring(1))in i||(i[o]={}),r==n.length-1&&(i[o]=t[e]),i=i[o]}delete t[e]}}return t},e.hasScroll=function(e,n){var i=t(n),r=n.style.overflowX,o=n.style.overflowY;return(r!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===r||"scroll"===o||(i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth))},e.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},e.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,function(t){i=i.add(t)}),n=i}e.append(n)},e.__cache={};var r=0;return e.GetUniqueElementId=function(t){var e=t.getAttribute("data-select2-id");return null==e&&(t.id?(e=t.id,t.setAttribute("data-select2-id",e)):(t.setAttribute("data-select2-id",++r),e=r.toString())),e},e.StoreData=function(t,n,i){var r=e.GetUniqueElementId(t);e.__cache[r]||(e.__cache[r]={}),e.__cache[r][n]=i},e.GetData=function(n,i){var r=e.GetUniqueElementId(n);return i?e.__cache[r]&&null!=e.__cache[r][i]?e.__cache[r][i]:t(n).data(i):e.__cache[r]},e.RemoveData=function(t){var n=e.GetUniqueElementId(t);null!=e.__cache[n]&&delete e.__cache[n],t.removeAttribute("data-select2-id")},e}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(e.message);i.append(n(r(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],r=this.option(i);e.push(r)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var n=this;this.data.current(function(i){var r=t.map(i,function(t){return t.id.toString()});n.$results.find(".select2-results__option[aria-selected]").each(function(){var n=t(this),i=e.GetData(this,"data"),o=""+i.id;null!=i.element&&i.element.selected||null==i.element&&t.inArray(o,r)>-1?n.attr("aria-selected","true"):n.attr("aria-selected","false")})})},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(n){var i=document.createElement("li");i.className="select2-results__option";var r={role:"option","aria-selected":"false"},o=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var a in(null!=n.element&&o.call(n.element,":disabled")||null==n.element&&n.disabled)&&(delete r["aria-selected"],r["aria-disabled"]="true"),null==n.id&&delete r["aria-selected"],null!=n._resultId&&(i.id=n._resultId),n.title&&(i.title=n.title),n.children&&(r.role="group",r["aria-label"]=n.text,delete r["aria-selected"]),r){var s=r[a];i.setAttribute(a,s)}if(n.children){var l=t(i),c=document.createElement("strong");c.className="select2-results__group";t(c);this.template(n,c);for(var u=[],d=0;d<n.children.length;d++){var h=n.children[d],f=this.option(h);u.push(f)}var p=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});p.append(u),l.append(c),l.append(p)}else this.template(n,i);return e.StoreData(i,"data",n),i},n.prototype.bind=function(n,i){var r=this,o=n.id+"-results";this.$results.attr("id",o),n.on("results:all",function(t){r.clear(),r.append(t.data),n.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),n.on("results:append",function(t){r.append(t.data),n.isOpen()&&r.setClasses()}),n.on("query",function(t){r.hideMessages(),r.showLoading(t)}),n.on("select",function(){n.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())}),n.on("unselect",function(){n.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())}),n.on("open",function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()}),n.on("close",function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")}),n.on("results:toggle",function(){var t=r.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),n.on("results:select",function(){var t=r.getHighlightedResults();if(0!==t.length){var n=e.GetData(t[0],"data");"true"==t.attr("aria-selected")?r.trigger("close",{}):r.trigger("select",{data:n})}}),n.on("results:previous",function(){var t=r.getHighlightedResults(),e=r.$results.find("[aria-selected]"),n=e.index(t);if(!(n<=0)){var i=n-1;0===t.length&&(i=0);var o=e.eq(i);o.trigger("mouseenter");var a=r.$results.offset().top,s=o.offset().top,l=r.$results.scrollTop()+(s-a);0===i?r.$results.scrollTop(0):s-a<0&&r.$results.scrollTop(l)}}),n.on("results:next",function(){var t=r.getHighlightedResults(),e=r.$results.find("[aria-selected]"),n=e.index(t)+1;if(!(n>=e.length)){var i=e.eq(n);i.trigger("mouseenter");var o=r.$results.offset().top+r.$results.outerHeight(!1),a=i.offset().top+i.outerHeight(!1),s=r.$results.scrollTop()+a-o;0===n?r.$results.scrollTop(0):a>o&&r.$results.scrollTop(s)}}),n.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),n.on("results:message",function(t){r.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=r.$results.scrollTop(),n=r.$results.get(0).scrollHeight-e+t.deltaY,i=t.deltaY>0&&e-t.deltaY<=0,o=t.deltaY<0&&n<=r.$results.height();i?(r.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):o&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(n){var i=t(this),o=e.GetData(this,"data");"true"!==i.attr("aria-selected")?r.trigger("select",{originalEvent:n,data:o}):r.options.get("multiple")?r.trigger("unselect",{originalEvent:n,data:o}):r.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(n){var i=e.GetData(this,"data");r.getHighlightedResults().removeClass("select2-results__option--highlighted"),r.trigger("results:focus",{data:i,element:t(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,i=t.offset().top,r=this.$results.scrollTop()+(i-n),o=i-n;r-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(o>this.$results.outerHeight()||o<0)&&this.$results.scrollTop(r)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=i(e,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=r(o):t(n).append(o)},n}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var n=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=e.GetData(this.$element[0],"old-tabindex")?this._tabindex=e.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),n.attr("title",this.$element.attr("title")),n.attr("tabindex",this._tabindex),n.attr("aria-disabled","false"),this.$selection=n,n},i.prototype.bind=function(t,e){var i=this,r=t.id+"-results";this.container=t,this.$selection.on("focus",function(t){i.trigger("focus",t)}),this.$selection.on("blur",function(t){i._handleBlur(t)}),this.$selection.on("keydown",function(t){i.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){i.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){i.update(t.data)}),t.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",r),i._attachCloseHandler(t)}),t.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.trigger("focus"),i._detachCloseHandler(t)}),t.on("enable",function(){i.$selection.attr("tabindex",i._tabindex),i.$selection.attr("aria-disabled","false")}),t.on("disable",function(){i.$selection.attr("tabindex","-1"),i.$selection.attr("aria-disabled","true")})},i.prototype._handleBlur=function(e){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)},1)},i.prototype._attachCloseHandler=function(n){t(document.body).on("mousedown.select2."+n.id,function(n){var i=t(n.target).closest(".select2");t(".select2.select2-container--open").each(function(){this!=i[0]&&e.GetData(this,"element").select2("close")})})},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){e.find(".selection").append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},i.prototype.isEnabled=function(){return!this.isDisabled()},i.prototype.isDisabled=function(){return this.options.get("disabled")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n,i){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,e),r.prototype.render=function(){var t=r.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},r.prototype.bind=function(t,e){var n=this;r.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),t.on("focus",function(e){t.isOpen()||n.$selection.trigger("focus")})},r.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},r.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},r.prototype.selectionContainer=function(){return t("<span></span>")},r.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i);var r=e.title||e.text;r?n.attr("title",r):n.removeAttr("title")}else this.clear()},r}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function i(t,e){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(e,r){var o=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){o.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!o.isDisabled()){var i=t(this).parent(),r=n.GetData(i[0],"data");o.trigger("unselect",{originalEvent:e,data:r})}})},i.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var r=t[i],o=this.selectionContainer(),a=this.display(r,o);o.append(a);var s=r.title||r.text;s&&o.attr("title",s),n.StoreData(o[0],"data",r),e.push(o)}var l=this.$selection.find(".select2-selection__rendered");n.appendMany(l,e)}},i}),e.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||n)return t.call(this,e);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},e}),e.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(t,e,n){function i(){}return i.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},i.prototype._handleClear=function(t,e){if(!this.isDisabled()){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();var r=n.GetData(i[0],"data"),o=this.$element.val();this.$element.val(this.placeholder.id);var a={data:r};if(this.trigger("clear",a),a.prevented)this.$element.val(o);else{for(var s=0;s<r.length;s++)if(a={data:r[s]},this.trigger("unselect",a),a.prevented)return void this.$element.val(o);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},i.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||n.which!=e.DELETE&&n.which!=e.BACKSPACE||this._handleClear(n)},i.prototype.update=function(e,i){if(e.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var r=this.options.get("translations").get("removeAllItems"),o=t('<span class="select2-selection__clear" title="'+r()+'">&times;</span>');n.StoreData(o[0],"data",i),this.$selection.find(".select2-selection__rendered").prepend(o)}},i}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=e.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(t,i,r){var o=this,a=i.id+"-results";t.call(this,i,r),i.on("open",function(){o.$search.attr("aria-controls",a),o.$search.trigger("focus")}),i.on("close",function(){o.$search.val(""),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.trigger("focus")}),i.on("enable",function(){o.$search.prop("disabled",!1),o._transferTabIndex()}),i.on("disable",function(){o.$search.prop("disabled",!0)}),i.on("focus",function(t){o.$search.trigger("focus")}),i.on("results:focus",function(t){t.data._resultId?o.$search.attr("aria-activedescendant",t.data._resultId):o.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(t){o.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){o._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented(),t.which===n.BACKSPACE&&""===o.$search.val()){var i=o.$searchContainer.prev(".select2-selection__choice");if(i.length>0){var r=e.GetData(i[0],"data");o.searchRemoveChoice(r),t.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(t){o.$search.val()&&t.stopPropagation()});var s=document.documentMode,l=s&&s<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){l?o.$selection.off("input.search input.searchcheck"):o.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(l&&"input"===t.type)o.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&o.handleSearch(t)}})},i.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";""!==this.$search.attr("placeholder")?t=this.$selection.find(".select2-selection__rendered").width():t=.75*(this.$search.val().length+1)+"em";this.$search.css("width",t)},i}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,i){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],a=["opening","closing","selecting","unselecting","clearing"];e.call(this,n,i),n.on("*",function(e,n){if(-1!==t.inArray(e,o)){n=n||{};var i=t.Event("select2:"+e,{params:n});r.$element.trigger(i),-1!==t.inArray(e,a)&&(n.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){return{"â¶":"A","ï¼¡":"A","Ã":"A","Ã":"A","Ã":"A","áº¦":"A","áº¤":"A","áºª":"A","áº¨":"A","Ã":"A","Ä":"A","Ä":"A","áº°":"A","áº®":"A","áº´":"A","áº²":"A","È¦":"A","Ç ":"A","Ã":"A","Ç":"A","áº¢":"A","Ã":"A","Çº":"A","Ç":"A","È":"A","È":"A","áº ":"A","áº¬":"A","áº¶":"A","á¸":"A","Ä":"A","Èº":"A","â±¯":"A","ê²":"AA","Ã":"AE","Ç¼":"AE","Ç¢":"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B","ï¼¢":"B","á¸":"B","á¸":"B","á¸":"B","É":"B","Æ":"B","Æ":"B","â¸":"C","ï¼£":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ã":"C","á¸":"C","Æ":"C","È»":"C","ê¾":"C","â¹":"D","ï¼¤":"D","á¸":"D","Ä":"D","á¸":"D","á¸":"D","á¸":"D","á¸":"D","Ä":"D","Æ":"D","Æ":"D","Æ":"D","ê¹":"D","Ç±":"DZ","Ç":"DZ","Ç²":"Dz","Ç":"Dz","âº":"E","ï¼¥":"E","Ã":"E","Ã":"E","Ã":"E","á»":"E","áº¾":"E","á»":"E","á»":"E","áº¼":"E","Ä":"E","á¸":"E","á¸":"E","Ä":"E","Ä":"E","Ã":"E","áºº":"E","Ä":"E","È":"E","È":"E","áº¸":"E","á»":"E","È¨":"E","á¸":"E","Ä":"E","á¸":"E","á¸":"E","Æ":"E","Æ":"E","â»":"F","ï¼¦":"F","á¸":"F","Æ":"F","ê»":"F","â¼":"G","ï¼§":"G","Ç´":"G","Ä":"G","á¸ ":"G","Ä":"G","Ä ":"G","Ç¦":"G","Ä¢":"G","Ç¤":"G","Æ":"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H","ï¼¨":"H","Ä¤":"H","á¸¢":"H","á¸¦":"H","È":"H","á¸¤":"H","á¸¨":"H","á¸ª":"H","Ä¦":"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I","ï¼©":"I","Ã":"I","Ã":"I","Ã":"I","Ä¨":"I","Äª":"I","Ä¬":"I","Ä°":"I","Ã":"I","á¸®":"I","á»":"I","Ç":"I","È":"I","È":"I","á»":"I","Ä®":"I","á¸¬":"I","Æ":"I","â¿":"J","ï¼ª":"J","Ä´":"J","É":"J","â":"K","ï¼«":"K","á¸°":"K","Ç¨":"K","á¸²":"K","Ä¶":"K","á¸´":"K","Æ":"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L","ï¼¬":"L","Ä¿":"L","Ä¹":"L","Ä½":"L","á¸¶":"L","á¸¸":"L","Ä»":"L","á¸¼":"L","á¸º":"L","Å":"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L","Ç":"LJ","Ç":"Lj","â":"M","ï¼­":"M","á¸¾":"M","á¹":"M","á¹":"M","â±®":"M","Æ":"M","â":"N","ï¼®":"N","Ç¸":"N","Å":"N","Ã":"N","á¹":"N","Å":"N","á¹":"N","Å":"N","á¹":"N","á¹":"N","È ":"N","Æ":"N","ê":"N","ê¤":"N","Ç":"NJ","Ç":"Nj","â":"O","ï¼¯":"O","Ã":"O","Ã":"O","Ã":"O","á»":"O","á»":"O","á»":"O","á»":"O","Ã":"O","á¹":"O","È¬":"O","á¹":"O","Å":"O","á¹":"O","á¹":"O","Å":"O","È®":"O","È°":"O","Ã":"O","Èª":"O","á»":"O","Å":"O","Ç":"O","È":"O","È":"O","Æ ":"O","á»":"O","á»":"O","á» ":"O","á»":"O","á»¢":"O","á»":"O","á»":"O","Çª":"O","Ç¬":"O","Ã":"O","Ç¾":"O","Æ":"O","Æ":"O","ê":"O","ê":"O","Å":"OE","Æ¢":"OI","ê":"OO","È¢":"OU","â":"P","ï¼°":"P","á¹":"P","á¹":"P","Æ¤":"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q","ï¼±":"Q","ê":"Q","ê":"Q","É":"Q","â":"R","ï¼²":"R","Å":"R","á¹":"R","Å":"R","È":"R","È":"R","á¹":"R","á¹":"R","Å":"R","á¹":"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S","ï¼³":"S","áº":"S","Å":"S","á¹¤":"S","Å":"S","á¹ ":"S","Å ":"S","á¹¦":"S","á¹¢":"S","á¹¨":"S","È":"S","Å":"S","â±¾":"S","ê¨":"S","ê":"S","â":"T","ï¼´":"T","á¹ª":"T","Å¤":"T","á¹¬":"T","È":"T","Å¢":"T","á¹°":"T","á¹®":"T","Å¦":"T","Æ¬":"T","Æ®":"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U","ï¼µ":"U","Ã":"U","Ã":"U","Ã":"U","Å¨":"U","á¹¸":"U","Åª":"U","á¹º":"U","Å¬":"U","Ã":"U","Ç":"U","Ç":"U","Ç":"U","Ç":"U","á»¦":"U","Å®":"U","Å°":"U","Ç":"U","È":"U","È":"U","Æ¯":"U","á»ª":"U","á»¨":"U","á»®":"U","á»¬":"U","á»°":"U","á»¤":"U","á¹²":"U","Å²":"U","á¹¶":"U","á¹´":"U","É":"U","â":"V","ï¼¶":"V","á¹¼":"V","á¹¾":"V","Æ²":"V","ê":"V","É":"V","ê ":"VY","â":"W","ï¼·":"W","áº":"W","áº":"W","Å´":"W","áº":"W","áº":"W","áº":"W","â±²":"W","â":"X","ï¼¸":"X","áº":"X","áº":"X","â":"Y","ï¼¹":"Y","á»²":"Y","Ã":"Y","Å¶":"Y","á»¸":"Y","È²":"Y","áº":"Y","Å¸":"Y","á»¶":"Y","á»´":"Y","Æ³":"Y","É":"Y","á»¾":"Y","â":"Z","ï¼º":"Z","Å¹":"Z","áº":"Z","Å»":"Z","Å½":"Z","áº":"Z","áº":"Z","Æµ":"Z","È¤":"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a","ï½":"a","áº":"a","Ã ":"a","Ã¡":"a","Ã¢":"a","áº§":"a","áº¥":"a","áº«":"a","áº©":"a","Ã£":"a","Ä":"a","Ä":"a","áº±":"a","áº¯":"a","áºµ":"a","áº³":"a","È§":"a","Ç¡":"a","Ã¤":"a","Ç":"a","áº£":"a","Ã¥":"a","Ç»":"a","Ç":"a","È":"a","È":"a","áº¡":"a","áº­":"a","áº·":"a","á¸":"a","Ä":"a","â±¥":"a","É":"a","ê³":"aa","Ã¦":"ae","Ç½":"ae","Ç£":"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b","ï½":"b","á¸":"b","á¸":"b","á¸":"b","Æ":"b","Æ":"b","É":"b","â":"c","ï½":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ã§":"c","á¸":"c","Æ":"c","È¼":"c","ê¿":"c","â":"c","â":"d","ï½":"d","á¸":"d","Ä":"d","á¸":"d","á¸":"d","á¸":"d","á¸":"d","Ä":"d","Æ":"d","É":"d","É":"d","êº":"d","Ç³":"dz","Ç":"dz","â":"e","ï½":"e","Ã¨":"e","Ã©":"e","Ãª":"e","á»":"e","áº¿":"e","á»":"e","á»":"e","áº½":"e","Ä":"e","á¸":"e","á¸":"e","Ä":"e","Ä":"e","Ã«":"e","áº»":"e","Ä":"e","È":"e","È":"e","áº¹":"e","á»":"e","È©":"e","á¸":"e","Ä":"e","á¸":"e","á¸":"e","É":"e","É":"e","Ç":"e","â":"f","ï½":"f","á¸":"f","Æ":"f","ê¼":"f","â":"g","ï½":"g","Çµ":"g","Ä":"g","á¸¡":"g","Ä":"g","Ä¡":"g","Ç§":"g","Ä£":"g","Ç¥":"g","É ":"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h","ï½":"h","Ä¥":"h","á¸£":"h","á¸§":"h","È":"h","á¸¥":"h","á¸©":"h","á¸«":"h","áº":"h","Ä§":"h","â±¨":"h","â±¶":"h","É¥":"h","Æ":"hv","â":"i","ï½":"i","Ã¬":"i","Ã­":"i","Ã®":"i","Ä©":"i","Ä«":"i","Ä­":"i","Ã¯":"i","á¸¯":"i","á»":"i","Ç":"i","È":"i","È":"i","á»":"i","Ä¯":"i","á¸­":"i","É¨":"i","Ä±":"i","â":"j","ï½":"j","Äµ":"j","Ç°":"j","É":"j","â":"k","ï½":"k","á¸±":"k","Ç©":"k","á¸³":"k","Ä·":"k","á¸µ":"k","Æ":"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l","ï½":"l","Å":"l","Äº":"l","Ä¾":"l","á¸·":"l","á¸¹":"l","Ä¼":"l","á¸½":"l","á¸»":"l","Å¿":"l","Å":"l","Æ":"l","É«":"l","â±¡":"l","ê":"l","ê":"l","ê":"l","Ç":"lj","â":"m","ï½":"m","á¸¿":"m","á¹":"m","á¹":"m","É±":"m","É¯":"m","â":"n","ï½":"n","Ç¹":"n","Å":"n","Ã±":"n","á¹":"n","Å":"n","á¹":"n","Å":"n","á¹":"n","á¹":"n","Æ":"n","É²":"n","Å":"n","ê":"n","ê¥":"n","Ç":"nj","â":"o","ï½":"o","Ã²":"o","Ã³":"o","Ã´":"o","á»":"o","á»":"o","á»":"o","á»":"o","Ãµ":"o","á¹":"o","È­":"o","á¹":"o","Å":"o","á¹":"o","á¹":"o","Å":"o","È¯":"o","È±":"o","Ã¶":"o","È«":"o","á»":"o","Å":"o","Ç":"o","È":"o","È":"o","Æ¡":"o","á»":"o","á»":"o","á»¡":"o","á»":"o","á»£":"o","á»":"o","á»":"o","Ç«":"o","Ç­":"o","Ã¸":"o","Ç¿":"o","É":"o","ê":"o","ê":"o","Éµ":"o","Å":"oe","Æ£":"oi","È£":"ou","ê":"oo","â":"p","ï½":"p","á¹":"p","á¹":"p","Æ¥":"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q","ï½":"q","É":"q","ê":"q","ê":"q","â¡":"r","ï½":"r","Å":"r","á¹":"r","Å":"r","È":"r","È":"r","á¹":"r","á¹":"r","Å":"r","á¹":"r","É":"r","É½":"r","ê":"r","ê§":"r","ê":"r","â¢":"s","ï½":"s","Ã":"s","Å":"s","á¹¥":"s","Å":"s","á¹¡":"s","Å¡":"s","á¹§":"s","á¹£":"s","á¹©":"s","È":"s","Å":"s","È¿":"s","ê©":"s","ê":"s","áº":"s","â£":"t","ï½":"t","á¹«":"t","áº":"t","Å¥":"t","á¹­":"t","È":"t","Å£":"t","á¹±":"t","á¹¯":"t","Å§":"t","Æ­":"t","Ê":"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u","ï½":"u","Ã¹":"u","Ãº":"u","Ã»":"u","Å©":"u","á¹¹":"u","Å«":"u","á¹»":"u","Å­":"u","Ã¼":"u","Ç":"u","Ç":"u","Ç":"u","Ç":"u","á»§":"u","Å¯":"u","Å±":"u","Ç":"u","È":"u","È":"u","Æ°":"u","á»«":"u","á»©":"u","á»¯":"u","á»­":"u","á»±":"u","á»¥":"u","á¹³":"u","Å³":"u","á¹·":"u","á¹µ":"u","Ê":"u","â¥":"v","ï½":"v","á¹½":"v","á¹¿":"v","Ê":"v","ê":"v","Ê":"v","ê¡":"vy","â¦":"w","ï½":"w","áº":"w","áº":"w","Åµ":"w","áº":"w","áº":"w","áº":"w","áº":"w","â±³":"w","â§":"x","ï½":"x","áº":"x","áº":"x","â¨":"y","ï½":"y","á»³":"y","Ã½":"y","Å·":"y","á»¹":"y","È³":"y","áº":"y","Ã¿":"y","á»·":"y","áº":"y","á»µ":"y","Æ´":"y","É":"y","á»¿":"y","â©":"z","ï½":"z","Åº":"z","áº":"z","Å¼":"z","Å¾":"z","áº":"z","áº":"z","Æ¶":"z","È¥":"z","É":"z","â±¬":"z","ê£":"z","Î":"Î","Î":"Î","Î":"Î","Î":"Î","Îª":"Î","Î":"Î","Î":"Î¥","Î«":"Î¥","Î":"Î©","Î¬":"Î±","Î­":"Îµ","Î®":"Î·","Î¯":"Î¹","Ï":"Î¹","Î":"Î¹","Ï":"Î¿","Ï":"Ï","Ï":"Ï","Î°":"Ï","Ï":"Ï","Ï":"Ï","â":"'"}}),e.define("select2/data/base",["../utils"],function(t){function e(t,n){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return i+=t.generateChars(4),null!=n.id?i+="-"+n.id.toString():i+="-"+t.generateChars(4),i},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each(function(){var t=n(this),r=i.item(t);e.push(r)}),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("input").trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var r=[];(t=[t]).push.apply(t,i);for(var o=0;o<t.length;o++){var a=t[o].id;-1===n.inArray(a,r)&&r.push(a)}e.$element.val(r),e.$element.trigger("input").trigger("change")});else{var i=t.id;this.$element.val(i),this.$element.trigger("input").trigger("change")}},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,n(t.element).is("option"))return t.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current(function(i){for(var r=[],o=0;o<i.length;o++){var a=i[o].id;a!==t.id&&-1===n.inArray(a,r)&&r.push(a)}e.$element.val(r),e.$element.trigger("input").trigger("change")})}},i.prototype.bind=function(t,e){var n=this;this.container=t,t.on("select",function(t){n.select(t.data)}),t.on("unselect",function(t){n.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){e.RemoveData(this)})},i.prototype.query=function(t,e){var i=[],r=this;this.$element.children().each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var o=r.item(e),a=r.matches(t,o);null!==a&&i.push(a)}}),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var i;t.children?(i=document.createElement("optgroup")).label=t.text:void 0!==(i=document.createElement("option")).textContent?i.textContent=t.text:i.innerText=t.text,void 0!==t.id&&(i.value=t.id),t.disabled&&(i.disabled=!0),t.selected&&(i.selected=!0),t.title&&(i.title=t.title);var r=n(i),o=this._normalizeItem(t);return o.element=i,e.StoreData(i,"data",o),r},i.prototype.item=function(t){var i={};if(null!=(i=e.GetData(t[0],"data")))return i;if(t.is("option"))i={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){i={text:t.prop("label"),children:[],title:t.prop("title")};for(var r=t.children("option"),o=[],a=0;a<r.length;a++){var s=n(r[a]),l=this.item(s);o.push(l)}i.children=o}return(i=this._normalizeItem(i)).element=t[0],e.StoreData(t[0],"data",i),i},i.prototype._normalizeItem=function(t){t!==Object(t)&&(t={id:t,text:t});return null!=(t=n.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},{selected:!1,disabled:!1},t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function i(t,e){this._dataToConvert=e.get("data")||[],i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype.bind=function(t,e){i.__super__.bind.call(this,t,e),this.addOptions(this.convertToOptions(this._dataToConvert))},i.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){var i=this,r=this.$element.find("option"),o=r.map(function(){return i.item(n(this)).id}).get(),a=[];function s(t){return function(){return n(this).val()==t.id}}for(var l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(n.inArray(c.id,o)>=0){var u=r.filter(s(c)),d=this.item(u),h=n.extend(!0,{},c,d),f=this.option(h);u.replaceWith(f)}else{var p=this.option(c);if(c.children){var g=this.convertToOptions(c.children);e.appendMany(p,g)}a.push(p)}}return a},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var r=n.ajax(t);return r.then(e),r.fail(i),r}};return n.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){var i=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=n.extend({type:"GET"},this.ajaxOptions);function o(){var o=r.transport(r,function(r){var o=i.processResults(r,t);i.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(o)},function(){"status"in o&&(0===o.status||"0"===o.status)||i.trigger("results:message",{message:"errorLoading"})});i._request=o}"function"==typeof r.url&&(r.url=r.url.call(this.$element,t)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(o,this.ajaxOptions.delay)):o()},i}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,i){var r=i.get("tags"),o=i.get("createTag");void 0!==o&&(this.createTag=o);var a=i.get("insertTag");if(void 0!==a&&(this.insertTag=a),e.call(this,n,i),t.isArray(r))for(var s=0;s<r.length;s++){var l=r[s],c=this._normalizeItem(l),u=this.option(c);this.$element.append(u)}}return e.prototype.query=function(t,e,n){var i=this;this._removeOldTags(),null!=e.term&&null==e.page?t.call(this,e,function t(r,o){for(var a=r.results,s=0;s<a.length;s++){var l=a[s],c=null!=l.children&&!t({results:l.children},!0);if((l.text||"").toUpperCase()===(e.term||"").toUpperCase()||c)return!o&&(r.data=a,void n(r))}if(o)return!0;var u=i.createTag(e);if(null!=u){var d=i.option(u);d.attr("data-select2-tag",!0),i.addOptions([d]),i.insertTag(a,u)}r.results=a,n(r)}):t.call(this,e,n)},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(e){this.$element.find("option[data-select2-tag]").each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,i){var r=this;n.term=n.term||"";var o=this.tokenizer(n,this.options,function(e){var n=r._normalizeItem(e);if(!r.$element.find("option").filter(function(){return t(this).val()===n.id}).length){var i=r.option(n);i.attr("data-select2-tag",!0),r._removeOldTags(),r.addOptions([i])}!function(t){r.trigger("select",{data:t})}(n)});o.term!==n.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.trigger("focus")),n.term=o.term),e.call(this,n,i)},e.prototype.tokenizer=function(e,n,i,r){for(var o=i.get("tokenSeparators")||[],a=n.term,s=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};s<a.length;){var c=a[s];if(-1!==t.inArray(c,o)){var u=a.substr(0,s),d=l(t.extend({},n,{term:u}));null!=d?(r(d),a=a.substr(s+1)||"",s=0):s++}else s++}return{term:a}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(){i._checkIfMaximumSelected()})},t.prototype.query=function(t,e,n){var i=this;this._checkIfMaximumSelected(function(){t.call(i,e,n)})},t.prototype._checkIfMaximumSelected=function(t,e){var n=this;this.current(function(t){var i=null!=t?t.length:0;n.maximumSelectionLength>0&&i>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):e&&e()})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t,e){function n(){}return n.prototype.render=function(e){var n=e.call(this),i=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(e,n,i){var r=this,o=n.id+"-results";e.call(this,n,i),this.$search.on("keydown",function(t){r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(e){t(this).off("keyup")}),this.$search.on("keyup input",function(t){r.handleSearch(t)}),n.on("open",function(){r.$search.attr("tabindex",0),r.$search.attr("aria-controls",o),r.$search.trigger("focus"),window.setTimeout(function(){r.$search.trigger("focus")},0)}),n.on("close",function(){r.$search.attr("tabindex",-1),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.val(""),r.$search.trigger("blur")}),n.on("focus",function(){n.isOpen()||r.$search.trigger("focus")}),n.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(r.showSearch(t)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide"))}),n.on("results:focus",function(t){t.data._resultId?r.$search.attr("aria-activedescendant",t.data._resultId):r.$search.removeAttr("aria-activedescendant")})},n.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.showSearch=function(t,e){return!0},n}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--){var r=e[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("query",function(t){i.lastParams=t,i.loading=!0}),e.on("query:append",function(t){i.lastParams=t,i.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e=t.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&e&&(this.$results.offset().top+this.$results.outerHeight(!1)+50>=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)&&this.loadMore())},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function n(e,n,i){this.$dropdownParent=t(i.get("dropdownParent")||document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),i._bindContainerResultHandlers(e)}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},n.prototype._bindContainerResultHandlers=function(t,e){if(!this._containerResultsHandlersBound){var n=this;e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:message",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("select",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("unselect",function(){n._positionDropdown(),n._resizeDropdown()}),this._containerResultsHandlersBound=!0}},n.prototype._attachPositioningHandler=function(n,i){var r=this,o="scroll.select2."+i.id,a="resize.select2."+i.id,s="orientationchange.select2."+i.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){e.StoreData(this,"select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(o,function(n){var i=e.GetData(this,"select2-scroll-position");t(this).scrollTop(i.y)}),t(window).on(o+" "+a+" "+s,function(t){r._positionDropdown(),r._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var r="scroll.select2."+i.id,o="resize.select2."+i.id,a="orientationchange.select2."+i.id;this.$container.parents().filter(e.hasScroll).off(r),t(window).off(r+" "+o+" "+a)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=o.top,a.bottom=o.top+a.height;var s=this.$dropdown.outerHeight(!1),l=e.scrollTop(),c=e.scrollTop()+e.height(),u=l<o.top-s,d=c>o.bottom+s,h={left:o.left,top:a.bottom},f=this.$dropdownParent;"static"===f.css("position")&&(f=f.offsetParent());var p={top:0,left:0};(t.contains(document.body,f[0])||f[0].isConnected)&&(p=f.offset()),h.top-=p.top,h.left-=p.left,n||i||(r="below"),d||!u||n?!u&&d&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(h.top=a.top-p.top-s),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(h)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var n=0,i=0;i<e.length;i++){var r=e[i];r.children?n+=t(r.children):n++}return n}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),e.define("select2/dropdown/selectOnClose",["../utils"],function(t){function e(){}return e.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},e.prototype._handleSelectOnClose=function(e,n){if(n&&null!=n.originalSelect2Event){var i=n.originalSelect2Event;if("select"===i._type||"unselect"===i._type)return}var r=this.getHighlightedResults();if(!(r.length<1)){var o=t.GetData(r[0],"data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},e}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more resultsâ¦"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searchingâ¦"},removeAllItems:function(){return"Remove all items"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,i,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y,b,w,E,C,T,_,O,k,D,x){function I(){this.reset()}return I.prototype.apply=function(u){if(null==(u=t.extend(!0,{},this.defaults,u)).dataAdapter){if(null!=u.ajax?u.dataAdapter=p:null!=u.data?u.dataAdapter=f:u.dataAdapter=h,u.minimumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,v)),u.maximumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,y)),u.maximumSelectionLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,b)),u.tags&&(u.dataAdapter=c.Decorate(u.dataAdapter,g)),null==u.tokenSeparators&&null==u.tokenizer||(u.dataAdapter=c.Decorate(u.dataAdapter,m)),null!=u.query){var d=e(u.amdBase+"compat/query");u.dataAdapter=c.Decorate(u.dataAdapter,d)}if(null!=u.initSelection){var x=e(u.amdBase+"compat/initSelection");u.dataAdapter=c.Decorate(u.dataAdapter,x)}}if(null==u.resultsAdapter&&(u.resultsAdapter=n,null!=u.ajax&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,T)),null!=u.placeholder&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,C)),u.selectOnClose&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,k))),null==u.dropdownAdapter){if(u.multiple)u.dropdownAdapter=w;else{var I=c.Decorate(w,E);u.dropdownAdapter=I}if(0!==u.minimumResultsForSearch&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,O)),u.closeOnSelect&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,D)),null!=u.dropdownCssClass||null!=u.dropdownCss||null!=u.adaptDropdownCssClass){var S=e(u.amdBase+"compat/dropdownCss");u.dropdownAdapter=c.Decorate(u.dropdownAdapter,S)}u.dropdownAdapter=c.Decorate(u.dropdownAdapter,_)}if(null==u.selectionAdapter){if(u.multiple?u.selectionAdapter=r:u.selectionAdapter=i,null!=u.placeholder&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,o)),u.allowClear&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,a)),u.multiple&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,s)),null!=u.containerCssClass||null!=u.containerCss||null!=u.adaptContainerCssClass){var R=e(u.amdBase+"compat/containerCss");u.selectionAdapter=c.Decorate(u.selectionAdapter,R)}u.selectionAdapter=c.Decorate(u.selectionAdapter,l)}u.language=this._resolveLanguage(u.language),u.language.push("en");for(var A=[],N=0;N<u.language.length;N++){var P=u.language[N];-1===A.indexOf(P)&&A.push(P)}return u.language=A,u.translations=this._processTranslations(u.language,u.debug),u},I.prototype.reset=function(){function e(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return d[t]||t})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:{},matcher:function n(i,r){if(""===t.trim(i.term))return r;if(r.children&&r.children.length>0){for(var o=t.extend(!0,{},r),a=r.children.length-1;a>=0;a--)null==n(i,r.children[a])&&o.children.splice(a,1);return o.children.length>0?o:n(i,o)}var s=e(r.text).toUpperCase(),l=e(i.term).toUpperCase();return s.indexOf(l)>-1?r:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},I.prototype.applyFromElement=function(t,e){var n=t.language,i=this.defaults.language,r=e.prop("lang"),o=e.closest("[lang]").prop("lang"),a=Array.prototype.concat.call(this._resolveLanguage(r),this._resolveLanguage(n),this._resolveLanguage(i),this._resolveLanguage(o));return t.language=a,t},I.prototype._resolveLanguage=function(e){if(!e)return[];if(t.isEmptyObject(e))return[];if(t.isPlainObject(e))return[e];var n;n=t.isArray(e)?e:[e];for(var i=[],r=0;r<n.length;r++)if(i.push(n[r]),"string"==typeof n[r]&&n[r].indexOf("-")>0){var o=n[r].split("-")[0];i.push(o)}return i},I.prototype._processTranslations=function(e,n){for(var i=new u,r=0;r<e.length;r++){var o=new u,a=e[r];if("string"==typeof a)try{o=u.loadPath(a)}catch(t){try{a=this.defaults.amdLanguageBase+a,o=u.loadPath(a)}catch(t){n&&window.console&&console.warn&&console.warn('Select2: The language file for "'+a+'" could not be automatically loaded. A fallback will be used instead.')}}else o=t.isPlainObject(a)?new u(a):a;i.extend(o)}return i},I.prototype.set=function(e,n){var i={};i[t.camelCase(e)]=n;var r=c._convertData(i);t.extend(!0,this.defaults,r)},new I}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,i){function r(e,r){if(this.options=e,null!=r&&this.fromElement(r),null!=r&&(this.options=n.applyFromElement(this.options,r)),this.options=n.apply(this.options),r&&r.is("input")){var o=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),i.GetData(t[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),i.StoreData(t[0],"data",i.GetData(t[0],"select2Tags")),i.StoreData(t[0],"tags",!0)),i.GetData(t[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",i.GetData(t[0],"ajaxUrl")),i.StoreData(t[0],"ajax-Url",i.GetData(t[0],"ajaxUrl")));var r={};function o(t,e){return e.toUpperCase()}for(var a=0;a<t[0].attributes.length;a++){var s=t[0].attributes[a].name;if("data-"==s.substr(0,"data-".length)){var l=s.substring("data-".length),c=i.GetData(t[0],l);r[l.replace(/-([a-z])/g,o)]=c}}e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset&&(r=e.extend(!0,{},t[0].dataset,r));var u=e.extend(!0,{},i.GetData(t[0]),r);for(var d in u=i._convertData(u))e.inArray(d,n)>-1||(e.isPlainObject(this.options[d])?e.extend(this.options[d],u[d]):this.options[d]=u[d]);return this},r.prototype.get=function(t){return this.options[t]},r.prototype.set=function(t,e){this.options[t]=e},r}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,i){var r=function(t,i){null!=n.GetData(t[0],"select2")&&n.GetData(t[0],"select2").destroy(),this.$element=t,this.id=this._generateId(t),i=i||{},this.options=new e(i,t),r.__super__.constructor.call(this);var o=t.attr("tabindex")||0;n.StoreData(t[0],"old-tabindex",o),t.attr("tabindex","-1");var a=this.options.get("dataAdapter");this.dataAdapter=new a(t,this.options);var s=this.render();this._placeContainer(s);var l=this.options.get("selectionAdapter");this.selection=new l(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var c=this.options.get("dropdownAdapter");this.dropdown=new c(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var u=this.options.get("resultsAdapter");this.results=new u(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){d.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),n.StoreData(t[0],"select2",this),t.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},r.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},r.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var r=t.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"==e){var o=t.attr("style");if("string"!=typeof o)return null;for(var a=o.split(";"),s=0,l=a.length;s<l;s+=1){var c=a[s].replace(/\s/g,"").match(n);if(null!==c&&c.length>=1)return c[1]}return null}return"computedstyle"==e?window.getComputedStyle(t[0]).width:e},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=e?(this._observer=new e(function(e){t._syncA(),t._syncS(null,e)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},r.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(i,r){-1===t.inArray(i,n)&&e.trigger(i,r)})},r.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&e.altKey?(t.close(e),e.preventDefault()):n===i.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._isChangeMutation=function(e,n){var i=!1,r=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(n)if(n.addedNodes&&n.addedNodes.length>0)for(var o=0;o<n.addedNodes.length;o++){n.addedNodes[o].selected&&(i=!0)}else n.removedNodes&&n.removedNodes.length>0?i=!0:t.isArray(n)&&t.each(n,function(t,e){if(r._isChangeMutation(t,e))return i=!0,!1});else i=!0;return i}},r.prototype._syncSubtree=function(t,e){var n=this._isChangeMutation(t,e),i=this;n&&this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})})},r.prototype.trigger=function(t,e){var n=r.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===e&&(e={}),t in i){var o=i[t],a={prevented:!1,name:t,args:e};if(n.call(this,o,a),a.prevented)return void(e.prevented=!0)}n.call(this,t,e)},r.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},r.prototype.close=function(t){this.isOpen()&&this.trigger("close",{originalEvent:t})},r.prototype.isEnabled=function(){return!this.isDisabled()},r.prototype.isDisabled=function(){return this.options.get("disabled")},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},r.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("input").trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",n.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),n.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),n.StoreData(e[0],"element",this.$element),e},r}),e.define("select2/compat/utils",["jquery"],function(t){return{syncCssClasses:function(e,n,i){var r,o,a=[];(r=t.trim(e.attr("class")))&&t((r=""+r).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&a.push(this)}),(r=t.trim(n.attr("class")))&&t((r=""+r).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(o=i(this))&&a.push(o)}),e.attr("class",a.join(" "))}}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(t,e){function n(t){return null}function i(){}return i.prototype.render=function(i){var r=i.call(this),o=this.options.get("containerCssClass")||"";t.isFunction(o)&&(o=o(this.$element));var a=this.options.get("adaptContainerCssClass");if(a=a||n,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var s=a;a=function(t){var e=s(t);return null!=e?e+" "+t:t}}var l=this.options.get("containerCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(r,this.$element,a),r.css(l),r.addClass(o),r},i}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(t,e){function n(t){return null}function i(){}return i.prototype.render=function(i){var r=i.call(this),o=this.options.get("dropdownCssClass")||"";t.isFunction(o)&&(o=o(this.$element));var a=this.options.get("adaptDropdownCssClass");if(a=a||n,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var s=a;a=function(t){var e=s(t);return null!=e?e+" "+t:t}}var l=this.options.get("dropdownCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(r,this.$element,a),r.css(l),r.addClass(o),r},i}),e.define("select2/compat/initSelection",["jquery"],function(t){function e(t,e,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,t.call(this,e,n)}return e.prototype.current=function(e,n){var i=this;this._isInitialized?e.call(this,n):this.initSelection.call(null,this.$element,function(e){i._isInitialized=!0,t.isArray(e)||(e=[e]),n(e)})},e}),e.define("select2/compat/inputData",["jquery","../utils"],function(t,e){function n(t,e,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===e.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),t.call(this,e,n)}return n.prototype.current=function(e,n){function i(e,n){var r=[];return e.selected||-1!==t.inArray(e.id,n)?(e.selected=!0,r.push(e)):e.selected=!1,e.children&&r.push.apply(r,i(e.children,n)),r}for(var r=[],o=0;o<this._currentData.length;o++){var a=this._currentData[o];r.push.apply(r,i(a,this.$element.val().split(this._valueSeparator)))}n(r)},n.prototype.select=function(e,n){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+n.id,this.$element.val(i),this.$element.trigger("input").trigger("change")}else this.current(function(e){t.map(e,function(t){t.selected=!1})}),this.$element.val(n.id),this.$element.trigger("input").trigger("change")},n.prototype.unselect=function(t,e){var n=this;e.selected=!1,this.current(function(t){for(var i=[],r=0;r<t.length;r++){var o=t[r];e.id!=o.id&&i.push(o.id)}n.$element.val(i.join(n._valueSeparator)),n.$element.trigger("input").trigger("change")})},n.prototype.query=function(t,e,n){for(var i=[],r=0;r<this._currentData.length;r++){var o=this._currentData[r],a=this.matches(e,o);null!==a&&i.push(a)}n({results:i})},n.prototype.addOptions=function(n,i){var r=t.map(i,function(t){return e.GetData(t[0],"data")});this._currentData.push.apply(this._currentData,r)},n}),e.define("select2/compat/matcher",["jquery"],function(t){return function(e){return function(n,i){var r=t.extend(!0,{},i);if(null==n.term||""===t.trim(n.term))return r;if(i.children){for(var o=i.children.length-1;o>=0;o--){var a=i.children[o];e(n.term,a.text,a)||r.children.splice(o,1)}if(r.children.length>0)return r}return e(n.term,i.text,i)?r:null}}}),e.define("select2/compat/query",[],function(){function t(t,e,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.callback=n,this.options.get("query").call(null,e)},t}),e.define("select2/dropdown/attachContainer",[],function(){function t(t,e,n){t.call(this,e,n)}return t.prototype.position=function(t,e,n){n.find(".dropdown-wrapper").append(e),e.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},t}),e.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n);this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(t){t.stopPropagation()})},t}),e.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n);this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(t){t.stopPropagation()})},t}),o=function(t){var e,n,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(t.event.fixHooks)for(var a=i.length;a;)t.event.fixHooks[i[--a]]=t.event.mouseHooks;var s=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=r.length;e;)this.addEventListener(r[--e],l,!1);else this.onmousewheel=l;t.data(this,"mousewheel-line-height",s.getLineHeight(this)),t.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=r.length;e;)this.removeEventListener(r[--e],l,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(i){var r,a=i||window.event,l=o.call(arguments,1),d=0,h=0,f=0,p=0,g=0;if((i=t.event.fix(a)).type="mousewheel","detail"in a&&(f=-1*a.detail),"wheelDelta"in a&&(f=a.wheelDelta),"wheelDeltaY"in a&&(f=a.wheelDeltaY),"wheelDeltaX"in a&&(h=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(h=-1*f,f=0),d=0===f?h:f,"deltaY"in a&&(d=f=-1*a.deltaY),"deltaX"in a&&(h=a.deltaX,0===f&&(d=-1*h)),0!==f||0!==h){if(1===a.deltaMode){var m=t.data(this,"mousewheel-line-height");d*=m,f*=m,h*=m}else if(2===a.deltaMode){var v=t.data(this,"mousewheel-page-height");d*=v,f*=v,h*=v}if(r=Math.max(Math.abs(f),Math.abs(h)),(!n||r<n)&&(n=r,u(a,r)&&(n/=40)),u(a,r)&&(d/=40,h/=40,f/=40),d=Math[d>=1?"floor":"ceil"](d/n),h=Math[h>=1?"floor":"ceil"](h/n),f=Math[f>=1?"floor":"ceil"](f/n),s.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=i.clientX-y.left,g=i.clientY-y.top}return i.deltaX=h,i.deltaY=f,i.deltaFactor=n,i.offsetX=p,i.offsetY=g,i.deltaMode=0,l.unshift(i,d,h,f),e&&clearTimeout(e),e=setTimeout(c,200),(t.event.dispatch||t.event.handle).apply(this,l)}}function c(){n=null}function u(t,e){return s.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})},"function"==typeof e.define&&e.define.amd?e.define("jquery-mousewheel",["jquery"],o):"object"==typeof exports?module.exports=o:o(t),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(t,e,n,i,r){if(null==t.fn.select2){var o=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var i=t.extend(!0,{},e);new n(t(this),i)}),this;if("string"==typeof e){var i,a=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=r.GetData(this,"select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=t[e].apply(t,a)}),t.inArray(e,o)>-1?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n}),function(t){"undefined"!=typeof jQuery&&jQuery||"function"!=typeof define||!define.amd?"undefined"!=typeof jQuery&&jQuery||"object"!=typeof exports?t(jQuery,document,window,navigator):t(require("jquery"),document,window,navigator):define(["jquery"],function(e){return t(e,document,window,navigator)})}(function(t,e,n,i,r){"use strict";var o,a,s=0,l=(o=i.userAgent,a=/msie\s\d+/i,o.search(a)>0&&a.exec(o).toString().split(" ")[1]<9&&(t("html").addClass("lt-ie9"),!0));Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=[].slice;if("function"!=typeof e)throw new TypeError;var i=n.call(arguments,1),r=function(){if(this instanceof r){var o=function(){};o.prototype=e.prototype;var a=new o,s=e.apply(a,i.concat(n.call(arguments)));return Object(s)===s?s:a}return e.apply(t,i.concat(n.call(arguments)))};return r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n;if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),r=i.length>>>0;if(0===r)return-1;var o=+e||0;if(Math.abs(o)===1/0&&(o=0),o>=r)return-1;for(n=Math.max(o>=0?o:r-Math.abs(o),0);n<r;){if(n in i&&i[n]===t)return n;n++}return-1});var c=function(i,o,a){this.VERSION="2.3.1",this.input=i,this.plugin_count=a,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,o=o||{},this.$cache={win:t(n),body:t(e.body),input:t(i),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var s,l,c,u=this.$cache.input,d=u.prop("value");for(c in s={skin:"flat",type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" â ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null},"INPUT"!==u[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",u[0]),(l={skin:u.data("skin"),type:u.data("type"),min:u.data("min"),max:u.data("max"),from:u.data("from"),to:u.data("to"),step:u.data("step"),min_interval:u.data("minInterval"),max_interval:u.data("maxInterval"),drag_interval:u.data("dragInterval"),values:u.data("values"),from_fixed:u.data("fromFixed"),from_min:u.data("fromMin"),from_max:u.data("fromMax"),from_shadow:u.data("fromShadow"),to_fixed:u.data("toFixed"),to_min:u.data("toMin"),to_max:u.data("toMax"),to_shadow:u.data("toShadow"),prettify_enabled:u.data("prettifyEnabled"),prettify_separator:u.data("prettifySeparator"),force_edges:u.data("forceEdges"),keyboard:u.data("keyboard"),grid:u.data("grid"),grid_margin:u.data("gridMargin"),grid_num:u.data("gridNum"),grid_snap:u.data("gridSnap"),hide_min_max:u.data("hideMinMax"),hide_from_to:u.data("hideFromTo"),prefix:u.data("prefix"),postfix:u.data("postfix"),max_postfix:u.data("maxPostfix"),decorate_both:u.data("decorateBoth"),values_separator:u.data("valuesSeparator"),input_values_separator:u.data("inputValuesSeparator"),disable:u.data("disable"),block:u.data("block"),extra_classes:u.data("extraClasses")}).values=l.values&&l.values.split(","),l)l.hasOwnProperty(c)&&(l[c]!==r&&""!==l[c]||delete l[c]);d!==r&&""!==d&&((d=d.split(l.input_values_separator||o.input_values_separator||";"))[0]&&d[0]==+d[0]&&(d[0]=+d[0]),d[1]&&d[1]==+d[1]&&(d[1]=+d[1]),o&&o.values&&o.values.length?(s.from=d[0]&&o.values.indexOf(d[0]),s.to=d[1]&&o.values.indexOf(d[1])):(s.from=d[0]&&+d[0],s.to=d[1]&&+d[1])),t.extend(s,o),t.extend(s,l),this.options=s,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()};c.prototype={init:function(t){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var t='<span class="irs irs--'+this.options.skin+" js-irs-"+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(t),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar irs-bar--single"></span><span class="irs-shadow shadow-single"></span><span class="irs-handle single"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-bar"></span><span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-handle from"><i></i><i></i><i></i></span><span class="irs-handle to"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var t=this.options.min,e=this.options.max,n=this.options.from,i=this.options.to;n>t&&i===e?this.$cache.s_from.addClass("type_last"):i<e&&this.$cache.s_to.addClass("type_last")},changeLevel:function(t){switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),l&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),l&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(t){var e,n;this.target||(e=(n="single"===this.options.type?this.$cache.single:this.$cache.from).offset().left,e+=n.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:e}))},pointerMove:function(t){if(this.dragging){var e=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;this.coords.x_pointer=e-this.coords.x_gap,this.calc()}},pointerUp:function(e){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,l&&t("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(t.contains(this.$cache.cont[0],e.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(e,n){n.preventDefault();var i=n.pageX||n.originalEvent.touches&&n.originalEvent.touches[0].pageX;2!==n.button&&("both"===e&&this.setTempMinInterval(),e||(e=this.target||"from"),this.current_plugin=this.plugin_count,this.target=e,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=i-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(e),l&&t("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(t,e){e.preventDefault();var n=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(n-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(t,e){if(!(this.current_plugin!==this.plugin_count||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){switch(e.which){case 83:case 65:case 40:case 37:e.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:e.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var e=this.coords.p_pointer,n=(this.options.max-this.options.min)/100;n=this.options.step/n,t?e+=n:e-=n,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*e),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min[0].style.display="none",void(this.$cache.max[0].style.display="none");if(this.options.values.length)this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]));else{var t=this._prettify(this.options.min),e=this._prettify(this.options.max);this.result.min_pretty=t,this.result.max_pretty=e,this.$cache.min.html(this.decorate(t,this.options.min)),this.$cache.max.html(this.decorate(e,this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var t=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=t},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(t){if(this.options&&(this.calc_count++,(10===this.calc_count||t)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var e=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,e=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,e=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(e)),this.target){case"base":var n=(this.options.max-this.options.min)/100,i=(this.result.from-this.options.min)/n,r=(this.result.to-this.options.min)/n;this.coords.p_single_real=this.toFixed(i),this.coords.p_from_real=this.toFixed(i),this.coords.p_to_real=this.toFixed(r),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(e),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(e),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(e),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;e=this.toFixed(e+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(e)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(e)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var o=this.convertToRealPercent(e),a=this.result.from_percent,s=this.result.to_percent-a,l=s/2,c=o-l,u=o+l;c<0&&(u=(c=0)+s),u>100&&(c=(u=100)-s),this.coords.p_from_real=this.calcWithStep(c),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(u),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(t){return t/(100-this.coords.p_handle)*100},convertToFakePercent:function(t){return t/100*(100-this.coords.p_handle)},getHandleX:function(){var t=100-this.coords.p_handle,e=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return e<0?e=0:e>t&&(e=t),e},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(t){return"single"===this.options.type?"single":t>=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.bar[0].style.left=0,this.$cache.bar[0].style.width=this.coords.p_bar_w+this.coords.p_bar_x+"%",this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%",this.$cache.single[0].style.left=this.labels.p_single_left+"%"):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%"),this.$cache.single[0].style.left=this.labels.p_single_left+"%"),this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){if(this.options){var t,e,n,i,r,o=this.options.values.length,a=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)o?(t=this.decorate(a[this.result.from]),this.$cache.single.html(t)):(i=this._prettify(this.result.from),t=this.decorate(i,this.result.from),this.$cache.single.html(t)),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible";else{o?(this.options.decorate_both?(t=this.decorate(a[this.result.from]),t+=this.options.values_separator,t+=this.decorate(a[this.result.to])):t=this.decorate(a[this.result.from]+this.options.values_separator+a[this.result.to]),e=this.decorate(a[this.result.from]),n=this.decorate(a[this.result.to]),this.$cache.single.html(t),this.$cache.from.html(e),this.$cache.to.html(n)):(i=this._prettify(this.result.from),r=this._prettify(this.result.to),this.options.decorate_both?(t=this.decorate(i,this.result.from),t+=this.options.values_separator,t+=this.decorate(r,this.result.to)):t=this.decorate(i+this.options.values_separator+r,this.result.to),e=this.decorate(i,this.result.from),n=this.decorate(r,this.result.to),this.$cache.single.html(t),this.$cache.from.html(e),this.$cache.to.html(n)),this.calcLabels();var s=Math.min(this.labels.p_single_left,this.labels.p_from_left),l=this.labels.p_single_left+this.labels.p_single_fake,c=this.labels.p_to_left+this.labels.p_to_fake,u=Math.max(l,c);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",u=c):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",u=Math.max(l,c))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),s<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",u>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var t,e,n,i,r=this.options,o=this.$cache,a="number"==typeof r.from_min&&!isNaN(r.from_min),s="number"==typeof r.from_max&&!isNaN(r.from_max),l="number"==typeof r.to_min&&!isNaN(r.to_min),c="number"==typeof r.to_max&&!isNaN(r.to_max);"single"===r.type?r.from_shadow&&(a||s)?(t=this.convertToPercent(a?r.from_min:r.min),e=this.convertToPercent(s?r.from_max:r.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,o.shad_single[0].style.display="block",o.shad_single[0].style.left=t+"%",o.shad_single[0].style.width=e+"%"):o.shad_single[0].style.display="none":(r.from_shadow&&(a||s)?(t=this.convertToPercent(a?r.from_min:r.min),e=this.convertToPercent(s?r.from_max:r.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,o.shad_from[0].style.display="block",o.shad_from[0].style.left=t+"%",o.shad_from[0].style.width=e+"%"):o.shad_from[0].style.display="none",r.to_shadow&&(l||c)?(n=this.convertToPercent(l?r.to_min:r.min),i=this.convertToPercent(c?r.to_max:r.max)-n,n=this.toFixed(n-this.coords.p_handle/100*n),i=this.toFixed(i-this.coords.p_handle/100*i),n+=this.coords.p_handle/2,o.shad_to[0].style.display="block",o.shad_to[0].style.left=n+"%",o.shad_to[0].style.width=i+"%"):o.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(t,e){var n,i=this.options.max-this.options.min,r=i/100;return i?(n=(e?t:t-this.options.min)/r,this.toFixed(n)):(this.no_diapason=!0,0)},convertToValue:function(t){var e,n,i=this.options.min,r=this.options.max,o=i.toString().split(".")[1],a=r.toString().split(".")[1],s=0,l=0;if(0===t)return this.options.min;if(100===t)return this.options.max;o&&(s=e=o.length),a&&(s=n=a.length),e&&n&&(s=e>=n?e:n),i<0&&(i=+(i+(l=Math.abs(i))).toFixed(s),r=+(r+l).toFixed(s));var c,u=(r-i)/100*t+i,d=this.options.step.toString().split(".")[1];return d?u=+u.toFixed(d.length):(u/=this.options.step,u=+(u*=this.options.step).toFixed(0)),l&&(u-=l),(c=d?+u.toFixed(d.length):this.toFixed(u))<this.options.min?c=this.options.min:c>this.options.max&&(c=this.options.max),c},calcWithStep:function(t){var e=Math.round(t/this.coords.p_step)*this.coords.p_step;return e>100&&(e=100),100===t&&(e=100),this.toFixed(e)},checkMinInterval:function(t,e,n){var i,r,o=this.options;return o.min_interval?(i=this.convertToValue(t),r=this.convertToValue(e),"from"===n?r-i<o.min_interval&&(i=r-o.min_interval):i-r<o.min_interval&&(i=r+o.min_interval),this.convertToPercent(i)):t},checkMaxInterval:function(t,e,n){var i,r,o=this.options;return o.max_interval?(i=this.convertToValue(t),r=this.convertToValue(e),"from"===n?r-i>o.max_interval&&(i=r-o.max_interval):i-r>o.max_interval&&(i=r+o.max_interval),this.convertToPercent(i)):t},checkDiapason:function(t,e,n){var i=this.convertToValue(t),r=this.options;return"number"!=typeof e&&(e=r.min),"number"!=typeof n&&(n=r.max),i<e&&(i=e),i>n&&(i=n),this.convertToPercent(i)},toFixed:function(t){return+(t=t.toFixed(20))},_prettify:function(t){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(t):this.prettify(t):t},prettify:function(t){return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,e){return this.options.force_edges?(t<0?t=0:t>100-e&&(t=100-e),this.toFixed(t)):this.toFixed(t)},validate:function(){var t,e,n=this.options,i=this.result,r=n.values,o=r.length;if("string"==typeof n.min&&(n.min=+n.min),"string"==typeof n.max&&(n.max=+n.max),"string"==typeof n.from&&(n.from=+n.from),"string"==typeof n.to&&(n.to=+n.to),"string"==typeof n.step&&(n.step=+n.step),"string"==typeof n.from_min&&(n.from_min=+n.from_min),"string"==typeof n.from_max&&(n.from_max=+n.from_max),"string"==typeof n.to_min&&(n.to_min=+n.to_min),"string"==typeof n.to_max&&(n.to_max=+n.to_max),"string"==typeof n.grid_num&&(n.grid_num=+n.grid_num),n.max<n.min&&(n.max=n.min),o)for(n.p_values=[],n.min=0,n.max=o-1,n.step=1,n.grid_num=n.max,n.grid_snap=!0,e=0;e<o;e++)t=+r[e],isNaN(t)?t=r[e]:(r[e]=t,t=this._prettify(t)),n.p_values.push(t);("number"!=typeof n.from||isNaN(n.from))&&(n.from=n.min),("number"!=typeof n.to||isNaN(n.to))&&(n.to=n.max),"single"===n.type?(n.from<n.min&&(n.from=n.min),n.from>n.max&&(n.from=n.max)):(n.from<n.min&&(n.from=n.min),n.from>n.max&&(n.from=n.max),n.to<n.min&&(n.to=n.min),n.to>n.max&&(n.to=n.max),this.update_check.from&&(this.update_check.from!==n.from&&n.from>n.to&&(n.from=n.to),this.update_check.to!==n.to&&n.to<n.from&&(n.to=n.from)),n.from>n.to&&(n.from=n.to),n.to<n.from&&(n.to=n.from)),("number"!=typeof n.step||isNaN(n.step)||!n.step||n.step<0)&&(n.step=1),"number"==typeof n.from_min&&n.from<n.from_min&&(n.from=n.from_min),"number"==typeof n.from_max&&n.from>n.from_max&&(n.from=n.from_max),"number"==typeof n.to_min&&n.to<n.to_min&&(n.to=n.to_min),"number"==typeof n.to_max&&n.from>n.to_max&&(n.to=n.to_max),i&&(i.min!==n.min&&(i.min=n.min),i.max!==n.max&&(i.max=n.max),(i.from<i.min||i.from>i.max)&&(i.from=n.from),(i.to<i.min||i.to>i.max)&&(i.to=n.to)),("number"!=typeof n.min_interval||isNaN(n.min_interval)||!n.min_interval||n.min_interval<0)&&(n.min_interval=0),("number"!=typeof n.max_interval||isNaN(n.max_interval)||!n.max_interval||n.max_interval<0)&&(n.max_interval=0),n.min_interval&&n.min_interval>n.max-n.min&&(n.min_interval=n.max-n.min),n.max_interval&&n.max_interval>n.max-n.min&&(n.max_interval=n.max-n.min)},decorate:function(t,e){var n="",i=this.options;return i.prefix&&(n+=i.prefix),n+=t,i.max_postfix&&(i.values.length&&t===i.p_values[i.max]?(n+=i.max_postfix,i.postfix&&(n+=" ")):e===i.max&&(n+=i.max_postfix,i.postfix&&(n+=" "))),i.postfix&&(n+=i.postfix),n},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var t,e,n,i,r,o,a=this.options,s=a.max-a.min,l=a.grid_num,c=0,u=4,d="";for(this.calcGridMargin(),a.grid_snap&&(l=s/a.step),l>50&&(l=50),n=this.toFixed(100/l),l>4&&(u=3),l>7&&(u=2),l>14&&(u=1),l>28&&(u=0),t=0;t<l+1;t++){for(i=u,(c=this.toFixed(n*t))>100&&(c=100),this.coords.big[t]=c,r=(c-n*(t-1))/(i+1),e=1;e<=i&&0!==c;e++)d+='<span class="irs-grid-pol small" style="left: '+this.toFixed(c-r*e)+'%"></span>';d+='<span class="irs-grid-pol" style="left: '+c+'%"></span>',o=this.convertToValue(c),d+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+c+'%">'+(o=a.values.length?a.p_values[o]:this._prettify(o))+"</span>"}this.coords.big_num=Math.ceil(l+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(d),this.cacheGridLabels()}},cacheGridLabels:function(){var t,e,n=this.coords.big_num;for(e=0;e<n;e++)t=this.$cache.grid.find(".js-grid-text-"+e),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){var t,e,n=[],i=[],r=this.coords.big_num;for(t=0;t<r;t++)this.coords.big_w[t]=this.$cache.grid_labels[t].outerWidth(!1),this.coords.big_p[t]=this.toFixed(this.coords.big_w[t]/this.coords.w_rs*100),this.coords.big_x[t]=this.toFixed(this.coords.big_p[t]/2),n[t]=this.toFixed(this.coords.big[t]-this.coords.big_x[t]),i[t]=this.toFixed(n[t]+this.coords.big_p[t]);for(this.options.force_edges&&(n[0]<-this.coords.grid_gap&&(n[0]=-this.coords.grid_gap,i[0]=this.toFixed(n[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),i[r-1]>100+this.coords.grid_gap&&(i[r-1]=100+this.coords.grid_gap,n[r-1]=this.toFixed(i[r-1]-this.coords.big_p[r-1]),this.coords.big_x[r-1]=this.toFixed(this.coords.big_p[r-1]-this.coords.grid_gap))),this.calcGridCollision(2,n,i),this.calcGridCollision(4,n,i),t=0;t<r;t++)e=this.$cache.grid_labels[t][0],this.coords.big_x[t]!==Number.POSITIVE_INFINITY&&(e.style.marginLeft=-this.coords.big_x[t]+"%")},calcGridCollision:function(t,e,n){var i,r,o,a=this.coords.big_num;for(i=0;i<a&&!((r=i+t/2)>=a);i+=t)o=this.$cache.grid_labels[r][0],n[i]<=e[r]?o.style.visibility="visible":o.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(e){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=t.extend(this.options,e),this.validate(),this.updateResult(e),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),t.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},t.fn.ionRangeSlider=function(e){return this.each(function(){t.data(this,"ionRangeSlider")||t.data(this,"ionRangeSlider",new c(this,e,s++))})},function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!n.requestAnimationFrame;++i)n.requestAnimationFrame=n[e[i]+"RequestAnimationFrame"],n.cancelAnimationFrame=n[e[i]+"CancelAnimationFrame"]||n[e[i]+"CancelRequestAnimationFrame"];n.requestAnimationFrame||(n.requestAnimationFrame=function(e,i){var r=(new Date).getTime(),o=Math.max(0,16-(r-t)),a=n.setTimeout(function(){e(r+o)},o);return t=r+o,a}),n.cancelAnimationFrame||(n.cancelAnimationFrame=function(t){clearTimeout(t)})}()}),function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(n){return t.Bloodhound=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){t.each(e,function(t,e){return n(e,t)})},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){if(!(i=n.call(null,r,t,e)))return!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){if(i=n.call(null,r,t,e))return!1}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,a,s=this,l=arguments;return o=function(){i=null,n||(r=t.apply(s,l))},a=n&&!i,clearTimeout(i),i=setTimeout(o,e),a&&(r=t.apply(s,l)),r}},throttle:function(t,e){var n,i,r,o,a,s;return a=0,s=function(){a=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,c=e-(l-a);return n=this,i=arguments,c<=0?(clearTimeout(r),r=null,a=l,o=t.apply(n,i)):r||(r=setTimeout(s,c)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}};function t(t){return(t=e.toStr(t))?t.split(/\s+/):[]}function n(t){return(t=e.toStr(t))?t.split(/\W+/):[]}function i(t){return function(n){return n=e.isArray(n)?n:[].slice.call(arguments,0),function(i){var r=[];return e.each(n,function(n){r=r.concat(t(e.toStr(i[n])))}),r}}}}(),r=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),o=function(){"use strict";var n;try{(n=window.localStorage).setItem("~~~","!"),n.removeItem("~~~")}catch(t){n=null}function i(t,i){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=i||n,!this.ls&&this._noop()}return e.mixin(i.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(t){"QuotaExceededError"===t.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),a(this.ls.getItem(this._prefix(t)))},set:function(t,n,i){return e.isNumber(i)?this._safeSet(this._ttlKey(t),o(r()+i)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),o(n))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=function(t){var e,i,r=[],o=n.length;for(e=0;e<o;e++)(i=n.key(e)).match(t)&&r.push(i.replace(t,""));return r}(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var n=a(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(n)&&r()>n)}}),i;function r(){return(new Date).getTime()}function o(t){return JSON.stringify(e.isUndefined(t)?null:t)}function a(e){return t.parseJSON(e)}}(),a=function(){"use strict";var n=0,i={},o=6,a=new r(10);function s(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new r(0):a}return s.setMaxPendingRequests=function(t){o=t},s.resetCache=function(){a.reset()},e.mixin(s.prototype,{_fingerprint:function(e){return(e=e||{}).url+e.type+t.param(e.data||{})},_get:function(t,e){var r,a,s=this;function l(t){e(null,t),s._cache.set(r,t)}function c(){e(!0)}r=this._fingerprint(t),this.cancelled||r!==this.lastReq||((a=i[r])?a.done(l).fail(c):n<o?(n++,i[r]=this._send(t).done(l).fail(c).always(function(){n--,delete i[r],s.onDeckRequestArgs&&(s._get.apply(s,s.onDeckRequestArgs),s.onDeckRequestArgs=null)})):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var r,o;i=i||t.noop,n=e.isString(n)?{url:n}:n||{},o=this._fingerprint(n),this.cancelled=!1,this.lastReq=o,(r=this._cache.get(o))?i(null,r):this._get(n,i)},cancel:function(){this.cancelled=!0}}),s}(),s=window.SearchIndex=function(){"use strict";var n="c",i="i";function r(n){(n=n||{}).datumTokenizer&&n.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||e.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}return e.mixin(r.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var r=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var s,l;r.datums[s=r.identify(t)]=t,l=o(r.datumTokenizer(t)),e.each(l,function(t){var e,o,l;for(e=r.trie,o=t.split("");l=o.shift();)(e=e[n][l]||(e[n][l]=a()))[i].push(s)})})},get:function(t){var n=this;return e.map(t,function(t){return n.datums[t]})},search:function(t){var r,a,s=this;return r=o(this.queryTokenizer(t)),e.each(r,function(t){var e,r,o,l;if(a&&0===a.length)return!1;for(e=s.trie,r=t.split("");e&&(o=r.shift());)e=e[n][o];if(!e||0!==r.length)return a=[],!1;l=e[i].slice(0),a=a?function(t,e){var n=0,i=0,r=[];t=t.sort(),e=e.sort();var o=t.length,a=e.length;for(;n<o&&i<a;)t[n]<e[i]?n++:t[n]>e[i]?i++:(r.push(t[n]),n++,i++);return r}(a,l):l}),a?e.map(function(t){for(var e={},n=[],i=0,r=t.length;i<r;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}(a),function(t){return s.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=a()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),r;function o(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function a(){var t={};return t[i]=[],t[n]={},t}}(),l=function(){"use strict";var t;function n(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new o(t.cacheKey)}return t={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(n.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(e){this.cache&&(this.storage.set(t.data,e,this.ttl),this.storage.set(t.protocol,location.protocol,this.ttl),this.storage.set(t.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var e,n={};return this.cache?(n.data=this.storage.get(t.data),n.protocol=this.storage.get(t.protocol),n.thumbprint=this.storage.get(t.thumbprint),e=n.thumbprint!==this.thumbprint||n.protocol!==location.protocol,n.data&&!e?n.data:null):null},fromNetwork:function(t){var e,n=this;t&&(e=this.prepare(this._settings()),this.transport(e).fail(function(){t(!0)}).done(function(e){t(null,n.transform(e))}))},clear:function(){return this.storage.clear(),this}}),n}(),c=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new a({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){var n,i=this;if(e)return t=t||"",n=this.prepare(t,this._settings()),this.transport.get(n,function(t,n){e(t?[]:i.transform(n))})},cancelLastRequest:function(){this.transport.cancel()}}),t}(),u=function(){"use strict";return function(r){var o,a;return o={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(r=e.mixin(o,r||{})).datumTokenizer&&t.error("datumTokenizer is required"),!r.queryTokenizer&&t.error("queryTokenizer is required"),a=r.sorter,r.sorter=a?function(t){return t.sort(a)}:e.identity,r.local=e.isFunction(r.local)?r.local():r.local,r.prefetch=function(r){var o;if(!r)return null;return o={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},r=e.isString(r)?{url:r}:r,!(r=e.mixin(o,r)).url&&t.error("prefetch requires url to be set"),r.transform=r.filter||r.transform,r.cacheKey=r.cacheKey||r.url,r.thumbprint=n+r.thumbprint,r.transport=r.transport?i(r.transport):t.ajax,r}(r.prefetch),r.remote=function(n){var r;if(!n)return;return r={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,!(n=e.mixin(r,n)).url&&t.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=function(t){var e,n,i;return e=t.prepare,n=t.replace,i=t.wildcard,e||(e=n?function(t,e){return e.url=n(e.url,t),e}:t.wildcard?function(t,e){return e.url=e.url.replace(i,encodeURIComponent(t)),e}:function(t,e){return e})}(n),n.limiter=function(t){var n,i,r;return n=t.limiter,i=t.rateLimitBy,r=t.rateLimitWait,n||(n=/^throttle$/i.test(i)?function(t){return function(n){return e.throttle(n,t)}}(r):function(t){return function(n){return e.debounce(n,t)}}(r)),n}(n),n.transport=n.transport?i(n.transport):t.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}(r.remote),r};function i(n){return function(i){var r=t.Deferred();return n(i,function(t){e.defer(function(){r.resolve(t)})},function(t){e.defer(function(){r.reject(t)})}),r}}}();return function(){"use strict";var n;function r(t){t=u(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new c(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new s({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}return n=window&&window.Bloodhound,r.noConflict=function(){return window&&(window.Bloodhound=n),r},r.tokenizers=i,e.mixin(r.prototype,{__ttAdapter:function(){var t=this;return this.remote?function(e,n,i){return t.search(e,n,i)}:function(e,n){return t.search(e,n)}},_loadPrefetch:function(){var e,n,i=this;return e=t.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),e.resolve()):this.prefetch.fromNetwork(function(t,n){if(t)return e.reject();i.add(n),i.prefetch.store(i.index.serialize()),e.resolve()}):e.resolve(),e.promise()},_initialize:function(){var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(function(){t.add(t.local)}),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,n,i){var r,o=this;return r=this.sorter(this.index.search(t)),n(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(t,function(t){var n=[];e.each(t,function(t){!e.some(r,function(e){return o.identify(t)===o.identify(e)})&&n.push(t)}),i&&i(n)}):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return a.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),r}()}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){t.each(e,function(t,e){return n(e,t)})},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){if(!(i=n.call(null,r,t,e)))return!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){if(i=n.call(null,r,t,e))return!1}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,a,s=this,l=arguments;return o=function(){i=null,n||(r=t.apply(s,l))},a=n&&!i,clearTimeout(i),i=setTimeout(o,e),a&&(r=t.apply(s,l)),r}},throttle:function(t,e){var n,i,r,o,a,s;return a=0,s=function(){a=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,c=e-(l-a);return n=this,i=arguments,c<=0?(clearTimeout(r),r=null,a=l,o=t.apply(n,i)):r||(r=setTimeout(s,c)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";var t={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(r){var o,a;return a=e.mixin({},t,r),{css:(o={css:i(),classes:a,html:(s=a,{wrapper:'<span class="'+s.wrapper+'"></span>',menu:'<div class="'+s.menu+'"></div>'}),selectors:n(a)}).css,html:o.html,classes:o.classes,selectors:o.selectors,mixin:function(t){e.mixin(t,o)}};var s};function n(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function i(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}}(),i=function(){"use strict";var n;function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}return"typeahead:",n={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(i.prototype,{_trigger:function(e,n){var i;return i=t.Event("typeahead:"+e),(n=n||[]).unshift(i),this.$el.trigger.apply(this.$el,n),i},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=n[t])&&this._trigger(e,[].slice.call(arguments,1))}}),i}(),r=function(){"use strict";var t=/\s+/,e=function(){var t;t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)};return t}();return{onSync:function(t,e,i){return n.call(this,"sync",t,e,i)},onAsync:function(t,e,i){return n.call(this,"async",t,e,i)},off:function(e){var n;if(!this._callbacks)return this;e=e.split(t);for(;n=e.shift();)delete this._callbacks[n];return this},trigger:function(n){var r,o,a,s,l;if(!this._callbacks)return this;n=n.split(t),a=[].slice.call(arguments,1);for(;(r=n.shift())&&(o=this._callbacks[r]);)s=i(o.sync,this,[r].concat(a)),l=i(o.async,this,[r].concat(a)),s()&&e(l);return this}};function n(e,n,i,r){var o;if(!i)return this;for(n=n.split(t),i=r?function(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}(i,r):i,this._callbacks=this._callbacks||{};o=n.shift();)this._callbacks[o]=this._callbacks[o]||{sync:[],async:[]},this._callbacks[o][e].push(i);return this}function i(t,e,n){return function(){for(var i,r=0,o=t.length;!i&&r<o;r+=1)i=!1===t[r].apply(e,n);return!i}}}(),o=function(t){"use strict";var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(i){var r;(i=e.mixin({},n,i)).node&&i.pattern&&(i.pattern=e.isArray(i.pattern)?i.pattern:[i.pattern],r=function(t,n,i){for(var r,o=[],a=0,s=t.length;a<s;a++)o.push(e.escapeRegExChars(t[a]));return r=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}(i.pattern,i.caseSensitive,i.wordsOnly),function t(e,n){var i;for(var r=0;r<e.childNodes.length;r++)3===(i=e.childNodes[r]).nodeType?r+=n(i)?1:0:t(i,n)}(i.node,function(e){var n,o,a;(n=r.exec(e.data))&&(a=t.createElement(i.tagName),i.className&&(a.className=i.className),(o=e.splitText(n.index)).splitText(n[0].length),a.appendChild(o.cloneNode(!0)),e.parentNode.replaceChild(a,o));return!!n}))}}(window.document),a=function(){"use strict";var n;function i(n,i){var r;(n=n||{}).input||t.error("input is missing"),i.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=(r=this.$input,t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:r.css("font-family"),fontSize:r.css("font-size"),fontStyle:r.css("font-style"),fontVariant:r.css("font-variant"),fontWeight:r.css("font-weight"),wordSpacing:r.css("word-spacing"),letterSpacing:r.css("letter-spacing"),textIndent:r.css("text-indent"),textRendering:r.css("text-rendering"),textTransform:r.css("text-transform")}).insertAfter(r)),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}return n={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(i.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=n[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!o(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!o(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,r,o,a;o=t,a=this.query,r=!!(n=i.normalizeQuery(o)===i.normalizeQuery(a))&&this.query.length!==t.length,this.query=t,e||n?!e&&r&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,i,r,o,a=this;return t=e.bind(this._onBlur,this),i=e.bind(this._onFocus,this),r=e.bind(this._onKeydown,this),o=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",i).on("keydown.tt",r),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",o):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){n[t.which||t.keyCode]||e.defer(e.bind(a._onInput,a,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:!document.selection||((i=document.selection.createRange()).moveStart("character",-t),t===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),i;function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}}(),s=function(){"use strict";var n,i;function a(n,r){var o;(n=n||{}).templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&(o=n.name,!/^[_a-zA-Z0-9-]+$/.test(o))&&t.error("invalid dataset name: "+n.name),r.mixin(this),this.highlight=!!n.highlight,this.name=n.name||i(),this.limit=n.limit||5,this.displayFn=function(t){return t=t||e.stringify,e.isFunction(t)?t:function(e){return e[t]}}(n.display||n.displayKey),this.templates=function(n,i){return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||function(e){return t("<div>").text(i(e))}}}(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}return n={val:"tt-selectable-display",obj:"tt-selectable-object"},i=e.getIdGenerator(),a.extractData=function(e){var i=t(e);return i.data(n.obj)?{val:i.data(n.val)||"",obj:i.data(n.obj)||null}:null},e.mixin(a.prototype,r,{_overwrite:function(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;i=(n=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,r){var a,s=this;return a=document.createDocumentFragment(),e.each(r,function(e){var r,o;o=s._injectQuery(i,e),r=t(s.templates.suggestion(o)).data(n.obj,e).data(n.val,s.displayFn(e)).addClass(s.classes.suggestion+" "+s.classes.selectable),a.appendChild(r[0])}),this.highlight&&o({className:this.classes.highlight,node:a,pattern:i}),t(a)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){var n=this,i=!1,r=!1,o=0;function a(t){r||(r=!0,t=(t||[]).slice(0,n.limit),o=t.length,n._overwrite(e,t),o<n.limit&&n.async&&n.trigger("asyncRequested",e))}this.cancel(),this.cancel=function(){i=!0,n.cancel=t.noop,n.async&&n.trigger("asyncCanceled",e)},this.source(e,a,function(r){r=r||[],!i&&o<n.limit&&(n.cancel=t.noop,o+=r.length,n._append(e,r.slice(0,n.limit-o)),n.async&&n.trigger("asyncReceived",e))}),!r&&a([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),a}(),l=function(){"use strict";function n(n,i){var r=this;(n=n||{}).node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,function(e){var n=r.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(r.$node),new s(e,i)})}return e.mixin(n.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return e.every(this.datasets,function(t){return t.isEmpty()})},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,r;n=(e=t.position().top)+t.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),e<0?this.$node.scrollTop(i+e):r<n&&this.$node.scrollTop(i+(n-r))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i;return n=this.getActiveSelectable(),e=this._getSelectables(),-1===(i=(i=((i=(n?e.index(n):-1)+t)+1)%(e.length+1)-1)<-1?e.length-1:i)?null:e.eq(i)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?s.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){var n=t!==this.query;return n&&(this.query=t,e.each(this.datasets,function(e){e.update(t)})),n},empty:function(){e.each(this.datasets,function(t){t.clear()}),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,function(t){t.destroy()})}}),n}(),c=function(){"use strict";var t=l.prototype;function n(){l.apply(this,[].slice.call(arguments,0))}return e.mixin(n.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),t.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),t.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),t.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),n}(),u=function(){"use strict";function n(n,r){var o,a,s,l,c,u,d,h,f,p,g;(n=n||{}).input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=i(this,"activate","open","_onFocused"),a=i(this,"deactivate","_onBlurred"),s=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),c=i(this,"isActive","_onEscKeyed"),u=i(this,"isActive","open","_onUpKeyed"),d=i(this,"isActive","open","_onDownKeyed"),h=i(this,"isActive","isOpen","_onLeftKeyed"),f=i(this,"isActive","isOpen","_onRightKeyed"),p=i(this,"_openIfActive","_onQueryChanged"),g=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",a,this).onSync("enterKeyed",s,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",u,this).onSync("downKeyed",d,this).onSync("leftKeyed",h,this).onSync("rightKeyed",f,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}return e.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var r,o,a;r=document.activeElement,o=i.is(r),a=i.has(r).length>0,e.isMsie()&&(o||a)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return(t=e.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var t,n,i,r,o,s;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),i=this.input.getInputValue(),!n||e.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(r=a.normalizeQuery(i),o=e.escapeRegExChars(r),(s=new RegExp("^(?:"+o+")(.+$)","i").exec(n.val))&&this.input.setHint(i+s[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,n;return e=this.input.getQuery(),!(!((n=this.menu.getSelectableData(t))&&e!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function(t){var e,n,i,r;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),r=(i=this.menu.getSelectableData(n))?i.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n;function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,i)})}}}();!function(){"use strict";var r,o,s;function d(e,n){e.each(function(){var e,i=t(this);(e=i.data(o.typeahead))&&n(e,i)})}function h(n){var i;return(i=e.isJQuery(n)||e.isElement(n)?t(n).first():[]).length?i:null}r=t.fn.typeahead,o={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},s={initialize:function(r,s){var d;return s=e.isArray(s)?s:[].slice.call(arguments,1),d=n((r=r||{}).classNames),this.each(function(){var n,f,p,g,m,v,y,b,w,E,C;e.each(s,function(t){t.highlight=!!r.highlight}),n=t(this),f=t(d.html.wrapper),p=h(r.hint),g=h(r.menu),m=!1!==r.hint&&!p,v=!1!==r.menu&&!g,m&&(p=function(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css((n=t,{backgroundAttachment:n.css("background-attachment"),backgroundClip:n.css("background-clip"),backgroundColor:n.css("background-color"),backgroundImage:n.css("background-image"),backgroundOrigin:n.css("background-origin"),backgroundPosition:n.css("background-position"),backgroundRepeat:n.css("background-repeat"),backgroundSize:n.css("background-size")})).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1});var n}(n,d)),v&&(g=t(d.html.menu).css(d.css.menu)),p&&p.val(""),n=function(t,e){t.data(o.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}(n,d),(m||v)&&(f.css(d.css.wrapper),n.css(m?d.css.input:d.css.inputWithNoHint),n.wrap(f).parent().prepend(m?p:null).append(v?g:null));C=v?c:l,y=new i({el:n}),b=new a({hint:p,input:n},d),w=new C({node:g,datasets:s},d),E=new u({input:b,menu:w,eventBus:y,minLength:r.minLength},d),n.data(o.www,d),n.data(o.typeahead,E)})},isEnabled:function(){var t;return d(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return d(this,function(t){t.enable()}),this},disable:function(){return d(this,function(t){t.disable()}),this},isActive:function(){var t;return d(this.first(),function(e){t=e.isActive()}),t},activate:function(){return d(this,function(t){t.activate()}),this},deactivate:function(){return d(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return d(this.first(),function(e){t=e.isOpen()}),t},open:function(){return d(this,function(t){t.open()}),this},close:function(){return d(this,function(t){t.close()}),this},select:function(e){var n=!1,i=t(e);return d(this.first(),function(t){n=t.select(i)}),n},autocomplete:function(e){var n=!1,i=t(e);return d(this.first(),function(t){n=t.autocomplete(i)}),n},moveCursor:function(t){var e=!1;return d(this.first(),function(n){e=n.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(d(this,function(e){e.setVal(t)}),this):(d(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return d(this,function(t,n){!function(t){var n,i;n=t.data(o.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(o.attrs),function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)}),t.removeData(o.typeahead).removeData(o.www).removeData(o.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}(n),t.destroy()}),this}},t.fn.typeahead=function(t){return s[t]?s[t].apply(this,[].slice.call(arguments,1)):s.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=r,this}}()}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var r=i(n(2)),o=i(n(35)),a=n(36),s=n(41),l=i(n(42)),c=i(n(39)),u=i(n(34)),d=r.default.create;function h(){var t=d();return t.compile=function(e,n){return s.compile(e,n,t)},t.precompile=function(e,n){return s.precompile(e,n,t)},t.AST=o.default,t.Compiler=s.Compiler,t.JavaScriptCompiler=l.default,t.Parser=a.parser,t.parse=a.parse,t}var f=h();f.create=h,u.default(f),f.Visitor=c.default,f.default=f,e.default=f,t.exports=e.default},function(t,e){"use strict";e.default=function(t){return t&&t.__esModule?t:{default:t}},e.__esModule=!0},function(t,e,n){"use strict";var i=n(3).default,r=n(1).default;e.__esModule=!0;var o=i(n(4)),a=r(n(21)),s=r(n(6)),l=i(n(5)),c=i(n(22)),u=r(n(34));function d(){var t=new o.HandlebarsEnvironment;return l.extend(t,o),t.SafeString=a.default,t.Exception=s.default,t.Utils=l,t.escapeExpression=l.escapeExpression,t.VM=c,t.template=function(e){return c.template(e,t)},t}var h=d();h.create=d,u.default(h),h.default=h,e.default=h,t.exports=e.default},function(t,e){"use strict";e.default=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__esModule=!0},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0,e.HandlebarsEnvironment=c;var r=n(5),o=i(n(6)),a=n(10),s=n(18),l=i(n(20));e.VERSION="4.1.0";e.COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};function c(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},a.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}c.prototype={constructor:c,logger:l.default,log:l.default.log,registerHelper:function(t,e){if("[object Object]"===r.toString.call(t)){if(e)throw new o.default("Arg not supported with multiple helpers");r.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===r.toString.call(t))r.extend(this.partials,t);else{if(void 0===e)throw new o.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===r.toString.call(t)){if(e)throw new o.default("Arg not supported with multiple decorators");r.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var u=l.default.log;e.log=u,e.createFrame=r.createFrame,e.logger=l.default},function(t,e){"use strict";e.__esModule=!0,e.extend=a,e.indexOf=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}if(!r.test(t))return t;return t.replace(i,o)},e.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},e.createFrame=function(t){var e=a({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},i=/[&<>"'`=]/g,r=/[&<>"'`=]/;function o(t){return n[t]}function a(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}var s=Object.prototype.toString;e.toString=s;var l=function(t){return"function"==typeof t};l(/x/)&&(e.isFunction=l=function(t){return"function"==typeof t&&"[object Function]"===s.call(t)}),e.isFunction=l;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===s.call(t)};e.isArray=c},function(t,e,n){"use strict";var i=n(7).default;e.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];function o(t,e){var n=e&&e.loc,a=void 0,s=void 0;n&&(t+=" - "+(a=n.start.line)+":"+(s=n.start.column));for(var l=Error.prototype.constructor.call(this,t),c=0;c<r.length;c++)this[r[c]]=l[r[c]];Error.captureStackTrace&&Error.captureStackTrace(this,o);try{n&&(this.lineNumber=a,i?Object.defineProperty(this,"column",{value:s,enumerable:!0}):this.column=s)}catch(t){}}o.prototype=new Error,e.default=o,t.exports=e.default},function(t,e,n){t.exports={default:n(8),__esModule:!0}},function(t,e,n){var i=n(9);t.exports=function(t,e,n){return i.setDesc(t,e,n)}},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0,e.registerDefaultHelpers=function(t){r.default(t),o.default(t),a.default(t),s.default(t),l.default(t),c.default(t),u.default(t)};var r=i(n(11)),o=i(n(12)),a=i(n(13)),s=i(n(14)),l=i(n(15)),c=i(n(16)),u=i(n(17))},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerHelper("blockHelperMissing",function(e,n){var r=n.inverse,o=n.fn;if(!0===e)return o(this);if(!1===e||null==e)return r(this);if(i.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):r(this);if(n.data&&n.ids){var a=i.createFrame(n.data);a.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(e,n)})},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var r=n(5),o=i(n(6));e.default=function(t){t.registerHelper("each",function(t,e){if(!e)throw new o.default("Must pass iterator to #each");var n=e.fn,i=e.inverse,a=0,s="",l=void 0,c=void 0;function u(e,i,o){l&&(l.key=e,l.index=i,l.first=0===i,l.last=!!o,c&&(l.contextPath=c+e)),s+=n(t[e],{data:l,blockParams:r.blockParams([t[e],e],[c+e,null])})}if(e.data&&e.ids&&(c=r.appendContextPath(e.data.contextPath,e.ids[0])+"."),r.isFunction(t)&&(t=t.call(this)),e.data&&(l=r.createFrame(e.data)),t&&"object"==typeof t)if(r.isArray(t))for(var d=t.length;a<d;a++)a in t&&u(a,a,a===t.length-1);else{var h=void 0;for(var f in t)t.hasOwnProperty(f)&&(void 0!==h&&u(h,a-1),h=f,a++);void 0!==h&&u(h,a-1,!0)}return 0===a&&(s=i(this)),s})},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var r=i(n(6));e.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerHelper("if",function(t,e){return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)e.push(arguments[i]);var r=1;null!=n.hash.level?r=n.hash.level:n.data&&null!=n.data.level&&(r=n.data.level),e[0]=r,t.log.apply(t,e)})},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerHelper("with",function(t,e){i.isFunction(t)&&(t=t.call(this));var n=e.fn;if(i.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&((r=i.createFrame(e.data)).contextPath=i.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:r,blockParams:i.blockParams([t],[r&&r.contextPath])})})},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0,e.registerDefaultDecorators=function(t){r.default(t)};var r=i(n(19))},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerDecorator("inline",function(t,e,n,r){var o=t;return e.partials||(e.partials={},o=function(r,o){var a=n.partials;n.partials=i.extend({},a,e.partials);var s=t(r,o);return n.partials=a,s}),e.partials[r.args[0]]=r.fn,o})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=i.indexOf(r.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=r.lookupLevel(t),"undefined"!=typeof console&&r.lookupLevel(r.level)<=t){var e=r.methodMap[t];console[e]||(e="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[e].apply(console,i)}}};e.default=r,t.exports=e.default},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default},function(t,e,n){"use strict";var i=n(23).default,r=n(3).default,o=n(1).default;e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=l.COMPILER_REVISION;if(e!==n){if(e<n){var i=l.REVISION_CHANGES[n],r=l.REVISION_CHANGES[e];throw new s.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new s.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(t,e){if(!e)throw new s.default("No environment passed to template");if(!t||!t.main)throw new s.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var n={strict:function(t,e){if(!(e in t))throw new s.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:a.escapeExpression,invokePartial:function(n,i,r){r.hash&&(i=a.extend({},i,r.hash),r.ids&&(r.ids[0]=!0));n=e.VM.resolvePartial.call(this,n,i,r);var o=e.VM.invokePartial.call(this,n,i,r);null==o&&e.compile&&(r.partials[r.name]=e.compile(n,t.compilerOptions,e),o=r.partials[r.name](i,r));if(null!=o){if(r.indent){for(var l=o.split("\n"),c=0,u=l.length;c<u&&(l[c]||c+1!==u);c++)l[c]=r.indent+l[c];o=l.join("\n")}return o}throw new s.default("The partial "+r.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,i,r){var o=this.programs[t],a=this.fn(t);return e||r||i||n?o=c(this,t,a,e,n,i,r):o||(o=this.programs[t]=c(this,t,a)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=a.extend({},e,t)),n},nullContext:i({}),noop:e.VM.noop,compilerInfo:t.compiler};function r(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=i.data;r._setup(i),!i.partial&&t.useData&&(o=function(t,e){e&&"root"in e||((e=e?l.createFrame(e):{}).root=t);return e}(e,o));var a=void 0,s=t.useBlockParams?[]:void 0;function c(e){return""+t.main(n,e,n.helpers,n.partials,o,s,a)}return t.useDepths&&(a=i.depths?e!=i.depths[0]?[e].concat(i.depths):i.depths:[e]),(c=d(t.main,c,n,i.depths||[],o,s))(e,i)}return r.isTop=!0,r._setup=function(i){i.partial?(n.helpers=i.helpers,n.partials=i.partials,n.decorators=i.decorators):(n.helpers=n.merge(i.helpers,e.helpers),t.usePartial&&(n.partials=n.merge(i.partials,e.partials)),(t.usePartial||t.useDecorators)&&(n.decorators=n.merge(i.decorators,e.decorators)))},r._child=function(e,i,r,o){if(t.useBlockParams&&!r)throw new s.default("must pass block params");if(t.useDepths&&!o)throw new s.default("must pass parent depths");return c(n,e,t[e],i,0,r,o)},r},e.wrapProgram=c,e.resolvePartial=function(t,e,n){t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return t},e.invokePartial=function(t,e,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var r=void 0;n.fn&&n.fn!==u&&function(){n.data=l.createFrame(n.data);var t=n.fn;r=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=l.createFrame(n.data),n.data["partial-block"]=i,t(e,n)},t.partials&&(n.partials=a.extend({},n.partials,t.partials))}();void 0===t&&r&&(t=r);if(void 0===t)throw new s.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=u;var a=r(n(5)),s=o(n(6)),l=n(4);function c(t,e,n,i,r,o,a){function s(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return!a||e==a[0]||e===t.nullContext&&null===a[0]||(s=[e].concat(a)),n(t,e,t.helpers,t.partials,r.data||i,o&&[r.blockParams].concat(o),s)}return(s=d(n,s,t,a,i,o)).program=e,s.depth=a?a.length:0,s.blockParams=r||0,s}function u(){return""}function d(t,e,n,i,r,o){if(t.decorator){var s={};e=t.decorator(e,s,n,i&&i[0],r,o,i),a.extend(e,s)}return e}},function(t,e,n){t.exports={default:n(24),__esModule:!0}},function(t,e,n){n(25),t.exports=n(30).Object.seal},function(t,e,n){var i=n(26);n(27)("seal",function(t){return function(e){return t&&i(e)?t(e):e}})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(28),r=n(30),o=n(33);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var i=n(29),r=n(30),o=n(31),a=function(t,e,n){var s,l,c,u=t&a.F,d=t&a.G,h=t&a.S,f=t&a.P,p=t&a.B,g=t&a.W,m=d?r:r[e]||(r[e]={}),v=d?i:h?i[e]:(i[e]||{}).prototype;for(s in d&&(n=e),n)(l=!u&&v&&s in v)&&s in m||(c=l?v[s]:n[s],m[s]=d&&"function"!=typeof v[s]?n[s]:p&&l?o(c,i):g&&v[s]==c?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e.prototype=t.prototype,e}(c):f&&"function"==typeof c?o(Function.call,c):c,f&&((m.prototype||(m.prototype={}))[s]=c))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,t.exports=a},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(32);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){(function(n){"use strict";e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,i=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=i),t}},t.exports=e.default}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var n={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!n.helpers.scopedId(t)&&!t.depth}}};e.default=n,t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default,r=n(3).default;e.__esModule=!0,e.parse=function(t,e){if("Program"===t.type)return t;return o.default.yy=c,c.locInfo=function(t){return new c.SourceLocation(e&&e.srcName,t)},new a.default(e).accept(o.default.parse(t))};var o=i(n(37)),a=i(n(38)),s=r(n(40)),l=n(5);e.parser=o.default;var c={};l.extend(c,s)},function(t,e){"use strict";e.__esModule=!0;var n=function(){var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,n,i,r,o,a){var s=o.length-1;switch(r){case 1:return o[s-1];case 2:this.$=i.prepareProgram(o[s]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=o[s];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(o[s]),strip:i.stripFlags(o[s],o[s]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[s],value:o[s],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(o[s-2],o[s-1],o[s],this._$);break;case 12:this.$={path:o[s-3],params:o[s-2],hash:o[s-1]};break;case 13:this.$=i.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!1,this._$);break;case 14:this.$=i.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!0,this._$);break;case 15:this.$={open:o[s-5],path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 16:case 17:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:i.stripFlags(o[s-5],o[s])};break;case 18:this.$={strip:i.stripFlags(o[s-1],o[s-1]),program:o[s]};break;case 19:var l=i.prepareBlock(o[s-2],o[s-1],o[s],o[s],!1,this._$),c=i.prepareProgram([l],o[s-1].loc);c.chained=!0,this.$={strip:o[s-2].strip,program:c,chain:!0};break;case 20:this.$=o[s];break;case 21:this.$={path:o[s-1],strip:i.stripFlags(o[s-2],o[s])};break;case 22:case 23:this.$=i.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],i.stripFlags(o[s-4],o[s]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[s-3],params:o[s-2],hash:o[s-1],indent:"",strip:i.stripFlags(o[s-4],o[s]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(o[s-2],o[s-1],o[s],this._$);break;case 26:this.$={path:o[s-3],params:o[s-2],hash:o[s-1],strip:i.stripFlags(o[s-4],o[s])};break;case 27:case 28:this.$=o[s];break;case 29:this.$={type:"SubExpression",path:o[s-3],params:o[s-2],hash:o[s-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[s],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(o[s-2]),value:o[s],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(o[s-1]);break;case 33:case 34:this.$=o[s];break;case 35:this.$={type:"StringLiteral",value:o[s],original:o[s],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[s]),original:Number(o[s]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[s],original:"true"===o[s],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:case 41:this.$=o[s];break;case 42:this.$=i.preparePath(!0,o[s],this._$);break;case 43:this.$=i.preparePath(!1,o[s],this._$);break;case 44:o[s-2].push({part:i.id(o[s]),original:o[s],separator:o[s-1]}),this.$=o[s-2];break;case 45:this.$=[{part:i.id(o[s]),original:o[s]}];break;case 46:this.$=[];break;case 47:o[s-1].push(o[s]);break;case 48:this.$=[o[s]];break;case 49:o[s-1].push(o[s]);break;case 50:this.$=[];break;case 51:o[s-1].push(o[s]);break;case 58:this.$=[];break;case 59:o[s-1].push(o[s]);break;case 64:this.$=[];break;case 65:o[s-1].push(o[s]);break;case 70:this.$=[];break;case 71:o[s-1].push(o[s]);break;case 78:this.$=[];break;case 79:o[s-1].push(o[s]);break;case 82:this.$=[];break;case 83:o[s-1].push(o[s]);break;case 86:this.$=[];break;case 87:o[s-1].push(o[s]);break;case 90:this.$=[];break;case 91:o[s-1].push(o[s]);break;case 94:this.$=[];break;case 95:o[s-1].push(o[s]);break;case 98:this.$=[o[s]];break;case 99:o[s-1].push(o[s]);break;case 100:this.$=[o[s]];break;case 101:o[s-1].push(o[s])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){var e=this,n=[0],i=[null],r=[],o=this.table,a="",s=0,l=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;r.push(u);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,f,p,g,m,v,y,b,w,E,C={};;){if(p=n[n.length-1],this.defaultActions[p]?g=this.defaultActions[p]:(null==h&&(E=void 0,"number"!=typeof(E=e.lexer.lex()||1)&&(E=e.symbols_[E]||E),h=E),g=o[p]&&o[p][h]),void 0===g||!g.length||!g[0]){var T="";if(!c){for(v in w=[],o[p])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");T=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[h]||h)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(T,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:u,expected:w})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+h);switch(g[0]){case 1:n.push(h),i.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(g[1]),h=null,f?(h=f,f=null):(l=this.lexer.yyleng,a=this.lexer.yytext,s=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[g[1]][1],C.$=i[i.length-y],C._$={first_line:r[r.length-(y||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(y||1)].first_column,last_column:r[r.length-1].last_column},d&&(C._$.range=[r[r.length-(y||1)].range[0],r[r.length-1].range[1]]),void 0!==(m=this.performAction.call(C,a,l,s,this.yy,g[1],i,r)))return m;y&&(n=n.slice(0,-1*y*2),i=i.slice(0,-1*y),r=r.slice(0,-1*y)),n.push(this.productions_[g[1]][0]),i.push(C.$),r.push(C._$),b=o[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}},e=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e,n,i,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(!(n=this._input.match(this.rules[o[a]]))||e&&!(n[0].length>e[0].length)||(e=n,i=a,this.options.flex));a++);return e?((r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,e,n,i){function r(t,n){return e.yytext=e.yytext.substr(t,e.yyleng-n)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(e.yytext=e.yytext.substr(5,e.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=r(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=r(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return t}();function n(){this.yy={}}return t.lexer=e,n.prototype=t,t.Parser=n,new n}();e.default=n,t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var r=i(n(39));function o(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function a(t,e,n){void 0===e&&(e=t.length);var i=t[e-1],r=t[e-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function s(t,e,n){void 0===e&&(e=-1);var i=t[e+1],r=t[e+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function l(t,e,n){var i=t[null==e?0:e+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function c(t,e,n){var i=t[null==e?t.length-1:e-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}o.prototype=new r.default,o.prototype.Program=function(t){var e=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=t.body,r=0,o=i.length;r<o;r++){var u=i[r],d=this.accept(u);if(d){var h=a(i,r,n),f=s(i,r,n),p=d.openStandalone&&h,g=d.closeStandalone&&f,m=d.inlineStandalone&&h&&f;d.close&&l(i,r,!0),d.open&&c(i,r,!0),e&&m&&(l(i,r),c(i,r)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(i[r-1].original)[1])),e&&p&&(l((u.program||u.inverse).body),c(i,r)),e&&g&&(l(i,r),c((u.inverse||u.program).body))}}return t},o.prototype.BlockStatement=o.prototype.DecoratorBlock=o.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,n=t.program&&t.inverse,i=n,r=n;if(n&&n.chained)for(i=n.body[0].program;r.chained;)r=r.body[r.body.length-1].program;var o={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:s(e.body),closeStandalone:a((i||e).body)};if(t.openStrip.close&&l(e.body,null,!0),n){var u=t.inverseStrip;u.open&&c(e.body,null,!0),u.close&&l(i.body,null,!0),t.closeStrip.open&&c(r.body,null,!0),!this.options.ignoreStandalone&&a(e.body)&&s(i.body)&&(c(e.body),l(i.body))}else t.closeStrip.open&&c(e.body,null,!0);return o},o.prototype.Decorator=o.prototype.MustacheStatement=function(t){return t.strip},o.prototype.PartialStatement=o.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e.default=o,t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var r=i(n(6));function o(){this.parents=[]}function a(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function s(t){a.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function l(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}o.prototype={constructor:o,mutating:!1,acceptKey:function(t,e){var n=this.accept(t[e]);if(this.mutating){if(n&&!o.prototype[n.type])throw new r.default('Unexpected node type "'+n.type+'" found when accepting '+e+" on "+t.type);t[e]=n}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new r.default(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,n=t.length;e<n;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,n--)},accept:function(t){if(t){if(!this[t.type])throw new r.default("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:a,Decorator:a,BlockStatement:s,DecoratorBlock:s,PartialStatement:l,PartialBlockStatement:function(t){l.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:a,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e.default=o,t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0,e.SourceLocation=function(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}},e.id=function(t){return/^\[.*\]$/.test(t)?t.substr(1,t.length-2):t},e.stripFlags=function(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}},e.stripComment=function(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},e.preparePath=function(t,e,n){n=this.locInfo(n);for(var i=t?"@":"",o=[],a=0,s=0,l=e.length;s<l;s++){var c=e[s].part,u=e[s].original!==c;if(i+=(e[s].separator||"")+c,u||".."!==c&&"."!==c&&"this"!==c)o.push(c);else{if(o.length>0)throw new r.default("Invalid path: "+i,{loc:n});".."===c&&a++}}return{type:"PathExpression",data:t,depth:a,parts:o,original:i,loc:n}},e.prepareMustache=function(t,e,n,i,r,o){var a=i.charAt(3)||i.charAt(2),s="{"!==a&&"&"!==a;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:t,params:e,hash:n,escaped:s,strip:r,loc:this.locInfo(o)}},e.prepareRawBlock=function(t,e,n,i){o(t,n),i=this.locInfo(i);var r={type:"Program",body:e,strip:{},loc:i};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:r,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}},e.prepareBlock=function(t,e,n,i,a,s){i&&i.path&&o(t,i);var l=/\*/.test(t.open);e.blockParams=t.blockParams;var c=void 0,u=void 0;if(n){if(l)throw new r.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=i.strip),u=n.strip,c=n.program}a&&(a=c,c=e,e=a);return{type:l?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:c,openStrip:t.strip,inverseStrip:u,closeStrip:i&&i.strip,loc:this.locInfo(s)}},e.prepareProgram=function(t,e){if(!e&&t.length){var n=t[0].loc,i=t[t.length-1].loc;n&&i&&(e={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:t,strip:{},loc:e}},e.preparePartialBlock=function(t,e,n,i){return o(t,n),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:n&&n.strip,loc:this.locInfo(i)}};var r=i(n(6));function o(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var n={loc:t.path.loc};throw new r.default(t.path.original+" doesn't match "+e,n)}}},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0,e.Compiler=l,e.precompile=function(t,e,n){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new r.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0);e.compat&&(e.useDepths=!0);var i=n.parse(t,e),o=(new n.Compiler).compile(i,e);return(new n.JavaScriptCompiler).compile(o,e)},e.compile=function(t,e,n){void 0===e&&(e={});if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new r.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in(e=o.extend({},e))||(e.data=!0);e.compat&&(e.useDepths=!0);var i=void 0;function a(){var i=n.parse(t,e),r=(new n.Compiler).compile(i,e),o=(new n.JavaScriptCompiler).compile(r,e,void 0,!0);return n.template(o)}function s(t,e){return i||(i=a()),i.call(this,t,e)}return s._setup=function(t){return i||(i=a()),i._setup(t)},s._child=function(t,e,n,r){return i||(i=a()),i._child(t,e,n,r)},s};var r=i(n(6)),o=n(5),a=i(n(35)),s=[].slice;function l(){}function c(t,e){if(t===e)return!0;if(o.isArray(t)&&o.isArray(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!c(t[n],e[n]))return!1;return!0}}function u(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}l.prototype={compiler:l,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var n=0;n<e;n++){var i=this.opcodes[n],r=t.opcodes[n];if(i.opcode!==r.opcode||!c(i.args,r.args))return!1}e=this.children.length;for(n=0;n<e;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var n=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.accept(t)},compileProgram:function(t){var e=(new this.compiler).compile(t,this.options),n=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[n]=e,this.useDepths=this.useDepths||e.useDepths,n},accept:function(t){if(!this[t.type])throw new r.default("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,n=e.length,i=0;i<n;i++)this.accept(e[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){u(t);var e=t.program,n=t.inverse;e=e&&this.compileProgram(e),n=n&&this.compileProgram(n);var i=this.classifySexpr(t);"helper"===i?this.helperSexpr(t,e,n):"simple"===i?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,n),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),n=this.setupFullMustacheParams(t,e,void 0),i=t.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var n=t.params;if(n.length>1)throw new r.default("Unsupported number of partial arguments: "+n.length,t);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=t.name.original,o="SubExpression"===t.name.type;o&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var a=t.indent||"";this.options.preventIndent&&a&&(this.opcode("appendContent",a),a=""),this.opcode("invokePartial",o,i,a),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){u(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,n){var i=t.path,r=i.parts[0],o=null!=e||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,n){var i=this.setupFullMustacheParams(t,e,n),o=t.path,s=o.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",i.length,s);else{if(this.options.knownHelpersOnly)throw new r.default("You specified knownHelpersOnly, but used the unknown helper "+s,t);o.strict=!0,o.falsy=!0,this.accept(o),this.opcode("invokeHelper",i.length,o.original,a.default.helpers.simpleId(o))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],n=a.default.helpers.scopedId(t),i=!t.depth&&!n&&this.blockParamIndex(e);i?this.opcode("lookupBlockParam",i,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,n):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,n=0,i=e.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(e[n].value);for(;n--;)this.opcode("assignToHash",e[n].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:s.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=a.default.helpers.simpleId(t.path),n=e&&!!this.blockParamIndex(t.path.parts[0]),i=!n&&a.default.helpers.helperExpression(t),r=!n&&(i||e);if(r&&!i){var o=t.path.parts[0],s=this.options;s.knownHelpers[o]?i=!0:s.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function(t){for(var e=0,n=t.length;e<n;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var n=void 0;if(!t.parts||a.default.helpers.scopedId(t)||t.depth||(n=this.blockParamIndex(t.parts[0])),n){var i=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else(e=t.original||e).replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,n,i){var r=t.params;return this.pushParams(r),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.accept(t.hash):this.opcode("emptyHash",i),r},blockParamIndex:function(t){for(var e=0,n=this.options.blockParams.length;e<n;e++){var i=this.options.blockParams[e],r=i&&o.indexOf(i,t);if(i&&r>=0)return[e,r]}}}},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var r=n(4),o=i(n(6)),a=n(5),s=i(n(43));function l(t){this.value=t}function c(){}c.prototype={nameLookup:function(t,e){return"constructor"===e?["(",t,".propertyIsEnumerable('constructor') ? ",t,".constructor : undefined",")"]:c.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"[",JSON.stringify(e),"]"]},depthedLookup:function(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=r.COMPILER_REVISION;return[t,r.REVISION_CHANGES[t]]},appendToBuffer:function(t,e,n){return a.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:n?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,n,i){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var r=t.opcodes,a=void 0,s=void 0,l=void 0,c=void 0;for(l=0,c=r.length;l<c;l++)a=r[l],this.source.currentLocation=a.loc,s=s||a.loc,this[a.opcode].apply(this,a.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new o.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(i);if(this.isChild)return u;var d={compiler:this.compilerInfo(),main:u};this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);var h=this.context,f=h.programs,p=h.decorators;for(l=0,c=f.length;l<c;l++)f[l]&&(d[l]=f[l],p[l]&&(d[l+"_d"]=p[l],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),i?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,column:0}},d=this.objectLiteral(d),e.srcName?(d=d.toStringWithSourceMap({file:e.destName})).map=d.map&&d.map.toString():d=d.toString()),d},preamble:function(){this.lastContext=0,this.source=new s.default(this.options.srcName),this.decorators=new s.default(this.options.srcName)},createFunctionContext:function(t){var e="",n=this.stackVars.concat(this.registers.list);n.length>0&&(e+=", "+n.join(", "));var i=0;for(var r in this.aliases){var o=this.aliases[r];this.aliases.hasOwnProperty(r)&&o.children&&o.referenceCount>1&&(e+=", alias"+ ++i+"="+r,o.children[0]="alias"+i)}var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var s=this.mergeSource(e);return t?(a.push(s),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",s,"}"])},mergeSource:function(t){var e=this.environment.isSimple,n=!this.forceBuffer,i=void 0,r=void 0,o=void 0,a=void 0;return this.source.each(function(t){t.appendToBuffer?(o?t.prepend("  + "):o=t,a=t):(o&&(r?o.prepend("buffer += "):i=!0,a.add(";"),o=a=void 0),r=!0,e||(n=!1))}),n?o?(o.prepend("return "),a.add(";")):r||this.source.push('return "";'):(t+=", buffer = "+(i?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(t,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(e,"call",n))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var n=this.topStack();e.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,n,i){var r=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[r++])),this.resolvePath("context",t,r,e,n)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,n){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,n)},resolvePath:function(t,e,n,i,r){var o=this;if(this.options.strict||this.options.assumeObjects)this.push(function(t,e,n,i){var r=e.popStack(),o=0,a=n.length;t&&a--;for(;o<a;o++)r=e.nameLookup(r,n[o],i);return t?[e.aliasable("container.strict"),"(",r,", ",e.quotedString(n[o]),")"]:r}(this.options.strict&&r,this,e,t));else for(var a=e.length;n<a;n++)this.replaceStack(function(r){var a=o.nameLookup(r,e[n],t);return i?[" && ",a]:[" != null ? ",a," : ",r]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var n=this.nameLookup("decorators",e,"decorator"),i=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(t,e,n){var i=this.popStack(),r=this.setupHelper(t,e),o=n?[r.name," || "]:"",a=["("].concat(o,i);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",r.callParams))},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,t,e),r=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",t,"helper")," || ",n,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",r,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(t,e,n){var i=[],r=this.setupParams(e,1,i);t&&(e=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",t?i.unshift(e):i.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(t){var e=this.popStack(),n=void 0,i=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[t]=n),i&&(o.types[t]=i),r&&(o.ids[t]=r),o.values[t]=e},pushId:function(t,e,n){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:c,compileChildren:function(t,e){for(var n=t.children,i=void 0,r=void 0,o=0,a=n.length;o<a;o++){i=n[o],r=new this.compiler;var s=this.matchExistingProgram(i);if(null==s){this.context.programs.push("");var l=this.context.programs.length;i.index=l,i.name="program"+l,this.context.programs[l]=r.compile(i,e,this.context,!this.precompile),this.context.decorators[l]=r.decorators,this.context.environments[l]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=s.index,i.name="program"+s.index,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;e<n;e++){var i=this.context.environments[e];if(i&&i.equals(t))return i}},programExpression:function(t){var e=this.environment.children[t],n=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof l||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new l(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],n=void 0,i=void 0,r=void 0;if(!this.isInline())throw new o.default("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof l)e=["(",n=[a.value]],r=!0;else{i=!0;var s=this.incrStack();e=["((",this.push(s)," = ",a,")"],n=this.topStack()}var c=t.call(this,n);r||this.popStack(),i&&this.stackSlot--,this.push(e.concat(c,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,n=t.length;e<n;e++){var i=t[e];if(i instanceof l)this.compileStack.push(i);else{var r=this.incrStack();this.pushSource([r," = ",i,";"]),this.compileStack.push(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof l)return n.value;if(!e){if(!this.stackSlot)throw new o.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof l?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):((e=this.aliases[t]=this.source.wrap(t)).aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,n){var i=[];return{params:i,paramsInit:this.setupHelperArgs(e,t,i,n),name:this.nameLookup("helpers",e,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(i)}},setupParams:function(t,e,n){var i={},r=[],o=[],a=[],s=!n,l=void 0;s&&(n=[]),i.name=this.quotedString(t),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(i.fn=u||"container.noop",i.inverse=c||"container.noop");for(var d=e;d--;)l=this.popStack(),n[d]=l,this.trackIds&&(a[d]=this.popStack()),this.stringParams&&(o[d]=this.popStack(),r[d]=this.popStack());return s&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(a)),this.stringParams&&(i.types=this.source.generateArray(o),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(t,e,n,i){var r=this.setupParams(t,e,n);return r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):n?(n.push(r),""):r}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=c.RESERVED_WORDS={},n=0,i=t.length;n<i;n++)e[t[n]]=!0}(),c.isValidJavaScriptVariableName=function(t){return!c.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e.default=c,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5),r=void 0;try{}catch(t){}function o(t,e,n){if(i.isArray(t)){for(var r=[],o=0,a=t.length;o<a;o++)r.push(e.wrap(t[o],n));return r}return"boolean"==typeof t||"number"==typeof t?t+"":t}function a(t){this.srcFile=t,this.source=[]}r||((r=function(t,e,n,i){this.src="",i&&this.add(i)}).prototype={add:function(t){i.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){i.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),a.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,n=this.source.length;e<n;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new r(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof r?t:(t=o(t,this,e),new r(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,n){return n=this.generateList(n),this.wrap([t,e?"."+e+"(":"(",n,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var i=o(t[n],this);"undefined"!==i&&e.push([this.quotedString(n),":",i])}var r=this.generateList(e);return r.prepend("{"),r.add("}"),r},generateList:function(t){for(var e=this.empty(),n=0,i=t.length;n<i;n++)n&&e.add(","),e.add(o(t[n],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e.default=a,t.exports=e.default}])}),function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n(1),n(6),n(7);var i=a(n(2)),r=a(n(3)),o=a(n(4));function a(t){return t&&t.__esModule?t:{default:t}}r.default===o.default&&n(8),window.Inputmask=i.default},function(t,e,n){"use strict";var i,r,o;"function"==typeof Symbol&&Symbol.iterator;r=[n(2)],void 0===(o="function"==typeof(i=function(t){return t.extendDefinitions({A:{validator:"[A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}}),t.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)//.*",autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(t,e,n,i,r){return n-1>-1&&"."!==e.buffer[n-1]?(t=e.buffer[n-1]+t,t=n-2>-1&&"."!==e.buffer[n-2]?e.buffer[n-2]+t:"0"+t):t="00"+t,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(t)}}},onUnMask:function(t,e,n){return t},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,casing:"lower",onBeforePaste:function(t,e){return(t=t.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9ï¼-ï¼A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(t,e,n){return t},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),t})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=[n(3),n(5)],void 0===(o="function"==typeof(i=function(t,e,n){var i=e.document,r=navigator.userAgent,o=r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0,s=f("touchstart"),l=/iemobile/i.test(r),c=/iphone/i.test(r)&&!l;function u(e,i,r){if(!(this instanceof u))return new u(e,i,r);this.el=n,this.events={},this.maskset=n,this.refreshValue=!1,!0!==r&&(t.isPlainObject(e)?i=e:(i=i||{},e&&(i.alias=e)),this.opts=t.extend(!0,{},this.defaults,i),this.noMasksCache=i&&i.definitions!==n,this.userOptions=i||{},this.isRTL=this.opts.numericInput,d(this.opts.alias,i,this.opts))}function d(e,i,r){var o=u.prototype.aliases[e];return o?(o.alias&&d(o.alias,n,r),t.extend(!0,r,o),t.extend(!0,r,i),!0):(null===r.mask&&(r.mask=e),!1)}function h(e,i){function r(e,r,o){var a=!1;if(null!==e&&""!==e||((a=null!==o.regex)?e=(e=o.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(a=!0,e=".*")),1===e.length&&!1===o.greedy&&0!==o.repeat&&(o.placeholder=""),o.repeat>0||"*"===o.repeat||"+"===o.repeat){var s="*"===o.repeat?0:"+"===o.repeat?1:o.repeat;e=o.groupmarker[0]+e+o.groupmarker[1]+o.quantifiermarker[0]+s+","+o.repeat+o.quantifiermarker[1]}var l,c=a?"regex_"+o.regex:o.numericInput?e.split("").reverse().join(""):e;return u.prototype.masksCache[c]===n||!0===i?(l={mask:e,maskToken:u.prototype.analyseMask(e,a,o),validPositions:{},_buffer:n,buffer:n,tests:{},excludes:{},metadata:r,maskLength:n,jitOffset:{}},!0!==i&&(u.prototype.masksCache[c]=l,l=t.extend(!0,{},u.prototype.masksCache[c]))):l=t.extend(!0,{},u.prototype.masksCache[c]),l}if(t.isFunction(e.mask)&&(e.mask=e.mask(e)),t.isArray(e.mask)){if(e.mask.length>1){if(null===e.keepStatic){e.keepStatic="auto";for(var o=0;o<e.mask.length;o++)if(e.mask[o].charAt(0)!==e.mask[0].charAt(0)){e.keepStatic=!0;break}}var a=e.groupmarker[0];return t.each(e.isRTL?e.mask.reverse():e.mask,function(i,r){a.length>1&&(a+=e.groupmarker[1]+e.alternatormarker+e.groupmarker[0]),r.mask===n||t.isFunction(r.mask)?a+=r:a+=r.mask}),r(a+=e.groupmarker[1],e.mask,e)}e.mask=e.mask.pop()}return e.mask&&e.mask.mask!==n&&!t.isFunction(e.mask.mask)?r(e.mask.mask,e.mask,e):r(e.mask,e.mask,e)}function f(t){var e=i.createElement("input"),n="on"+t,r=n in e;return r||(e.setAttribute(n,"return;"),r="function"==typeof e[n]),e=null,r}function p(r,d,h){d=d||this.maskset,h=h||this.opts;var g,m,v,y,b,w=this,E=this.el,C=this.isRTL,T=!1,_=!1,O=!1,k=!1,D=function(t,e,i,r,o){var a=h.greedy;o&&(h.greedy=!1),e=e||0;var s,l,c,u=[],d=0;S();do{if(!0===t&&x().validPositions[d])c=o&&!0===x().validPositions[d].match.optionality&&x().validPositions[d+1]===n&&(!0===x().validPositions[d].generatedInput||x().validPositions[d].input==h.skipOptionalPartCharacter&&d>0)?N(d,K(d,s,d-1)):x().validPositions[d],l=c.match,s=c.locator.slice(),u.push(!0===i?c.input:!1===i?l.nativeDef:Z(d,l));else{c=P(d,s,d-1),l=c.match,s=c.locator.slice();var f=!0!==r&&(!1!==h.jitMasking?h.jitMasking:l.jit);(!1===f||f===n||"number"==typeof f&&isFinite(f)&&f>d)&&u.push(!1===i?l.nativeDef:Z(d,l))}"auto"===h.keepStatic&&l.newBlockMarker&&null!==l.fn&&(h.keepStatic=d-1),d++}while((v===n||d<v)&&(null!==l.fn||""!==l.def)||e>d);return""===u[u.length-1]&&u.pop(),!1===i&&x().maskLength!==n||(x().maskLength=d-1),h.greedy=a,u};function x(){return d}function I(t){var e=x();e.buffer=n,!0!==t&&(e.validPositions={},e.p=0)}function S(t,e,i){var r=-1,o=-1,a=i||x().validPositions;for(var s in t===n&&(t=-1),a){var l=parseInt(s);a[l]&&(e||!0!==a[l].generatedInput)&&(l<=t&&(r=l),l>=t&&(o=l))}return-1===r||r==t?o:-1==o?r:t-r<o-t?r:o}function R(t){var e=t.locator[t.alternation];return"string"==typeof e&&e.length>0&&(e=e.split(",")[0]),e!==n?e.toString():""}function A(t,e){var i=(t.alternation!=n?t.mloc[R(t)]:t.locator).join("");if(""!==i)for(;i.length<e;)i+="0";return i}function N(t,e){for(var i,r,o,a=M(t=t>0?t-1:0),s=A(a),l=0;l<e.length;l++){var c=e[l];i=A(c,s.length);var u=Math.abs(i-s);(r===n||""!==i&&u<r||o&&!h.greedy&&o.match.optionality&&"master"===o.match.newBlockMarker&&(!c.match.optionality||!c.match.newBlockMarker)||o&&o.match.optionalQuantifier&&!c.match.optionalQuantifier)&&(r=u,o=c)}return o}function P(t,e,n){return x().validPositions[t]||N(t,K(t,e?e.slice():e,n))}function M(t,e){return x().validPositions[t]?x().validPositions[t]:(e||K(t))[0]}function L(t,e){for(var n=!1,i=K(t),r=0;r<i.length;r++)if(i[r].match&&i[r].match.def===e){n=!0;break}return n}function K(e,i,r){var o,a=x().maskToken,s=i?r:0,l=i?i.slice():[0],c=[],u=!1,d=i?i.join(""):"";function f(i,r,a,l){function p(a,l,g){function m(e,n){var i=0===t.inArray(e,n.matches);return i||t.each(n.matches,function(t,r){if(!0===r.isQuantifier?i=m(e,n.matches[t-1]):r.hasOwnProperty("matches")&&(i=m(e,r)),i)return!1}),i}function v(e,i,r){var o,a;if((x().tests[e]||x().validPositions[e])&&t.each(x().tests[e]||[x().validPositions[e]],function(t,e){if(e.mloc[i])return o=e,!1;var s=r!==n?r:e.alternation,l=e.locator[s]!==n?e.locator[s].toString().indexOf(i):-1;(a===n||l<a)&&-1!==l&&(o=e,a=l)}),o){var s=o.locator[o.alternation],l=o.mloc[i]||o.mloc[s]||o.locator;return l.slice((r!==n?r:o.alternation)+1)}return r!==n?v(e,i):n}function y(t,e){function n(t){for(var e,n,i=[],r=0,o=t.length;r<o;r++)if("-"===t.charAt(r))for(n=t.charCodeAt(r+1);++e<n;)i.push(String.fromCharCode(e));else e=t.charCodeAt(r),i.push(t.charAt(r));return i.join("")}return h.regex&&null!==t.match.fn&&null!==e.match.fn?-1!==n(e.match.def.replace(/[\[\]]/g,"")).indexOf(n(t.match.def.replace(/[\[\]]/g,""))):t.match.def===e.match.nativeDef}function b(t,e){if(e===n||t.alternation===e.alternation&&-1===t.locator[t.alternation].toString().indexOf(e.locator[e.alternation])){t.mloc=t.mloc||{};var i=t.locator[t.alternation];if(i!==n){if("string"==typeof i&&(i=i.split(",")[0]),t.mloc[i]===n&&(t.mloc[i]=t.locator.slice()),e!==n){for(var r in e.mloc)"string"==typeof r&&(r=r.split(",")[0]),t.mloc[r]===n&&(t.mloc[r]=e.mloc[r]);t.locator[t.alternation]=Object.keys(t.mloc).join(",")}return!0}t.alternation=n}return!1}if(s>500&&g!==n)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+x().mask;if(s===e&&a.matches===n)return c.push({match:a,locator:l.reverse(),cd:d,mloc:{}}),!0;if(a.matches!==n){if(a.isGroup&&g!==a){if(a=p(i.matches[t.inArray(a,i.matches)+1],l,g))return!0}else if(a.isOptional){var w=a;if(a=f(a,r,l,g)){if(t.each(c,function(t,e){e.match.optionality=!0}),o=c[c.length-1].match,g!==n||!m(o,w))return!0;u=!0,s=e}}else if(a.isAlternator){var E,C=a,T=[],_=c.slice(),O=l.length,k=r.length>0?r.shift():-1;if(-1===k||"string"==typeof k){var D,I=s,S=r.slice(),R=[];if("string"==typeof k)R=k.split(",");else for(D=0;D<C.matches.length;D++)R.push(D.toString());if(x().excludes[e]){for(var A=R.slice(),N=0,P=x().excludes[e].length;N<P;N++)R.splice(R.indexOf(x().excludes[e][N].toString()),1);0===R.length&&(x().excludes[e]=n,R=A)}(!0===h.keepStatic||isFinite(parseInt(h.keepStatic))&&I>=h.keepStatic)&&(R=R.slice(0,1));for(var M=!1,L=0;L<R.length;L++){D=parseInt(R[L]),c=[],r="string"==typeof k&&v(s,D,O)||S.slice(),C.matches[D]&&p(C.matches[D],[D].concat(l),g)?a=!0:0===L&&(M=!0),E=c.slice(),s=I,c=[];for(var K=0;K<E.length;K++){var j=E[K],F=!1;j.match.jit=j.match.jit||M,j.alternation=j.alternation||O,b(j);for(var B=0;B<T.length;B++){var $=T[B];if("string"!=typeof k||j.alternation!==n&&-1!==t.inArray(j.locator[j.alternation].toString(),R)){if(j.match.nativeDef===$.match.nativeDef){F=!0,b($,j);break}if(y(j,$)){b(j,$)&&(F=!0,T.splice(T.indexOf($),0,j));break}if(y($,j)){b($,j);break}if(V=j,W=$,void 0,!(!((V=j).locator.slice(V.alternation).join("")==W.locator.slice(W.alternation).join(""))||null!==V.match.fn||null===W.match.fn)&&W.match.fn.test(V.match.def,x(),e,!1,h,!1)){b(j,$)&&(F=!0,T.splice(T.indexOf($),0,j));break}}}F||T.push(j)}}c=_.concat(T),s=e,u=c.length>0,a=T.length>0,r=S.slice()}else a=p(C.matches[k]||i.matches[k],[k].concat(l),g);if(a)return!0}else if(a.isQuantifier&&g!==i.matches[t.inArray(a,i.matches)-1])for(var H=a,U=r.length>0?r.shift():0;U<(isNaN(H.quantifier.max)?U+1:H.quantifier.max)&&s<=e;U++){var z=i.matches[t.inArray(H,i.matches)-1];if(a=p(z,[U].concat(l),z)){if((o=c[c.length-1].match).optionalQuantifier=U>=H.quantifier.min,o.jit=(U||1)*z.matches.indexOf(o)>=H.quantifier.jit,o.optionalQuantifier&&m(o,z)){u=!0,s=e;break}return o.jit&&(x().jitOffset[e]=z.matches.indexOf(o)),!0}}else if(a=f(a,r,l,g))return!0}else s++;var V,W}for(var g=r.length>0?r.shift():0;g<i.matches.length;g++)if(!0!==i.matches[g].isQuantifier){var m=p(i.matches[g],[g].concat(a),l);if(m&&s===e)return m;if(s>e)break}}if(e>-1){if(i===n){for(var p,g=e-1;(p=x().validPositions[g]||x().tests[g])===n&&g>-1;)g--;p!==n&&g>-1&&(l=function(e,i){var r=[];return t.isArray(i)||(i=[i]),i.length>0&&(i[0].alternation===n?0===(r=N(e,i.slice()).locator.slice()).length&&(r=i[0].locator.slice()):t.each(i,function(t,e){if(""!==e.def)if(0===r.length)r=e.locator.slice();else for(var n=0;n<r.length;n++)e.locator[n]&&-1===r[n].toString().indexOf(e.locator[n])&&(r[n]+=","+e.locator[n])})),r}(g,p),d=l.join(""),s=g)}if(x().tests[e]&&x().tests[e][0].cd===d)return x().tests[e];for(var m=l.shift();m<a.length;m++){var v=f(a[m],l,[m]);if(v&&s===e||s>e)break}}return(0===c.length||u)&&c.push({match:{fn:null,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:d}),i!==n&&x().tests[e]?t.extend(!0,[],c):(x().tests[e]=t.extend(!0,[],c),x().tests[e])}function j(){return x()._buffer===n&&(x()._buffer=D(!1,1),x().buffer===n&&(x().buffer=x()._buffer.slice())),x()._buffer}function F(t){return x().buffer!==n&&!0!==t||(x().buffer=D(!0,S(),!0),x()._buffer===n&&(x()._buffer=x().buffer.slice())),x().buffer}function B(t,e,i){var r,o;if(!0===t)I(),t=0,e=i.length;else for(r=t;r<e;r++)delete x().validPositions[r];for(o=t,r=t;r<e;r++)if(I(!0),i[r]!==h.skipOptionalPartCharacter){var a=z(o,i[r],!0,!0);!1!==a&&(I(!0),o=a.caret!==n?a.caret:a.pos+1)}}function $(e,n,i){switch(h.casing||n.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var r=x().validPositions[i-1];e=0===i||r&&r.input===String.fromCharCode(u.keyCode.SPACE)?e.toUpperCase():e.toLowerCase();break;default:if(t.isFunction(h.casing)){var o=Array.prototype.slice.call(arguments);o.push(x().validPositions),e=h.casing.apply(this,o)}}return e}function H(e,i,r){for(var o,a=h.greedy?i:i.slice(0,1),s=!1,l=r!==n?r.split(","):[],c=0;c<l.length;c++)-1!==(o=e.indexOf(l[c]))&&e.splice(o,1);for(var u=0;u<e.length;u++)if(-1!==t.inArray(e[u],a)){s=!0;break}return s}function U(e,i,r,o,a){var s,l,c,u,d,h,f,p=t.extend(!0,{},x().validPositions),g=!1,m=a!==n?a:S();if(-1===m&&a===n)u=M(s=0),l=u.alternation;else for(;m>=0;m--)if((c=x().validPositions[m])&&c.alternation!==n){if(u&&u.locator[c.alternation]!==c.locator[c.alternation])break;s=m,l=x().validPositions[s].alternation,u=c}if(l!==n){f=parseInt(s),x().excludes[f]=x().excludes[f]||[],!0!==e&&x().excludes[f].push(R(u));var v=[],y=0;for(d=f;d<S(n,!0)+1;d++)(h=x().validPositions[d])&&!0!==h.generatedInput?v.push(h.input):d<e&&y++,delete x().validPositions[d];for(;x().excludes[f]&&x().excludes[f].length<10;){var b=-1*y,w=v.slice();for(x().tests[f]=n,I(!0),g=!0;w.length>0;){var E=w.shift();if(!(g=z(S(n,!0)+1,E,!1,o,!0)))break}if(g&&i!==n){var C=S(e)+1;for(d=f;d<S()+1;d++)((h=x().validPositions[d])===n||null==h.match.fn)&&d<e+b&&b++;g=z((e+=b)>C?C:e,i,r,o,!0)}if(g)break;if(I(),u=M(f),x().validPositions=t.extend(!0,{},p),!x().excludes[f]){g=U(e,i,r,o,f-1);break}var T=R(u);if(-1!==x().excludes[f].indexOf(T)){g=U(e,i,r,o,f-1);break}for(x().excludes[f].push(T),d=f;d<S(n,!0)+1;d++)delete x().validPositions[d]}}return x().excludes[f]=n,g}function z(e,i,r,o,a,s){function l(t){return C?t.begin-t.end>1||t.begin-t.end==1:t.end-t.begin>1||t.end-t.begin==1}r=!0===r;var c=e;function u(i,r,a){var s=!1;return t.each(K(i),function(c,u){var d=u.match;if(F(!0),!1!==(s=null!=d.fn?d.fn.test(r,x(),i,a,h,l(e)):(r===d.def||r===h.skipOptionalPartCharacter)&&""!==d.def&&{c:Z(i,d,!0)||d.def,pos:i})){var f=s.c!==n?s.c:r,p=i;return f=f===h.skipOptionalPartCharacter&&null===d.fn?Z(i,d,!0)||d.def:f,s.remove!==n&&(t.isArray(s.remove)||(s.remove=[s.remove]),t.each(s.remove.sort(function(t,e){return e-t}),function(t,e){W({begin:e,end:e+1})})),s.insert!==n&&(t.isArray(s.insert)||(s.insert=[s.insert]),t.each(s.insert.sort(function(t,e){return t-e}),function(t,e){z(e.pos,e.c,!0,o)})),!0!==s&&s.pos!==n&&s.pos!==i&&(p=s.pos),(!0===s||s.pos!==n||s.c!==n)&&(W(e,t.extend({},u,{input:$(f,d,p)}),o,p)||(s=!1),!1)}}),s}e.begin!==n&&(c=C?e.end:e.begin);var d=!0,f=t.extend(!0,{},x().validPositions);if(t.isFunction(h.preValidation)&&!r&&!0!==o&&!0!==s&&(d=h.preValidation(F(),c,i,l(e),h,x())),!0===d){if(V(n,c,!0),(v===n||c<v)&&(d=u(c,i,r),(!r||!0===o)&&!1===d&&!0!==s)){var p=x().validPositions[c];if(!p||null!==p.match.fn||p.match.def!==i&&i!==h.skipOptionalPartCharacter){if((h.insertMode||x().validPositions[Y(c)]===n)&&(!q(c,!0)||x().jitOffset[c]))if(x().jitOffset[c]&&x().validPositions[Y(c)]===n)!1!==(d=z(c+x().jitOffset[c],i,r))&&(d.caret=c);else for(var g=c+1,m=Y(c);g<=m;g++)if(!1!==(d=u(g,i,r))){d=V(c,d.pos!==n?d.pos:g)||d,c=g;break}}else d={caret:Y(c)}}!1!==d||!1===h.keepStatic||null!=h.regex&&!st(F())||r||!0===a||(d=U(c,i,r,o)),!0===d&&(d={pos:c})}if(t.isFunction(h.postValidation)&&!1!==d&&!r&&!0!==o&&!0!==s){var y=h.postValidation(F(!0),e.begin!==n?C?e.end:e.begin:e,d,h);if(y!==n){if(y.refreshFromBuffer&&y.buffer){var b=y.refreshFromBuffer;B(!0===b?b:b.start,b.end,y.buffer)}d=!0===y?d:y}}return d&&d.pos===n&&(d.pos=c),!1!==d&&!0!==s||(I(!0),x().validPositions=t.extend(!0,{},f)),d}function V(e,i,r){var o;if(e===n)for(e=i-1;e>0&&!x().validPositions[e];e--);for(var a=e;a<i;a++)if(x().validPositions[a]===n&&!q(a,!0)){var s=0==a?M(a):x().validPositions[a-1];if(s){var l=K(a).slice();""===l[l.length-1].match.def&&l.pop();var c=N(a,l);if((c=t.extend({},c,{input:Z(a,c.match,!0)||c.match.def})).generatedInput=!0,W(a,c,!0),!0!==r){var u=x().validPositions[i].input;x().validPositions[i]=n,o=z(i,u,!0,!0)}}}return o}function W(e,i,r,o){function a(t,e,i){var r=e[t];if(r!==n&&(null===r.match.fn&&!0!==r.match.optionality||r.input===h.radixPoint)){var o=i.begin<=t-1?e[t-1]&&null===e[t-1].match.fn&&e[t-1]:e[t-1],a=i.end>t+1?e[t+1]&&null===e[t+1].match.fn&&e[t+1]:e[t+1];return o&&a}return!1}var s=e.begin!==n?e.begin:e,l=e.end!==n?e.end:e;if(e.begin>e.end&&(s=e.end,l=e.begin),o=o!==n?o:s,s!==l||h.insertMode&&x().validPositions[o]!==n&&r===n){var c=t.extend(!0,{},x().validPositions),u=S(n,!0);for(x().p=s,m=u;m>=s;m--)x().validPositions[m]&&"+"===x().validPositions[m].match.nativeDef&&(h.isNegative=!1),delete x().validPositions[m];var d=!0,f=o,p=(x().validPositions,!1),g=f,m=f;for(i&&(x().validPositions[o]=t.extend(!0,{},i),g++,f++,s<l&&m++);m<=u;m++){var v=c[m];if(v!==n&&(m>=l||m>=s&&!0!==v.generatedInput&&a(m,c,{begin:s,end:l}))){for(;""!==M(g).match.def;){if(!1===p&&c[g]&&c[g].match.nativeDef===v.match.nativeDef)x().validPositions[g]=t.extend(!0,{},c[g]),x().validPositions[g].input=v.input,V(n,g,!0),f=g+1,d=!0;else if(h.shiftPositions&&L(g,v.match.def)){var y=z(g,v.input,!0,!0);d=!1!==y,f=y.caret||y.insert?S():g+1,p=!0}else d=!0===v.generatedInput||v.input===h.radixPoint&&!0===h.numericInput;if(d)break;if(!d&&g>l&&q(g,!0)&&(null!==v.match.fn||g>x().maskLength))break;g++}""==M(g).match.def&&(d=!1),g=f}if(!d)break}if(!d)return x().validPositions=t.extend(!0,{},c),I(!0),!1}else i&&(x().validPositions[o]=t.extend(!0,{},i));return I(!0),!0}function q(t,e){var n=P(t).match;if(""===n.def&&(n=M(t).match),null!=n.fn)return n.fn;if(!0!==e&&t>-1){var i=K(t);return i.length>1+(""===i[i.length-1].match.def?1:0)}return!1}function Y(t,e){for(var n=t+1;""!==M(n).match.def&&(!0===e&&(!0!==M(n).match.newBlockMarker||!q(n))||!0!==e&&!q(n));)n++;return n}function G(t,e){var n,i=t;if(i<=0)return 0;for(;--i>0&&(!0===e&&!0!==M(i).match.newBlockMarker||!0!==e&&!q(i)&&((n=K(i)).length<2||2===n.length&&""===n[1].match.def)););return i}function X(e,i,r,o,a){if(o&&t.isFunction(h.onBeforeWrite)){var s=h.onBeforeWrite.call(w,o,i,r,h);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;B(!0===l?l:l.start,l.end,s.buffer||i),i=F(!0)}r!==n&&(r=s.caret!==n?s.caret:r)}}if(e!==n&&(e.inputmask._valueSet(i.join("")),r===n||o!==n&&"blur"===o.type?ut(e,r,0===i.length):rt(e,r),!0===a)){var c=t(e),u=e.inputmask._valueGet();_=!0,c.trigger("input"),setTimeout(function(){u===j().join("")?c.trigger("cleared"):!0===st(i)&&c.trigger("complete")},0)}}function Z(e,i,r){if((i=i||M(e).match).placeholder!==n||!0===r)return t.isFunction(i.placeholder)?i.placeholder(h):i.placeholder;if(null===i.fn){if(e>-1&&x().validPositions[e]===n){var o,a=K(e),s=[];if(a.length>1+(""===a[a.length-1].match.def?1:0))for(var l=0;l<a.length;l++)if(!0!==a[l].match.optionality&&!0!==a[l].match.optionalQuantifier&&(null===a[l].match.fn||o===n||!1!==a[l].match.fn.test(o.match.def,x(),e,!0,h))&&(s.push(a[l]),null===a[l].match.fn&&(o=a[l]),s.length>1&&/[0-9a-bA-Z]/.test(s[0].match.def)))return h.placeholder.charAt(e%h.placeholder.length)}return i.def}return h.placeholder.charAt(e%h.placeholder.length)}function J(t,e){if(o){if(t.inputmask._valueGet()!==e&&(t.placeholder!==e||""===t.placeholder)){var n=F().slice(),i=t.inputmask._valueGet();if(i!==e){var r=S();-1===r&&i===j().join("")?n=[]:-1!==r&&at(n),X(t,n)}}}else t.placeholder!==e&&(t.placeholder=e,""===t.placeholder&&t.removeAttribute("placeholder"))}var Q,tt={on:function(e,i,r){var o=function(e){var i=this;if(i.inputmask===n&&"FORM"!==this.nodeName){var o=t.data(i,"_inputmask_opts");o?new u(o).mask(i):tt.off(i)}else{if("setvalue"===e.type||"FORM"===this.nodeName||!(i.disabled||i.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||!1===h.tabThrough&&e.keyCode===u.keyCode.TAB))){switch(e.type){case"input":if(!0===_)return _=!1,e.preventDefault();if(s){var a=arguments;return setTimeout(function(){r.apply(i,a),rt(i,i.inputmask.caretPos,n,!0)},0),!1}break;case"keydown":T=!1,_=!1;break;case"keypress":if(!0===T)return e.preventDefault();T=!0;break;case"click":if(l||c){var a=arguments;return setTimeout(function(){r.apply(i,a)},0),!1}}var d=r.apply(i,arguments);return!1===d&&(e.preventDefault(),e.stopPropagation()),d}e.preventDefault()}};e.inputmask.events[i]=e.inputmask.events[i]||[],e.inputmask.events[i].push(o),-1!==t.inArray(i,["submit","reset"])?null!==e.form&&t(e.form).on(i,o):t(e).on(i,o)},off:function(e,n){var i;e.inputmask&&e.inputmask.events&&(n?(i=[])[n]=e.inputmask.events[n]:i=e.inputmask.events,t.each(i,function(n,i){for(;i.length>0;){var r=i.pop();-1!==t.inArray(n,["submit","reset"])?null!==e.form&&t(e.form).off(n,r):t(e).off(n,r)}delete e.inputmask.events[n]}))}},et={keydownEvent:function(e){var n=t(this),i=e.keyCode,r=rt(this);if(i===u.keyCode.BACKSPACE||i===u.keyCode.DELETE||c&&i===u.keyCode.BACKSPACE_SAFARI||e.ctrlKey&&i===u.keyCode.X&&!f("cut"))e.preventDefault(),lt(0,i,r),X(this,F(!0),x().p,e,this.inputmask._valueGet()!==F().join(""));else if(i===u.keyCode.END||i===u.keyCode.PAGE_DOWN){e.preventDefault();var o=Y(S());rt(this,e.shiftKey?r.begin:o,o,!0)}else i===u.keyCode.HOME&&!e.shiftKey||i===u.keyCode.PAGE_UP?(e.preventDefault(),rt(this,0,e.shiftKey?r.begin:0,!0)):(h.undoOnEscape&&i===u.keyCode.ESCAPE||90===i&&e.ctrlKey)&&!0!==e.altKey?(nt(this,!0,!1,g.split("")),n.trigger("click")):i!==u.keyCode.INSERT||e.shiftKey||e.ctrlKey?!0===h.tabThrough&&i===u.keyCode.TAB&&(!0===e.shiftKey?(null===M(r.begin).match.fn&&(r.begin=Y(r.begin)),r.end=G(r.begin,!0),r.begin=G(r.end,!0)):(r.begin=Y(r.begin,!0),r.end=Y(r.begin,!0),r.end<x().maskLength&&r.end--),r.begin<x().maskLength&&(e.preventDefault(),rt(this,r.begin,r.end))):(h.insertMode=!h.insertMode,this.setAttribute("im-insert",h.insertMode));h.onKeyDown.call(this,e,F(),rt(this).begin,h),O=-1!==t.inArray(i,h.ignorables)},keypressEvent:function(e,i,r,o,a){var s=this,l=t(s),c=e.which||e.charCode||e.keyCode;if(!(!0===i||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||O))return c===u.keyCode.ENTER&&g!==F().join("")&&(g=F().join(""),setTimeout(function(){l.trigger("change")},0)),!0;if(c){46===c&&!1===e.shiftKey&&""!==h.radixPoint&&(c=h.radixPoint.charCodeAt(0));var d,f=i?{begin:a,end:a}:rt(s),p=String.fromCharCode(c),m=0;if(h._radixDance&&h.numericInput){var v=F().indexOf(h.radixPoint.charAt(0))+1;f.begin<=v&&(c===h.radixPoint.charCodeAt(0)&&(m=1),f.begin-=1,f.end-=1)}x().writeOutBuffer=!0;var y=z(f,p,o);if(!1!==y&&(I(!0),d=y.caret!==n?y.caret:Y(y.pos.begin?y.pos.begin:y.pos),x().p=d),d=(h.numericInput&&y.caret===n?G(d):d)+m,!1!==r&&(setTimeout(function(){h.onKeyValidation.call(s,c,y,h)},0),x().writeOutBuffer&&!1!==y)){var b=F();X(s,b,d,e,!0!==i)}if(e.preventDefault(),i)return!1!==y&&(y.forwardPosition=d),y}},pasteEvent:function(n){var i,r=n.originalEvent||n,o=(t(this),this.inputmask._valueGet(!0)),a=rt(this);C&&(i=a.end,a.end=a.begin,a.begin=i);var s=o.substr(0,a.begin),l=o.substr(a.end,o.length);if(s===(C?j().reverse():j()).slice(0,a.begin).join("")&&(s=""),l===(C?j().reverse():j()).slice(a.end).join("")&&(l=""),e.clipboardData&&e.clipboardData.getData)o=s+e.clipboardData.getData("Text")+l;else{if(!r.clipboardData||!r.clipboardData.getData)return!0;o=s+r.clipboardData.getData("text/plain")+l}var c=o;if(t.isFunction(h.onBeforePaste)){if(!1===(c=h.onBeforePaste.call(w,o,h)))return n.preventDefault();c||(c=o)}return nt(this,!1,!1,c.toString().split("")),X(this,F(),Y(S()),n,g!==F().join("")),n.preventDefault()},inputFallBackEvent:function(e){var n=this,i=n.inputmask._valueGet();if(F().join("")!==i){var r=rt(n);if(i=function(t,e,n){if(l){var i=e.replace(F().join(""),"");if(1===i.length){var r=e.split("");r.splice(n.begin,0,i),e=r.join("")}}return e}(0,i=function(t,e,n){return"."===e.charAt(n.begin-1)&&""!==h.radixPoint&&((e=e.split(""))[n.begin-1]=h.radixPoint.charAt(0),e=e.join("")),e}(0,i,r),r),F().join("")!==i){var o=F().join(""),a=!h.numericInput&&i.length>o.length?-1:0,s=i.substr(0,r.begin),c=i.substr(r.begin),d=o.substr(0,r.begin+a),f=o.substr(r.begin+a),p=r,g="",m=!1;if(s!==d){var v,y=(m=s.length>=d.length)?s.length:d.length;for(v=0;s.charAt(v)===d.charAt(v)&&v<y;v++);m&&(p.begin=v-a,g+=s.slice(v,p.end))}if(c!==f&&(c.length>f.length?g+=c.slice(0,1):c.length<f.length&&(p.end+=f.length-c.length,m||""===h.radixPoint||""!==c||s.charAt(p.begin+a-1)!==h.radixPoint||(p.begin--,g=h.radixPoint))),X(n,F(),{begin:p.begin+a,end:p.end+a}),g.length>0)t.each(g.split(""),function(e,i){var r=new t.Event("keypress");r.which=i.charCodeAt(0),O=!1,et.keypressEvent.call(n,r)});else{p.begin===p.end-1&&(p.begin=G(p.begin+1),p.begin===p.end-1?rt(n,p.begin):rt(n,p.begin,p.end));var b=new t.Event("keydown");b.keyCode=h.numericInput?u.keyCode.BACKSPACE:u.keyCode.DELETE,et.keydownEvent.call(n,b)}e.preventDefault()}}},beforeInputEvent:function(e){if(e.cancelable){var n=this;switch(e.inputType){case"insertText":return t.each(e.data.split(""),function(e,i){var r=new t.Event("keypress");r.which=i.charCodeAt(0),O=!1,et.keypressEvent.call(n,r)}),e.preventDefault();case"deleteContentBackward":var i=new t.Event("keydown");return i.keyCode=u.keyCode.BACKSPACE,et.keydownEvent.call(n,i),e.preventDefault();case"deleteContentForward":var i=new t.Event("keydown");return i.keyCode=u.keyCode.DELETE,et.keydownEvent.call(n,i),e.preventDefault()}}},setValueEvent:function(e){this.inputmask.refreshValue=!1;var n=e&&e.detail?e.detail[0]:arguments[1],n=n||this.inputmask._valueGet(!0);t.isFunction(h.onBeforeMask)&&(n=h.onBeforeMask.call(w,n,h)||n),nt(this,!0,!1,n=n.toString().split("")),g=F().join(""),(h.clearMaskOnLostFocus||h.clearIncomplete)&&this.inputmask._valueGet()===j().join("")&&this.inputmask._valueSet("")},focusEvent:function(t){var e=this.inputmask._valueGet();h.showMaskOnFocus&&(e!==F().join("")?X(this,F(),Y(S())):!1===k&&rt(this,Y(S()))),!0===h.positionCaretOnTab&&!1===k&&et.clickEvent.apply(this,[t,!0]),g=F().join("")},mouseleaveEvent:function(t){k=!1,h.clearMaskOnLostFocus&&i.activeElement!==this&&J(this,b)},clickEvent:function(e,r){var o=this;setTimeout(function(){if(i.activeElement===o){var e=rt(o);if(r&&(C?e.end=e.begin:e.begin=e.end),e.begin===e.end)switch(h.positionCaretOnClick){case"none":break;case"select":rt(o,0,F().length);break;case"ignore":rt(o,Y(S()));break;case"radixFocus":if(function(e){if(""!==h.radixPoint){var i=x().validPositions;if(i[e]===n||i[e].input===Z(e)){if(e<Y(-1))return!0;var r=t.inArray(h.radixPoint,F());if(-1!==r){for(var o in i)if(r<o&&i[o].input!==Z(o))return!1;return!0}}}return!1}(e.begin)){var a=F().join("").indexOf(h.radixPoint);rt(o,h.numericInput?Y(a):a);break}default:var s=e.begin,l=S(s,!0),c=Y(l);if(s<c)rt(o,q(s,!0)||q(s-1,!0)?s:Y(s));else{var u=x().validPositions[l],d=P(c,u?u.match.locator:n,u),f=Z(c,d.match);if(""!==f&&F()[c]!==f&&!0!==d.match.optionalQuantifier&&!0!==d.match.newBlockMarker||!q(c,h.keepStatic)&&d.match.def===f){var p=Y(c);(s>=p||s===c)&&(c=p)}rt(o,c)}}}},0)},cutEvent:function(n){t(this);var r=rt(this),o=n.originalEvent||n,a=e.clipboardData||o.clipboardData,s=C?F().slice(r.end,r.begin):F().slice(r.begin,r.end);a.setData("text",C?s.reverse().join(""):s.join("")),i.execCommand&&i.execCommand("copy"),lt(0,u.keyCode.DELETE,r),X(this,F(),x().p,n,g!==F().join(""))},blurEvent:function(e){var i=t(this);if(this.inputmask){J(this,b);var r=this.inputmask._valueGet(),o=F().slice();""===r&&y===n||(h.clearMaskOnLostFocus&&(-1===S()&&r===j().join("")?o=[]:at(o)),!1===st(o)&&(setTimeout(function(){i.trigger("incomplete")},0),h.clearIncomplete&&(I(),o=h.clearMaskOnLostFocus?[]:j().slice())),X(this,o,n,e)),g!==F().join("")&&(g=o.join(""),i.trigger("change"))}},mouseenterEvent:function(t){k=!0,i.activeElement!==this&&h.showMaskOnHover&&J(this,(C?F().slice().reverse():F()).join(""))},submitEvent:function(t){g!==F().join("")&&m.trigger("change"),h.clearMaskOnLostFocus&&-1===S()&&E.inputmask._valueGet&&E.inputmask._valueGet()===j().join("")&&E.inputmask._valueSet(""),h.clearIncomplete&&!1===st(F())&&E.inputmask._valueSet(""),h.removeMaskOnSubmit&&(E.inputmask._valueSet(E.inputmask.unmaskedvalue(),!0),setTimeout(function(){X(E,F())},0))},resetEvent:function(t){E.inputmask.refreshValue=!0,setTimeout(function(){m.trigger("setvalue")},0)}};function nt(e,i,r,o,a){var s=this||e.inputmask,l=o.slice(),c="",d=-1,f=n;if(I(),r||!0===h.autoUnmask)d=Y(d);else{var p=j().slice(0,Y(-1)).join(""),g=l.join("").match(new RegExp("^"+u.escapeRegex(p),"g"));g&&g.length>0&&(l.splice(0,g.length*p.length),d=Y(d))}-1===d?(x().p=Y(d),d=0):x().p=d,s.caretPos={begin:d},t.each(l,function(i,o){if(o!==n)if(x().validPositions[i]===n&&l[i]===Z(i)&&q(i,!0)&&!1===z(i,l[i],!0,n,n,!0))x().p++;else{var a=new t.Event("_checkval");a.which=o.charCodeAt(0),c+=o;var u=S(n,!0);!function(t,e){return-1!==D(!0,0,!1).slice(t,Y(t)).join("").replace(/'/g,"").indexOf(e)&&!q(t)&&(M(t).match.nativeDef===e.charAt(0)||null===M(t).match.fn&&M(t).match.nativeDef==="'"+e.charAt(0)||" "===M(t).match.nativeDef&&(M(t+1).match.nativeDef===e.charAt(0)||null===M(t+1).match.fn&&M(t+1).match.nativeDef==="'"+e.charAt(0)))}(d,c)?(f=et.keypressEvent.call(e,a,!0,!1,r,s.caretPos.begin))&&(d=s.caretPos.begin+1,c=""):f=et.keypressEvent.call(e,a,!0,!1,r,u+1),f&&(X(n,F(),f.forwardPosition,a,!1),s.caretPos={begin:f.forwardPosition,end:f.forwardPosition})}}),i&&X(e,F(),f?f.forwardPosition:n,a||new t.Event("checkval"),a&&"input"===a.type)}function it(e){if(e){if(e.inputmask===n)return e.value;e.inputmask&&e.inputmask.refreshValue&&et.setValueEvent.call(e)}var i=[],r=x().validPositions;for(var o in r)r[o].match&&null!=r[o].match.fn&&i.push(r[o].input);var a=0===i.length?"":(C?i.reverse():i).join("");if(t.isFunction(h.onUnMask)){var s=(C?F().slice().reverse():F()).join("");a=h.onUnMask.call(w,s,a,h)}return a}function rt(r,o,a,s){function l(t){return!C||"number"!=typeof t||h.greedy&&""===h.placeholder||!E||(t=E.inputmask._valueGet().length-t),t}var c;if(o===n)return"selectionStart"in r?(o=r.selectionStart,a=r.selectionEnd):e.getSelection?(c=e.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==r&&c.commonAncestorContainer!==r||(o=c.startOffset,a=c.endOffset):i.selection&&i.selection.createRange&&(c=i.selection.createRange(),o=0-c.duplicate().moveStart("character",-r.inputmask._valueGet().length),a=o+c.text.length),{begin:s?o:l(o),end:s?a:l(a)};if(t.isArray(o)&&(a=C?o[0]:o[1],o=C?o[1]:o[0]),o.begin!==n&&(a=C?o.begin:o.end,o=C?o.end:o.begin),"number"==typeof o){o=s?o:l(o),a="number"==typeof(a=s?a:l(a))?a:o;var u=parseInt(((r.ownerDocument.defaultView||e).getComputedStyle?(r.ownerDocument.defaultView||e).getComputedStyle(r,null):r.currentStyle).fontSize)*a;if(r.scrollLeft=u>r.scrollWidth?u:0,r.inputmask.caretPos={begin:o,end:a},r===i.activeElement){if("selectionStart"in r)r.selectionStart=o,r.selectionEnd=a;else if(e.getSelection){if(c=i.createRange(),r.firstChild===n||null===r.firstChild){var d=i.createTextNode("");r.appendChild(d)}c.setStart(r.firstChild,o<r.inputmask._valueGet().length?o:r.inputmask._valueGet().length),c.setEnd(r.firstChild,a<r.inputmask._valueGet().length?a:r.inputmask._valueGet().length),c.collapse(!0);var f=e.getSelection();f.removeAllRanges(),f.addRange(c)}else r.createTextRange&&((c=r.createTextRange()).collapse(!0),c.moveEnd("character",a),c.moveStart("character",o),c.select());ut(r,{begin:o,end:a})}}}function ot(e){var i,r,o=D(!0,S(),!0,!0),a=o.length,s=S(),l={},c=x().validPositions[s],u=c!==n?c.locator.slice():n;for(i=s+1;i<o.length;i++)r=P(i,u,i-1),u=r.locator.slice(),l[i]=t.extend(!0,{},r);var d=c&&c.alternation!==n?c.locator[c.alternation]:n;for(i=a-1;i>s&&((r=l[i]).match.optionality||r.match.optionalQuantifier&&r.match.newBlockMarker||d&&(d!==l[i].locator[c.alternation]&&null!=r.match.fn||null===r.match.fn&&r.locator[c.alternation]&&H(r.locator[c.alternation].toString().split(","),d.toString().split(","))&&""!==K(i)[0].def))&&o[i]===Z(i,r.match);i--)a--;return e?{l:a,def:l[a]?l[a].match:n}:a}function at(t){t.length=0;for(var e,i=D(!0,0,!0,n,!0);(e=i.shift())!==n;)t.push(e);return t}function st(e){if(t.isFunction(h.isComplete))return h.isComplete(e,h);if("*"===h.repeat)return n;var i=!1,r=ot(!0),o=G(r.l);if(r.def===n||r.def.newBlockMarker||r.def.optionality||r.def.optionalQuantifier){i=!0;for(var a=0;a<=o;a++){var s=P(a).match;if(null!==s.fn&&x().validPositions[a]===n&&!0!==s.optionality&&!0!==s.optionalQuantifier||null===s.fn&&e[a]!==Z(a,s)){i=!1;break}}}return i}function lt(t,e,i,r,o){if((h.numericInput||C)&&(e===u.keyCode.BACKSPACE?e=u.keyCode.DELETE:e===u.keyCode.DELETE&&(e=u.keyCode.BACKSPACE),C)){var a=i.end;i.end=i.begin,i.begin=a}if(e===u.keyCode.BACKSPACE&&i.end-i.begin<1?(i.begin=G(i.begin),x().validPositions[i.begin]!==n&&x().validPositions[i.begin].input===h.groupSeparator&&i.begin--):e===u.keyCode.DELETE&&i.begin===i.end&&(i.end=q(i.end,!0)&&x().validPositions[i.end]&&x().validPositions[i.end].input!==h.radixPoint?i.end+1:Y(i.end)+1,x().validPositions[i.begin]!==n&&x().validPositions[i.begin].input===h.groupSeparator&&i.end++),W(i),!0!==r&&!1!==h.keepStatic||null!==h.regex){var s=U(!0);if(s){var l=s.caret!==n?s.caret:s.pos?Y(s.pos.begin?s.pos.begin:s.pos):S(-1,!0);(e!==u.keyCode.DELETE||i.begin>l)&&i.begin}}var c=S(i.begin,!0);if(c<i.begin||-1===i.begin)x().p=Y(c);else if(!0!==r&&(x().p=i.begin,!0!==o))for(;x().p<c&&x().validPositions[x().p]===n;)x().p++}function ct(n){var r=(n.ownerDocument.defaultView||e).getComputedStyle(n,null),o=i.createElement("div");o.style.width=r.width,o.style.textAlign=r.textAlign,y=i.createElement("div"),n.inputmask.colorMask=y,y.className="im-colormask",n.parentNode.insertBefore(y,n),n.parentNode.removeChild(n),y.appendChild(n),y.appendChild(o),n.style.left=o.offsetLeft+"px",t(y).on("mouseleave",function(t){return et.mouseleaveEvent.call(n,[t])}),t(y).on("mouseenter",function(t){return et.mouseenterEvent.call(n,[t])}),t(y).on("click",function(t){return rt(n,function(t){var e,o=i.createElement("span");for(var a in r)isNaN(a)&&-1!==a.indexOf("font")&&(o.style[a]=r[a]);o.style.textTransform=r.textTransform,o.style.letterSpacing=r.letterSpacing,o.style.position="absolute",o.style.height="auto",o.style.width="auto",o.style.visibility="hidden",o.style.whiteSpace="nowrap",i.body.appendChild(o);var s,l=n.inputmask._valueGet(),c=0;for(e=0,s=l.length;e<=s;e++){if(o.innerHTML+=l.charAt(e)||"_",o.offsetWidth>=t){var u=t-c,d=o.offsetWidth-t;o.innerHTML=l.charAt(e),u-=o.offsetWidth/3,e=u<d?e-1:e;break}c=o.offsetWidth}return i.body.removeChild(o),e}(t.clientX)),et.clickEvent.call(n,[t])})}function ut(t,e,r){var o,a,s,l=[],c=!1,u=0;function d(t){if(t===n&&(t=""),c||null!==o.fn&&a.input!==n)if(c&&(null!==o.fn&&a.input!==n||""===o.def)){c=!1;var e=l.length;l[e-1]=l[e-1]+"</span>",l.push(t)}else l.push(t);else c=!0,l.push("<span class='im-static'>"+t)}if(y!==n){var f=F();if(e===n?e=rt(t):e.begin===n&&(e={begin:e,end:e}),!0!==r){var p=S();do{x().validPositions[u]?(a=x().validPositions[u],o=a.match,s=a.locator.slice(),d(f[u])):(a=P(u,s,u-1),o=a.match,s=a.locator.slice(),!1===h.jitMasking||u<p||"number"==typeof h.jitMasking&&isFinite(h.jitMasking)&&h.jitMasking>u?d(Z(u,o)):c=!1),u++}while((v===n||u<v)&&(null!==o.fn||""!==o.def)||p>u||c);c&&d(),i.activeElement===t&&(l.splice(e.begin,0,e.begin===e.end||e.end>x().maskLength?'<mark class="im-caret" style="border-right-width: 1px;border-right-style: solid;">':'<mark class="im-caret-select">'),l.splice(e.end+1,0,"</mark>"))}var g=y.getElementsByTagName("div")[0];g.innerHTML=l.join(""),t.inputmask.positionColorMask(t,g)}}if(r!==n)switch(r.action){case"isComplete":return E=r.el,st(F());case"unmaskedvalue":return E!==n&&r.value===n||(Q=r.value,Q=(t.isFunction(h.onBeforeMask)&&h.onBeforeMask.call(w,Q,h)||Q).split(""),nt.call(this,n,!1,!1,Q),t.isFunction(h.onBeforeWrite)&&h.onBeforeWrite.call(w,n,F(),0,h)),it(E);case"mask":!function(e){tt.off(e);var r=function(e,r){var o=e.getAttribute("type"),s="INPUT"===e.tagName&&-1!==t.inArray(o,r.supportsInputType)||e.isContentEditable||"TEXTAREA"===e.tagName;if(!s)if("INPUT"===e.tagName){var l=i.createElement("input");l.setAttribute("type",o),s="text"===l.type,l=null}else s="partial";return!1!==s?function(e){var o,s;function l(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==S()||!0!==r.nullable?i.activeElement===this&&r.clearMaskOnLostFocus?(C?at(F().slice()).reverse():at(F().slice())).join(""):o.call(this):"":o.call(this)}function c(e){s.call(this,e),this.inputmask&&t(this).trigger("setvalue",[e])}if(!e.inputmask.__valueGet){if(!0!==r.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===a("test".__proto__)?function(t){return t.__proto__}:function(t){return t.constructor.prototype});var u=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"):n;u&&u.get&&u.set?(o=u.get,s=u.set,Object.defineProperty(e,"value",{get:l,set:c,configurable:!0})):"INPUT"!==e.tagName&&(o=function(){return this.textContent},s=function(t){this.textContent=t},Object.defineProperty(e,"value",{get:l,set:c,configurable:!0}))}else i.__lookupGetter__&&e.__lookupGetter__("value")&&(o=e.__lookupGetter__("value"),s=e.__lookupSetter__("value"),e.__defineGetter__("value",l),e.__defineSetter__("value",c));e.inputmask.__valueGet=o,e.inputmask.__valueSet=s}e.inputmask._valueGet=function(t){return C&&!0!==t?o.call(this.el).split("").reverse().join(""):o.call(this.el)},e.inputmask._valueSet=function(t,e){s.call(this.el,null===t||t===n?"":!0!==e&&C?t.split("").reverse().join(""):t)},o===n&&(o=function(){return this.value},s=function(t){this.value=t},function(e){if(t.valHooks&&(t.valHooks[e]===n||!0!==t.valHooks[e].inputmaskpatch)){var i=t.valHooks[e]&&t.valHooks[e].get?t.valHooks[e].get:function(t){return t.value},o=t.valHooks[e]&&t.valHooks[e].set?t.valHooks[e].set:function(t,e){return t.value=e,t};t.valHooks[e]={get:function(t){if(t.inputmask){if(t.inputmask.opts.autoUnmask)return t.inputmask.unmaskedvalue();var e=i(t);return-1!==S(n,n,t.inputmask.maskset.validPositions)||!0!==r.nullable?e:""}return i(t)},set:function(e,n){var i,r=t(e);return i=o(e,n),e.inputmask&&r.trigger("setvalue",[n]),i},inputmaskpatch:!0}}}(e.type),function(e){tt.on(e,"mouseenter",function(e){var n=t(this),i=this.inputmask._valueGet();i!==F().join("")&&n.trigger("setvalue")})}(e))}}(e):e.inputmask=n,s}(e,h);if(!1!==r&&(m=t(E=e),b=E.placeholder,-1===(v=E!==n?E.maxLength:n)&&(v=n),!0===h.colorMask&&ct(E),s&&("inputMode"in E&&(E.inputmode=h.inputmode,E.setAttribute("inputmode",h.inputmode)),!0===h.disablePredictiveText&&("autocorrect"in E?E.autocorrect=!1:(!0!==h.colorMask&&ct(E),E.type="password"))),!0===r&&(E.setAttribute("im-insert",h.insertMode),tt.on(E,"submit",et.submitEvent),tt.on(E,"reset",et.resetEvent),tt.on(E,"blur",et.blurEvent),tt.on(E,"focus",et.focusEvent),!0!==h.colorMask&&(tt.on(E,"click",et.clickEvent),tt.on(E,"mouseleave",et.mouseleaveEvent),tt.on(E,"mouseenter",et.mouseenterEvent)),tt.on(E,"paste",et.pasteEvent),tt.on(E,"cut",et.cutEvent),tt.on(E,"complete",h.oncomplete),tt.on(E,"incomplete",h.onincomplete),tt.on(E,"cleared",h.oncleared),s||!0===h.inputEventOnly?E.removeAttribute("maxLength"):(tt.on(E,"keydown",et.keydownEvent),tt.on(E,"keypress",et.keypressEvent)),tt.on(E,"input",et.inputFallBackEvent),tt.on(E,"beforeinput",et.beforeInputEvent)),tt.on(E,"setvalue",et.setValueEvent),g=j().join(""),""!==E.inputmask._valueGet(!0)||!1===h.clearMaskOnLostFocus||i.activeElement===E)){var o=t.isFunction(h.onBeforeMask)&&h.onBeforeMask.call(w,E.inputmask._valueGet(!0),h)||E.inputmask._valueGet(!0);""!==o&&nt(E,!0,!1,o.split(""));var l=F().slice();g=l.join(""),!1===st(l)&&h.clearIncomplete&&I(),h.clearMaskOnLostFocus&&i.activeElement!==E&&(-1===S()?l=[]:at(l)),(!1===h.clearMaskOnLostFocus||h.showMaskOnFocus&&i.activeElement===E||""!==E.inputmask._valueGet(!0))&&X(E,l),i.activeElement===E&&rt(E,Y(S()))}}(E);break;case"format":return Q=(t.isFunction(h.onBeforeMask)&&h.onBeforeMask.call(w,r.value,h)||r.value).split(""),nt.call(this,n,!0,!1,Q),r.metadata?{value:C?F().slice().reverse().join(""):F().join(""),metadata:p.call(this,{action:"getmetadata"},d,h)}:C?F().slice().reverse().join(""):F().join("");case"isValid":r.value?(Q=r.value.split(""),nt.call(this,n,!0,!0,Q)):r.value=F().join("");for(var dt=F(),ht=ot(),ft=dt.length-1;ft>ht&&!q(ft);ft--);return dt.splice(ht,ft+1-ht),st(dt)&&r.value===F().join("");case"getemptymask":return j().join("");case"remove":return E&&E.inputmask&&(t.data(E,"_inputmask_opts",null),m=t(E),E.inputmask._valueSet(h.autoUnmask?it(E):E.inputmask._valueGet(!0)),tt.off(E),E.inputmask.colorMask&&((y=E.inputmask.colorMask).removeChild(E),y.parentNode.insertBefore(E,y),y.parentNode.removeChild(y)),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(E),"value")&&E.inputmask.__valueGet&&Object.defineProperty(E,"value",{get:E.inputmask.__valueGet,set:E.inputmask.__valueSet,configurable:!0}):i.__lookupGetter__&&E.__lookupGetter__("value")&&E.inputmask.__valueGet&&(E.__defineGetter__("value",E.inputmask.__valueGet),E.__defineSetter__("value",E.inputmask.__valueSet)),E.inputmask=n),E;case"getmetadata":if(t.isArray(d.metadata)){var pt=D(!0,0,!1).join("");return t.each(d.metadata,function(t,e){if(e.mask===pt)return pt=e,!1}),pt}return d.metadata}}return u.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:t.noop,onincomplete:t.noop,oncleared:t.noop,repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:t.noop,onBeforeMask:null,onBeforePaste:function(e,n){return t.isFunction(n.onBeforeMask)?n.onBeforeMask.call(this,e,n):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:t.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:n,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,disablePredictiveText:!1,importDataAttributes:!0,shiftPositions:!0},definitions:{9:{validator:"[0-9ï¼-ï¼]",definitionSymbol:"*"},a:{validator:"[A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]",definitionSymbol:"*"},"*":{validator:"[0-9ï¼-ï¼A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]"}},aliases:{},masksCache:{},mask:function(r){var o=this;return"string"==typeof r&&(r=i.getElementById(r)||i.querySelectorAll(r)),r=r.nodeName?[r]:r,t.each(r,function(i,r){var a=t.extend(!0,{},o.opts);if(function(i,r,o,a){if(!0===r.importDataAttributes){var s,l,c,u,h=i.getAttribute(a),f=function(t,r){null!==(r=r!==n?r:i.getAttribute(a+"-"+t))&&("string"==typeof r&&(0===t.indexOf("on")?r=e[r]:"false"===r?r=!1:"true"===r&&(r=!0)),o[t]=r)};if(h&&""!==h&&(h=h.replace(/'/g,'"'),l=JSON.parse("{"+h+"}")),l)for(u in c=n,l)if("alias"===u.toLowerCase()){c=l[u];break}for(s in f("alias",c),o.alias&&d(o.alias,o,r),r){if(l)for(u in c=n,l)if(u.toLowerCase()===s.toLowerCase()){c=l[u];break}f(s,c)}}return t.extend(!0,r,o),("rtl"===i.dir||r.rightAlign)&&(i.style.textAlign="right"),("rtl"===i.dir||r.numericInput)&&(i.dir="ltr",i.removeAttribute("dir"),r.isRTL=!0),Object.keys(o).length}(r,a,t.extend(!0,{},o.userOptions),o.dataAttribute)){var s=h(a,o.noMasksCache);s!==n&&(r.inputmask!==n&&(r.inputmask.opts.autoUnmask=!0,r.inputmask.remove()),r.inputmask=new u(n,n,!0),r.inputmask.opts=a,r.inputmask.noMasksCache=o.noMasksCache,r.inputmask.userOptions=t.extend(!0,{},o.userOptions),r.inputmask.isRTL=a.isRTL||a.numericInput,r.inputmask.el=r,r.inputmask.maskset=s,t.data(r,"_inputmask_opts",a),p.call(r.inputmask,{action:"mask"}))}}),r&&r[0]&&r[0].inputmask||this},option:function(e,n){return"string"==typeof e?this.opts[e]:"object"===(void 0===e?"undefined":a(e))?(t.extend(this.userOptions,e),this.el&&!0!==n&&this.mask(this.el),this):void 0},unmaskedvalue:function(t){return this.maskset=this.maskset||h(this.opts,this.noMasksCache),p.call(this,{action:"unmaskedvalue",value:t})},remove:function(){return p.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||h(this.opts,this.noMasksCache),p.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||h(this.opts,this.noMasksCache),p.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||h(this.opts,this.noMasksCache),p.call(this,{action:"getmetadata"})},isValid:function(t){return this.maskset=this.maskset||h(this.opts,this.noMasksCache),p.call(this,{action:"isValid",value:t})},format:function(t,e){return this.maskset=this.maskset||h(this.opts,this.noMasksCache),p.call(this,{action:"format",value:t,metadata:e})},setValue:function(e){this.el&&t(this.el).trigger("setvalue",[e])},analyseMask:function(e,i,r){var o,a,s,l,c,d,h=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?(?:\|[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,f=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,p=!1,g=new y,m=[],v=[];function y(t,e,n,i){this.matches=[],this.openGroup=t||!1,this.alternatorGroup=!1,this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function b(e,o,a){a=a!==n?a:e.matches.length;var s=e.matches[a-1];if(i)0===o.indexOf("[")||p&&/\\d|\\s|\\w]/i.test(o)||"."===o?e.matches.splice(a++,0,{fn:new RegExp(o,r.casing?"i":""),optionality:!1,newBlockMarker:s===n?"master":s.def!==o,casing:null,def:o,placeholder:n,nativeDef:o}):(p&&(o=o[o.length-1]),t.each(o.split(""),function(t,i){s=e.matches[a-1],e.matches.splice(a++,0,{fn:null,optionality:!1,newBlockMarker:s===n?"master":s.def!==i&&null!==s.fn,casing:null,def:r.staticDefinitionSymbol||i,placeholder:r.staticDefinitionSymbol!==n?i:n,nativeDef:(p?"'":"")+i})})),p=!1;else{var l=(r.definitions?r.definitions[o]:n)||u.prototype.definitions[o];l&&!p?e.matches.splice(a++,0,{fn:l.validator?"string"==typeof l.validator?new RegExp(l.validator,r.casing?"i":""):new function(){this.test=l.validator}:new RegExp("."),optionality:!1,newBlockMarker:s===n?"master":s.def!==(l.definitionSymbol||o),casing:l.casing,def:l.definitionSymbol||o,placeholder:l.placeholder,nativeDef:o}):(e.matches.splice(a++,0,{fn:null,optionality:!1,newBlockMarker:s===n?"master":s.def!==o&&null!==s.fn,casing:null,def:r.staticDefinitionSymbol||o,placeholder:r.staticDefinitionSymbol!==n?o:n,nativeDef:(p?"'":"")+o}),p=!1)}}function w(){if(m.length>0){if(b(l=m[m.length-1],a),l.isAlternator){c=m.pop();for(var t=0;t<c.matches.length;t++)c.matches[t].isGroup&&(c.matches[t].isGroup=!1);m.length>0?(l=m[m.length-1]).matches.push(c):g.matches.push(c)}}else b(g,a)}function E(t){var e=new y(!0);return e.openGroup=!1,e.matches=t,e}for(i&&(r.optionalmarker[0]=n,r.optionalmarker[1]=n);o=i?f.exec(e):h.exec(e);){if(a=o[0],i)switch(a.charAt(0)){case"?":a="{0,1}";break;case"+":case"*":a="{"+a+"}"}if(p)w();else switch(a.charAt(0)){case"(?=":case"(?!":case"(?<=":case"(?<!":break;case r.escapeChar:p=!0,i&&w();break;case r.optionalmarker[1]:case r.groupmarker[1]:if((s=m.pop()).openGroup=!1,s!==n)if(m.length>0){if((l=m[m.length-1]).matches.push(s),l.isAlternator){c=m.pop();for(var C=0;C<c.matches.length;C++)c.matches[C].isGroup=!1,c.matches[C].alternatorGroup=!1;m.length>0?(l=m[m.length-1]).matches.push(c):g.matches.push(c)}}else g.matches.push(s);else w();break;case r.optionalmarker[0]:m.push(new y(!1,!0));break;case r.groupmarker[0]:m.push(new y(!0));break;case r.quantifiermarker[0]:var T=new y(!1,!1,!0),_=(a=a.replace(/[{}]/g,"")).split("|"),O=_[0].split(","),k=isNaN(O[0])?O[0]:parseInt(O[0]),D=1===O.length?k:isNaN(O[1])?O[1]:parseInt(O[1]);"*"!==k&&"+"!==k||(k="*"===D?0:1),T.quantifier={min:k,max:D,jit:_[1]};var x=m.length>0?m[m.length-1].matches:g.matches;if((o=x.pop()).isAlternator){x.push(o),x=o.matches;var I=new y(!0),S=x.pop();x.push(I),x=I.matches,o=S}o.isGroup||(o=E([o])),x.push(o),x.push(T);break;case r.alternatormarker:var R=function(t){var e=t.pop();return e.isQuantifier&&(e=E([t.pop(),e])),e};if(m.length>0){var A=(l=m[m.length-1]).matches[l.matches.length-1];d=l.openGroup&&(A.matches===n||!1===A.isGroup&&!1===A.isAlternator)?m.pop():R(l.matches)}else d=R(g.matches);if(d.isAlternator)m.push(d);else if(d.alternatorGroup?(c=m.pop(),d.alternatorGroup=!1):c=new y(!1,!1,!1,!0),c.matches.push(d),m.push(c),d.openGroup){d.openGroup=!1;var N=new y(!0);N.alternatorGroup=!0,m.push(N)}break;default:w()}}for(;m.length>0;)s=m.pop(),g.matches.push(s);return g.matches.length>0&&(function e(o){o&&o.matches&&t.each(o.matches,function(t,a){var s=o.matches[t+1];(s===n||s.matches===n||!1===s.isQuantifier)&&a&&a.isGroup&&(a.isGroup=!1,i||(b(a,r.groupmarker[0],0),!0!==a.openGroup&&b(a,r.groupmarker[1]))),e(a)})}(g),v.push(g)),(r.numericInput||r.isRTL)&&function t(e){for(var i in e.matches=e.matches.reverse(),e.matches)if(e.matches.hasOwnProperty(i)){var o=parseInt(i);if(e.matches[i].isQuantifier&&e.matches[o+1]&&e.matches[o+1].isGroup){var a=e.matches[i];e.matches.splice(i,1),e.matches.splice(o+1,0,a)}e.matches[i].matches!==n?e.matches[i]=t(e.matches[i]):e.matches[i]=((s=e.matches[i])===r.optionalmarker[0]?s=r.optionalmarker[1]:s===r.optionalmarker[1]?s=r.optionalmarker[0]:s===r.groupmarker[0]?s=r.groupmarker[1]:s===r.groupmarker[1]&&(s=r.groupmarker[0]),s)}var s;return e}(v[0]),v},positionColorMask:function(t,e){t.style.left=e.offsetLeft+"px"}},u.extendDefaults=function(e){t.extend(!0,u.prototype.defaults,e)},u.extendDefinitions=function(e){t.extend(!0,u.prototype.definitions,e)},u.extendAliases=function(e){t.extend(!0,u.prototype.aliases,e)},u.format=function(t,e,n){return u(e).format(t,n)},u.unmask=function(t,e){return u(e).unmaskedvalue(t)},u.isValid=function(t,e){return u(e).isValid(t)},u.remove=function(e){"string"==typeof e&&(e=i.getElementById(e)||i.querySelectorAll(e)),e=e.nodeName?[e]:e,t.each(e,function(t,e){e.inputmask&&e.inputmask.remove()})},u.setValue=function(e,n){"string"==typeof e&&(e=i.getElementById(e)||i.querySelectorAll(e)),e=e.nodeName?[e]:e,t.each(e,function(e,i){i.inputmask?i.inputmask.setValue(n):t(i).trigger("setvalue",[n])})},u.escapeRegex=function(t){return t.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},u.keyCode={BACKSPACE:8,BACKSPACE_SAFARI:127,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SPACE:32,TAB:9,UP:38,X:88,CONTROL:17},u.dependencyLib=t,u})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";var i,r,o;"function"==typeof Symbol&&Symbol.iterator;r=[n(4)],void 0===(o="function"==typeof(i=function(t){return t})?i.apply(e,r):i)||(t.exports=o)},function(t,e){t.exports=jQuery},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_RESULT__,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};__WEBPACK_AMD_DEFINE_RESULT__=function(){return"undefined"!=typeof window?window:new(eval("require('jsdom').JSDOM"))("").window}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(t,e,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=[n(2)],void 0===(o="function"==typeof(i=function(t){var e=t.dependencyLib,n={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return s(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return s(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return s(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return s(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return s(Date.prototype.getHours.call(this),2)}],hhh:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return s(Date.prototype.getHours.call(this),2)}],HHH:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return s(Date.prototype.getMinutes.call(this),2)}],ss:["[0-5][0-9]",Date.prototype.setSeconds,"seconds",function(){return s(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return s(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return s(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]"],tt:["[ap]m"],T:["[AP]"],TT:["[AP]M"],Z:[""],o:[""],S:[""]},i={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function r(t){if(!t.tokenizer){var e=[];for(var i in n)-1===e.indexOf(i[0])&&e.push(i[0]);t.tokenizer="("+e.join("+|")+")+?|.",t.tokenizer=new RegExp(t.tokenizer,"g")}return t.tokenizer}function o(e,i,o,a){for(var s,l="";s=r(o).exec(e);)if(void 0===i)if(n[s[0]])l+="("+n[s[0]][0]+")";else switch(s[0]){case"[":l+="(";break;case"]":l+=")?";break;default:l+=t.escapeRegex(s[0])}else if(n[s[0]])if(!0!==a&&n[s[0]][3]){var c=n[s[0]][3];l+=c.call(i.date)}else n[s[0]][2]?l+=i["raw"+n[s[0]][2]]:l+=s[0];else l+=s[0];return l}function s(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}function l(t,e,i){var o,s,l,c={date:new Date(1,0,1)},u=t;function d(t){var e=t.replace(/[^0-9]/g,"0");if(e!=t){var n=t.replace(/[^0-9]/g,""),r=(i.min&&i.min[o]||t).toString(),a=(i.max&&i.max[o]||t).toString();e=n+(n<r.slice(0,n.length)?r.slice(n.length):n>a.slice(0,n.length)?a.slice(n.length):e.toString().slice(n.length))}return e}function h(t,e,n){t[o]=d(e),t["raw"+o]=e,void 0!==l&&l.call(t.date,"month"==o?parseInt(t[o])-1:t[o])}if("string"==typeof u){for(;s=r(i).exec(e);){var f=u.slice(0,s[0].length);n.hasOwnProperty(s[0])&&(n[s[0]][0],o=n[s[0]][2],l=n[s[0]][1],h(c,f)),u=u.slice(f.length)}return c}if(u&&"object"===(void 0===u?"undefined":a(u))&&u.hasOwnProperty("date"))return u}return t.extendAliases({datetime:{mask:function(t){return n.S=t.i18n.ordinalSuffix.join("|"),t.inputFormat=i[t.inputFormat]||t.inputFormat,t.displayFormat=i[t.displayFormat]||t.displayFormat||t.inputFormat,t.outputFormat=i[t.outputFormat]||t.outputFormat||t.inputFormat,t.placeholder=""!==t.placeholder?t.placeholder:t.inputFormat.replace(/[\[\]]/,""),t.regex=o(t.inputFormat,void 0,t),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},postValidation:function(t,e,n,i){i.min=l(i.min,i.inputFormat,i),i.max=l(i.max,i.inputFormat,i);var r=n,a=l(t.join(""),i.inputFormat,i);return r&&a.date.getTime()==a.date.getTime()&&(r=(r=function(t,e){return(!isFinite(t.rawday)||"29"==t.day&&!isFinite(t.rawyear)||new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day)&&e}(a,r))&&function(t,e){var n=!0;if(e.min){if(t.rawyear){var i=t.rawyear.replace(/[^0-9]/g,""),r=e.min.year.substr(0,i.length);n=r<=i}t.year===t.rawyear&&e.min.date.getTime()==e.min.date.getTime()&&(n=e.min.date.getTime()<=t.date.getTime())}return n&&e.max&&e.max.date.getTime()==e.max.date.getTime()&&(n=e.max.date.getTime()>=t.date.getTime()),n}(a,i)),e&&r&&n.pos!==e?{buffer:o(i.inputFormat,a,i),refreshFromBuffer:{start:e,end:n.pos}}:r},onKeyDown:function(n,i,o,a){if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){for(var l,c=new Date,u="";l=r(a).exec(a.inputFormat);)"d"===l[0].charAt(0)?u+=s(c.getDate(),l[0].length):"m"===l[0].charAt(0)?u+=s(c.getMonth()+1,l[0].length):"yyyy"===l[0]?u+=c.getFullYear().toString():"y"===l[0].charAt(0)&&(u+=s(c.getYear(),l[0].length));this.inputmask._valueSet(u),e(this).trigger("setvalue")}},onUnMask:function(t,e,n){return o(n.outputFormat,l(t,n.inputFormat,n),n,!0)},casing:function(t,e,n,i){return 0==e.nativeDef.indexOf("[ap]")?t.toLowerCase():0==e.nativeDef.indexOf("[AP]")?t.toUpperCase():t},insertMode:!1,shiftPositions:!1}}),t})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";var i,r,o;"function"==typeof Symbol&&Symbol.iterator;r=[n(2)],void 0===(o="function"==typeof(i=function(t){var e=t.dependencyLib;function n(e,n){for(var i="",r=0;r<e.length;r++)t.prototype.definitions[e.charAt(r)]||n.definitions[e.charAt(r)]||n.optionalmarker.start===e.charAt(r)||n.optionalmarker.end===e.charAt(r)||n.quantifiermarker.start===e.charAt(r)||n.quantifiermarker.end===e.charAt(r)||n.groupmarker.start===e.charAt(r)||n.groupmarker.end===e.charAt(r)||n.alternatormarker===e.charAt(r)?i+="\\"+e.charAt(r):i+=e.charAt(r);return i}return t.extendAliases({numeric:{mask:function(t){if(0!==t.repeat&&isNaN(t.integerDigits)&&(t.integerDigits=t.repeat),t.repeat=0,t.groupSeparator===t.radixPoint&&t.digits&&"0"!==t.digits&&("."===t.radixPoint?t.groupSeparator=",":","===t.radixPoint?t.groupSeparator=".":t.groupSeparator="")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=void 0),t.autoGroup=t.autoGroup&&""!==t.groupSeparator,t.autoGroup&&("string"==typeof t.groupSize&&isFinite(t.groupSize)&&(t.groupSize=parseInt(t.groupSize)),isFinite(t.integerDigits))){var e=Math.floor(t.integerDigits/t.groupSize),i=t.integerDigits%t.groupSize;t.integerDigits=parseInt(t.integerDigits)+(0===i?e-1:e),t.integerDigits<1&&(t.integerDigits="*")}t.placeholder.length>1&&(t.placeholder=t.placeholder.charAt(0)),"radixFocus"===t.positionCaretOnClick&&""===t.placeholder&&!1===t.integerOptional&&(t.positionCaretOnClick="lvp"),t.definitions[";"]=t.definitions["~"],t.definitions[";"].definitionSymbol="~",!0===t.numericInput&&(t.positionCaretOnClick="radixFocus"===t.positionCaretOnClick?"lvp":t.positionCaretOnClick,t.digitsOptional=!1,isNaN(t.digits)&&(t.digits=2),t.decimalProtect=!1);var r="[+]";if(r+=n(t.prefix,t),!0===t.integerOptional?r+="~{1,"+t.integerDigits+"}":r+="~{"+t.integerDigits+"}",void 0!==t.digits){var o=t.decimalProtect?":":t.radixPoint,a=t.digits.toString().split(",");isFinite(a[0])&&a[1]&&isFinite(a[1])?r+=o+";{"+t.digits+"}":(isNaN(t.digits)||parseInt(t.digits)>0)&&(t.digitsOptional?r+="["+o+";{1,"+t.digits+"}]":r+=o+";{"+t.digits+"}")}return r+=n(t.suffix,t),r+="[-]",t.greedy=!1,r},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputType:"text",inputmode:"numeric",preValidation:function(t,n,i,r,o,a){if("-"===i||i===o.negationSymbol.front)return!0===o.allowMinus&&(o.isNegative=void 0===o.isNegative||!o.isNegative,""===t.join("")||{caret:a.validPositions[n]?n:void 0,dopost:!0});if(!1===r&&i===o.radixPoint&&void 0!==o.digits&&(isNaN(o.digits)||parseInt(o.digits)>0)){var s=e.inArray(o.radixPoint,t);if(-1!==s&&void 0!==a.validPositions[s])return!0===o.numericInput?n===s:{caret:s+1}}return!0},postValidation:function(n,i,r,o){var a=o.suffix.split(""),s=o.prefix.split("");if(void 0===r.pos&&void 0!==r.caret&&!0!==r.dopost)return r;var l=void 0!==r.caret?r.caret:r.pos,c=n.slice();o.numericInput&&(l=c.length-l-1,c=c.reverse());var u=c[l];if(u===o.groupSeparator&&(u=c[l+=1]),l===c.length-o.suffix.length-1&&u===o.radixPoint)return r;void 0!==u&&u!==o.radixPoint&&u!==o.negationSymbol.front&&u!==o.negationSymbol.back&&(c[l]="?",o.prefix.length>0&&l>=(!1===o.isNegative?1:0)&&l<o.prefix.length-1+(!1===o.isNegative?1:0)?s[l-(!1===o.isNegative?1:0)]="?":o.suffix.length>0&&l>=c.length-o.suffix.length-(!1===o.isNegative?1:0)&&(a[l-(c.length-o.suffix.length-(!1===o.isNegative?1:0))]="?")),s=s.join(""),a=a.join("");var d=c.join("").replace(s,"");if(d=(d=(d=(d=d.replace(a,"")).replace(new RegExp(t.escapeRegex(o.groupSeparator),"g"),"")).replace(new RegExp("[-"+t.escapeRegex(o.negationSymbol.front)+"]","g"),"")).replace(new RegExp(t.escapeRegex(o.negationSymbol.back)+"$"),""),isNaN(o.placeholder)&&(d=d.replace(new RegExp(t.escapeRegex(o.placeholder),"g"),"")),d.length>1&&1!==d.indexOf(o.radixPoint)&&("0"===u&&(d=d.replace(/^\?/g,"")),d=d.replace(/^0/g,"")),d.charAt(0)===o.radixPoint&&""!==o.radixPoint&&!0!==o.numericInput&&(d="0"+d),""!==d){if(d=d.split(""),(!o.digitsOptional||o.enforceDigitsOnBlur&&"blur"===r.event)&&isFinite(o.digits)){var h=e.inArray(o.radixPoint,d),f=e.inArray(o.radixPoint,c);-1===h&&(d.push(o.radixPoint),h=d.length-1);for(var p=1;p<=o.digits;p++)o.digitsOptional&&(!o.enforceDigitsOnBlur||"blur"!==r.event)||void 0!==d[h+p]&&d[h+p]!==o.placeholder.charAt(0)?-1!==f&&void 0!==c[f+p]&&(d[h+p]=d[h+p]||c[f+p]):d[h+p]=r.placeholder||o.placeholder.charAt(0)}if(!0!==o.autoGroup||""===o.groupSeparator||u===o.radixPoint&&void 0===r.pos&&!r.dopost)d=d.join("");else{var g=d[d.length-1]===o.radixPoint&&r.c===o.radixPoint;d=t(function(t,e){var n="";if(n+="("+e.groupSeparator+"*{"+e.groupSize+"}){*}",""!==e.radixPoint){var i=t.join("").split(e.radixPoint);i[1]&&(n+=e.radixPoint+"*{"+i[1].match(/^\d*\??\d*/)[0].length+"}")}return n}(d,o),{numericInput:!0,jitMasking:!0,definitions:{"*":{validator:"[0-9?]",cardinality:1}}}).format(d.join("")),g&&(d+=o.radixPoint),d.charAt(0)===o.groupSeparator&&d.substr(1)}}if(o.isNegative&&"blur"===r.event&&(o.isNegative="0"!==d),d=s+d,d+=a,o.isNegative&&(d=o.negationSymbol.front+d,d+=o.negationSymbol.back),d=d.split(""),void 0!==u)if(u!==o.radixPoint&&u!==o.negationSymbol.front&&u!==o.negationSymbol.back)(l=e.inArray("?",d))>-1?d[l]=u:l=r.caret||0;else if(u===o.radixPoint||u===o.negationSymbol.front||u===o.negationSymbol.back){var m=e.inArray(u,d);-1!==m&&(l=m)}o.numericInput&&(l=d.length-l-1,d=d.reverse());var v={caret:void 0!==u&&void 0===r.pos||void 0===l?l:l+(o.numericInput?-1:1),buffer:d,refreshFromBuffer:r.dopost||n.join("")!==d.join("")};return v.refreshFromBuffer?v:r},onBeforeWrite:function(n,i,r,o){if(n)switch(n.type){case"keydown":return o.postValidation(i,r,{caret:r,dopost:!0},o);case"blur":case"checkval":var a;if(function(e){void 0===e.parseMinMaxOptions&&(null!==e.min&&(e.min=e.min.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.min=e.min.replace(e.radixPoint,".")),e.min=isFinite(e.min)?parseFloat(e.min):NaN,isNaN(e.min)&&(e.min=Number.MIN_VALUE)),null!==e.max&&(e.max=e.max.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.max=e.max.replace(e.radixPoint,".")),e.max=isFinite(e.max)?parseFloat(e.max):NaN,isNaN(e.max)&&(e.max=Number.MAX_VALUE)),e.parseMinMaxOptions="done")}(o),null!==o.min||null!==o.max){if(a=o.onUnMask(i.join(""),void 0,e.extend({},o,{unmaskAsNumber:!0})),null!==o.min&&a<o.min)return o.isNegative=o.min<0,o.postValidation(o.min.toString().replace(".",o.radixPoint).split(""),r,{caret:r,dopost:!0,placeholder:"0"},o);if(null!==o.max&&a>o.max)return o.isNegative=o.max<0,o.postValidation(o.max.toString().replace(".",o.radixPoint).split(""),r,{caret:r,dopost:!0,placeholder:"0"},o)}return o.postValidation(i,r,{caret:r,placeholder:"0",event:"blur"},o);case"_checkval":return{caret:r}}},regex:{integerPart:function(e,n){return n?new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?"):new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+t.escapeRegex(e.groupSeparator)+t.escapeRegex(e.placeholder.charAt(0))+"]+")}},definitions:{"~":{validator:function(e,n,i,r,o,a){var s;if("k"===e||"m"===e){s={insert:[],c:0};for(var l=0,c="k"===e?2:5;l<c;l++)s.insert.push({pos:i+l,c:0});return s.pos=i+c,s}if(!0===(s=r?new RegExp("[0-9"+t.escapeRegex(o.groupSeparator)+"]").test(e):new RegExp("[0-9]").test(e))){if(!0!==o.numericInput&&void 0!==n.validPositions[i]&&"~"===n.validPositions[i].match.def&&!a){var u=n.buffer.join(""),d=(u=(u=u.replace(new RegExp("[-"+t.escapeRegex(o.negationSymbol.front)+"]","g"),"")).replace(new RegExp(t.escapeRegex(o.negationSymbol.back)+"$"),"")).split(o.radixPoint);d.length>1&&(d[1]=d[1].replace(/0/g,o.placeholder.charAt(0))),"0"===d[0]&&(d[0]=d[0].replace(/0/g,o.placeholder.charAt(0))),u=d[0]+o.radixPoint+d[1]||"";var h=n._buffer.join("");for(u===o.radixPoint&&(u=h);null===u.match(t.escapeRegex(h)+"$");)h=h.slice(1);s=void 0===(u=(u=u.replace(h,"")).split(""))[i]?{pos:i,remove:i}:{pos:i}}}else r||e!==o.radixPoint||void 0!==n.validPositions[i-1]||(s={insert:{pos:i,c:0},pos:i+1});return s},cardinality:1},"+":{validator:function(t,e,n,i,r){return r.allowMinus&&("-"===t||t===r.negationSymbol.front)},cardinality:1,placeholder:""},"-":{validator:function(t,e,n,i,r){return r.allowMinus&&t===r.negationSymbol.back},cardinality:1,placeholder:""},":":{validator:function(e,n,i,r,o){var a="["+t.escapeRegex(o.radixPoint)+"]",s=new RegExp(a).test(e);return s&&n.validPositions[i]&&n.validPositions[i].match.placeholder===o.radixPoint&&(s={caret:i+1}),s},cardinality:1,placeholder:function(t){return t.radixPoint}}},onUnMask:function(e,n,i){if(""===n&&!0===i.nullable)return n;var r=e.replace(i.prefix,"");return r=(r=r.replace(i.suffix,"")).replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"),""),""!==i.placeholder.charAt(0)&&(r=r.replace(new RegExp(i.placeholder.charAt(0),"g"),"0")),i.unmaskAsNumber?(""!==i.radixPoint&&-1!==r.indexOf(i.radixPoint)&&(r=r.replace(t.escapeRegex.call(this,i.radixPoint),".")),r=(r=r.replace(new RegExp("^"+t.escapeRegex(i.negationSymbol.front)),"-")).replace(new RegExp(t.escapeRegex(i.negationSymbol.back)+"$"),""),Number(r)):r},isComplete:function(e,n){var i=(n.numericInput?e.slice().reverse():e).join("");return i=(i=(i=(i=(i=i.replace(new RegExp("^"+t.escapeRegex(n.negationSymbol.front)),"-")).replace(new RegExp(t.escapeRegex(n.negationSymbol.back)+"$"),"")).replace(n.prefix,"")).replace(n.suffix,"")).replace(new RegExp(t.escapeRegex(n.groupSeparator)+"([0-9]{3})","g"),"$1"),","===n.radixPoint&&(i=i.replace(t.escapeRegex(n.radixPoint),".")),isFinite(i)},onBeforeMask:function(n,i){i.isNegative=void 0;var r=i.radixPoint||",";"number"!=typeof n&&"number"!==i.inputType||""===r||(n=n.toString().replace(".",r));var o=n.split(r),a=o[0].replace(/[^\-0-9]/g,""),s=o.length>1?o[1].replace(/[^0-9]/g,""):"";n=a+(""!==s?r+s:s);var l=0;if(""!==r&&(l=s.length,""!==s)){var c=Math.pow(10,l||1);isFinite(i.digits)&&(l=parseInt(i.digits),c=Math.pow(10,l)),n=n.replace(t.escapeRegex(r),"."),isFinite(n)&&(n=Math.round(parseFloat(n)*c)/c),n=n.toString().replace(".",r)}return 0===i.digits&&-1!==n.indexOf(t.escapeRegex(r))&&(n=n.substring(0,n.indexOf(t.escapeRegex(r)))),function(t,n,i){if(n>0){var r=e.inArray(i.radixPoint,t);-1===r&&(t.push(i.radixPoint),r=t.length-1);for(var o=1;o<=n;o++)t[r+o]=t[r+o]||"0"}return t}(n.toString().split(""),l,i).join("")},onKeyDown:function(n,i,r,o){var a=e(this);if(n.ctrlKey)switch(n.keyCode){case t.keyCode.UP:a.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(o.step)),a.trigger("setvalue");break;case t.keyCode.DOWN:a.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(o.step)),a.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,digitsOptional:!0,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowMinus:!1}}),t})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";var i,r,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=[n(4),n(2)],void 0===(o="function"==typeof(i=function(t,e){return void 0===t.fn.inputmask&&(t.fn.inputmask=function(n,i){var r,o=this[0];if(void 0===i&&(i={}),"string"==typeof n)switch(n){case"unmaskedvalue":return o&&o.inputmask?o.inputmask.unmaskedvalue():t(o).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return o&&o.inputmask?o.inputmask.getemptymask():"";case"hasMaskedValue":return!(!o||!o.inputmask)&&o.inputmask.hasMaskedValue();case"isComplete":return!o||!o.inputmask||o.inputmask.isComplete();case"getmetadata":return o&&o.inputmask?o.inputmask.getmetadata():void 0;case"setvalue":e.setValue(o,i);break;case"option":if("string"!=typeof i)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(i)});if(o&&void 0!==o.inputmask)return o.inputmask.option(i);break;default:return i.alias=n,r=new e(i),this.each(function(){r.mask(this)})}else{if(Array.isArray(n))return i.alias=n,r=new e(i),this.each(function(){r.mask(this)});if("object"==(void 0===n?"undefined":a(n)))return r=new e(n),void 0===n.mask&&void 0===n.alias?this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(n);r.mask(this)}):this.each(function(){r.mask(this)});if(void 0===n)return this.each(function(){(r=new e(i)).mask(this)})}}),t.fn.inputmask})?i.apply(e,r):i)||(t.exports=o)}]),function(t){"function"==typeof define&&define.amd?define(["./inputmask"],t):"object"==typeof exports?module.exports=t(require("./inputmask")):t(window.Inputmask)}(function(t){var e=t.dependencyLib,n={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return a(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return a(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return a(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return a(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return a(Date.prototype.getHours.call(this),2)}],hhh:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return a(Date.prototype.getHours.call(this),2)}],HHH:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return a(Date.prototype.getMinutes.call(this),2)}],ss:["[0-5][0-9]",Date.prototype.setSeconds,"seconds",function(){return a(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return a(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return a(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]"],tt:["[ap]m"],T:["[AP]"],TT:["[AP]M"],Z:[""],o:[""],S:[""]},i={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function r(t){if(!t.tokenizer){var e=[];for(var i in n)-1===e.indexOf(i[0])&&e.push(i[0]);t.tokenizer="("+e.join("+|")+")+?|.",t.tokenizer=new RegExp(t.tokenizer,"g")}return t.tokenizer}function o(e,i,o,a){for(var s,l="";s=r(o).exec(e);){if(void 0===i)if(n[s[0]])l+="("+n[s[0]][0]+")";else switch(s[0]){case"[":l+="(";break;case"]":l+=")?";break;default:l+=t.escapeRegex(s[0])}else if(n[s[0]])if(!0!==a&&n[s[0]][3])l+=n[s[0]][3].call(i.date);else n[s[0]][2]?l+=i["raw"+n[s[0]][2]]:l+=s[0];else l+=s[0]}return l}function a(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}function s(t,e,i){var o,a,s,l={date:new Date(1,0,1)},c=t;function u(t){var e=t.replace(/[^0-9]/g,"0");if(e!=t){var n=t.replace(/[^0-9]/g,""),r=(i.min&&i.min[o]||t).toString(),a=(i.max&&i.max[o]||t).toString();e=n+(n<r.slice(0,n.length)?r.slice(n.length):n>a.slice(0,n.length)?a.slice(n.length):e.toString().slice(n.length))}return e}function d(t,e,n){t[o]=u(e),t["raw"+o]=e,void 0!==s&&s.call(t.date,"month"==o?parseInt(t[o])-1:t[o])}if("string"==typeof c){for(;a=r(i).exec(e);){var h=c.slice(0,a[0].length);n.hasOwnProperty(a[0])&&(n[a[0]][0],o=n[a[0]][2],s=n[a[0]][1],d(l,h)),c=c.slice(h.length)}return l}if(c&&"object"==typeof c&&c.hasOwnProperty("date"))return c}return t.extendAliases({datetime:{mask:function(t){return n.S=t.i18n.ordinalSuffix.join("|"),t.inputFormat=i[t.inputFormat]||t.inputFormat,t.displayFormat=i[t.displayFormat]||t.displayFormat||t.inputFormat,t.outputFormat=i[t.outputFormat]||t.outputFormat||t.inputFormat,t.placeholder=""!==t.placeholder?t.placeholder:t.inputFormat.replace(/[\[\]]/,""),t.regex=o(t.inputFormat,void 0,t),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},postValidation:function(t,e,n,i){i.min=s(i.min,i.inputFormat,i),i.max=s(i.max,i.inputFormat,i);var r=n,a=s(t.join(""),i.inputFormat,i);return r&&a.date.getTime()==a.date.getTime()&&(r=(r=function(t,e){return(!isFinite(t.rawday)||"29"==t.day&&!isFinite(t.rawyear)||new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day)&&e}(a,r))&&function(t,e){var n=!0;if(e.min){if(t.rawyear){var i=t.rawyear.replace(/[^0-9]/g,"");n=e.min.year.substr(0,i.length)<=i}t.year===t.rawyear&&e.min.date.getTime()==e.min.date.getTime()&&(n=e.min.date.getTime()<=t.date.getTime())}return n&&e.max&&e.max.date.getTime()==e.max.date.getTime()&&(n=e.max.date.getTime()>=t.date.getTime()),n}(a,i)),e&&r&&n.pos!==e?{buffer:o(i.inputFormat,a,i),refreshFromBuffer:{start:e,end:n.pos}}:r},onKeyDown:function(n,i,o,s){if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){for(var l,c=new Date,u="";l=r(s).exec(s.inputFormat);)"d"===l[0].charAt(0)?u+=a(c.getDate(),l[0].length):"m"===l[0].charAt(0)?u+=a(c.getMonth()+1,l[0].length):"yyyy"===l[0]?u+=c.getFullYear().toString():"y"===l[0].charAt(0)&&(u+=a(c.getYear(),l[0].length));this.inputmask._valueSet(u),e(this).trigger("setvalue")}},onUnMask:function(t,e,n){return o(n.outputFormat,s(t,n.inputFormat,n),n,!0)},casing:function(t,e,n,i){return 0==e.nativeDef.indexOf("[ap]")?t.toLowerCase():0==e.nativeDef.indexOf("[AP]")?t.toUpperCase():t},insertMode:!1,shiftPositions:!1}}),t}),function(t){"function"==typeof define&&define.amd?define(["./inputmask"],t):"object"==typeof exports?module.exports=t(require("./inputmask")):t(window.Inputmask)}(function(t){var e=t.dependencyLib;function n(e,n){for(var i="",r=0;r<e.length;r++)t.prototype.definitions[e.charAt(r)]||n.definitions[e.charAt(r)]||n.optionalmarker.start===e.charAt(r)||n.optionalmarker.end===e.charAt(r)||n.quantifiermarker.start===e.charAt(r)||n.quantifiermarker.end===e.charAt(r)||n.groupmarker.start===e.charAt(r)||n.groupmarker.end===e.charAt(r)||n.alternatormarker===e.charAt(r)?i+="\\"+e.charAt(r):i+=e.charAt(r);return i}return t.extendAliases({numeric:{mask:function(t){if(0!==t.repeat&&isNaN(t.integerDigits)&&(t.integerDigits=t.repeat),t.repeat=0,t.groupSeparator===t.radixPoint&&t.digits&&"0"!==t.digits&&("."===t.radixPoint?t.groupSeparator=",":","===t.radixPoint?t.groupSeparator=".":t.groupSeparator="")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=void 0),t.autoGroup=t.autoGroup&&""!==t.groupSeparator,t.autoGroup&&("string"==typeof t.groupSize&&isFinite(t.groupSize)&&(t.groupSize=parseInt(t.groupSize)),isFinite(t.integerDigits))){var e=Math.floor(t.integerDigits/t.groupSize),i=t.integerDigits%t.groupSize;t.integerDigits=parseInt(t.integerDigits)+(0===i?e-1:e),t.integerDigits<1&&(t.integerDigits="*")}t.placeholder.length>1&&(t.placeholder=t.placeholder.charAt(0)),"radixFocus"===t.positionCaretOnClick&&""===t.placeholder&&!1===t.integerOptional&&(t.positionCaretOnClick="lvp"),t.definitions[";"]=t.definitions["~"],t.definitions[";"].definitionSymbol="~",!0===t.numericInput&&(t.positionCaretOnClick="radixFocus"===t.positionCaretOnClick?"lvp":t.positionCaretOnClick,t.digitsOptional=!1,isNaN(t.digits)&&(t.digits=2),t.decimalProtect=!1);var r="[+]";if(r+=n(t.prefix,t),!0===t.integerOptional?r+="~{1,"+t.integerDigits+"}":r+="~{"+t.integerDigits+"}",void 0!==t.digits){var o=t.decimalProtect?":":t.radixPoint,a=t.digits.toString().split(",");isFinite(a[0])&&a[1]&&isFinite(a[1])?r+=o+";{"+t.digits+"}":(isNaN(t.digits)||parseInt(t.digits)>0)&&(t.digitsOptional?r+="["+o+";{1,"+t.digits+"}]":r+=o+";{"+t.digits+"}")}return r+=n(t.suffix,t),r+="[-]",t.greedy=!1,r},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputType:"text",inputmode:"numeric",preValidation:function(t,n,i,r,o,a){if("-"===i||i===o.negationSymbol.front)return!0===o.allowMinus&&(o.isNegative=void 0===o.isNegative||!o.isNegative,""===t.join("")||{caret:a.validPositions[n]?n:void 0,dopost:!0});if(!1===r&&i===o.radixPoint&&void 0!==o.digits&&(isNaN(o.digits)||parseInt(o.digits)>0)){var s=e.inArray(o.radixPoint,t);if(-1!==s&&void 0!==a.validPositions[s])return!0===o.numericInput?n===s:{caret:s+1}}return!0},postValidation:function(n,i,r,o){var a=o.suffix.split(""),s=o.prefix.split("");if(void 0===r.pos&&void 0!==r.caret&&!0!==r.dopost)return r;var l=void 0!==r.caret?r.caret:r.pos,c=n.slice();o.numericInput&&(l=c.length-l-1,c=c.reverse());var u=c[l];if(u===o.groupSeparator&&(u=c[l+=1]),l===c.length-o.suffix.length-1&&u===o.radixPoint)return r;void 0!==u&&u!==o.radixPoint&&u!==o.negationSymbol.front&&u!==o.negationSymbol.back&&(c[l]="?",o.prefix.length>0&&l>=(!1===o.isNegative?1:0)&&l<o.prefix.length-1+(!1===o.isNegative?1:0)?s[l-(!1===o.isNegative?1:0)]="?":o.suffix.length>0&&l>=c.length-o.suffix.length-(!1===o.isNegative?1:0)&&(a[l-(c.length-o.suffix.length-(!1===o.isNegative?1:0))]="?")),s=s.join(""),a=a.join("");var d=c.join("").replace(s,"");if(d=(d=(d=(d=d.replace(a,"")).replace(new RegExp(t.escapeRegex(o.groupSeparator),"g"),"")).replace(new RegExp("[-"+t.escapeRegex(o.negationSymbol.front)+"]","g"),"")).replace(new RegExp(t.escapeRegex(o.negationSymbol.back)+"$"),""),isNaN(o.placeholder)&&(d=d.replace(new RegExp(t.escapeRegex(o.placeholder),"g"),"")),d.length>1&&1!==d.indexOf(o.radixPoint)&&("0"===u&&(d=d.replace(/^\?/g,"")),d=d.replace(/^0/g,"")),d.charAt(0)===o.radixPoint&&""!==o.radixPoint&&!0!==o.numericInput&&(d="0"+d),""!==d){if(d=d.split(""),(!o.digitsOptional||o.enforceDigitsOnBlur&&"blur"===r.event)&&isFinite(o.digits)){var h=e.inArray(o.radixPoint,d),f=e.inArray(o.radixPoint,c);-1===h&&(d.push(o.radixPoint),h=d.length-1);for(var p=1;p<=o.digits;p++)o.digitsOptional&&(!o.enforceDigitsOnBlur||"blur"!==r.event)||void 0!==d[h+p]&&d[h+p]!==o.placeholder.charAt(0)?-1!==f&&void 0!==c[f+p]&&(d[h+p]=d[h+p]||c[f+p]):d[h+p]=r.placeholder||o.placeholder.charAt(0)}if(!0!==o.autoGroup||""===o.groupSeparator||u===o.radixPoint&&void 0===r.pos&&!r.dopost)d=d.join("");else{var g=d[d.length-1]===o.radixPoint&&r.c===o.radixPoint;d=t(function(t,e){var n="";if(n+="("+e.groupSeparator+"*{"+e.groupSize+"}){*}",""!==e.radixPoint){var i=t.join("").split(e.radixPoint);i[1]&&(n+=e.radixPoint+"*{"+i[1].match(/^\d*\??\d*/)[0].length+"}")}return n}(d,o),{numericInput:!0,jitMasking:!0,definitions:{"*":{validator:"[0-9?]",cardinality:1}}}).format(d.join("")),g&&(d+=o.radixPoint),d.charAt(0)===o.groupSeparator&&d.substr(1)}}if(o.isNegative&&"blur"===r.event&&(o.isNegative="0"!==d),d=s+d,d+=a,o.isNegative&&(d=o.negationSymbol.front+d,d+=o.negationSymbol.back),d=d.split(""),void 0!==u)if(u!==o.radixPoint&&u!==o.negationSymbol.front&&u!==o.negationSymbol.back)(l=e.inArray("?",d))>-1?d[l]=u:l=r.caret||0;else if(u===o.radixPoint||u===o.negationSymbol.front||u===o.negationSymbol.back){var m=e.inArray(u,d);-1!==m&&(l=m)}o.numericInput&&(l=d.length-l-1,d=d.reverse());var v={caret:void 0!==u&&void 0===r.pos||void 0===l?l:l+(o.numericInput?-1:1),buffer:d,refreshFromBuffer:r.dopost||n.join("")!==d.join("")};return v.refreshFromBuffer?v:r},onBeforeWrite:function(n,i,r,o){if(n)switch(n.type){case"keydown":return o.postValidation(i,r,{caret:r,dopost:!0},o);case"blur":case"checkval":var a;if(function(e){void 0===e.parseMinMaxOptions&&(null!==e.min&&(e.min=e.min.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.min=e.min.replace(e.radixPoint,".")),e.min=isFinite(e.min)?parseFloat(e.min):NaN,isNaN(e.min)&&(e.min=Number.MIN_VALUE)),null!==e.max&&(e.max=e.max.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.max=e.max.replace(e.radixPoint,".")),e.max=isFinite(e.max)?parseFloat(e.max):NaN,isNaN(e.max)&&(e.max=Number.MAX_VALUE)),e.parseMinMaxOptions="done")}(o),null!==o.min||null!==o.max){if(a=o.onUnMask(i.join(""),void 0,e.extend({},o,{unmaskAsNumber:!0})),null!==o.min&&a<o.min)return o.isNegative=o.min<0,o.postValidation(o.min.toString().replace(".",o.radixPoint).split(""),r,{caret:r,dopost:!0,placeholder:"0"},o);if(null!==o.max&&a>o.max)return o.isNegative=o.max<0,o.postValidation(o.max.toString().replace(".",o.radixPoint).split(""),r,{caret:r,dopost:!0,placeholder:"0"},o)}return o.postValidation(i,r,{caret:r,placeholder:"0",event:"blur"},o);case"_checkval":return{caret:r}}},regex:{integerPart:function(e,n){return n?new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?"):new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+t.escapeRegex(e.groupSeparator)+t.escapeRegex(e.placeholder.charAt(0))+"]+")}},definitions:{"~":{validator:function(e,n,i,r,o,a){var s;if("k"===e||"m"===e){s={insert:[],c:0};for(var l=0,c="k"===e?2:5;l<c;l++)s.insert.push({pos:i+l,c:0});return s.pos=i+c,s}if(!0===(s=r?new RegExp("[0-9"+t.escapeRegex(o.groupSeparator)+"]").test(e):new RegExp("[0-9]").test(e))){if(!0!==o.numericInput&&void 0!==n.validPositions[i]&&"~"===n.validPositions[i].match.def&&!a){var u=n.buffer.join(""),d=(u=(u=u.replace(new RegExp("[-"+t.escapeRegex(o.negationSymbol.front)+"]","g"),"")).replace(new RegExp(t.escapeRegex(o.negationSymbol.back)+"$"),"")).split(o.radixPoint);d.length>1&&(d[1]=d[1].replace(/0/g,o.placeholder.charAt(0))),"0"===d[0]&&(d[0]=d[0].replace(/0/g,o.placeholder.charAt(0))),u=d[0]+o.radixPoint+d[1]||"";var h=n._buffer.join("");for(u===o.radixPoint&&(u=h);null===u.match(t.escapeRegex(h)+"$");)h=h.slice(1);s=void 0===(u=(u=u.replace(h,"")).split(""))[i]?{pos:i,remove:i}:{pos:i}}}else r||e!==o.radixPoint||void 0!==n.validPositions[i-1]||(s={insert:{pos:i,c:0},pos:i+1});return s},cardinality:1},"+":{validator:function(t,e,n,i,r){return r.allowMinus&&("-"===t||t===r.negationSymbol.front)},cardinality:1,placeholder:""},"-":{validator:function(t,e,n,i,r){return r.allowMinus&&t===r.negationSymbol.back},cardinality:1,placeholder:""},":":{validator:function(e,n,i,r,o){var a="["+t.escapeRegex(o.radixPoint)+"]",s=new RegExp(a).test(e);return s&&n.validPositions[i]&&n.validPositions[i].match.placeholder===o.radixPoint&&(s={caret:i+1}),s},cardinality:1,placeholder:function(t){return t.radixPoint}}},onUnMask:function(e,n,i){if(""===n&&!0===i.nullable)return n;var r=e.replace(i.prefix,"");return r=(r=r.replace(i.suffix,"")).replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"),""),""!==i.placeholder.charAt(0)&&(r=r.replace(new RegExp(i.placeholder.charAt(0),"g"),"0")),i.unmaskAsNumber?(""!==i.radixPoint&&-1!==r.indexOf(i.radixPoint)&&(r=r.replace(t.escapeRegex.call(this,i.radixPoint),".")),r=(r=r.replace(new RegExp("^"+t.escapeRegex(i.negationSymbol.front)),"-")).replace(new RegExp(t.escapeRegex(i.negationSymbol.back)+"$"),""),Number(r)):r},isComplete:function(e,n){var i=(n.numericInput?e.slice().reverse():e).join("");return i=(i=(i=(i=(i=i.replace(new RegExp("^"+t.escapeRegex(n.negationSymbol.front)),"-")).replace(new RegExp(t.escapeRegex(n.negationSymbol.back)+"$"),"")).replace(n.prefix,"")).replace(n.suffix,"")).replace(new RegExp(t.escapeRegex(n.groupSeparator)+"([0-9]{3})","g"),"$1"),","===n.radixPoint&&(i=i.replace(t.escapeRegex(n.radixPoint),".")),isFinite(i)},onBeforeMask:function(n,i){i.isNegative=void 0;var r=i.radixPoint||",";"number"!=typeof n&&"number"!==i.inputType||""===r||(n=n.toString().replace(".",r));var o=n.split(r),a=o[0].replace(/[^\-0-9]/g,""),s=o.length>1?o[1].replace(/[^0-9]/g,""):"";n=a+(""!==s?r+s:s);var l=0;if(""!==r&&(l=s.length,""!==s)){var c=Math.pow(10,l||1);isFinite(i.digits)&&(l=parseInt(i.digits),c=Math.pow(10,l)),n=n.replace(t.escapeRegex(r),"."),isFinite(n)&&(n=Math.round(parseFloat(n)*c)/c),n=n.toString().replace(".",r)}return 0===i.digits&&-1!==n.indexOf(t.escapeRegex(r))&&(n=n.substring(0,n.indexOf(t.escapeRegex(r)))),function(t,n,i){if(n>0){var r=e.inArray(i.radixPoint,t);-1===r&&(t.push(i.radixPoint),r=t.length-1);for(var o=1;o<=n;o++)t[r+o]=t[r+o]||"0"}return t}(n.toString().split(""),l,i).join("")},onKeyDown:function(n,i,r,o){var a=e(this);if(n.ctrlKey)switch(n.keyCode){case t.keyCode.UP:a.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(o.step)),a.trigger("setvalue");break;case t.keyCode.DOWN:a.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(o.step)),a.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,digitsOptional:!0,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowMinus:!1}}),t}),function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():window.noUiSlider=t()}(function(){"use strict";var t="14.6.4";function e(t){t.parentElement.removeChild(t)}function n(t){return null!=t}function i(t){t.preventDefault()}function r(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function o(t,e,n){n>0&&(c(t,e),setTimeout(function(){u(t,e)},n))}function a(t){return Math.max(Math.min(t,100),0)}function s(t){return Array.isArray(t)?t:[t]}function l(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function c(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function u(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function d(t){var e=void 0!==window.pageXOffset,n="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:n?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:n?t.documentElement.scrollTop:t.body.scrollTop}}function h(t,e){return 100/(e-t)}function f(t,e,n){return 100*e/(t[n+1]-t[n])}function p(t,e){for(var n=1;t>=e[n];)n+=1;return n}function g(t,e,n){if(n>=t.slice(-1)[0])return 100;var i=p(n,t),r=t[i-1],o=t[i],a=e[i-1],s=e[i];return a+function(t,e){return f(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}([r,o],n)/h(a,s)}function m(t,e,n,i){if(100===i)return i;var r=p(i,t),o=t[r-1],a=t[r];return n?i-o>(a-o)/2?a:o:e[r-1]?t[r-1]+function(t,e){return Math.round(t/e)*e}(i-t[r-1],e[r-1]):i}function v(e,n,i){var o;if("number"==typeof n&&(n=[n]),!Array.isArray(n))throw new Error("noUiSlider ("+t+"): 'range' contains invalid value.");if(!r(o="min"===e?0:"max"===e?100:parseFloat(e))||!r(n[0]))throw new Error("noUiSlider ("+t+"): 'range' value isn't numeric.");i.xPct.push(o),i.xVal.push(n[0]),o?i.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(i.xSteps[0]=n[1]),i.xHighestCompleteStep.push(0)}function y(t,e,n){if(e)if(n.xVal[t]!==n.xVal[t+1]){n.xSteps[t]=f([n.xVal[t],n.xVal[t+1]],e,0)/h(n.xPct[t],n.xPct[t+1]);var i=(n.xVal[t+1]-n.xVal[t])/n.xNumSteps[t],r=Math.ceil(Number(i.toFixed(3))-1),o=n.xVal[t]+n.xNumSteps[t]*r;n.xHighestCompleteStep[t]=o}else n.xSteps[t]=n.xHighestCompleteStep[t]=n.xVal[t]}function b(t,e,n){var i;this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var r=[];for(i in t)t.hasOwnProperty(i)&&r.push([t[i],i]);for(r.length&&"object"==typeof r[0][0]?r.sort(function(t,e){return t[0][0]-e[0][0]}):r.sort(function(t,e){return t[0]-e[0]}),i=0;i<r.length;i++)v(r[i][1],r[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)y(i,this.xNumSteps[i],this)}b.prototype.getDistance=function(e){var n,i=[];for(n=0;n<this.xNumSteps.length-1;n++){var r=this.xNumSteps[n];if(r&&e/r%1!=0)throw new Error("noUiSlider ("+t+"): 'limit', 'margin' and 'padding' of "+this.xPct[n]+"% range must be divisible by step.");i[n]=f(this.xVal,e,n)}return i},b.prototype.getAbsoluteDistance=function(t,e,n){var i,r=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[r+1];)r++;else t===this.xPct[this.xPct.length-1]&&(r=this.xPct.length-2);n||t!==this.xPct[r+1]||r++;var o=1,a=e[r],s=0,l=0,c=0,u=0;for(i=n?(t-this.xPct[r])/(this.xPct[r+1]-this.xPct[r]):(this.xPct[r+1]-t)/(this.xPct[r+1]-this.xPct[r]);a>0;)s=this.xPct[r+1+u]-this.xPct[r+u],e[r+u]*o+100-100*i>100?(l=s*i,o=(a-100*i)/e[r+u],i=1):(l=e[r+u]*s/100*o,o=0),n?(c-=l,this.xPct.length+u>=1&&u--):(c+=l,this.xPct.length-u>=1&&u++),a=e[r+u]*o;return t+c},b.prototype.toStepping=function(t){return t=g(this.xVal,this.xPct,t)},b.prototype.fromStepping=function(t){return function(t,e,n){if(n>=100)return t.slice(-1)[0];var i=p(n,e),r=t[i-1],o=t[i],a=e[i-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([r,o],(n-a)*h(a,e[i]))}(this.xVal,this.xPct,t)},b.prototype.getStep=function(t){return t=m(this.xPct,this.xSteps,this.snap,t)},b.prototype.getDefaultStep=function(t,e,n){var i=p(t,this.xPct);return(100===t||e&&t===this.xPct[i-1])&&(i=Math.max(i-1,1)),(this.xVal[i]-this.xVal[i-1])/n},b.prototype.getNearbySteps=function(t){var e=p(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},b.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(l);return Math.max.apply(null,t)},b.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var w={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number},E={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},C={tooltips:".__tooltips",aria:".__aria"};function T(e){if(function(t){return"object"==typeof t&&"function"==typeof t.to&&"function"==typeof t.from}(e))return!0;throw new Error("noUiSlider ("+t+"): 'format' requires 'to' and 'from' methods.")}function _(e,n){if(!r(n))throw new Error("noUiSlider ("+t+"): 'step' is not numeric.");e.singleStep=n}function O(e,n){if(!r(n))throw new Error("noUiSlider ("+t+"): 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=n}function k(e,n){if(!r(n))throw new Error("noUiSlider ("+t+"): 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=n}function D(e,n){if("object"!=typeof n||Array.isArray(n))throw new Error("noUiSlider ("+t+"): 'range' is not an object.");if(void 0===n.min||void 0===n.max)throw new Error("noUiSlider ("+t+"): Missing 'min' or 'max' in 'range'.");if(n.min===n.max)throw new Error("noUiSlider ("+t+"): 'range' 'min' and 'max' cannot be equal.");e.spectrum=new b(n,e.snap,e.singleStep)}function x(e,n){if(n=s(n),!Array.isArray(n)||!n.length)throw new Error("noUiSlider ("+t+"): 'start' option is incorrect.");e.handles=n.length,e.start=n}function I(e,n){if(e.snap=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+t+"): 'snap' option must be a boolean.")}function S(e,n){if(e.animate=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+t+"): 'animate' option must be a boolean.")}function R(e,n){if(e.animationDuration=n,"number"!=typeof n)throw new Error("noUiSlider ("+t+"): 'animationDuration' option must be a number.")}function A(e,n){var i,r=[!1];if("lower"===n?n=[!0,!1]:"upper"===n&&(n=[!1,!0]),!0===n||!1===n){for(i=1;i<e.handles;i++)r.push(n);r.push(!1)}else{if(!Array.isArray(n)||!n.length||n.length!==e.handles+1)throw new Error("noUiSlider ("+t+"): 'connect' option doesn't match handle count.");r=n}e.connect=r}function N(e,n){switch(n){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider ("+t+"): 'orientation' option is invalid.")}}function P(e,n){if(!r(n))throw new Error("noUiSlider ("+t+"): 'margin' option must be numeric.");0!==n&&(e.margin=e.spectrum.getDistance(n))}function M(e,n){if(!r(n))throw new Error("noUiSlider ("+t+"): 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(n),!e.limit||e.handles<2)throw new Error("noUiSlider ("+t+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function L(e,n){var i;if(!r(n)&&!Array.isArray(n))throw new Error("noUiSlider ("+t+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(n)&&2!==n.length&&!r(n[0])&&!r(n[1]))throw new Error("noUiSlider ("+t+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==n){for(Array.isArray(n)||(n=[n,n]),e.padding=[e.spectrum.getDistance(n[0]),e.spectrum.getDistance(n[1])],i=0;i<e.spectrum.xNumSteps.length-1;i++)if(e.padding[0][i]<0||e.padding[1][i]<0)throw new Error("noUiSlider ("+t+"): 'padding' option must be a positive number(s).");var o=n[0]+n[1],a=e.spectrum.xVal[0];if(o/(e.spectrum.xVal[e.spectrum.xVal.length-1]-a)>1)throw new Error("noUiSlider ("+t+"): 'padding' option must not exceed 100% of the range.")}}function K(e,n){switch(n){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider ("+t+"): 'direction' option was not recognized.")}}function j(e,n){if("string"!=typeof n)throw new Error("noUiSlider ("+t+"): 'behaviour' must be a string containing options.");var i=n.indexOf("tap")>=0,r=n.indexOf("drag")>=0,o=n.indexOf("fixed")>=0,a=n.indexOf("snap")>=0,s=n.indexOf("hover")>=0,l=n.indexOf("unconstrained")>=0;if(o){if(2!==e.handles)throw new Error("noUiSlider ("+t+"): 'fixed' behaviour must be used with 2 handles");P(e,e.start[1]-e.start[0])}if(l&&(e.margin||e.limit))throw new Error("noUiSlider ("+t+"): 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:i||a,drag:r,fixed:o,snap:a,hover:s,unconstrained:l}}function F(e,n){if(!1!==n)if(!0===n){e.tooltips=[];for(var i=0;i<e.handles;i++)e.tooltips.push(!0)}else{if(e.tooltips=s(n),e.tooltips.length!==e.handles)throw new Error("noUiSlider ("+t+"): must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider ("+t+"): 'tooltips' must be passed a formatter or 'false'.")})}}function B(t,e){t.ariaFormat=e,T(e)}function $(t,e){t.format=e,T(e)}function H(e,n){if(e.keyboardSupport=n,"boolean"!=typeof n)throw new Error("noUiSlider ("+t+"): 'keyboardSupport' option must be a boolean.")}function U(t,e){t.documentElement=e}function z(e,n){if("string"!=typeof n&&!1!==n)throw new Error("noUiSlider ("+t+"): 'cssPrefix' must be a string or `false`.");e.cssPrefix=n}function V(e,n){if("object"!=typeof n)throw new Error("noUiSlider ("+t+"): 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix)for(var i in e.cssClasses={},n)n.hasOwnProperty(i)&&(e.cssClasses[i]=e.cssPrefix+n[i]);else e.cssClasses=n}function W(e){var i={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:w,format:w},r={step:{r:!1,t:_},keyboardPageMultiplier:{r:!1,t:O},keyboardDefaultStep:{r:!1,t:k},start:{r:!0,t:x},connect:{r:!0,t:A},direction:{r:!0,t:K},snap:{r:!1,t:I},animate:{r:!1,t:S},animationDuration:{r:!1,t:R},range:{r:!0,t:D},orientation:{r:!1,t:N},margin:{r:!1,t:P},limit:{r:!1,t:M},padding:{r:!1,t:L},behaviour:{r:!0,t:j},ariaFormat:{r:!1,t:B},format:{r:!1,t:$},tooltips:{r:!1,t:F},keyboardSupport:{r:!0,t:H},documentElement:{r:!1,t:U},cssPrefix:{r:!0,t:z},cssClasses:{r:!0,t:V}},o={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:E,keyboardPageMultiplier:5,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(r).forEach(function(a){if(!n(e[a])&&void 0===o[a]){if(r[a].r)throw new Error("noUiSlider ("+t+"): '"+a+"' is required.");return!0}r[a].t(i,n(e[a])?e[a]:o[a])}),i.pips=e.pips;var a=document.createElement("div"),s=void 0!==a.style.msTransform,l=void 0!==a.style.transform;i.transformRule=l?"transform":s?"msTransform":"webkitTransform";return i.style=[["left","top"],["right","bottom"]][i.dir][i.ort],i}function q(r,l,h){var f,p,g,m,v,y,b,w,E=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},T=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),_=r,O=l.spectrum,k=[],D=[],x=[],I=0,S={},R=r.ownerDocument,A=l.documentElement||R.documentElement,N=R.body,P=-1,M=0,L=1,K=2,j="rtl"===R.dir||1===l.ort?0:100;function F(t,e){var n=R.createElement("div");return e&&c(n,e),t.appendChild(n),n}function B(t,e){var n=F(t,l.cssClasses.origin),i=F(n,l.cssClasses.handle);return F(i,l.cssClasses.touchArea),i.setAttribute("data-handle",e),l.keyboardSupport&&(i.setAttribute("tabindex","0"),i.addEventListener("keydown",function(t){return function(t,e){if(U()||z(e))return!1;var n=["Left","Right"],i=["Down","Up"],r=["PageDown","PageUp"],o=["Home","End"];l.dir&&!l.ort?n.reverse():l.ort&&!l.dir&&(i.reverse(),r.reverse());var a,s=t.key.replace("Arrow",""),c=s===r[0],u=s===r[1],d=s===i[0]||s===n[0]||c,h=s===i[1]||s===n[1]||u,f=s===o[0],p=s===o[1];if(!(d||h||f||p))return!0;if(t.preventDefault(),h||d){var g=l.keyboardPageMultiplier,m=d?0:1,v=bt(e),y=v[m];if(null===y)return!1;!1===y&&(y=O.getDefaultStep(D[e],d,l.keyboardDefaultStep)),(u||c)&&(y*=g),y=Math.max(y,1e-7),y*=d?-1:1,a=k[e]+y}else a=p?l.spectrum.xVal[l.spectrum.xVal.length-1]:l.spectrum.xVal[0];return pt(e,O.toStepping(a),!0,!0),lt("slide",e),lt("update",e),lt("change",e),lt("set",e),!1}(t,e)})),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",l.ort?"vertical":"horizontal"),0===e?c(i,l.cssClasses.handleLower):e===l.handles-1&&c(i,l.cssClasses.handleUpper),n}function $(t,e){return!!e&&F(t,l.cssClasses.connect)}function H(t,e){return!!l.tooltips[e]&&F(t.firstChild,l.cssClasses.tooltip)}function U(){return _.hasAttribute("disabled")}function z(t){return p[t].hasAttribute("disabled")}function V(){v&&(st("update"+C.tooltips),v.forEach(function(t){t&&e(t)}),v=null)}function q(){V(),v=p.map(H),at("update"+C.tooltips,function(t,e,n){if(v[e]){var i=t[e];!0!==l.tooltips[e]&&(i=l.tooltips[e].to(n[e])),v[e].innerHTML=i}})}function Y(t,e,n){var i=R.createElement("div"),r=[];r[M]=l.cssClasses.valueNormal,r[L]=l.cssClasses.valueLarge,r[K]=l.cssClasses.valueSub;var o=[];o[M]=l.cssClasses.markerNormal,o[L]=l.cssClasses.markerLarge,o[K]=l.cssClasses.markerSub;var a=[l.cssClasses.valueHorizontal,l.cssClasses.valueVertical],s=[l.cssClasses.markerHorizontal,l.cssClasses.markerVertical];function u(t,e){var n=e===l.cssClasses.value,i=n?r:o;return e+" "+(n?a:s)[l.ort]+" "+i[t]}return c(i,l.cssClasses.pips),c(i,0===l.ort?l.cssClasses.pipsHorizontal:l.cssClasses.pipsVertical),Object.keys(t).forEach(function(r){!function(t,r,o){if((o=e?e(r,o):o)!==P){var a=F(i,!1);a.className=u(o,l.cssClasses.marker),a.style[l.style]=t+"%",o>M&&((a=F(i,!1)).className=u(o,l.cssClasses.value),a.setAttribute("data-value",r),a.style[l.style]=t+"%",a.innerHTML=n.to(r))}}(r,t[r][0],t[r][1])}),i}function G(){m&&(e(m),m=null)}function X(e){G();var n=e.mode,i=e.density||1,r=e.filter||!1,o=function(e,n,i){if("range"===e||"steps"===e)return O.xVal;if("count"===e){if(n<2)throw new Error("noUiSlider ("+t+"): 'values' (>= 2) required for mode 'count'.");var r=n-1,o=100/r;for(n=[];r--;)n[r]=r*o;n.push(100),e="positions"}return"positions"===e?n.map(function(t){return O.fromStepping(i?O.getStep(t):t)}):"values"===e?i?n.map(function(t){return O.fromStepping(O.getStep(O.toStepping(t)))}):n:void 0}(n,e.values||!1,e.stepped||!1),a=function(t,e,n){var i,r={},o=O.xVal[0],a=O.xVal[O.xVal.length-1],s=!1,l=!1,c=0;return i=n.slice().sort(function(t,e){return t-e}),(n=i.filter(function(t){return!this[t]&&(this[t]=!0)},{}))[0]!==o&&(n.unshift(o),s=!0),n[n.length-1]!==a&&(n.push(a),l=!0),n.forEach(function(i,o){var a,u,d,h,f,p,g,m,v,y,b=i,w=n[o+1],E="steps"===e;if(E&&(a=O.xNumSteps[o]),a||(a=w-b),!1!==b)for(void 0===w&&(w=b),a=Math.max(a,1e-7),u=b;u<=w;u=(u+a).toFixed(7)/1){for(m=(f=(h=O.toStepping(u))-c)/t,y=f/(v=Math.round(m)),d=1;d<=v;d+=1)r[(p=c+d*y).toFixed(5)]=[O.fromStepping(p),0];g=n.indexOf(u)>-1?L:E?K:M,!o&&s&&u!==w&&(g=0),u===w&&l||(r[h.toFixed(5)]=[u,g]),c=h}}),r}(i,n,o),s=e.format||{to:Math.round};return m=_.appendChild(Y(a,r,s))}function Z(){var t=f.getBoundingClientRect(),e="offset"+["Width","Height"][l.ort];return 0===l.ort?t.width||f[e]:t.height||f[e]}function J(t,e,n,i){var r=function(r){return!!(r=function(t,e,n){var i,r,o=0===t.type.indexOf("touch"),a=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer");0===t.type.indexOf("MSPointer")&&(s=!0);if("mousedown"===t.type&&!t.buttons&&!t.touches)return!1;if(o){var l=function(t){return t.target===n||n.contains(t.target)||t.target.shadowRoot&&t.target.shadowRoot.contains(n)};if("touchstart"===t.type){var c=Array.prototype.filter.call(t.touches,l);if(c.length>1)return!1;i=c[0].pageX,r=c[0].pageY}else{var u=Array.prototype.find.call(t.changedTouches,l);if(!u)return!1;i=u.pageX,r=u.pageY}}e=e||d(R),(a||s)&&(i=t.clientX+e.x,r=t.clientY+e.y);return t.pageOffset=e,t.points=[i,r],t.cursor=a||s,t}(r,i.pageOffset,i.target||e))&&(!(U()&&!i.doNotReject)&&(o=_,a=l.cssClasses.tap,!((o.classList?o.classList.contains(a):new RegExp("\\b"+a+"\\b").test(o.className))&&!i.doNotReject)&&(!(t===E.start&&void 0!==r.buttons&&r.buttons>1)&&((!i.hover||!r.buttons)&&(T||r.preventDefault(),r.calcPoint=r.points[l.ort],void n(r,i))))));var o,a},o=[];return t.split(" ").forEach(function(t){e.addEventListener(t,r,!!T&&{passive:!0}),o.push([t,r])}),o}function Q(t){var e,n,i,r,o,s,c=100*(t-(e=f,n=l.ort,i=e.getBoundingClientRect(),r=e.ownerDocument,o=r.documentElement,s=d(r),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(s.x=0),n?i.top+s.y-o.clientTop:i.left+s.x-o.clientLeft))/Z();return c=a(c),l.dir?100-c:c}function tt(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&nt(t,e)}function et(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return nt(t,e);var n=(l.dir?-1:1)*(t.calcPoint-e.startCalcPoint);dt(n>0,100*n/e.baseSize,e.locations,e.handleNumbers)}function nt(t,e){e.handle&&(u(e.handle,l.cssClasses.active),I-=1),e.listeners.forEach(function(t){A.removeEventListener(t[0],t[1])}),0===I&&(u(_,l.cssClasses.drag),ft(),t.cursor&&(N.style.cursor="",N.removeEventListener("selectstart",i))),e.handleNumbers.forEach(function(t){lt("change",t),lt("set",t),lt("end",t)})}function it(t,e){if(e.handleNumbers.some(z))return!1;var n;1===e.handleNumbers.length&&(n=p[e.handleNumbers[0]].children[0],I+=1,c(n,l.cssClasses.active));t.stopPropagation();var r=[],o=J(E.move,A,et,{target:t.target,handle:n,listeners:r,startCalcPoint:t.calcPoint,baseSize:Z(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:D.slice()}),a=J(E.end,A,nt,{target:t.target,handle:n,listeners:r,doNotReject:!0,handleNumbers:e.handleNumbers}),s=J("mouseout",A,tt,{target:t.target,handle:n,listeners:r,doNotReject:!0,handleNumbers:e.handleNumbers});r.push.apply(r,o.concat(a,s)),t.cursor&&(N.style.cursor=getComputedStyle(t.target).cursor,p.length>1&&c(_,l.cssClasses.drag),N.addEventListener("selectstart",i,!1)),e.handleNumbers.forEach(function(t){lt("start",t)})}function rt(t){t.stopPropagation();var e=Q(t.calcPoint),n=function(t){var e=100,n=!1;return p.forEach(function(i,r){if(!z(r)){var o=D[r],a=Math.abs(o-t);(a<e||a<=e&&t>o||100===a&&100===e)&&(n=r,e=a)}}),n}(e);if(!1===n)return!1;l.events.snap||o(_,l.cssClasses.tap,l.animationDuration),pt(n,e,!0,!0),ft(),lt("slide",n,!0),lt("update",n,!0),lt("change",n,!0),lt("set",n,!0),l.events.snap&&it(t,{handleNumbers:[n]})}function ot(t){var e=Q(t.calcPoint),n=O.getStep(e),i=O.fromStepping(n);Object.keys(S).forEach(function(t){"hover"===t.split(".")[0]&&S[t].forEach(function(t){t.call(y,i)})})}function at(t,e){S[t]=S[t]||[],S[t].push(e),"update"===t.split(".")[0]&&p.forEach(function(t,e){lt("update",e)})}function st(t){var e=t&&t.split(".")[0],n=e?t.substring(e.length):t;Object.keys(S).forEach(function(t){var i=t.split(".")[0],r=t.substring(i.length);e&&e!==i||n&&n!==r||function(t){return t===C.aria||t===C.tooltips}(r)&&n!==r||delete S[t]})}function lt(t,e,n){Object.keys(S).forEach(function(i){var r=i.split(".")[0];t===r&&S[i].forEach(function(t){t.call(y,k.map(l.format.to),e,k.slice(),n||!1,D.slice(),y)})})}function ct(t,e,n,i,r,o){var s;return p.length>1&&!l.events.unconstrained&&(i&&e>0&&(s=O.getAbsoluteDistance(t[e-1],l.margin,0),n=Math.max(n,s)),r&&e<p.length-1&&(s=O.getAbsoluteDistance(t[e+1],l.margin,1),n=Math.min(n,s))),p.length>1&&l.limit&&(i&&e>0&&(s=O.getAbsoluteDistance(t[e-1],l.limit,0),n=Math.min(n,s)),r&&e<p.length-1&&(s=O.getAbsoluteDistance(t[e+1],l.limit,1),n=Math.max(n,s))),l.padding&&(0===e&&(s=O.getAbsoluteDistance(0,l.padding[0],0),n=Math.max(n,s)),e===p.length-1&&(s=O.getAbsoluteDistance(100,l.padding[1],1),n=Math.min(n,s))),!((n=a(n=O.getStep(n)))===t[e]&&!o)&&n}function ut(t,e){var n=l.ort;return(n?e:t)+", "+(n?t:e)}function dt(t,e,n,i){var r=n.slice(),o=[!t,t],a=[t,!t];i=i.slice(),t&&i.reverse(),i.length>1?i.forEach(function(t,n){var i=ct(r,t,r[t]+e,o[n],a[n],!1);!1===i?e=0:(e=i-r[t],r[t]=i)}):o=a=[!0];var s=!1;i.forEach(function(t,i){s=pt(t,n[t]+e,o[i],a[i])||s}),s&&i.forEach(function(t){lt("update",t),lt("slide",t)})}function ht(t,e){return l.dir?100-t-e:t}function ft(){x.forEach(function(t){var e=D[t]>50?-1:1,n=3+(p.length+e*t);p[t].style.zIndex=n})}function pt(t,e,n,i,r){return r||(e=ct(D,t,e,n,i,!1)),!1!==e&&(function(t,e){D[t]=e,k[t]=O.fromStepping(e);var n="translate("+ut(10*(ht(e,0)-j)+"%","0")+")";p[t].style[l.transformRule]=n,gt(t),gt(t+1)}(t,e),!0)}function gt(t){if(g[t]){var e=0,n=100;0!==t&&(e=D[t-1]),t!==g.length-1&&(n=D[t]);var i=n-e,r="translate("+ut(ht(e,i)+"%","0")+")",o="scale("+ut(i/100,"1")+")";g[t].style[l.transformRule]=r+" "+o}}function mt(t,e){return null===t||!1===t||void 0===t?D[e]:("number"==typeof t&&(t=String(t)),t=l.format.from(t),!1===(t=O.toStepping(t))||isNaN(t)?D[e]:t)}function vt(t,e,n){var i=s(t),r=void 0===D[0];e=void 0===e||!!e,l.animate&&!r&&o(_,l.cssClasses.tap,l.animationDuration),x.forEach(function(t){pt(t,mt(i[t],t),!0,!1,n)});for(var a=1===x.length?0:1;a<x.length;++a)x.forEach(function(t){pt(t,D[t],!0,!0,n)});ft(),x.forEach(function(t){lt("update",t),null!==i[t]&&e&&lt("set",t)})}function yt(){var t=k.map(l.format.to);return 1===t.length?t[0]:t}function bt(t){var e=D[t],n=O.getNearbySteps(e),i=k[t],r=n.thisStep.step,o=null;if(l.snap)return[i-n.stepBefore.startValue||null,n.stepAfter.startValue-i||null];!1!==r&&i+r>n.stepAfter.startValue&&(r=n.stepAfter.startValue-i),o=i>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&i-n.stepBefore.highestStep,100===e?r=null:0===e&&(o=null);var a=O.countStepDecimals();return null!==r&&!1!==r&&(r=Number(r.toFixed(a))),null!==o&&!1!==o&&(o=Number(o.toFixed(a))),[o,r]}return c(b=_,l.cssClasses.target),0===l.dir?c(b,l.cssClasses.ltr):c(b,l.cssClasses.rtl),0===l.ort?c(b,l.cssClasses.horizontal):c(b,l.cssClasses.vertical),c(b,"rtl"===getComputedStyle(b).direction?l.cssClasses.textDirectionRtl:l.cssClasses.textDirectionLtr),f=F(b,l.cssClasses.base),function(t,e){var n=F(e,l.cssClasses.connects);p=[],(g=[]).push($(n,t[0]));for(var i=0;i<l.handles;i++)p.push(B(e,i)),x[i]=i,g.push($(n,t[i+1]))}(l.connect,f),(w=l.events).fixed||p.forEach(function(t,e){J(E.start,t.children[0],it,{handleNumbers:[e]})}),w.tap&&J(E.start,f,rt,{}),w.hover&&J(E.move,f,ot,{hover:!0}),w.drag&&g.forEach(function(t,e){if(!1!==t&&0!==e&&e!==g.length-1){var n=p[e-1],i=p[e],r=[t];c(t,l.cssClasses.draggable),w.fixed&&(r.push(n.children[0]),r.push(i.children[0])),r.forEach(function(t){J(E.start,t,it,{handles:[n,i],handleNumbers:[e-1,e]})})}}),vt(l.start),l.pips&&X(l.pips),l.tooltips&&q(),st("update"+C.aria),at("update"+C.aria,function(t,e,n,i,r){x.forEach(function(t){var e=p[t],i=ct(D,t,0,!0,!0,!0),o=ct(D,t,100,!0,!0,!0),a=r[t],s=l.ariaFormat.to(n[t]);i=O.fromStepping(i).toFixed(1),o=O.fromStepping(o).toFixed(1),a=O.fromStepping(a).toFixed(1),e.children[0].setAttribute("aria-valuemin",i),e.children[0].setAttribute("aria-valuemax",o),e.children[0].setAttribute("aria-valuenow",a),e.children[0].setAttribute("aria-valuetext",s)})}),y={destroy:function(){for(var t in st(C.aria),st(C.tooltips),l.cssClasses)l.cssClasses.hasOwnProperty(t)&&u(_,l.cssClasses[t]);for(;_.firstChild;)_.removeChild(_.firstChild);delete _.noUiSlider},steps:function(){return x.map(bt)},on:at,off:st,get:yt,set:vt,setHandle:function(e,n,i,r){if(!((e=Number(e))>=0&&e<x.length))throw new Error("noUiSlider ("+t+"): invalid handle number, got: "+e);pt(e,mt(n,e),!0,!0,r),lt("update",e),i&&lt("set",e)},reset:function(t){vt(l.start,t)},__moveHandles:function(t,e,n){dt(t,e,D,n)},options:h,updateOptions:function(t,e){var i=yt(),r=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];r.forEach(function(e){void 0!==t[e]&&(h[e]=t[e])});var o=W(h);r.forEach(function(e){void 0!==t[e]&&(l[e]=o[e])}),O=o.spectrum,l.margin=o.margin,l.limit=o.limit,l.padding=o.padding,l.pips?X(l.pips):G(),l.tooltips?q():V(),D=[],vt(n(t.start)?t.start:i,e)},target:_,removePips:G,removeTooltips:V,getTooltips:function(){return v},getOrigins:function(){return p},pips:X}}return{__spectrum:b,version:t,cssClasses:E,create:function(e,n){if(!e||!e.nodeName)throw new Error("noUiSlider ("+t+"): create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider ("+t+"): Slider was already initialized.");var i=q(e,W(n),n);return e.noUiSlider=i,i}}}),function(t,e){if("function"==typeof define&&define.amd)define(["module","exports"],e);else if("undefined"!=typeof exports)e(module,exports);else{var n={exports:{}};e(n,n.exports),t.autosize=n.exports}}(this,function(t,e){"use strict";var n,i,r="function"==typeof Map?new Map:(n=[],i=[],{has:function(t){return n.indexOf(t)>-1},get:function(t){return i[n.indexOf(t)]},set:function(t,e){-1===n.indexOf(t)&&(n.push(t),i.push(e))},delete:function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),i.splice(e,1))}}),o=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){o=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function a(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!r.has(t)){var e,n=null,i=null,a=null,s=function(){t.clientWidth!==i&&d()},l=function(e){window.removeEventListener("resize",s,!1),t.removeEventListener("input",d,!1),t.removeEventListener("keyup",d,!1),t.removeEventListener("autosize:destroy",l,!1),t.removeEventListener("autosize:update",d,!1),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),r.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",l,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",d,!1),window.addEventListener("resize",s,!1),t.addEventListener("input",d,!1),t.addEventListener("autosize:update",d,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",r.set(t,{destroy:l,update:d}),"vertical"===(e=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),n="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(n)&&(n=0),d()}function c(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function u(){if(0!==t.scrollHeight){var e=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(t),r=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+n+"px",i=t.clientWidth,e.forEach(function(t){t.node.scrollTop=t.scrollTop}),r&&(document.documentElement.scrollTop=r)}}function d(){u();var e=Math.round(parseFloat(t.style.height)),n=window.getComputedStyle(t,null),i="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):t.offsetHeight;if(i<e?"hidden"===n.overflowY&&(c("scroll"),u(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==n.overflowY&&(c("hidden"),u(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),a!==i){a=i;var r=o("autosize:resized");try{t.dispatchEvent(r)}catch(t){}}}}function s(t){var e=r.get(t);e&&e.destroy()}function l(t){var e=r.get(t);e&&e.update()}var c=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((c=function(t){return t}).destroy=function(t){return t},c.update=function(t){return t}):((c=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return a(t)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],s),t},c.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],l),t}),e.default=c,t.exports=e.default}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,function(){return e={134:function(t,e,n){"use strict";n.d(e,{default:function(){return p}});e=n(279);var i=n.n(e),r=(e=n(370),n.n(e)),o=(e=n(817),n.n(e));function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var l=function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.resolveOptions(e),this.initSelection()}var e,n;return e=t,(n=[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"createFakeElement",value:function(){var t="rtl"===document.documentElement.getAttribute("dir");return this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px",t=window.pageYOffset||document.documentElement.scrollTop,this.fakeElem.style.top="".concat(t,"px"),this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.fakeElem}},{key:"selectFake",value:function(){var t=this,e=this.createFakeElement();this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.container.appendChild(e),this.selectedText=o()(e),this.copyText(),this.removeFake()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=o()(this.target),this.copyText()}},{key:"copyText",value:function(){var t;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==a(t)||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}])&&s(e.prototype,n),t}();function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if(t="data-clipboard-".concat(t),e.hasAttribute(t))return e.getAttribute(t)}var p=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(a,i());var t,e,n,o=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=h(t);return n=e?(n=h(this).constructor,Reflect.construct(i,arguments,n)):i.apply(this,arguments),i=this,!(n=n)||"object"!==c(n)&&"function"!=typeof n?function(t){if(void 0!==i)return i;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}():n}}(a);function a(t,e){var n;return function(t){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this),(n=o.call(this)).resolveOptions(e),n.listenClick(t),n}return t=a,n=[{key:"isSupported",value:function(){var t="string"==typeof(t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"])?[t]:t,e=!!document.queryCommandSupported;return t.forEach(function(t){e=e&&!!document.queryCommandSupported(t)}),e}}],(e=[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===c(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=r()(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){t=t.delegateTarget||t.currentTarget,this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(t){return f("action",t)}},{key:"defaultTarget",value:function(t){if(t=f("target",t))return document.querySelector(t)}},{key:"defaultText",value:function(t){return f("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}])&&u(t.prototype,e),n&&u(t,n),a}()},828:function(t){var e;"undefined"==typeof Element||Element.prototype.matches||((e=Element.prototype).matches=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector),t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},438:function(t,e,n){var i=n(828);function r(t,e,n,r,o){var a=function(t,e,n,r){return function(n){n.delegateTarget=i(n.target,e),n.delegateTarget&&r.call(t,n)}}.apply(this,arguments);return t.addEventListener(n,a,o),{destroy:function(){t.removeEventListener(n,a,o)}}}t.exports=function(t,e,n,i,o){return"function"==typeof t.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return r(t,e,n,i,o)}))}},879:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},370:function(t,e,n){var i=n(879),r=n(438);t.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!i.string(e))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(t))return c=e,u=n,(l=t).addEventListener(c,u),{destroy:function(){l.removeEventListener(c,u)}};if(i.nodeList(t))return o=t,a=e,s=n,Array.prototype.forEach.call(o,function(t){t.addEventListener(a,s)}),{destroy:function(){Array.prototype.forEach.call(o,function(t){t.removeEventListener(a,s)})}};if(i.string(t))return t=t,e=e,n=n,r(document.body,t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var o,a,s,l,c,u}},817:function(t){t.exports=function(t){var e,n="SELECT"===t.nodeName?(t.focus(),t.value):"INPUT"===t.nodeName||"TEXTAREA"===t.nodeName?((e=t.hasAttribute("readonly"))||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),e||t.removeAttribute("readonly"),t.value):(t.hasAttribute("contenteditable")&&t.focus(),n=window.getSelection(),(e=document.createRange()).selectNodeContents(t),n.removeAllRanges(),n.addRange(e),n.toString());return n}},279:function(t){function e(){}e.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var i=this;function r(){i.off(t,r),e.apply(n,arguments)}return r._=e,this.on(t,r,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,a=i.length;o<a;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},t.exports=e,t.exports.TinyEmitter=e}},n={},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t(134).default;function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{}};return e[i](r,r.exports,t),r.exports}var e,n}),function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(self,function(){return function(){var t={3099:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:function(t,e,n){var i=n(111);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:function(t,e,n){var i=n(5112),r=n(30),o=n(3070),a=i("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:r(null)}),t.exports=function(t){s[a][t]=!0}},1530:function(t,e,n){"use strict";var i=n(8710).charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},5787:function(t){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},9670:function(t,e,n){var i=n(111);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},4019:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,n){"use strict";var i,r=n(4019),o=n(9781),a=n(7854),s=n(111),l=n(6656),c=n(648),u=n(8880),d=n(1320),h=n(3070).f,f=n(9518),p=n(7674),g=n(5112),m=n(9711),v=a.Int8Array,y=v&&v.prototype,b=a.Uint8ClampedArray,w=b&&b.prototype,E=v&&f(v),C=y&&f(y),T=Object.prototype,_=T.isPrototypeOf,O=g("toStringTag"),k=m("TYPED_ARRAY_TAG"),D=r&&!!p&&"Opera"!==c(a.opera),x=!1,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},S={BigInt64Array:8,BigUint64Array:8},R=function(t){if(!s(t))return!1;var e=c(t);return l(I,e)||l(S,e)};for(i in I)a[i]||(D=!1);if((!D||"function"!=typeof E||E===Function.prototype)&&(E=function(){throw TypeError("Incorrect invocation")},D))for(i in I)a[i]&&p(a[i],E);if((!D||!C||C===T)&&(C=E.prototype,D))for(i in I)a[i]&&p(a[i].prototype,C);if(D&&f(w)!==C&&p(w,C),o&&!l(C,O))for(i in x=!0,h(C,O,{get:function(){return s(this)?this[k]:void 0}}),I)a[i]&&u(a[i],k,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:x&&k,aTypedArray:function(t){if(R(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(p){if(_.call(E,t))return t}else for(var e in I)if(l(I,i)){var n=a[e];if(n&&(t===n||_.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(o){if(n)for(var i in I){var r=a[i];r&&l(r.prototype,t)&&delete r.prototype[t]}C[t]&&!n||d(C,t,n?e:D&&y[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var i,r;if(o){if(p){if(n)for(i in I)(r=a[i])&&l(r,t)&&delete r[t];if(E[t]&&!n)return;try{return d(E,t,n?e:D&&v[t]||e)}catch(t){}}for(i in I)!(r=a[i])||r[t]&&!n||d(r,t,e)}},isView:function(t){if(!s(t))return!1;var e=c(t);return"DataView"===e||l(I,e)||l(S,e)},isTypedArray:R,TypedArray:E,TypedArrayPrototype:C}},3331:function(t,e,n){"use strict";var i=n(7854),r=n(9781),o=n(4019),a=n(8880),s=n(2248),l=n(7293),c=n(5787),u=n(9958),d=n(7466),h=n(7067),f=n(1179),p=n(9518),g=n(7674),m=n(8006).f,v=n(3070).f,y=n(1285),b=n(8003),w=n(9909),E=w.get,C=w.set,T=i.ArrayBuffer,_=T,O=i.DataView,k=O&&O.prototype,D=Object.prototype,x=i.RangeError,I=f.pack,S=f.unpack,R=function(t){return[255&t]},A=function(t){return[255&t,t>>8&255]},N=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},P=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},M=function(t){return I(t,23,4)},L=function(t){return I(t,52,8)},K=function(t,e){v(t.prototype,e,{get:function(){return E(this)[e]}})},j=function(t,e,n,i){var r=h(n),o=E(t);if(r+e>o.byteLength)throw x("Wrong index");var a=E(o.buffer).bytes,s=r+o.byteOffset,l=a.slice(s,s+e);return i?l:l.reverse()},F=function(t,e,n,i,r,o){var a=h(n),s=E(t);if(a+e>s.byteLength)throw x("Wrong index");for(var l=E(s.buffer).bytes,c=a+s.byteOffset,u=i(+r),d=0;d<e;d++)l[c+d]=u[o?d:e-d-1]};if(o){if(!l(function(){T(1)})||!l(function(){new T(-1)})||l(function(){return new T,new T(1.5),new T(NaN),"ArrayBuffer"!=T.name})){for(var B,$=(_=function(t){return c(this,_),new T(h(t))}).prototype=T.prototype,H=m(T),U=0;H.length>U;)(B=H[U++])in _||a(_,B,T[B]);$.constructor=_}g&&p(k)!==D&&g(k,D);var z=new O(new _(2)),V=k.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||s(k,{setInt8:function(t,e){V.call(this,t,e<<24>>24)},setUint8:function(t,e){V.call(this,t,e<<24>>24)}},{unsafe:!0})}else _=function(t){c(this,_,"ArrayBuffer");var e=h(t);C(this,{bytes:y.call(new Array(e),0),byteLength:e}),r||(this.byteLength=e)},O=function(t,e,n){c(this,O,"DataView"),c(t,_,"DataView");var i=E(t).byteLength,o=u(e);if(o<0||o>i)throw x("Wrong offset");if(o+(n=void 0===n?i-o:d(n))>i)throw x("Wrong length");C(this,{buffer:t,byteLength:n,byteOffset:o}),r||(this.buffer=t,this.byteLength=n,this.byteOffset=o)},r&&(K(_,"byteLength"),K(O,"buffer"),K(O,"byteLength"),K(O,"byteOffset")),s(O.prototype,{getInt8:function(t){return j(this,1,t)[0]<<24>>24},getUint8:function(t){return j(this,1,t)[0]},getInt16:function(t){var e=j(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=j(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return P(j(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return P(j(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return S(j(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return S(j(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){F(this,1,t,R,e)},setUint8:function(t,e){F(this,1,t,R,e)},setInt16:function(t,e){F(this,2,t,A,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){F(this,2,t,A,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){F(this,4,t,N,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){F(this,4,t,N,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){F(this,4,t,M,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){F(this,8,t,L,e,arguments.length>2?arguments[2]:void 0)}});b(_,"ArrayBuffer"),b(O,"DataView"),t.exports={ArrayBuffer:_,DataView:O}},1048:function(t,e,n){"use strict";var i=n(7908),r=n(1400),o=n(7466),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=i(this),s=o(n.length),l=r(t,s),c=r(e,s),u=arguments.length>2?arguments[2]:void 0,d=a((void 0===u?s:r(u,s))-c,s-l),h=1;for(c<l&&l<c+d&&(h=-1,c+=d-1,l+=d-1);d-- >0;)c in n?n[l]=n[c]:delete n[l],l+=h,c+=h;return n}},1285:function(t,e,n){"use strict";var i=n(7908),r=n(1400),o=n(7466);t.exports=function(t){for(var e=i(this),n=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>s;)e[s++]=t;return e}},8533:function(t,e,n){"use strict";var i=n(2092).forEach,r=n(9341)("forEach");t.exports=r?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},8457:function(t,e,n){"use strict";var i=n(9974),r=n(7908),o=n(3411),a=n(7659),s=n(7466),l=n(6135),c=n(1246);t.exports=function(t){var e,n,u,d,h,f,p=r(t),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,y=void 0!==v,b=c(p),w=0;if(y&&(v=i(v,m>2?arguments[2]:void 0,2)),null==b||g==Array&&a(b))for(n=new g(e=s(p.length));e>w;w++)f=y?v(p[w],w):p[w],l(n,w,f);else for(h=(d=b.call(p)).next,n=new g;!(u=h.call(d)).done;w++)f=y?o(d,v,[u.value,w],!0):u.value,l(n,w,f);return n.length=w,n}},1318:function(t,e,n){var i=n(5656),r=n(7466),o=n(1400),a=function(t){return function(e,n,a){var s,l=i(e),c=r(l.length),u=o(a,c);if(t&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2092:function(t,e,n){var i=n(9974),r=n(8361),o=n(7908),a=n(7466),s=n(5417),l=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,u=4==t,d=6==t,h=7==t,f=5==t||d;return function(p,g,m,v){for(var y,b,w=o(p),E=r(w),C=i(g,m,3),T=a(E.length),_=0,O=v||s,k=e?O(p,T):n||h?O(p,0):void 0;T>_;_++)if((f||_ in E)&&(b=C(y=E[_],_,w),t))if(e)k[_]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return _;case 2:l.call(k,y)}else switch(t){case 4:return!1;case 7:l.call(k,y)}return d?-1:c||u?u:k}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},6583:function(t,e,n){"use strict";var i=n(5656),r=n(9958),o=n(7466),a=n(9341),s=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,u=a("lastIndexOf"),d=c||!u;t.exports=d?function(t){if(c)return l.apply(this,arguments)||0;var e=i(this),n=o(e.length),a=n-1;for(arguments.length>1&&(a=s(a,r(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:l},1194:function(t,e,n){var i=n(7293),r=n(5112),o=n(7392),a=r("species");t.exports=function(t){return o>=51||!i(function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},9341:function(t,e,n){"use strict";var i=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&i(function(){n.call(null,e||function(){throw 1},1)})}},3671:function(t,e,n){var i=n(3099),r=n(7908),o=n(8361),a=n(7466),s=function(t){return function(e,n,s,l){i(n);var c=r(e),u=o(c),d=a(c.length),h=t?d-1:0,f=t?-1:1;if(s<2)for(;;){if(h in u){l=u[h],h+=f;break}if(h+=f,t?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:d>h;h+=f)h in u&&(l=n(l,u[h],h,c));return l}};t.exports={left:s(!1),right:s(!0)}},5417:function(t,e,n){var i=n(111),r=n(3157),o=n(5112)("species");t.exports=function(t,e){var n;return r(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},3411:function(t,e,n){var i=n(9670),r=n(9212);t.exports=function(t,e,n,o){try{return o?e(i(n)[0],n[1]):e(n)}catch(e){throw r(t),e}}},7072:function(t,e,n){var i=n(5112)("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},4326:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:function(t,e,n){var i=n(1694),r=n(4326),o=n(5112)("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=i?r:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:a?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},9920:function(t,e,n){var i=n(6656),r=n(3887),o=n(1236),a=n(3070);t.exports=function(t,e){for(var n=r(e),s=a.f,l=o.f,c=0;c<n.length;c++){var u=n[c];i(t,u)||s(t,u,l(e,u))}}},8544:function(t,e,n){var i=n(7293);t.exports=!i(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},4994:function(t,e,n){"use strict";var i=n(3383).IteratorPrototype,r=n(30),o=n(9114),a=n(8003),s=n(7497),l=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=r(i,{next:o(1,n)}),a(t,c,!1,!0),s[c]=l,t}},8880:function(t,e,n){var i=n(9781),r=n(3070),o=n(9114);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,n){"use strict";var i=n(7593),r=n(3070),o=n(9114);t.exports=function(t,e,n){var a=i(e);a in t?r.f(t,a,o(0,n)):t[a]=n}},654:function(t,e,n){"use strict";var i=n(2109),r=n(4994),o=n(9518),a=n(7674),s=n(8003),l=n(8880),c=n(1320),u=n(5112),d=n(1913),h=n(7497),f=n(3383),p=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,m=u("iterator"),v=function(){return this};t.exports=function(t,e,n,u,f,y,b){r(n,e,u);var w,E,C,T=function(t){if(t===f&&x)return x;if(!g&&t in k)return k[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},_=e+" Iterator",O=!1,k=t.prototype,D=k[m]||k["@@iterator"]||f&&k[f],x=!g&&D||T(f),I="Array"==e&&k.entries||D;if(I&&(w=o(I.call(new t)),p!==Object.prototype&&w.next&&(d||o(w)===p||(a?a(w,p):"function"!=typeof w[m]&&l(w,m,v)),s(w,_,!0,!0),d&&(h[_]=v))),"values"==f&&D&&"values"!==D.name&&(O=!0,x=function(){return D.call(this)}),d&&!b||k[m]===x||l(k,m,x),h[e]=x,f)if(E={values:T("values"),keys:y?x:T("keys"),entries:T("entries")},b)for(C in E)!g&&!O&&C in k||c(k,C,E[C]);else i({target:e,proto:!0,forced:g||O},E);return E}},9781:function(t,e,n){var i=n(7293);t.exports=!i(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},317:function(t,e,n){var i=n(7854),r=n(111),o=i.document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8113:function(t,e,n){var i=n(5005);t.exports=i("navigator","userAgent")||""},7392:function(t,e,n){var i,r,o=n(7854),a=n(8113),s=o.process,l=s&&s.versions,c=l&&l.v8;c?r=(i=c.split("."))[0]+i[1]:a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(r=i[1]),t.exports=r&&+r},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var i=n(7854),r=n(1236).f,o=n(8880),a=n(1320),s=n(3505),l=n(9920),c=n(4705);t.exports=function(t,e){var n,u,d,h,f,p=t.target,g=t.global,m=t.stat;if(n=g?i:m?i[p]||s(p,{}):(i[p]||{}).prototype)for(u in e){if(h=e[u],d=t.noTargetGet?(f=r(n,u))&&f.value:n[u],!c(g?u:p+(m?".":"#")+u,t.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(t.sham||d&&d.sham)&&o(h,"sham",!0),a(n,u,h,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:function(t,e,n){"use strict";n(4916);var i=n(1320),r=n(7293),o=n(5112),a=n(2261),s=n(8880),l=o("species"),c=!r(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),u="$0"==="a".replace(/./,"$0"),d=o("replace"),h=!!/./[d]&&""===/./[d]("a","$0"),f=!r(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});t.exports=function(t,e,n,d){var p=o(t),g=!r(function(){var e={};return e[p]=function(){return 7},7!=""[t](e)}),m=g&&!r(function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e});if(!g||!m||"replace"===t&&(!c||!u||h)||"split"===t&&!f){var v=/./[p],y=n(p,""[t],function(t,e,n,i,r){return e.exec===a?g&&!r?{done:!0,value:v.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}},{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),b=y[0],w=y[1];i(String.prototype,t,b),i(RegExp.prototype,p,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}d&&s(RegExp.prototype[p],"sham",!0)}},9974:function(t,e,n){var i=n(3099);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},5005:function(t,e,n){var i=n(857),r=n(7854),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t])||o(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},1246:function(t,e,n){var i=n(648),r=n(7497),o=n(5112)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[i(t)]}},8554:function(t,e,n){var i=n(9670),r=n(1246);t.exports=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return i(e.call(t))}},647:function(t,e,n){var i=n(7908),r=Math.floor,o="".replace,a=/\$([$&'`]|\d\d?|<[^>]*>)/g,s=/\$([$&'`]|\d\d?)/g;t.exports=function(t,e,n,l,c,u){var d=n+t.length,h=l.length,f=s;return void 0!==c&&(c=i(c),f=a),o.call(u,f,function(i,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(d);case"<":a=c[o.slice(1,-1)];break;default:var s=+o;if(0===s)return i;if(s>h){var u=r(s/10);return 0===u?i:u<=h?void 0===l[u-1]?o.charAt(1):l[u-1]+o.charAt(1):i}a=l[s-1]}return void 0===a?"":a})}},7854:function(t,e,n){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},3501:function(t){t.exports={}},490:function(t,e,n){var i=n(5005);t.exports=i("document","documentElement")},4664:function(t,e,n){var i=n(9781),r=n(7293),o=n(317);t.exports=!i&&!r(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},1179:function(t){var e=Math.abs,n=Math.pow,i=Math.floor,r=Math.log,o=Math.LN2;t.exports={pack:function(t,a,s){var l,c,u,d=new Array(s),h=8*s-a-1,f=(1<<h)-1,p=f>>1,g=23===a?n(2,-24)-n(2,-77):0,m=t<0||0===t&&1/t<0?1:0,v=0;for((t=e(t))!=t||t===1/0?(c=t!=t?1:0,l=f):(l=i(r(t)/o),t*(u=n(2,-l))<1&&(l--,u*=2),(t+=l+p>=1?g/u:g*n(2,1-p))*u>=2&&(l++,u/=2),l+p>=f?(c=0,l=f):l+p>=1?(c=(t*u-1)*n(2,a),l+=p):(c=t*n(2,p-1)*n(2,a),l=0));a>=8;d[v++]=255&c,c/=256,a-=8);for(l=l<<a|c,h+=a;h>0;d[v++]=255&l,l/=256,h-=8);return d[--v]|=128*m,d},unpack:function(t,e){var i,r=t.length,o=8*r-e-1,a=(1<<o)-1,s=a>>1,l=o-7,c=r-1,u=t[c--],d=127&u;for(u>>=7;l>0;d=256*d+t[c],c--,l-=8);for(i=d&(1<<-l)-1,d>>=-l,l+=e;l>0;i=256*i+t[c],c--,l-=8);if(0===d)d=1-s;else{if(d===a)return i?NaN:u?-1/0:1/0;i+=n(2,e),d-=s}return(u?-1:1)*i*n(2,d-e)}}},8361:function(t,e,n){var i=n(7293),r=n(4326),o="".split;t.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},9587:function(t,e,n){var i=n(111),r=n(7674);t.exports=function(t,e,n){var o,a;return r&&"function"==typeof(o=e.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&r(t,a),t}},2788:function(t,e,n){var i=n(5465),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return r.call(t)}),t.exports=i.inspectSource},9909:function(t,e,n){var i,r,o,a=n(8536),s=n(7854),l=n(111),c=n(8880),u=n(6656),d=n(5465),h=n(6200),f=n(3501),p=s.WeakMap;if(a){var g=d.state||(d.state=new p),m=g.get,v=g.has,y=g.set;i=function(t,e){return e.facade=t,y.call(g,t,e),e},r=function(t){return m.call(g,t)||{}},o=function(t){return v.call(g,t)}}else{var b=h("state");f[b]=!0,i=function(t,e){return e.facade=t,c(t,b,e),e},r=function(t){return u(t,b)?t[b]:{}},o=function(t){return u(t,b)}}t.exports={set:i,get:r,has:o,enforce:function(t){return o(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},7659:function(t,e,n){var i=n(5112),r=n(7497),o=i("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[o]===t)}},3157:function(t,e,n){var i=n(4326);t.exports=Array.isArray||function(t){return"Array"==i(t)}},4705:function(t,e,n){var i=n(7293),r=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==c||n!=l&&("function"==typeof e?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},111:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:function(t){t.exports=!1},7850:function(t,e,n){var i=n(111),r=n(4326),o=n(5112)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},9212:function(t,e,n){var i=n(9670);t.exports=function(t){var e=t.return;if(void 0!==e)return i(e.call(t)).value}},3383:function(t,e,n){"use strict";var i,r,o,a=n(7293),s=n(9518),l=n(8880),c=n(6656),u=n(5112),d=n(1913),h=u("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(r=s(s(o)))!==Object.prototype&&(i=r):f=!0);var p=null==i||a(function(){var t={};return i[h].call(t)!==t});p&&(i={}),d&&!p||c(i,h)||l(i,h,function(){return this}),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:f}},7497:function(t){t.exports={}},133:function(t,e,n){var i=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},590:function(t,e,n){var i=n(7293),r=n(5112),o=n(1913),a=r("iterator");t.exports=!i(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach(function(t,i){e.delete("b"),n+=i+t}),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})},8536:function(t,e,n){var i=n(7854),r=n(2788),o=i.WeakMap;t.exports="function"==typeof o&&/native code/.test(r(o))},1574:function(t,e,n){"use strict";var i=n(9781),r=n(7293),o=n(1956),a=n(5181),s=n(5296),l=n(7908),c=n(8361),u=Object.assign,d=Object.defineProperty;t.exports=!u||r(function(){if(i&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||"abcdefghijklmnopqrst"!=o(u({},e)).join("")})?function(t,e){for(var n=l(t),r=arguments.length,u=1,d=a.f,h=s.f;r>u;)for(var f,p=c(arguments[u++]),g=d?o(p).concat(d(p)):o(p),m=g.length,v=0;m>v;)f=g[v++],i&&!h.call(p,f)||(n[f]=p[f]);return n}:u},30:function(t,e,n){var i,r=n(9670),o=n(6048),a=n(748),s=n(3501),l=n(490),c=n(317),u=n(6200),d=u("IE_PROTO"),h=function(){},f=function(t){return"<script>"+t+"<\/script>"},p=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=i?function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e}(i):((e=c("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=r(t),n=new h,h.prototype=null,n[d]=t):n=p(),void 0===e?n:o(n,e)}},6048:function(t,e,n){var i=n(9781),r=n(3070),o=n(9670),a=n(1956);t.exports=i?Object.defineProperties:function(t,e){o(t);for(var n,i=a(e),s=i.length,l=0;s>l;)r.f(t,n=i[l++],e[n]);return t}},3070:function(t,e,n){var i=n(9781),r=n(4664),o=n(9670),a=n(7593),s=Object.defineProperty;e.f=i?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var i=n(9781),r=n(5296),o=n(9114),a=n(5656),s=n(7593),l=n(6656),c=n(4664),u=Object.getOwnPropertyDescriptor;e.f=i?u:function(t,e){if(t=a(t),e=s(e,!0),c)try{return u(t,e)}catch(t){}if(l(t,e))return o(!r.f.call(t,e),t[e])}},8006:function(t,e,n){var i=n(6324),r=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var i=n(6656),r=n(7908),o=n(6200),a=n(8544),s=o("IE_PROTO"),l=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=r(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},6324:function(t,e,n){var i=n(6656),r=n(5656),o=n(1318).indexOf,a=n(3501);t.exports=function(t,e){var n,s=r(t),l=0,c=[];for(n in s)!i(a,n)&&i(s,n)&&c.push(n);for(;e.length>l;)i(s,n=e[l++])&&(~o(c,n)||c.push(n));return c}},1956:function(t,e,n){var i=n(6324),r=n(748);t.exports=Object.keys||function(t){return i(t,r)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var i=n(9670),r=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return i(n),r(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},288:function(t,e,n){"use strict";var i=n(1694),r=n(648);t.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},3887:function(t,e,n){var i=n(5005),r=n(8006),o=n(5181),a=n(9670);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},857:function(t,e,n){var i=n(7854);t.exports=i},2248:function(t,e,n){var i=n(1320);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},1320:function(t,e,n){var i=n(7854),r=n(8880),o=n(6656),a=n(3505),s=n(2788),l=n(9909),c=l.get,u=l.enforce,d=String(String).split("String");(t.exports=function(t,e,n,s){var l,c=!!s&&!!s.unsafe,h=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||r(n,"name",e),(l=u(n)).source||(l.source=d.join("string"==typeof e?e:""))),t!==i?(c?!f&&t[e]&&(h=!0):delete t[e],h?t[e]=n:r(t,e,n)):h?t[e]=n:a(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&c(this).source||s(this)})},7651:function(t,e,n){var i=n(4326),r=n(2261);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},2261:function(t,e,n){"use strict";var i,r,o=n(7066),a=n(2999),s=RegExp.prototype.exec,l=String.prototype.replace,c=s,u=(i=/a/,r=/b*/g,s.call(i,"a"),s.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),d=a.UNSUPPORTED_Y||a.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(u||h||d)&&(c=function(t){var e,n,i,r,a=this,c=d&&a.sticky,f=o.call(a),p=a.source,g=0,m=t;return c&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),m=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(p="(?: "+p+")",m=" "+m,g++),n=new RegExp("^(?:"+p+")",f)),h&&(n=new RegExp("^"+p+"$(?!\\s)",f)),u&&(e=a.lastIndex),i=s.call(c?n:a,m),c?i?(i.input=i.input.slice(g),i[0]=i[0].slice(g),i.index=a.lastIndex,a.lastIndex+=i[0].length):a.lastIndex=0:u&&i&&(a.lastIndex=a.global?i.index+i[0].length:e),h&&i&&i.length>1&&l.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i}),t.exports=c},7066:function(t,e,n){"use strict";var i=n(9670);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:function(t,e,n){"use strict";var i=n(7293);function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i(function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),e.BROKEN_CARET=i(function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},4488:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:function(t,e,n){var i=n(7854),r=n(8880);t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},6340:function(t,e,n){"use strict";var i=n(5005),r=n(3070),o=n(5112),a=n(9781),s=o("species");t.exports=function(t){var e=i(t),n=r.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},8003:function(t,e,n){var i=n(3070).f,r=n(6656),o=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},6200:function(t,e,n){var i=n(2309),r=n(9711),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},5465:function(t,e,n){var i=n(7854),r=n(3505),o=i["__core-js_shared__"]||r("__core-js_shared__",{});t.exports=o},2309:function(t,e,n){var i=n(1913),r=n(5465);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.0",mode:i?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(t,e,n){var i=n(9670),r=n(3099),o=n(5112)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||null==(n=i(a)[o])?e:r(n)}},8710:function(t,e,n){var i=n(9958),r=n(4488),o=function(t){return function(e,n){var o,a,s=String(r(e)),l=i(n),c=s.length;return l<0||l>=c?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},3197:function(t){"use strict";var e=/[^\0-\u007E]/,n=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",r=Math.floor,o=String.fromCharCode,a=function(t){return t+22+75*(t<26)},s=function(t,e,n){var i=0;for(t=n?r(t/700):t>>1,t+=r(t/e);t>455;i+=36)t=r(t/35);return r(i+36*t/(t+38))},l=function(t){var e,n,l=[],c=(t=function(t){for(var e=[],n=0,i=t.length;n<i;){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&r)<<10)+(1023&o)+65536):(e.push(r),n--)}else e.push(r)}return e}(t)).length,u=128,d=0,h=72;for(e=0;e<t.length;e++)(n=t[e])<128&&l.push(o(n));var f=l.length,p=f;for(f&&l.push("-");p<c;){var g=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=u&&n<g&&(g=n);var m=p+1;if(g-u>r((2147483647-d)/m))throw RangeError(i);for(d+=(g-u)*m,u=g,e=0;e<t.length;e++){if((n=t[e])<u&&++d>2147483647)throw RangeError(i);if(n==u){for(var v=d,y=36;;y+=36){var b=y<=h?1:y>=h+26?26:y-h;if(v<b)break;var w=v-b,E=36-b;l.push(o(a(b+w%E))),v=r(w/E)}l.push(o(a(v))),h=s(d,m,p==f),d=0,++p}}++d,++u}return l.join("")};t.exports=function(t){var i,r,o=[],a=t.toLowerCase().replace(n,".").split(".");for(i=0;i<a.length;i++)r=a[i],o.push(e.test(r)?"xn--"+l(r):r);return o.join(".")}},6091:function(t,e,n){var i=n(7293),r=n(1361);t.exports=function(t){return i(function(){return!!r[t]()||"âÂá "!="âÂá "[t]()||r[t].name!==t})}},3111:function(t,e,n){var i=n(4488),r="["+n(1361)+"]",o=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),s=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},1400:function(t,e,n){var i=n(9958),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},7067:function(t,e,n){var i=n(9958),r=n(7466);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length or index");return n}},5656:function(t,e,n){var i=n(8361),r=n(4488);t.exports=function(t){return i(r(t))}},9958:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:function(t,e,n){var i=n(9958),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},7908:function(t,e,n){var i=n(4488);t.exports=function(t){return Object(i(t))}},4590:function(t,e,n){var i=n(3002);t.exports=function(t,e){var n=i(t);if(n%e)throw RangeError("Wrong offset");return n}},3002:function(t,e,n){var i=n(9958);t.exports=function(t){var e=i(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},7593:function(t,e,n){var i=n(111);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},1694:function(t,e,n){var i={};i[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(i)},9843:function(t,e,n){"use strict";var i=n(2109),r=n(7854),o=n(9781),a=n(3832),s=n(260),l=n(3331),c=n(5787),u=n(9114),d=n(8880),h=n(7466),f=n(7067),p=n(4590),g=n(7593),m=n(6656),v=n(648),y=n(111),b=n(30),w=n(7674),E=n(8006).f,C=n(7321),T=n(2092).forEach,_=n(6340),O=n(3070),k=n(1236),D=n(9909),x=n(9587),I=D.get,S=D.set,R=O.f,A=k.f,N=Math.round,P=r.RangeError,M=l.ArrayBuffer,L=l.DataView,K=s.NATIVE_ARRAY_BUFFER_VIEWS,j=s.TYPED_ARRAY_TAG,F=s.TypedArray,B=s.TypedArrayPrototype,$=s.aTypedArrayConstructor,H=s.isTypedArray,U=function(t,e){for(var n=0,i=e.length,r=new($(t))(i);i>n;)r[n]=e[n++];return r},z=function(t,e){R(t,e,{get:function(){return I(this)[e]}})},V=function(t){var e;return t instanceof M||"ArrayBuffer"==(e=v(t))||"SharedArrayBuffer"==e},W=function(t,e){return H(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},q=function(t,e){return W(t,e=g(e,!0))?u(2,t[e]):A(t,e)},Y=function(t,e,n){return!(W(t,e=g(e,!0))&&y(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?R(t,e,n):(t[e]=n.value,t)};o?(K||(k.f=q,O.f=Y,z(B,"buffer"),z(B,"byteOffset"),z(B,"byteLength"),z(B,"length")),i({target:"Object",stat:!0,forced:!K},{getOwnPropertyDescriptor:q,defineProperty:Y}),t.exports=function(t,e,n){var o=t.match(/\d+$/)[0]/8,s=t+(n?"Clamped":"")+"Array",l="get"+t,u="set"+t,g=r[s],m=g,v=m&&m.prototype,O={},k=function(t,e){R(t,e,{get:function(){return function(t,e){var n=I(t);return n.view[l](e*o+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,i){var r=I(t);n&&(i=(i=N(i))<0?0:i>255?255:255&i),r.view[u](e*o+r.byteOffset,i,!0)}(this,e,t)},enumerable:!0})};K?a&&(m=e(function(t,e,n,i){return c(t,m,s),x(y(e)?V(e)?void 0!==i?new g(e,p(n,o),i):void 0!==n?new g(e,p(n,o)):new g(e):H(e)?U(m,e):C.call(m,e):new g(f(e)),t,m)}),w&&w(m,F),T(E(g),function(t){t in m||d(m,t,g[t])}),m.prototype=v):(m=e(function(t,e,n,i){c(t,m,s);var r,a,l,u=0,d=0;if(y(e)){if(!V(e))return H(e)?U(m,e):C.call(m,e);r=e,d=p(n,o);var g=e.byteLength;if(void 0===i){if(g%o)throw P("Wrong length");if((a=g-d)<0)throw P("Wrong length")}else if((a=h(i)*o)+d>g)throw P("Wrong length");l=a/o}else l=f(e),r=new M(a=l*o);for(S(t,{buffer:r,byteOffset:d,byteLength:a,length:l,view:new L(r)});u<l;)k(t,u++)}),w&&w(m,F),v=m.prototype=b(B)),v.constructor!==m&&d(v,"constructor",m),j&&d(v,j,s),O[s]=m,i({global:!0,forced:m!=g,sham:!K},O),"BYTES_PER_ELEMENT"in m||d(m,"BYTES_PER_ELEMENT",o),"BYTES_PER_ELEMENT"in v||d(v,"BYTES_PER_ELEMENT",o),_(s)}):t.exports=function(){}},3832:function(t,e,n){var i=n(7854),r=n(7293),o=n(7072),a=n(260).NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,l=i.Int8Array;t.exports=!a||!r(function(){l(1)})||!r(function(){new l(-1)})||!o(function(t){new l,new l(null),new l(1.5),new l(t)},!0)||r(function(){return 1!==new l(new s(2),1,void 0).length})},3074:function(t,e,n){var i=n(260).aTypedArrayConstructor,r=n(6707);t.exports=function(t,e){for(var n=r(t,t.constructor),o=0,a=e.length,s=new(i(n))(a);a>o;)s[o]=e[o++];return s}},7321:function(t,e,n){var i=n(7908),r=n(7466),o=n(1246),a=n(7659),s=n(9974),l=n(260).aTypedArrayConstructor;t.exports=function(t){var e,n,c,u,d,h,f=i(t),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=o(f);if(null!=v&&!a(v))for(h=(d=v.call(f)).next,f=[];!(u=h.call(d)).done;)f.push(u.value);for(m&&p>2&&(g=s(g,arguments[2],2)),n=r(f.length),c=new(l(this))(n),e=0;n>e;e++)c[e]=m?g(f[e],e):f[e];return c}},9711:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:function(t,e,n){var i=n(133);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:function(t,e,n){var i=n(7854),r=n(2309),o=n(6656),a=n(9711),s=n(133),l=n(3307),c=r("wks"),u=i.Symbol,d=l?u:u&&u.withoutSetter||a;t.exports=function(t){return o(c,t)||(s&&o(u,t)?c[t]=u[t]:c[t]=d("Symbol."+t)),c[t]}},1361:function(t){t.exports="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff"},8264:function(t,e,n){"use strict";var i=n(2109),r=n(7854),o=n(3331),a=n(6340),s=o.ArrayBuffer;i({global:!0,forced:r.ArrayBuffer!==s},{ArrayBuffer:s}),a("ArrayBuffer")},2222:function(t,e,n){"use strict";var i=n(2109),r=n(7293),o=n(3157),a=n(111),s=n(7908),l=n(7466),c=n(6135),u=n(5417),d=n(1194),h=n(5112),f=n(7392),p=h("isConcatSpreadable"),g=f>=51||!r(function(){var t=[];return t[p]=!1,t.concat()[0]!==t}),m=d("concat"),v=function(t){if(!a(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)};i({target:"Array",proto:!0,forced:!g||!m},{concat:function(t){var e,n,i,r,o,a=s(this),d=u(a,0),h=0;for(e=-1,i=arguments.length;e<i;e++)if(o=-1===e?a:arguments[e],v(o)){if(h+(r=l(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,h++)n in o&&c(d,h,o[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(d,h++,o)}return d.length=h,d}})},7327:function(t,e,n){"use strict";var i=n(2109),r=n(2092).filter;i({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},2772:function(t,e,n){"use strict";var i=n(2109),r=n(1318).indexOf,o=n(9341),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,l=o("indexOf");i({target:"Array",proto:!0,forced:s||!l},{indexOf:function(t){return s?a.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},6992:function(t,e,n){"use strict";var i=n(5656),r=n(1223),o=n(7497),a=n(9909),s=n(654),l=a.set,c=a.getterFor("Array Iterator");t.exports=s(Array,"Array",function(t,e){l(this,{type:"Array Iterator",target:i(t),index:0,kind:e})},function(){var t=c(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},1249:function(t,e,n){"use strict";var i=n(2109),r=n(2092).map;i({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},7042:function(t,e,n){"use strict";var i=n(2109),r=n(111),o=n(3157),a=n(1400),s=n(7466),l=n(5656),c=n(6135),u=n(5112),d=n(1194)("slice"),h=u("species"),f=[].slice,p=Math.max;i({target:"Array",proto:!0,forced:!d},{slice:function(t,e){var n,i,u,d=l(this),g=s(d.length),m=a(t,g),v=a(void 0===e?g:e,g);if(o(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[h])&&(n=void 0):n=void 0,n===Array||void 0===n))return f.call(d,m,v);for(i=new(void 0===n?Array:n)(p(v-m,0)),u=0;m<v;m++,u++)m in d&&c(i,u,d[m]);return i.length=u,i}})},561:function(t,e,n){"use strict";var i=n(2109),r=n(1400),o=n(9958),a=n(7466),s=n(7908),l=n(5417),c=n(6135),u=n(1194)("splice"),d=Math.max,h=Math.min;i({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var n,i,u,f,p,g,m=s(this),v=a(m.length),y=r(t,v),b=arguments.length;if(0===b?n=i=0:1===b?(n=0,i=v-y):(n=b-2,i=h(d(o(e),0),v-y)),v+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=l(m,i),f=0;f<i;f++)(p=y+f)in m&&c(u,f,m[p]);if(u.length=i,n<i){for(f=y;f<v-i;f++)g=f+n,(p=f+i)in m?m[g]=m[p]:delete m[g];for(f=v;f>v-i+n;f--)delete m[f-1]}else if(n>i)for(f=v-i;f>y;f--)g=f+n-1,(p=f+i-1)in m?m[g]=m[p]:delete m[g];for(f=0;f<n;f++)m[f+y]=arguments[f+2];return m.length=v-i+n,u}})},8309:function(t,e,n){var i=n(9781),r=n(3070).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/;!i||"name"in o||r(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},489:function(t,e,n){var i=n(2109),r=n(7293),o=n(7908),a=n(9518),s=n(8544);i({target:"Object",stat:!0,forced:r(function(){a(1)}),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},1539:function(t,e,n){var i=n(1694),r=n(1320),o=n(288);i||r(Object.prototype,"toString",o,{unsafe:!0})},4916:function(t,e,n){"use strict";var i=n(2109),r=n(2261);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},9714:function(t,e,n){"use strict";var i=n(1320),r=n(9670),o=n(7293),a=n(7066),s=RegExp.prototype,l=s.toString,c=o(function(){return"/a/b"!=l.call({source:"a",flags:"b"})}),u="toString"!=l.name;(c||u)&&i(RegExp.prototype,"toString",function(){var t=r(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in s)?a.call(t):n)},{unsafe:!0})},8783:function(t,e,n){"use strict";var i=n(8710).charAt,r=n(9909),o=n(654),a=r.set,s=r.getterFor("String Iterator");o(String,"String",function(t){a(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=s(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})})},4723:function(t,e,n){"use strict";var i=n(7007),r=n(9670),o=n(7466),a=n(4488),s=n(1530),l=n(7651);i("match",1,function(t,e,n){return[function(e){var n=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var a=r(t),c=String(this);if(!a.global)return l(a,c);var u=a.unicode;a.lastIndex=0;for(var d,h=[],f=0;null!==(d=l(a,c));){var p=String(d[0]);h[f]=p,""===p&&(a.lastIndex=s(c,o(a.lastIndex),u)),f++}return 0===f?null:h}]})},5306:function(t,e,n){"use strict";var i=n(7007),r=n(9670),o=n(7466),a=n(9958),s=n(4488),l=n(1530),c=n(647),u=n(7651),d=Math.max,h=Math.min;i("replace",2,function(t,e,n,i){var f=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,p=i.REPLACE_KEEPS_$0,g=f?"$":"$0";return[function(n,i){var r=s(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r,i):e.call(String(r),n,i)},function(t,i){if(!f&&p||"string"==typeof i&&-1===i.indexOf(g)){var s=n(e,t,this,i);if(s.done)return s.value}var m=r(t),v=String(this),y="function"==typeof i;y||(i=String(i));var b=m.global;if(b){var w=m.unicode;m.lastIndex=0}for(var E=[];;){var C=u(m,v);if(null===C)break;if(E.push(C),!b)break;""===String(C[0])&&(m.lastIndex=l(v,o(m.lastIndex),w))}for(var T,_="",O=0,k=0;k<E.length;k++){C=E[k];for(var D=String(C[0]),x=d(h(a(C.index),v.length),0),I=[],S=1;S<C.length;S++)I.push(void 0===(T=C[S])?T:String(T));var R=C.groups;if(y){var A=[D].concat(I,x,v);void 0!==R&&A.push(R);var N=String(i.apply(void 0,A))}else N=c(D,v,x,I,R,i);x>=O&&(_+=v.slice(O,x)+N,O=x+D.length)}return _+v.slice(O)}]})},3123:function(t,e,n){"use strict";var i=n(7007),r=n(7850),o=n(9670),a=n(4488),s=n(6707),l=n(1530),c=n(7466),u=n(7651),d=n(2261),h=n(7293),f=[].push,p=Math.min,g=!h(function(){return!RegExp(4294967295,"y")});i("split",2,function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(a(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===t)return[i];if(!r(t))return e.call(i,t,o);for(var s,l,c,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,h+"g");(s=d.call(g,i))&&!((l=g.lastIndex)>p&&(u.push(i.slice(p,s.index)),s.length>1&&s.index<i.length&&f.apply(u,s.slice(1)),c=s[0].length,p=l,u.length>=o));)g.lastIndex===s.index&&g.lastIndex++;return p===i.length?!c&&g.test("")||u.push(""):u.push(i.slice(p)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=a(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,r,n):i.call(String(r),e,n)},function(t,r){var a=n(i,t,this,r,i!==e);if(a.done)return a.value;var d=o(t),h=String(this),f=s(d,RegExp),m=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),y=new f(g?d:"^(?:"+d.source+")",v),b=void 0===r?4294967295:r>>>0;if(0===b)return[];if(0===h.length)return null===u(y,h)?[h]:[];for(var w=0,E=0,C=[];E<h.length;){y.lastIndex=g?E:0;var T,_=u(y,g?h:h.slice(E));if(null===_||(T=p(c(y.lastIndex+(g?0:E)),h.length))===w)E=l(h,E,m);else{if(C.push(h.slice(w,E)),C.length===b)return C;for(var O=1;O<=_.length-1;O++)if(C.push(_[O]),C.length===b)return C;E=w=T}}return C.push(h.slice(w)),C}]},!g)},3210:function(t,e,n){"use strict";var i=n(2109),r=n(3111).trim;i({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return r(this)}})},2990:function(t,e,n){"use strict";var i=n(260),r=n(1048),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",function(t,e){return r.call(o(this),t,e,arguments.length>2?arguments[2]:void 0)})},8927:function(t,e,n){"use strict";var i=n(260),r=n(2092).every,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("every",function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)})},3105:function(t,e,n){"use strict";var i=n(260),r=n(1285),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("fill",function(t){return r.apply(o(this),arguments)})},5035:function(t,e,n){"use strict";var i=n(260),r=n(2092).filter,o=n(3074),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("filter",function(t){var e=r(a(this),t,arguments.length>1?arguments[1]:void 0);return o(this,e)})},7174:function(t,e,n){"use strict";var i=n(260),r=n(2092).findIndex,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("findIndex",function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)})},4345:function(t,e,n){"use strict";var i=n(260),r=n(2092).find,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("find",function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)})},2846:function(t,e,n){"use strict";var i=n(260),r=n(2092).forEach,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("forEach",function(t){r(o(this),t,arguments.length>1?arguments[1]:void 0)})},4731:function(t,e,n){"use strict";var i=n(260),r=n(1318).includes,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("includes",function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)})},7209:function(t,e,n){"use strict";var i=n(260),r=n(1318).indexOf,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("indexOf",function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)})},6319:function(t,e,n){"use strict";var i=n(7854),r=n(260),o=n(6992),a=n(5112)("iterator"),s=i.Uint8Array,l=o.values,c=o.keys,u=o.entries,d=r.aTypedArray,h=r.exportTypedArrayMethod,f=s&&s.prototype[a],p=!!f&&("values"==f.name||null==f.name),g=function(){return l.call(d(this))};h("entries",function(){return u.call(d(this))}),h("keys",function(){return c.call(d(this))}),h("values",g,!p),h(a,g,!p)},8867:function(t,e,n){"use strict";var i=n(260),r=i.aTypedArray,o=i.exportTypedArrayMethod,a=[].join;o("join",function(t){return a.apply(r(this),arguments)})},7789:function(t,e,n){"use strict";var i=n(260),r=n(6583),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("lastIndexOf",function(t){return r.apply(o(this),arguments)})},3739:function(t,e,n){"use strict";var i=n(260),r=n(2092).map,o=n(6707),a=i.aTypedArray,s=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("map",function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0,function(t,e){return new(s(o(t,t.constructor)))(e)})})},4483:function(t,e,n){"use strict";var i=n(260),r=n(3671).right,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduceRight",function(t){return r(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)})},9368:function(t,e,n){"use strict";var i=n(260),r=n(3671).left,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduce",function(t){return r(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)})},2056:function(t,e,n){"use strict";var i=n(260),r=i.aTypedArray,o=i.exportTypedArrayMethod,a=Math.floor;o("reverse",function(){for(var t,e=r(this).length,n=a(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this})},3462:function(t,e,n){"use strict";var i=n(260),r=n(7466),o=n(4590),a=n(7908),s=n(7293),l=i.aTypedArray;(0,i.exportTypedArrayMethod)("set",function(t){l(this);var e=o(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=a(t),s=r(i.length),c=0;if(s+e>n)throw RangeError("Wrong length");for(;c<s;)this[e+c]=i[c++]},s(function(){new Int8Array(1).set({})}))},678:function(t,e,n){"use strict";var i=n(260),r=n(6707),o=n(7293),a=i.aTypedArray,s=i.aTypedArrayConstructor,l=i.exportTypedArrayMethod,c=[].slice;l("slice",function(t,e){for(var n=c.call(a(this),t,e),i=r(this,this.constructor),o=0,l=n.length,u=new(s(i))(l);l>o;)u[o]=n[o++];return u},o(function(){new Int8Array(1).slice()}))},7462:function(t,e,n){"use strict";var i=n(260),r=n(2092).some,o=i.aTypedArray;(0,i.exportTypedArrayMethod)("some",function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)})},3824:function(t,e,n){"use strict";var i=n(260),r=i.aTypedArray,o=i.exportTypedArrayMethod,a=[].sort;o("sort",function(t){return a.call(r(this),t)})},5021:function(t,e,n){"use strict";var i=n(260),r=n(7466),o=n(1400),a=n(6707),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("subarray",function(t,e){var n=s(this),i=n.length,l=o(t,i);return new(a(n,n.constructor))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,r((void 0===e?i:o(e,i))-l))})},2974:function(t,e,n){"use strict";var i=n(7854),r=n(260),o=n(7293),a=i.Int8Array,s=r.aTypedArray,l=r.exportTypedArrayMethod,c=[].toLocaleString,u=[].slice,d=!!a&&o(function(){c.call(new a(1))});l("toLocaleString",function(){return c.apply(d?u.call(s(this)):s(this),arguments)},o(function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()})||!o(function(){a.prototype.toLocaleString.call([1,2])}))},5016:function(t,e,n){"use strict";var i=n(260).exportTypedArrayMethod,r=n(7293),o=n(7854).Uint8Array,a=o&&o.prototype||{},s=[].toString,l=[].join;r(function(){s.call({})})&&(s=function(){return l.call(this)});var c=a.toString!=s;i("toString",s,c)},2472:function(t,e,n){n(9843)("Uint8",function(t){return function(e,n,i){return t(this,e,n,i)}})},4747:function(t,e,n){var i=n(7854),r=n(8324),o=n(8533),a=n(8880);for(var s in r){var l=i[s],c=l&&l.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(t){c.forEach=o}}},3948:function(t,e,n){var i=n(7854),r=n(8324),o=n(6992),a=n(8880),s=n(5112),l=s("iterator"),c=s("toStringTag"),u=o.values;for(var d in r){var h=i[d],f=h&&h.prototype;if(f){if(f[l]!==u)try{a(f,l,u)}catch(t){f[l]=u}if(f[c]||a(f,c,d),r[d])for(var p in o)if(f[p]!==o[p])try{a(f,p,o[p])}catch(t){f[p]=o[p]}}}},1637:function(t,e,n){"use strict";n(6992);var i=n(2109),r=n(5005),o=n(590),a=n(1320),s=n(2248),l=n(8003),c=n(4994),u=n(9909),d=n(5787),h=n(6656),f=n(9974),p=n(648),g=n(9670),m=n(111),v=n(30),y=n(9114),b=n(8554),w=n(1246),E=n(5112),C=r("fetch"),T=r("Headers"),_=E("iterator"),O=u.set,k=u.getterFor("URLSearchParams"),D=u.getterFor("URLSearchParamsIterator"),x=/\+/g,I=Array(4),S=function(t){return I[t-1]||(I[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},R=function(t){try{return decodeURIComponent(t)}catch(e){return t}},A=function(t){var e=t.replace(x," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(S(n--),R);return e}},N=/[!'()~]|%20/g,P={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},M=function(t){return P[t]},L=function(t){return encodeURIComponent(t).replace(N,M)},K=function(t,e){if(e)for(var n,i,r=e.split("&"),o=0;o<r.length;)(n=r[o++]).length&&(i=n.split("="),t.push({key:A(i.shift()),value:A(i.join("="))}))},j=function(t){this.entries.length=0,K(this.entries,t)},F=function(t,e){if(t<e)throw TypeError("Not enough arguments")},B=c(function(t,e){O(this,{type:"URLSearchParamsIterator",iterator:b(k(t).entries),kind:e})},"Iterator",function(){var t=D(this),e=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value="keys"===e?i.key:"values"===e?i.value:[i.key,i.value]),n}),$=function(){d(this,$,"URLSearchParams");var t,e,n,i,r,o,a,s,l,c=arguments.length>0?arguments[0]:void 0,u=[];if(O(this,{type:"URLSearchParams",entries:u,updateURL:function(){},updateSearchParams:j}),void 0!==c)if(m(c))if("function"==typeof(t=w(c)))for(n=(e=t.call(c)).next;!(i=n.call(e)).done;){if((a=(o=(r=b(g(i.value))).next).call(r)).done||(s=o.call(r)).done||!o.call(r).done)throw TypeError("Expected sequence with length 2");u.push({key:a.value+"",value:s.value+""})}else for(l in c)h(c,l)&&u.push({key:l,value:c[l]+""});else K(u,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},H=$.prototype;s(H,{append:function(t,e){F(arguments.length,2);var n=k(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){F(arguments.length,1);for(var e=k(this),n=e.entries,i=t+"",r=0;r<n.length;)n[r].key===i?n.splice(r,1):r++;e.updateURL()},get:function(t){F(arguments.length,1);for(var e=k(this).entries,n=t+"",i=0;i<e.length;i++)if(e[i].key===n)return e[i].value;return null},getAll:function(t){F(arguments.length,1);for(var e=k(this).entries,n=t+"",i=[],r=0;r<e.length;r++)e[r].key===n&&i.push(e[r].value);return i},has:function(t){F(arguments.length,1);for(var e=k(this).entries,n=t+"",i=0;i<e.length;)if(e[i++].key===n)return!0;return!1},set:function(t,e){F(arguments.length,1);for(var n,i=k(this),r=i.entries,o=!1,a=t+"",s=e+"",l=0;l<r.length;l++)(n=r[l]).key===a&&(o?r.splice(l--,1):(o=!0,n.value=s));o||r.push({key:a,value:s}),i.updateURL()},sort:function(){var t,e,n,i=k(this),r=i.entries,o=r.slice();for(r.length=0,n=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(r[e].key>t.key){r.splice(e,0,t);break}e===n&&r.push(t)}i.updateURL()},forEach:function(t){for(var e,n=k(this).entries,i=f(t,arguments.length>1?arguments[1]:void 0,3),r=0;r<n.length;)i((e=n[r++]).value,e.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),a(H,_,H.entries),a(H,"toString",function(){for(var t,e=k(this).entries,n=[],i=0;i<e.length;)t=e[i++],n.push(L(t.key)+"="+L(t.value));return n.join("&")},{enumerable:!0}),l($,"URLSearchParams"),i({global:!0,forced:!o},{URLSearchParams:$}),o||"function"!=typeof C||"function"!=typeof T||i({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,i,r=[t];return arguments.length>1&&(e=arguments[1],m(e)&&(n=e.body,"URLSearchParams"===p(n)&&((i=e.headers?new T(e.headers):new T).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=v(e,{body:y(0,String(n)),headers:y(0,i)}))),r.push(e)),C.apply(this,r)}}),t.exports={URLSearchParams:$,getState:k}},285:function(t,e,n){"use strict";n(8783);var i,r=n(2109),o=n(9781),a=n(590),s=n(7854),l=n(6048),c=n(1320),u=n(5787),d=n(6656),h=n(1574),f=n(8457),p=n(8710).codeAt,g=n(3197),m=n(8003),v=n(1637),y=n(9909),b=s.URL,w=v.URLSearchParams,E=v.getState,C=y.set,T=y.getterFor("URL"),_=Math.floor,O=Math.pow,k=/[A-Za-z]/,D=/[\d+-.A-Za-z]/,x=/\d/,I=/^(0x|0X)/,S=/^[0-7]+$/,R=/^\d+$/,A=/^[\dA-Fa-f]+$/,N=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,P=/[\u0000\t\u000A\u000D #/:?@[\\]]/,M=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,L=/[\t\u000A\u000D]/g,K=function(t,e){var n,i,r;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=F(e.slice(1,-1))))return"Invalid host";t.host=n}else if(q(t)){if(e=g(e),N.test(e))return"Invalid host";if(null===(n=j(e)))return"Invalid host";t.host=n}else{if(P.test(e))return"Invalid host";for(n="",i=f(e),r=0;r<i.length;r++)n+=V(i[r],$);t.host=n}},j=function(t){var e,n,i,r,o,a,s,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(e=l.length)>4)return t;for(n=[],i=0;i<e;i++){if(""==(r=l[i]))return t;if(o=10,r.length>1&&"0"==r.charAt(0)&&(o=I.test(r)?16:8,r=r.slice(8==o?1:2)),""===r)a=0;else{if(!(10==o?R:8==o?S:A).test(r))return t;a=parseInt(r,o)}n.push(a)}for(i=0;i<e;i++)if(a=n[i],i==e-1){if(a>=O(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),i=0;i<n.length;i++)s+=n[i]*O(256,3-i);return s},F=function(t){var e,n,i,r,o,a,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,h=function(){return t.charAt(d)};if(":"==h()){if(":"!=t.charAt(1))return;d+=2,u=++c}for(;h();){if(8==c)return;if(":"!=h()){for(e=n=0;n<4&&A.test(h());)e=16*e+parseInt(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,c>6)return;for(i=0;h();){if(r=null,i>0){if(!("."==h()&&i<4))return;d++}if(!x.test(h()))return;for(;x.test(h());){if(o=parseInt(h(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(r>255)return;d++}l[c]=256*l[c]+r,2!=++i&&4!=i||c++}if(4!=i)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;l[c++]=e}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(a=c-u,c=7;0!=c&&a>0;)s=l[c],l[c--]=l[u+a-1],l[u+--a]=s;else if(8!=c)return;return l},B=function(t){var e,n,i,r;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=_(t/256);return e.join(".")}if("object"==typeof t){for(e="",i=function(t){for(var e=null,n=1,i=null,r=0,o=0;o<8;o++)0!==t[o]?(r>n&&(e=i,n=r),i=null,r=0):(null===i&&(i=o),++r);return r>n&&(e=i,n=r),e}(t),n=0;n<8;n++)r&&0===t[n]||(r&&(r=!1),i===n?(e+=n?":":"::",r=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},$={},H=h({},$,{" ":1,'"':1,"<":1,">":1,"`":1}),U=h({},H,{"#":1,"?":1,"{":1,"}":1}),z=h({},U,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),V=function(t,e){var n=p(t,0);return n>32&&n<127&&!d(e,t)?t:encodeURIComponent(t)},W={ftp:21,file:null,http:80,https:443,ws:80,wss:443},q=function(t){return d(W,t.scheme)},Y=function(t){return""!=t.username||""!=t.password},G=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},X=function(t,e){var n;return 2==t.length&&k.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},Z=function(t){var e;return t.length>1&&X(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},J=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&X(e[0],!0)||e.pop()},Q=function(t){return"."===t||"%2e"===t.toLowerCase()},tt={},et={},nt={},it={},rt={},ot={},at={},st={},lt={},ct={},ut={},dt={},ht={},ft={},pt={},gt={},mt={},vt={},yt={},bt={},wt={},Et=function(t,e,n,r){var o,a,s,l,c,u=n||tt,h=0,p="",g=!1,m=!1,v=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(M,"")),e=e.replace(L,""),o=f(e);h<=o.length;){switch(a=o[h],u){case tt:if(!a||!k.test(a)){if(n)return"Invalid scheme";u=nt;continue}p+=a.toLowerCase(),u=et;break;case et:if(a&&(D.test(a)||"+"==a||"-"==a||"."==a))p+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";p="",u=nt,h=0;continue}if(n&&(q(t)!=d(W,p)||"file"==p&&(Y(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,n)return void(q(t)&&W[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?u=ft:q(t)&&r&&r.scheme==t.scheme?u=it:q(t)?u=st:"/"==o[h+1]?(u=rt,h++):(t.cannotBeABaseURL=!0,t.path.push(""),u=yt)}break;case nt:if(!r||r.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==a){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,u=wt;break}u="file"==r.scheme?ft:ot;continue;case it:if("/"!=a||"/"!=o[h+1]){u=ot;continue}u=lt,h++;break;case rt:if("/"==a){u=ct;break}u=vt;continue;case ot:if(t.scheme=r.scheme,a==i)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==a||"\\"==a&&q(t))u=at;else if("?"==a)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",u=bt;else{if("#"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),u=vt;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",u=wt}break;case at:if(!q(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,u=vt;continue}u=ct}else u=lt;break;case st:if(u=lt,"/"!=a||"/"!=p.charAt(h+1))continue;h++;break;case lt:if("/"!=a&&"\\"!=a){u=ct;continue}break;case ct:if("@"==a){g&&(p="%40"+p),g=!0,s=f(p);for(var y=0;y<s.length;y++){var b=s[y];if(":"!=b||v){var w=V(b,z);v?t.password+=w:t.username+=w}else v=!0}p=""}else if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&q(t)){if(g&&""==p)return"Invalid authority";h-=f(p).length+1,p="",u=ut}else p+=a;break;case ut:case dt:if(n&&"file"==t.scheme){u=gt;continue}if(":"!=a||m){if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&q(t)){if(q(t)&&""==p)return"Invalid host";if(n&&""==p&&(Y(t)||null!==t.port))return;if(l=K(t,p))return l;if(p="",u=mt,n)return;continue}"["==a?m=!0:"]"==a&&(m=!1),p+=a}else{if(""==p)return"Invalid host";if(l=K(t,p))return l;if(p="",u=ht,n==dt)return}break;case ht:if(!x.test(a)){if(a==i||"/"==a||"?"==a||"#"==a||"\\"==a&&q(t)||n){if(""!=p){var E=parseInt(p,10);if(E>65535)return"Invalid port";t.port=q(t)&&E===W[t.scheme]?null:E,p=""}if(n)return;u=mt;continue}return"Invalid port"}p+=a;break;case ft:if(t.scheme="file","/"==a||"\\"==a)u=pt;else{if(!r||"file"!=r.scheme){u=vt;continue}if(a==i)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==a)t.host=r.host,t.path=r.path.slice(),t.query="",u=bt;else{if("#"!=a){Z(o.slice(h).join(""))||(t.host=r.host,t.path=r.path.slice(),J(t)),u=vt;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",u=wt}}break;case pt:if("/"==a||"\\"==a){u=gt;break}r&&"file"==r.scheme&&!Z(o.slice(h).join(""))&&(X(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),u=vt;continue;case gt:if(a==i||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&X(p))u=vt;else if(""==p){if(t.host="",n)return;u=mt}else{if(l=K(t,p))return l;if("localhost"==t.host&&(t.host=""),n)return;p="",u=mt}continue}p+=a;break;case mt:if(q(t)){if(u=vt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=i&&(u=vt,"/"!=a))continue}else t.fragment="",u=wt;else t.query="",u=bt;break;case vt:if(a==i||"/"==a||"\\"==a&&q(t)||!n&&("?"==a||"#"==a)){if(".."===(c=(c=p).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(J(t),"/"==a||"\\"==a&&q(t)||t.path.push("")):Q(p)?"/"==a||"\\"==a&&q(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&X(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(a==i||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",u=bt):"#"==a&&(t.fragment="",u=wt)}else p+=V(a,U);break;case yt:"?"==a?(t.query="",u=bt):"#"==a?(t.fragment="",u=wt):a!=i&&(t.path[0]+=V(a,$));break;case bt:n||"#"!=a?a!=i&&("'"==a&&q(t)?t.query+="%27":t.query+="#"==a?"%23":V(a,$)):(t.fragment="",u=wt);break;case wt:a!=i&&(t.fragment+=V(a,H))}h++}},Ct=function(t){var e,n,i=u(this,Ct,"URL"),r=arguments.length>1?arguments[1]:void 0,a=String(t),s=C(i,{type:"URL"});if(void 0!==r)if(r instanceof Ct)e=T(r);else if(n=Et(e={},String(r)))throw TypeError(n);if(n=Et(s,a,null,e))throw TypeError(n);var l=s.searchParams=new w,c=E(l);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(l)||null},o||(i.href=_t.call(i),i.origin=Ot.call(i),i.protocol=kt.call(i),i.username=Dt.call(i),i.password=xt.call(i),i.host=It.call(i),i.hostname=St.call(i),i.port=Rt.call(i),i.pathname=At.call(i),i.search=Nt.call(i),i.searchParams=Pt.call(i),i.hash=Mt.call(i))},Tt=Ct.prototype,_t=function(){var t=T(this),e=t.scheme,n=t.username,i=t.password,r=t.host,o=t.port,a=t.path,s=t.query,l=t.fragment,c=e+":";return null!==r?(c+="//",Y(t)&&(c+=n+(i?":"+i:"")+"@"),c+=B(r),null!==o&&(c+=":"+o)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},Ot=function(){var t=T(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&q(t)?e+"://"+B(t.host)+(null!==n?":"+n:""):"null"},kt=function(){return T(this).scheme+":"},Dt=function(){return T(this).username},xt=function(){return T(this).password},It=function(){var t=T(this),e=t.host,n=t.port;return null===e?"":null===n?B(e):B(e)+":"+n},St=function(){var t=T(this).host;return null===t?"":B(t)},Rt=function(){var t=T(this).port;return null===t?"":String(t)},At=function(){var t=T(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Nt=function(){var t=T(this).query;return t?"?"+t:""},Pt=function(){return T(this).searchParams},Mt=function(){var t=T(this).fragment;return t?"#"+t:""},Lt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&l(Tt,{href:Lt(_t,function(t){var e=T(this),n=String(t),i=Et(e,n);if(i)throw TypeError(i);E(e.searchParams).updateSearchParams(e.query)}),origin:Lt(Ot),protocol:Lt(kt,function(t){var e=T(this);Et(e,String(t)+":",tt)}),username:Lt(Dt,function(t){var e=T(this),n=f(String(t));if(!G(e)){e.username="";for(var i=0;i<n.length;i++)e.username+=V(n[i],z)}}),password:Lt(xt,function(t){var e=T(this),n=f(String(t));if(!G(e)){e.password="";for(var i=0;i<n.length;i++)e.password+=V(n[i],z)}}),host:Lt(It,function(t){var e=T(this);e.cannotBeABaseURL||Et(e,String(t),ut)}),hostname:Lt(St,function(t){var e=T(this);e.cannotBeABaseURL||Et(e,String(t),dt)}),port:Lt(Rt,function(t){var e=T(this);G(e)||(""==(t=String(t))?e.port=null:Et(e,t,ht))}),pathname:Lt(At,function(t){var e=T(this);e.cannotBeABaseURL||(e.path=[],Et(e,t+"",mt))}),search:Lt(Nt,function(t){var e=T(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Et(e,t,bt)),E(e.searchParams).updateSearchParams(e.query)}),searchParams:Lt(Pt),hash:Lt(Mt,function(t){var e=T(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Et(e,t,wt)):e.fragment=null})}),c(Tt,"toJSON",function(){return _t.call(this)},{enumerable:!0}),c(Tt,"toString",function(){return _t.call(this)},{enumerable:!0}),b){var Kt=b.createObjectURL,jt=b.revokeObjectURL;Kt&&c(Ct,"createObjectURL",function(t){return Kt.apply(b,arguments)}),jt&&c(Ct,"revokeObjectURL",function(t){return jt.apply(b,arguments)})}m(Ct,"URL"),r({global:!0,forced:!a,sham:!o},{URL:Ct})}},e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return function(){"use strict";n.r(i),n.d(i,{Dropzone:function(){return w},default:function(){return O}});n(2222),n(7327),n(2772),n(6992),n(1249),n(7042),n(561),n(8264),n(8309),n(489),n(1539),n(4916),n(9714),n(8783),n(4723),n(5306),n(3123),n(3210),n(2472),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(4747),n(3948),n(285);function t(t,n){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw a}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,i,o;return n=e,(i=[{key:"on",value:function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};for(var n=this._callbacks[e],i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(n){var a,s=t(n,!0);try{for(s.s();!(a=s.n()).done;){a.value.apply(this,r)}}catch(t){s.e(t)}finally{s.f()}}return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+e,{args:r})),this}},{key:"makeEvent",value:function(t,e){var n={bubbles:!0,cancelable:!0,detail:e};if("function"==typeof window.CustomEvent)return new CustomEvent(t,n);var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),i}},{key:"off",value:function(t,e){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1===arguments.length)return delete this._callbacks[t],this;for(var i=0;i<n.length;i++){if(n[i]===e){n.splice(i,1);break}}return this}}])&&r(n.prototype,i),o&&r(n,o),e}();function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var l={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(t,e,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(t,e){return e()},chunksUploaded:function(t,e){e()},fallback:function(){var t;this.element.className="".concat(this.element.className," dz-browser-not-supported");var e,n=a(this.element.getElementsByTagName("div"),!0);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(/(^| )dz-message($| )/.test(i.className)){t=i,i.className="dz-message";break}}}catch(t){n.e(t)}finally{n.f()}t||(t=w.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t));var r=t.getElementsByTagName("span")[0];return r&&(null!=r.textContent?r.textContent=this.options.dictFallbackMessage:null!=r.innerText&&(r.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t,e,n,i){var r={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},o=t.width/t.height;null==e&&null==n?(e=r.srcWidth,n=r.srcHeight):null==e?e=n*o:null==n&&(n=e/o);var a=(e=Math.min(e,r.srcWidth))/(n=Math.min(n,r.srcHeight));if(r.srcWidth>e||r.srcHeight>n)if("crop"===i)o>a?(r.srcHeight=t.height,r.srcWidth=r.srcHeight*a):(r.srcWidth=t.width,r.srcHeight=r.srcWidth/a);else{if("contain"!==i)throw new Error("Unknown resizeMethod '".concat(i,"'"));o>a?n=e/o:e=n*o}return r.srcX=(t.width-r.srcWidth)/2,r.srcY=(t.height-r.srcHeight)/2,r.trgWidth=e,r.trgHeight=n,r},transformFile:function(t,e){return(this.options.resizeWidth||this.options.resizeHeight)&&t.type.match(/image.*/)?this.resizeImage(t,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(t)},previewTemplate:'<div class="dz-preview dz-file-preview"> <div class="dz-image"><img data-dz-thumbnail/></div> <div class="dz-details"> <div class="dz-size"><span data-dz-size></span></div> <div class="dz-filename"><span data-dz-name></span></div> </div> <div class="dz-progress"> <span class="dz-upload" data-dz-uploadprogress></span> </div> <div class="dz-error-message"><span data-dz-errormessage></span></div> <div class="dz-success-mark"> <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Check</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path> </g> </svg> </div> <div class="dz-error-mark"> <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Error</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475"> <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path> </g> </g> </svg> </div> </div> ',drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:function(t){},dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:function(t){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){t.previewElement=w.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement);var n,i=a(t.previewElement.querySelectorAll("[data-dz-name]"),!0);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.textContent=t.name}}catch(t){i.e(t)}finally{i.f()}var o,s=a(t.previewElement.querySelectorAll("[data-dz-size]"),!0);try{for(s.s();!(o=s.n()).done;)(r=o.value).innerHTML=this.filesize(t.size)}catch(t){s.e(t)}finally{s.f()}this.options.addRemoveLinks&&(t._removeLink=w.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),t.previewElement.appendChild(t._removeLink));var l,c=function(n){return n.preventDefault(),n.stopPropagation(),t.status===w.UPLOADING?w.confirm(e.options.dictCancelUploadConfirmation,function(){return e.removeFile(t)}):e.options.dictRemoveFileConfirmation?w.confirm(e.options.dictRemoveFileConfirmation,function(){return e.removeFile(t)}):e.removeFile(t)},u=a(t.previewElement.querySelectorAll("[data-dz-remove]"),!0);try{for(u.s();!(l=u.n()).done;){l.value.addEventListener("click",c)}}catch(t){u.e(t)}finally{u.f()}}},removedfile:function(t){return null!=t.previewElement&&null!=t.previewElement.parentNode&&t.previewElement.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");var n,i=a(t.previewElement.querySelectorAll("[data-dz-thumbnail]"),!0);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.alt=t.name,r.src=e}}catch(t){i.e(t)}finally{i.f()}return setTimeout(function(){return t.previewElement.classList.add("dz-image-preview")},1)}},error:function(t,e){if(t.previewElement){t.previewElement.classList.add("dz-error"),"string"!=typeof e&&e.error&&(e=e.error);var n,i=a(t.previewElement.querySelectorAll("[data-dz-errormessage]"),!0);try{for(i.s();!(n=i.n()).done;){n.value.textContent=e}}catch(t){i.e(t)}finally{i.f()}}},errormultiple:function(){},processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(t,e,n){if(t.previewElement){var i,r=a(t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),!0);try{for(r.s();!(i=r.n()).done;){var o=i.value;"PROGRESS"===o.nodeName?o.value=e:o.style.width="".concat(e,"%")}}catch(t){r.e(t)}finally{r.f()}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(t){return this.emit("error",t,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(t){if(t._removeLink&&(t._removeLink.innerHTML=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=b(t);if(e){var r=b(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(n,o);var e=m(n);function n(t,i){var r,o,a;if(h(this,n),(r=e.call(this)).element=t,r.version=n.version,r.clickableElements=[],r.listeners=[],r.files=[],"string"==typeof r.element&&(r.element=document.querySelector(r.element)),!r.element||null==r.element.nodeType)throw new Error("Invalid dropzone element.");if(r.element.dropzone)throw new Error("Dropzone already attached.");n.instances.push(y(r)),r.element.dropzone=y(r);var s=null!=(a=n.optionsForElement(r.element))?a:{};if(r.options=n.extend({},l,s,null!=i?i:{}),r.options.previewTemplate=r.options.previewTemplate.replace(/\n*/g,""),r.options.forceFallback||!n.isBrowserSupported())return v(r,r.options.fallback.call(y(r)));if(null==r.options.url&&(r.options.url=r.element.getAttribute("action")),!r.options.url)throw new Error("No URL provided.");if(r.options.acceptedFiles&&r.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(r.options.uploadMultiple&&r.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return r.options.acceptedMimeTypes&&(r.options.acceptedFiles=r.options.acceptedMimeTypes,delete r.options.acceptedMimeTypes),null!=r.options.renameFilename&&(r.options.renameFile=function(t){return r.options.renameFilename.call(y(r),t.name,t)}),"string"==typeof r.options.method&&(r.options.method=r.options.method.toUpperCase()),(o=r.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),!1!==r.options.previewsContainer&&(r.options.previewsContainer?r.previewsContainer=n.getElement(r.options.previewsContainer,"previewsContainer"):r.previewsContainer=r.element),r.options.clickable&&(!0===r.options.clickable?r.clickableElements=[r.element]:r.clickableElements=n.getElements(r.options.clickable,"clickable")),r.init(),r}return p(n,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(t){return t.accepted}).map(function(t){return t})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(t){return!t.accepted}).map(function(t){return t})}},{key:"getFilesWithStatus",value:function(t){return this.files.filter(function(e){return e.status===t}).map(function(t){return t})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(n.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(n.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(n.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(t){return t.status===n.UPLOADING||t.status===n.QUEUED}).map(function(t){return t})}},{key:"init",value:function(){var t=this;if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length){!function e(){t.hiddenFileInput&&t.hiddenFileInput.parentNode.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null===t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!==t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!==t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.setAttribute("tabindex","-1"),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",n.getElement(t.options.hiddenInputContainer,"hiddenInputContainer").appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var n=t.hiddenFileInput.files;if(n.length){var i,r=u(n,!0);try{for(r.s();!(i=r.n()).done;){var o=i.value;t.addFile(o)}}catch(t){r.e(t)}finally{r.f()}}t.emit("addedfiles",n),e()})}()}this.URL=null!==window.URL?window.URL:window.webkitURL;var e,i=u(this.events,!0);try{for(i.s();!(e=i.n()).done;){var r=e.value;this.on(r,this.options[r])}}catch(t){i.e(t)}finally{i.f()}this.on("uploadprogress",function(){return t.updateTotalUploadProgress()}),this.on("removedfile",function(){return t.updateTotalUploadProgress()}),this.on("canceled",function(e){return t.emit("complete",e)}),this.on("complete",function(e){if(0===t.getAddedFiles().length&&0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length)return setTimeout(function(){return t.emit("queuecomplete")},0)});var o=function(t){if(function(t){if(t.dataTransfer.types)for(var e=0;e<t.dataTransfer.types.length;e++)if("Files"===t.dataTransfer.types[e])return!0;return!1}(t))return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(e){return t.emit("dragstart",e)},dragenter:function(e){return o(e),t.emit("dragenter",e)},dragover:function(e){var n;try{n=e.dataTransfer.effectAllowed}catch(t){}return e.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",o(e),t.emit("dragover",e)},dragleave:function(e){return t.emit("dragleave",e)},drop:function(e){return o(e),t.drop(e)},dragend:function(e){return t.emit("dragend",e)}}}],this.clickableElements.forEach(function(e){return t.listeners.push({element:e,events:{click:function(i){return(e!==t.element||i.target===t.element||n.elementInside(i.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,n.instances.splice(n.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var t,e=0,n=0;if(this.getActiveFiles().length){var i,r=u(this.getActiveFiles(),!0);try{for(r.s();!(i=r.n()).done;){var o=i.value;e+=o.upload.bytesSent,n+=o.upload.total}}catch(t){r.e(t)}finally{r.f()}t=100*e/n}else t=100;return this.emit("totaluploadprogress",t,n,e)}},{key:"_getParamName",value:function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(t,"]"):"")}},{key:"_renameFile",value:function(t){return"function"!=typeof this.options.renameFile?t.name:this.options.renameFile(t)}},{key:"getFallbackForm",value:function(){var t,e;if(t=this.getExistingFallback())return t;var i='<div class="dz-fallback">';this.options.dictFallbackText&&(i+="<p>".concat(this.options.dictFallbackText,"</p>")),i+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var r=n.createElement(i);return"FORM"!==this.element.tagName?(e=n.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(r):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=e?e:r}},{key:"getExistingFallback",value:function(){for(var t=function(t){var e,n=u(t,!0);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(/(^| )fallback($| )/.test(i.className))return i}}catch(t){n.e(t)}finally{n.f()}},e=0,n=["div","form"];e<n.length;e++){var i,r=n[e];if(i=t(this.element.getElementsByTagName(r)))return i}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(t){return function(){var e=[];for(var n in t.events){var i=t.events[n];e.push(t.element.addEventListener(n,i,!1))}return e}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(t){return function(){var e=[];for(var n in t.events){var i=t.events[n];e.push(t.element.removeEventListener(n,i,!1))}return e}()})}},{key:"disable",value:function(){var t=this;return this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(e){return t.cancelUpload(e)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(t){var e=0,n="b";if(t>0){for(var i=["tb","gb","mb","kb","b"],r=0;r<i.length;r++){var o=i[r];if(t>=Math.pow(this.options.filesizeBase,4-r)/10){e=t/Math.pow(this.options.filesizeBase,4-r),n=o;break}}e=Math.round(10*e)/10}return"<strong>".concat(e,"</strong> ").concat(this.options.dictFileSizeUnits[n])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(t){if(t.dataTransfer){this.emit("drop",t);for(var e=[],n=0;n<t.dataTransfer.files.length;n++)e[n]=t.dataTransfer.files[n];if(e.length){var i=t.dataTransfer.items;i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)}this.emit("addedfiles",e)}}},{key:"paste",value:function(t){if(null!=(e=null!=t?t.clipboardData:void 0,n=function(t){return t.items},null!=e?n(e):void 0)){var e,n;this.emit("paste",t);var i=t.clipboardData.items;return i.length?this._addFilesFromItems(i):void 0}}},{key:"handleFiles",value:function(t){var e,n=u(t,!0);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.addFile(i)}}catch(t){n.e(t)}finally{n.f()}}},{key:"_addFilesFromItems",value:function(t){var e=this;return function(){var n,i=[],r=u(t,!0);try{for(r.s();!(n=r.n()).done;){var o,a=n.value;null!=a.webkitGetAsEntry&&(o=a.webkitGetAsEntry())?o.isFile?i.push(e.addFile(a.getAsFile())):o.isDirectory?i.push(e._addFilesFromDirectory(o,o.name)):i.push(void 0):null!=a.getAsFile&&(null==a.kind||"file"===a.kind)?i.push(e.addFile(a.getAsFile())):i.push(void 0)}}catch(t){r.e(t)}finally{r.f()}return i}()}},{key:"_addFilesFromDirectory",value:function(t,e){var n=this,i=t.createReader(),r=function(t){return e=console,n="log",i=function(e){return e.log(t)},null!=e&&"function"==typeof e[n]?i(e,n):void 0;var e,n,i};return function t(){return i.readEntries(function(i){if(i.length>0){var r,o=u(i,!0);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.isFile?a.file(function(t){if(!n.options.ignoreHiddenFiles||"."!==t.name.substring(0,1))return t.fullPath="".concat(e,"/").concat(t.name),n.addFile(t)}):a.isDirectory&&n._addFilesFromDirectory(a,"".concat(e,"/").concat(a.name))}}catch(t){o.e(t)}finally{o.f()}t()}return null},r)}()}},{key:"accept",value:function(t,e){this.options.maxFilesize&&t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):n.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)}},{key:"addFile",value:function(t){var e=this;t.upload={uuid:n.uuidv4(),progress:0,total:t.size,bytesSent:0,filename:this._renameFile(t)},this.files.push(t),t.status=n.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(n){n?(t.accepted=!1,e._errorProcessing([t],n)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(t){var e,n=u(t,!0);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.enqueueFile(i)}}catch(t){n.e(t)}finally{n.f()}return null}},{key:"enqueueFile",value:function(t){var e=this;if(t.status!==n.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=n.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return e.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(t){var e=this;if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout(function(){return e._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var t=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var e=this._thumbnailQueue.shift();return this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(n){return t.emit("thumbnail",e,n),t._processingThumbnail=!1,t._processThumbnailQueue()})}}},{key:"removeFile",value:function(t){if(t.status===n.UPLOADING&&this.cancelUpload(t),this.files=E(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(t){null==t&&(t=!1);var e,i=u(this.files.slice(),!0);try{for(i.s();!(e=i.n()).done;){var r=e.value;(r.status!==n.UPLOADING||t)&&this.removeFile(r)}}catch(t){i.e(t)}finally{i.f()}return null}},{key:"resizeImage",value:function(t,e,i,r,o){var a=this;return this.createThumbnail(t,e,i,r,!0,function(e,i){if(null==i)return o(t);var r=a.options.resizeMimeType;null==r&&(r=t.type);var s=i.toDataURL(r,a.options.resizeQuality);return"image/jpeg"!==r&&"image/jpg"!==r||(s=_.restore(t.dataURL,s)),o(n.dataURItoBlob(s))})}},{key:"createThumbnail",value:function(t,e,n,i,r,o){var a=this,s=new FileReader;s.onload=function(){t.dataURL=s.result,"image/svg+xml"!==t.type?a.createThumbnailFromUrl(t,e,n,i,r,o):null!=o&&o(s.result)},s.readAsDataURL(t)}},{key:"displayExistingFile",value:function(t,e,n,i){var r=this,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this.emit("addedfile",t),this.emit("complete",t),o){t.dataURL=e,this.createThumbnailFromUrl(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,function(e){r.emit("thumbnail",t,e),n&&n()},i)}else this.emit("thumbnail",t,e),n&&n()}},{key:"createThumbnailFromUrl",value:function(t,e,n,i,r,o,a){var s=this,l=document.createElement("img");return a&&(l.crossOrigin=a),r="from-image"!=getComputedStyle(document.body).imageOrientation&&r,l.onload=function(){var a=function(t){return t(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&r&&(a=function(t){return EXIF.getData(l,function(){return t(EXIF.getTag(this,"Orientation"))})}),a(function(r){t.width=l.width,t.height=l.height;var a=s.options.resize.call(s,t,e,n,i),c=document.createElement("canvas"),u=c.getContext("2d");switch(c.width=a.trgWidth,c.height=a.trgHeight,r>4&&(c.width=a.trgHeight,c.height=a.trgWidth),r){case 2:u.translate(c.width,0),u.scale(-1,1);break;case 3:u.translate(c.width,c.height),u.rotate(Math.PI);break;case 4:u.translate(0,c.height),u.scale(1,-1);break;case 5:u.rotate(.5*Math.PI),u.scale(1,-1);break;case 6:u.rotate(.5*Math.PI),u.translate(0,-c.width);break;case 7:u.rotate(.5*Math.PI),u.translate(c.height,-c.width),u.scale(-1,1);break;case 8:u.rotate(-.5*Math.PI),u.translate(-c.height,0)}T(u,l,null!=a.srcX?a.srcX:0,null!=a.srcY?a.srcY:0,a.srcWidth,a.srcHeight,null!=a.trgX?a.trgX:0,null!=a.trgY?a.trgY:0,a.trgWidth,a.trgHeight);var d=c.toDataURL("image/png");if(null!=o)return o(d,c)})},null!=o&&(l.onerror=o),l.src=t.dataURL}},{key:"processQueue",value:function(){var t=this.options.parallelUploads,e=this.getUploadingFiles().length,n=e;if(!(e>=t)){var i=this.getQueuedFiles();if(i.length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,t-e));for(;n<t;){if(!i.length)return;this.processFile(i.shift()),n++}}}}},{key:"processFile",value:function(t){return this.processFiles([t])}},{key:"processFiles",value:function(t){var e,i=u(t,!0);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.processing=!0,r.status=n.UPLOADING,this.emit("processing",r)}}catch(t){i.e(t)}finally{i.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)}},{key:"_getFilesWithXhr",value:function(t){return this.files.filter(function(e){return e.xhr===t}).map(function(t){return t})}},{key:"cancelUpload",value:function(t){if(t.status===n.UPLOADING){var e,i=this._getFilesWithXhr(t.xhr),r=u(i,!0);try{for(r.s();!(e=r.n()).done;){e.value.status=n.CANCELED}}catch(t){r.e(t)}finally{r.f()}void 0!==t.xhr&&t.xhr.abort();var o,a=u(i,!0);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.emit("canceled",s)}}catch(t){a.e(t)}finally{a.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else t.status!==n.ADDED&&t.status!==n.QUEUED||(t.status=n.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(t){if("function"==typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t.apply(this,n)}return t}},{key:"uploadFile",value:function(t){return this.uploadFiles([t])}},{key:"uploadFiles",value:function(t){var e=this;this._transformFiles(t,function(i){if(e.options.chunking){var r=i[0];t[0].upload.chunked=e.options.chunking&&(e.options.forceChunking||r.size>e.options.chunkSize),t[0].upload.totalChunkCount=Math.ceil(r.size/e.options.chunkSize)}if(t[0].upload.chunked){var o=t[0],a=i[0];o.upload.chunks=[];var s=function(){for(var i=0;void 0!==o.upload.chunks[i];)i++;if(!(i>=o.upload.totalChunkCount)){0;var r=i*e.options.chunkSize,s=Math.min(r+e.options.chunkSize,a.size),l={name:e._getParamName(0),data:a.webkitSlice?a.webkitSlice(r,s):a.slice(r,s),filename:o.upload.filename,chunkIndex:i};o.upload.chunks[i]={file:o,index:i,dataBlock:l,status:n.UPLOADING,progress:0,retries:0},e._uploadData(t,[l])}};if(o.upload.finishedChunkUpload=function(i){var r=!0;i.status=n.SUCCESS,i.dataBlock=null,i.xhr=null;for(var a=0;a<o.upload.totalChunkCount;a++){if(void 0===o.upload.chunks[a])return s();o.upload.chunks[a].status!==n.SUCCESS&&(r=!1)}r&&e.options.chunksUploaded(o,function(){e._finished(t,"",null)})},e.options.parallelChunkUploads)for(var l=0;l<o.upload.totalChunkCount;l++)s();else s()}else{for(var c=[],u=0;u<t.length;u++)c[u]={name:e._getParamName(u),data:i[u],filename:t[u].upload.filename};e._uploadData(t,c)}})}},{key:"_getChunk",value:function(t,e){for(var n=0;n<t.upload.totalChunkCount;n++)if(void 0!==t.upload.chunks[n]&&t.upload.chunks[n].xhr===e)return t.upload.chunks[n]}},{key:"_uploadData",value:function(t,e){var i,r=this,o=new XMLHttpRequest,a=u(t,!0);try{for(a.s();!(i=a.n()).done;){i.value.xhr=o}}catch(t){a.e(t)}finally{a.f()}t[0].upload.chunked&&(t[0].upload.chunks[e[0].chunkIndex].xhr=o);var s=this.resolveOption(this.options.method,t),l=this.resolveOption(this.options.url,t);o.open(s,l,!0),o.timeout=this.resolveOption(this.options.timeout,t),o.withCredentials=!!this.options.withCredentials,o.onload=function(e){r._finishedUploading(t,o,e)},o.ontimeout=function(){r._handleUploadError(t,o,"Request timedout after ".concat(r.options.timeout/1e3," seconds"))},o.onerror=function(){r._handleUploadError(t,o)},(null!=o.upload?o.upload:o).onprogress=function(e){return r._updateFilesUploadProgress(t,o,e)};var c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var d in this.options.headers&&n.extend(c,this.options.headers),c){var h=c[d];h&&o.setRequestHeader(d,h)}var f=new FormData;if(this.options.params){var p=this.options.params;for(var g in"function"==typeof p&&(p=p.call(this,t,o,t[0].upload.chunked?this._getChunk(t[0],o):null)),p){var m=p[g];if(Array.isArray(m))for(var v=0;v<m.length;v++)f.append(g,m[v]);else f.append(g,m)}}var y,b=u(t,!0);try{for(b.s();!(y=b.n()).done;){var w=y.value;this.emit("sending",w,o,f)}}catch(t){b.e(t)}finally{b.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",t,o,f),this._addFormElementData(f);for(var E=0;E<e.length;E++){var C=e[E];f.append(C.name,C.data,C.filename)}this.submitRequest(o,f,t)}},{key:"_transformFiles",value:function(t,e){for(var n=this,i=[],r=0,o=function(o){n.options.transformFile.call(n,t[o],function(n){i[o]=n,++r===t.length&&e(i)})},a=0;a<t.length;a++)o(a)}},{key:"_addFormElementData",value:function(t){if("FORM"===this.element.tagName){var e,n=u(this.element.querySelectorAll("input, textarea, select, button"),!0);try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.getAttribute("name"),o=i.getAttribute("type");if(o&&(o=o.toLowerCase()),null!=r)if("SELECT"===i.tagName&&i.hasAttribute("multiple")){var a,s=u(i.options,!0);try{for(s.s();!(a=s.n()).done;){var l=a.value;l.selected&&t.append(r,l.value)}}catch(t){s.e(t)}finally{s.f()}}else(!o||"checkbox"!==o&&"radio"!==o||i.checked)&&t.append(r,i.value)}}catch(t){n.e(t)}finally{n.f()}}}},{key:"_updateFilesUploadProgress",value:function(t,e,n){var i;if(void 0!==n){if(i=100*n.loaded/n.total,t[0].upload.chunked){var r=t[0],o=this._getChunk(r,e);o.progress=i,o.total=n.total,o.bytesSent=n.loaded;r.upload.progress=0,r.upload.total=0,r.upload.bytesSent=0;for(var a=0;a<r.upload.totalChunkCount;a++)void 0!==r.upload.chunks[a]&&void 0!==r.upload.chunks[a].progress&&(r.upload.progress+=r.upload.chunks[a].progress,r.upload.total+=r.upload.chunks[a].total,r.upload.bytesSent+=r.upload.chunks[a].bytesSent);r.upload.progress=r.upload.progress/r.upload.totalChunkCount}else{var s,l=u(t,!0);try{for(l.s();!(s=l.n()).done;){var c=s.value;c.upload.progress=i,c.upload.total=n.total,c.upload.bytesSent=n.loaded}}catch(t){l.e(t)}finally{l.f()}}var d,h=u(t,!0);try{for(h.s();!(d=h.n()).done;){var f=d.value;this.emit("uploadprogress",f,f.upload.progress,f.upload.bytesSent)}}catch(t){h.e(t)}finally{h.f()}}else{var p=!0;i=100;var g,m=u(t,!0);try{for(m.s();!(g=m.n()).done;){var v=g.value;100===v.upload.progress&&v.upload.bytesSent===v.upload.total||(p=!1),v.upload.progress=i,v.upload.bytesSent=v.upload.total}}catch(t){m.e(t)}finally{m.f()}if(p)return;var y,b=u(t,!0);try{for(b.s();!(y=b.n()).done;){var w=y.value;this.emit("uploadprogress",w,i,w.upload.bytesSent)}}catch(t){b.e(t)}finally{b.f()}}}},{key:"_finishedUploading",value:function(t,e,i){var r;if(t[0].status!==n.CANCELED&&4===e.readyState){if("arraybuffer"!==e.responseType&&"blob"!==e.responseType&&(r=e.responseText,e.getResponseHeader("content-type")&&~e.getResponseHeader("content-type").indexOf("application/json")))try{r=JSON.parse(r)}catch(t){i=t,r="Invalid JSON response from server."}this._updateFilesUploadProgress(t),200<=e.status&&e.status<300?t[0].upload.chunked?t[0].upload.finishedChunkUpload(this._getChunk(t[0],e)):this._finished(t,r,i):this._handleUploadError(t,e,r)}}},{key:"_handleUploadError",value:function(t,e,i){if(t[0].status!==n.CANCELED){if(t[0].upload.chunked&&this.options.retryChunks){var r=this._getChunk(t[0],e);if(r.retries++<this.options.retryChunksLimit)return void this._uploadData(t,[r.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(t,i||this.options.dictResponseError.replace("{{statusCode}}",e.status),e)}}},{key:"submitRequest",value:function(t,e,n){t.send(e)}},{key:"_finished",value:function(t,e,i){var r,o=u(t,!0);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.status=n.SUCCESS,this.emit("success",a,e,i),this.emit("complete",a)}}catch(t){o.e(t)}finally{o.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(t,e,i){var r,o=u(t,!0);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.status=n.ERROR,this.emit("error",a,e,i),this.emit("complete",a)}}catch(t){o.e(t)}finally{o.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"initClass",value:function(){this.prototype.Emitter=o,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];for(var s in a){var l=a[s];t[s]=l}}return t}},{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}}]),n}();w.initClass(),w.version="5.8.1",w.options={},w.optionsForElement=function(t){return t.getAttribute("id")?w.options[C(t.getAttribute("id"))]:void 0},w.instances=[],w.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},w.autoDiscover=!0,w.discover=function(){var t;if(document.querySelectorAll)t=document.querySelectorAll(".dropzone");else{t=[];var e=function(e){return function(){var n,i=[],r=u(e,!0);try{for(r.s();!(n=r.n()).done;){var o=n.value;/(^| )dropzone($| )/.test(o.className)?i.push(t.push(o)):i.push(void 0)}}catch(t){r.e(t)}finally{r.f()}return i}()};e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))}return function(){var e,n=[],i=u(t,!0);try{for(i.s();!(e=i.n()).done;){var r=e.value;!1!==w.optionsForElement(r)?n.push(new w(r)):n.push(void 0)}}catch(t){i.e(t)}finally{i.f()}return n}()},w.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],w.isBrowserSupported=function(){var t=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){void 0!==w.blacklistedBrowsers&&(w.blockedBrowsers=w.blacklistedBrowsers);var e,n=u(w.blockedBrowsers,!0);try{for(n.s();!(e=n.n()).done;){e.value.test(navigator.userAgent)&&(t=!1)}}catch(t){n.e(t)}finally{n.f()}}else t=!1;else t=!1;return t},w.dataURItoBlob=function(t){for(var e=atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(e.length),r=new Uint8Array(i),o=0,a=e.length,s=0<=a;s?o<=a:o>=a;s?o++:o--)r[o]=e.charCodeAt(o);return new Blob([i],{type:n})};var E=function(t,e){return t.filter(function(t){return t!==e}).map(function(t){return t})},C=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})};w.createElement=function(t){var e=document.createElement("div");return e.innerHTML=t,e.childNodes[0]},w.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},w.getElement=function(t,e){var n;if("string"==typeof t?n=document.querySelector(t):null!=t.nodeType&&(n=t),null==n)throw new Error("Invalid `".concat(e,"` option provided. Please provide a CSS selector or a plain HTML element."));return n},w.getElements=function(t,e){var n,i;if(t instanceof Array){i=[];try{var r,o=u(t,!0);try{for(o.s();!(r=o.n()).done;)n=r.value,i.push(this.getElement(n,e))}catch(t){o.e(t)}finally{o.f()}}catch(t){i=null}}else if("string"==typeof t){i=[];var a,s=u(document.querySelectorAll(t),!0);try{for(s.s();!(a=s.n()).done;)n=a.value,i.push(n)}catch(t){s.e(t)}finally{s.f()}}else null!=t.nodeType&&(i=[t]);if(null==i||!i.length)throw new Error("Invalid `".concat(e,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return i},w.confirm=function(t,e,n){return window.confirm(t)?e():null!=n?n():void 0},w.isValidFile=function(t,e){if(!e)return!0;e=e.split(",");var n,i=t.type,r=i.replace(/\/.*$/,""),o=u(e,!0);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("."===(a=a.trim()).charAt(0)){if(-1!==t.name.toLowerCase().indexOf(a.toLowerCase(),t.name.length-a.length))return!0}else if(/\/\*$/.test(a)){if(r===a.replace(/\/.*$/,""))return!0}else if(i===a)return!0}}catch(t){o.e(t)}finally{o.f()}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new w(this,t)})}),w.ADDED="added",w.QUEUED="queued",w.ACCEPTED=w.QUEUED,w.UPLOADING="uploading",w.PROCESSING=w.UPLOADING,w.CANCELED="canceled",w.ERROR="error",w.SUCCESS="success";var T=function(t,e,n,i,r,o,a,s,l,c){var u=function(t){t.naturalWidth;var e=t.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=e;var i=n.getContext("2d");i.drawImage(t,0,0);for(var r=i.getImageData(1,0,1,e).data,o=0,a=e,s=e;s>o;)0===r[4*(s-1)+3]?a=s:o=s,s=a+o>>1;var l=s/e;return 0===l?1:l}(e);return t.drawImage(e,n,i,r,o,a,s,l,c/u)},_=function(){function t(){h(this,t)}return p(t,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(t){for(var e="",n=void 0,i=void 0,r="",o=void 0,a=void 0,s=void 0,l="",c=0;o=(n=t[c++])>>2,a=(3&n)<<4|(i=t[c++])>>4,s=(15&i)<<2|(r=t[c++])>>6,l=63&r,isNaN(i)?s=l=64:isNaN(r)&&(l=64),e=e+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(l),n=i=r="",o=a=s=l="",c<t.length;);return e}},{key:"restore",value:function(t,e){if(!t.match("data:image/jpeg;base64,"))return e;var n=this.decode64(t.replace("data:image/jpeg;base64,","")),i=this.slice2Segments(n),r=this.exifManipulation(e,i);return"data:image/jpeg;base64,".concat(this.encode64(r))}},{key:"exifManipulation",value:function(t,e){var n=this.getExifArray(e),i=this.insertExif(t,n);return new Uint8Array(i)}},{key:"getExifArray",value:function(t){for(var e=void 0,n=0;n<t.length;){if(255===(e=t[n])[0]&225===e[1])return e;n++}return[]}},{key:"insertExif",value:function(t,e){var n=t.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),o=i.slice(0,r),a=i.slice(r),s=o;return s=(s=s.concat(e)).concat(a)}},{key:"slice2Segments",value:function(t){for(var e=0,n=[];;){if(255===t[e]&218===t[e+1])break;if(255===t[e]&216===t[e+1])e+=2;else{var i=e+(256*t[e+2]+t[e+3])+2,r=t.slice(e,i);n.push(r),e=i}if(e>t.length)break}return n}},{key:"decode64",value:function(t){var e=void 0,n=void 0,i="",r=void 0,o=void 0,a="",s=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(t)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");e=this.KEY_STR.indexOf(t.charAt(s++))<<2|(r=this.KEY_STR.indexOf(t.charAt(s++)))>>4,n=(15&r)<<4|(o=this.KEY_STR.indexOf(t.charAt(s++)))>>2,i=(3&o)<<6|(a=this.KEY_STR.indexOf(t.charAt(s++))),l.push(e),64!==o&&l.push(n),64!==a&&l.push(i),e=n=i="",r=o=a="",s<t.length;);return l}}]),t}();_.initClass();w._autoDiscoverFunction=function(){if(w.autoDiscover)return w.discover()},function(t,e){var n=!1,i=!0,r=t.document,o=r.documentElement,a=r.addEventListener?"addEventListener":"attachEvent",s=r.addEventListener?"removeEventListener":"detachEvent",l=r.addEventListener?"":"on",c=function i(o){if("readystatechange"!==o.type||"complete"===r.readyState)return("load"===o.type?t:r)[s](l+o.type,i,!1),!n&&(n=!0)?e.call(t,o.type||o):void 0};if("complete"!==r.readyState){if(r.createEventObject&&o.doScroll){try{i=!t.frameElement}catch(t){}i&&function t(){try{o.doScroll("left")}catch(e){return void setTimeout(t,50)}return c("poll")}()}r[a](l+"DOMContentLoaded",c,!1),r[a](l+"readystatechange",c,!1),t[a](l+"load",c,!1)}}(window,w._autoDiscoverFunction),window.Dropzone=w;var O=w}(),i}()}),Dropzone.autoDiscover=!1,function(){"use strict";function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}"".trim||(String.prototype.trim=function(){return this.replace(/^[\sï»¿]+|[\sï»¿]+$/g,"")}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return r;r++}return-1},configurable:!0,writable:!0}),String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0}),t.prototype=window.Event.prototype,"function"!=typeof window.CustomEvent&&(window.CustomEvent=t),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),document.execCommand("AutoUrlDetect",!1,!1),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(t){if("Element"in t){var e="classList",n="prototype",i=t.Element[n],r=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new s("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","The token must not contain space characters.");return a.call(t,e)},c=function(t){for(var e=o.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,r=n.length;i<r;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=c[n]=[],d=function(){return new c(this)};if(s[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return~l(this,t+"")},u.add=function(){for(var t,e=arguments,n=0,i=e.length,r=!1;~l(this,t=e[n]+"")||(this.push(t),r=!0),++n<i;);r&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,r=n.length,o=!1;do{for(e=l(this,t=n[i]+"");~e;)this.splice(e,1),o=!0,e=l(this,t)}while(++i<r);o&&this._updateClassName()},u.toggle=function(t,e){var n=this.contains(t),i=n?!0!==e&&"remove":!1!==e&&"add";return i&&this[i](t),!0===e||!1===e?e:!n},u.replace=function(t,e){var n=l(t+"");~n&&(this.splice(n,1,e),this._updateClassName())},u.toString=function(){return this.join(" ")},r.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{r.defineProperty(i,e,h)}catch(t){void 0!==t.number&&-2146823252!==t.number||(h.enumerable=!1,r.defineProperty(i,e,h))}}else r[n].__defineGetter__&&i.__defineGetter__(e,d)}}(self),function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;n<i;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var n=this.toString().split(" "),i=n.indexOf(t+"");~i&&(n=n.slice(i),this.remove.apply(this,n),this.add(e),this.add.apply(this,n.slice(1)))}),t=null}()),window.Promise=function(){function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=0,i=void 0,r=void 0,o=function(t,e){h[n]=t,h[n+1]=e,2===(n+=2)&&(r?r(f):p())};var a="undefined"!=typeof window?window:void 0,s=a||{},l=s.MutationObserver||s.WebKitMutationObserver,c="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),u="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(f,1)}}var h=new Array(1e3);function f(){for(var t=0;t<n;t+=2){(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0}n=0}var p=void 0;function g(t,e){var n=this,i=new this.constructor(y);void 0===i[v]&&R(i);var r=n._state;if(r){var a=arguments[r-1];o(function(){return I(r,i,a,n._result)})}else D(n,i,t,e);return i}function m(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(y);return T(e,t),e}p=c?function(){return process.nextTick(f)}:l?function(){var t=0,e=new l(f),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():u?function(){var t=new MessageChannel;return t.port1.onmessage=f,function(){return t.port2.postMessage(0)}}():void 0===a&&"function"==typeof require?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(f)}:d()}catch(t){return d()}}():d();var v=Math.random().toString(36).substring(2);function y(){}var b=void 0,w=1,E=2;function C(e,n,i){n.constructor===e.constructor&&i===g&&n.constructor.resolve===m?function(t,e){e._state===w?O(t,e._result):e._state===E?k(t,e._result):D(e,void 0,function(e){return T(t,e)},function(e){return k(t,e)})}(e,n):void 0===i?O(e,n):t(i)?function(t,e,n){o(function(t){var i=!1,r=function(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}(n,e,function(n){i||(i=!0,e!==n?T(t,n):O(t,n))},function(e){i||(i=!0,k(t,e))},t._label);!i&&r&&(i=!0,k(t,r))},t)}(e,n,i):O(e,n)}function T(t,e){if(t===e)k(t,new TypeError("You cannot resolve a promise with itself"));else if(function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}(e)){var n=void 0;try{n=e.then}catch(e){return void k(t,e)}C(t,e,n)}else O(t,e)}function _(t){t._onerror&&t._onerror(t._result),x(t)}function O(t,e){t._state===b&&(t._result=e,t._state=w,0!==t._subscribers.length&&o(x,t))}function k(t,e){t._state===b&&(t._state=E,t._result=e,o(_,t))}function D(t,e,n,i){var r=t._subscribers,a=r.length;t._onerror=null,r[a]=e,r[a+w]=n,r[a+E]=i,0===a&&t._state&&o(x,t)}function x(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,o=t._result,a=0;a<e.length;a+=3)i=e[a],r=e[a+n],i?I(n,i,r,o):r(o);t._subscribers.length=0}}function I(e,n,i,r){var o=t(i),a=void 0,s=void 0,l=!0;if(o){try{a=i(r)}catch(e){l=!1,s=e}if(n===a)return void k(n,new TypeError("A promises callback cannot return that same promise."))}else a=r;n._state!==b||(o&&l?T(n,a):!1===l?k(n,s):e===w?O(n,a):e===E&&k(n,a))}var S=0;function R(t){t[v]=S++,t._state=void 0,t._result=void 0,t._subscribers=[]}var A=function(){function t(t,n){this._instanceConstructor=t,this.promise=new t(y),this.promise[v]||R(this.promise),e(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&O(this.promise,this._result))):k(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===b&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function t(e,n){var i=this._instanceConstructor,r=i.resolve;if(r===m){var o=void 0,a=void 0,s=!1;try{o=e.then}catch(t){s=!0,a=t}if(o===g&&e._state!==b)this._settledAt(e._state,n,e._result);else if("function"!=typeof o)this._remaining--,this._result[n]=e;else if(i===N){var l=new i(y);s?k(l,a):C(l,e,o),this._willSettleAt(l,n)}else this._willSettleAt(new i(function(t){return t(e)}),n)}else this._willSettleAt(r(e),n)},t.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===b&&(this._remaining--,t===E?k(i,n):this._result[e]=n),0===this._remaining&&O(i,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;D(t,void 0,function(t){return n._settledAt(w,e,t)},function(t){return n._settledAt(E,e,t)})},t}();var N=function(){function e(t){this[v]=S++,this._result=this._state=void 0,this._subscribers=[],y!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e(function(e){T(t,e)},function(e){k(t,e)})}catch(e){k(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this,i=n.constructor;return t(e)?n.then(function(t){return i.resolve(e()).then(function(){return t})},function(t){return i.resolve(e()).then(function(){throw t})}):n.then(e,e)},e}();return N.prototype.then=g,N.all=function(t){return new A(this,t).promise},N.race=function(t){var n=this;return e(t)?new n(function(e,i){for(var r=t.length,o=0;o<r;o++)n.resolve(t[o]).then(e,i)}):new n(function(t,e){return e(new TypeError("You must pass an array to race."))})},N.resolve=m,N.reject=function(t){var e=new this(y);return k(e,t),e},N._setScheduler=function(t){r=t},N._setAsap=function(t){o=t},N._asap=o,N.polyfill=function(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=N},N.Promise=N}()}(),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Tagify=e()}(this,function(){"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function e(e){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?t(r,!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r="undefined"!=typeof InstallTrigger;function o(t){var e=Object.prototype.toString.call(t).split(" ")[1].slice(0,-1);return t===Object(t)&&"Array"!=e&&"Function"!=e&&"RegExp"!=e&&"HTMLUnknownElement"!=e}function a(t){var e=document.createElement("div");return t.replace(/\&#?[0-9a-z]+;/gi,function(t){return e.innerHTML=t,e.innerText})}function s(t){return(new DOMParser).parseFromString(t.trim(),"text/html").body.firstElementChild}function l(t){return t?t.replace(/\>[\r\n ]+\</g,"><").replace(/(<.*?>)|\s+/g,function(t,e){return e||" "}):""}function c(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;")}function u(t,e,n){function i(t,e){for(var n in e)e.hasOwnProperty(n)&&(o(e[n])?o(t[n])?i(t[n],e[n]):t[n]=Object.assign({},e[n]):t[n]=e[n])}return t instanceof Object||(t={}),i(t,e),n&&i(t,n),t}function d(t){return String.prototype.normalize?"string"==typeof t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:t}function h(t,e){if(!t)return console.warn("Tagify: ","invalid input element ",t),this;this.applySettings(t,e||{}),this.state={editing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},u(this,new this.EventDispatcher(this)),this.build(t),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),t.autofocus&&this.DOM.input.focus()}return(h.prototype={isIE:window.document.documentMode,TEXTS:{empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},DEFAULTS:{delimiters:",",pattern:null,maxTags:1/0,callbacks:{},addTagOnBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,keepInvalidTags:!1,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,editTags:2,transformTag:function(){},autoComplete:{enabled:!0,rightKey:!1},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:[],fuzzySearch:!0,accentedSearch:!0,highlightFirst:!1,closeOnSelect:!0,position:"all"},hooks:{beforeRemoveTag:function(){return Promise.resolve()}}},templates:{wrapper:function(t,e){return'<tags class="tagify '.concat(e.mode?"tagify--"+e.mode:""," ").concat(t.className,'"\n                        ').concat(e.readonly?"readonly":"",'\n                        tabIndex="-1">\n                <span contenteditable data-placeholder="').concat(e.placeholder||"&#8203;",'" aria-placeholder="').concat(e.placeholder||"",'"\n                    class="tagify__input"\n                    role="textbox"\n                    aria-autocomplete="both"\n                    aria-multiline="').concat("mix"==e.mode,'"></span>\n            </tags>')},tag:function(t,e){return'<tag title="'.concat(e.title||t,"\"\n                        contenteditable='false'\n                        spellcheck='false'\n                        tabIndex=\"-1\"\n                        class=\"tagify__tag ").concat(e.class?e.class:"",'"\n                        ').concat(this.getAttributes(e),">\n                <x title='' class='tagify__tag__removeBtn' role='button' aria-label='remove tag'></x>\n                <div>\n                    <span class='tagify__tag-text'>").concat(t,"</span>\n                </div>\n            </tag>")},dropdown:function(t){var e=t.dropdown,n="".concat("manual"==e.position?"":"tagify__dropdown tagify__dropdown--".concat(e.position)," ").concat(e.classname).trim();return'<div class="'.concat(n,'" role="listbox" aria-labelledby="dropdown">\n                        <div class="tagify__dropdown__wrapper"></div>\n                    </div>')},dropdownItem:function(t){return"<div ".concat(this.getAttributes(t),"\n                        class='tagify__dropdown__item ").concat(t.class?t.class:"",'\'\n                        tabindex="0"\n                        role="option">').concat(t.value,"</div>")}},customEventsList:["add","remove","invalid","input","click","keydown","focus","blur","edit:input","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select"],applySettings:function(t,e){var n=this;if(this.DEFAULTS.templates=this.templates,this.settings=u({},this.DEFAULTS,e),this.settings.readonly=t.hasAttribute("readonly"),this.settings.placeholder=t.getAttribute("placeholder")||this.settings.placeholder||"",this.isIE&&(this.settings.autoComplete=!1),["whitelist","blacklist"].forEach(function(e){var i=t.getAttribute("data-"+e);i&&(i=i.split(n.settings.delimiters))instanceof Array&&(n.settings[e]=i)}),"autoComplete"in e&&!o(e.autoComplete)&&(this.settings.autoComplete=this.DEFAULTS.autoComplete,this.settings.autoComplete.enabled=e.autoComplete),t.pattern)try{this.settings.pattern=new RegExp(t.pattern)}catch(e){}if(this.settings.delimiters)try{this.settings.delimiters=new RegExp(this.settings.delimiters,"g")}catch(e){}"select"==this.settings.mode&&(this.settings.dropdown.enabled=0),"mix"==this.settings.mode&&(this.settings.autoComplete.rightKey=!0)},getAttributes:function(t){if("[object Object]"!=Object.prototype.toString.call(t))return"";var e,n,i=Object.keys(t),r="";for(n=i.length;n--;)"class"!=(e=i[n])&&t.hasOwnProperty(e)&&t[e]&&(r+=" "+e+(t[e]?'="'.concat(t[e],'"'):""));return r},getCaretGlobalPosition:function(){var t=document.getSelection();if(t.rangeCount){var e,n,i=t.getRangeAt(0),r=i.startContainer,o=i.startOffset;return 0<o?((n=document.createRange()).setStart(r,o-1),n.setEnd(r,o),{left:(e=n.getBoundingClientRect()).right,top:e.top,bottom:e.bottom}):r.getBoundingClientRect()}return{left:-9999,top:-9999}},getCSSVars:function(){var t,e,n=getComputedStyle(this.DOM.scope,null);this.CSSVars={tagHideTransition:(t=function(t){if(!t)return{};var e=(t=t.trim().split(" ")[0]).split(/\d+/g).filter(function(t){return t}).pop().trim();return{value:+t.split(e).filter(function(t){return t})[0].trim(),unit:e}}(("tag-hide-transition",n.getPropertyValue("--tag-hide-transition"))),e=t.value,"s"==t.unit?1e3*e:e)}},build:function(t){var e=this.DOM,n=this.settings.templates.wrapper(t,this.settings);e.originalInput=t,e.scope=s(n),e.input=e.scope.querySelector("[contenteditable]"),t.parentNode.insertBefore(e.scope,t),0<=this.settings.dropdown.enabled&&this.dropdown.init.call(this)},destroy:function(){this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.dropdown.hide.call(this,!0),clearTimeout(this.dropdownHide__bindEventsTimeout)},loadOriginalValues:function(t){if(t=t||this.DOM.originalInput.value)if(this.removeAllTags(),"mix"==this.settings.mode)this.parseMixTags(t.trim());else{try{"string"!=typeof JSON.parse(t)&&(t=JSON.parse(t))}catch(t){}this.addTags(t).forEach(function(t){return t&&t.classList.add("tagify--noAnim")})}},cloneEvent:function(t){var e={};for(var n in t)e[n]=t[n];return e},EventDispatcher:function(t){var e=document.createTextNode("");function n(t,n,i){i&&n.split(/\s+/g).forEach(function(n){return e[t+"EventListener"].call(e,n,i)})}this.off=function(t,e){return n("remove",t,e),this},this.on=function(t,e){return e&&"function"==typeof e&&n("add",t,e),this},this.trigger=function(n,i){var r;if(n)if(t.settings.isJQueryPlugin)"remove"==n&&(n="removeTag"),jQuery(t.DOM.originalInput).triggerHandler(n,[i]);else{try{var o=u({},i);o.tagify=this,r=new CustomEvent(n,{detail:o})}catch(n){console.warn(n)}e.dispatchEvent(r)}}},loading:function(t){return this.state.isLoading=t,this.DOM.scope.classList[t?"add":"remove"]("tagify--loading"),this},toggleFocusClass:function(t){this.DOM.scope.classList.toggle("tagify--focus",!!t)},events:{customBinding:function(){var t=this;this.customEventsList.forEach(function(e){t.on(e,t.settings.callbacks[e])})},binding:function(t){var e,n=!(0<arguments.length&&void 0!==t)||t,i=this.events.callbacks,r=n?"addEventListener":"removeEventListener";if(!this.state.mainEvents||!n)for(var o in(this.state.mainEvents=n)&&!this.listeners.main&&(this.DOM.input.addEventListener(this.isIE?"keydown":"input",i[this.isIE?"onInputIE":"onInput"].bind(this)),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),e=this.listeners.main=this.listeners.main||{focus:["input",i.onFocusBlur.bind(this)],blur:["input",i.onFocusBlur.bind(this)],keydown:["input",i.onKeydown.bind(this)],click:["scope",i.onClickScope.bind(this)],dblclick:["scope",i.onDoubleClickScope.bind(this)],paste:["input",i.onPaste.bind(this)]})"blur"==o&&!n||this.DOM[e[o][0]][r](o,e[o][1])},callbacks:{onFocusBlur:function(t){var e=t.target?t.target.textContent.trim():"",n=this.settings,i=t.type,r=0<=n.dropdown.enabled,o={relatedTarget:t.relatedTarget},a=t.relatedTarget&&t.relatedTarget.classList.contains("tagify__tag")&&this.DOM.scope.contains(t.relatedTarget),s=this.state.actions.selectOption&&(r||!n.dropdown.closeOnSelect),l=this.state.actions.addNew&&r;if(!a){if("blur"==i&&t.relatedTarget===this.DOM.scope)return this.dropdown.hide.call(this),void this.DOM.input.focus();if(!s&&!l)if(this.state.hasFocus="focus"==i&&+new Date,this.toggleFocusClass(this.state.hasFocus),this.setRangeAtStartEnd(!1),"mix"!=n.mode){if("focus"==i)return this.trigger("focus",o),void(0===n.dropdown.enabled&&this.dropdown.show.call(this));"blur"==i&&(this.trigger("blur",o),this.loading(!1),("select"==this.settings.mode?!this.value.length||this.value[0].value!=e:e&&!this.state.actions.selectOption&&n.addTagOnBlur)&&this.addTags(e,!0)),this.DOM.input.removeAttribute("style"),this.dropdown.hide.call(this)}else if("focus"==i){if(this.fixFirefoxLastTagNoCaret())return;this.trigger("focus",o)}else"blur"==t.type&&(this.trigger("blur",o),this.loading(!1),this.dropdown.hide.call(this),this.state.dropdown.visible=void 0)}},onKeydown:function(t){var e=this,n=t.target.textContent.trim();if(this.trigger("keydown",{originalEvent:this.cloneEvent(t)}),"mix"==this.settings.mode){switch(t.key){case"Left":case"ArrowLeft":this.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(this.state.editing)return;var i=document.getSelection(),r="Delete"==t.key&&i.anchorOffset==i.anchorNode.length,o=1==i.anchorNode.nodeType||!i.anchorOffset&&i.anchorNode.previousElementSibling,s=a(this.DOM.input.innerHTML),l=this.getTagElms();if(3==i.anchorNode.nodeType&&!i.anchorNode.nodeValue&&i.anchorNode.previousElementSibling&&t.preventDefault(),(o||r)&&!this.settings.backspace)return void t.preventDefault();setTimeout(function(){var t=a(e.DOM.input.innerHTML);if((i.anchorNode==e.DOM.input&&t.length==s.length||!i.anchorOffset&&t.length>=s.length)&&(e.removeTags(i.anchorNode.previousElementSibling),e.fixFirefoxLastTagNoCaret(),2==e.DOM.input.children.length&&"BR"==e.DOM.input.children[1].tagName))return e.DOM.input.innerHTML="",!(e.value.length=0);e.value=[].map.call(l,function(t,n){var i=t.__tagifyTagData;if(t.parentNode)return i;e.trigger("remove",{tag:t,index:n,data:i})}).filter(function(t){return t})},50)}return!0}switch(t.key){case"Backspace":this.state.dropdown.visible||""!=n&&8203!=n.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():"edit"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0));break;case"Esc":case"Escape":if(this.state.dropdown.visible)return;t.target.blur();break;case"Down":case"ArrowDown":this.state.dropdown.visible||this.dropdown.show.call(this);break;case"ArrowRight":var c=this.state.inputSuggestion||this.state.ddItemData;if(c&&this.settings.autoComplete.rightKey)return void this.addTags([c],!0);break;case"Tab":if(!n||"select"==this.settings.mode)return!0;case"Enter":t.preventDefault(),setTimeout(function(){e.state.actions.selectOption||e.addTags(n,!0)})}},onInput:function(t){var e=this.input.normalize.call(this),n=e.length>=this.settings.dropdown.enabled,i={value:e,inputElm:this.DOM.input};if("mix"==this.settings.mode)return this.events.callbacks.onMixTagsInput.call(this,t);i.isValid=this.validateTag({value:e}),this.trigger("input",i),e?this.input.value!=e&&(this.input.set.call(this,e,!1),-1!=e.search(this.settings.delimiters)?this.addTags(e)&&this.input.set.call(this):0<=this.settings.dropdown.enabled&&this.dropdown[n?"show":"hide"].call(this,e)):this.input.set.call(this,"")},onMixTagsInput:function(){var t,e,n,i,r,o,a,s,l=this,c=this.settings;if(this.value.length<this.getTagElms().length)return this.value=[].map.call(this.getTagElms(),function(t){return t.__tagifyTagData}),void this.update();if(this.hasMaxTags())return!0;if(window.getSelection&&0<(a=window.getSelection()).rangeCount&&3==a.anchorNode.nodeType){if((t=a.getRangeAt(0).cloneRange()).collapse(!0),t.setStart(a.focusNode,0),i=(e=t.toString().slice(0,t.endOffset)).split(c.pattern).length-1,(n=e.match(c.pattern))&&(r=e.slice(e.lastIndexOf(n[n.length-1]))),r){this.state.actions.ArrowLeft=!1,this.state.tag={prefix:r.match(c.pattern)[0],value:r.replace(c.pattern,"")},this.state.tag.baseOffset=a.baseOffset-this.state.tag.value.length,o=this.state.tag.value.length>=c.dropdown.enabled;try{s=(s=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&s.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch(t){}(s||i<this.state.mixMode.matchedPatternCount)&&(o=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=i}setTimeout(function(){l.update(),l.trigger("input",u({},l.state.tag,{textContent:l.DOM.input.textContent})),l.state.tag&&l.dropdown[o?"show":"hide"].call(l,l.state.tag.value)},10)},onInputIE:function(t){var e=this;setTimeout(function(){e.events.callbacks.onInput.call(e,t)})},onClickScope:function(t){var e=t.target.closest(".tagify__tag"),n=this.settings,i=new Date-this.state.hasFocus;if(t.target!=this.DOM.scope){if(!t.target.classList.contains("tagify__tag__removeBtn"))return e?(this.trigger("click",{tag:e,index:this.getNodeIndex(e),data:this.tagData(e),originalEvent:this.cloneEvent(t)}),void(1==this.settings.editTags&&this.events.callbacks.onDoubleClickScope.call(this,t))):void(t.target==this.DOM.input&&500<i?this.state.dropdown.visible?this.dropdown.hide.call(this):0===n.dropdown.enabled&&"mix"!=n.mode&&this.dropdown.show.call(this):"select"==n.mode&&(this.state.dropdown.visible||this.dropdown.show.call(this)));this.removeTags(t.target.parentNode)}else this.DOM.input.focus()},onPaste:function(t){var e;"mix"!=this.settings.mode&&(t.preventDefault(),e=(t.clipboardData||window.clipboardData).getData("Text"),this.input.set.call(this,e))},onEditTagInput:function(t,e){var n=t.closest(".tagify__tag"),i=this.getNodeIndex(n),r=this.input.normalize.call(this,t),o=r!=t.originalValue,a=this.validateTag({value:r});o||!0!==t.originalIsValid||(a=!0),n.classList.toggle("tagify--invalid",!0!==a),n.__tagifyTagData.__isValid=a,r.length>=this.settings.dropdown.enabled&&(this.state.editing.value=r,this.dropdown.show.call(this,r)),this.trigger("edit:input",{tag:n,index:i,data:u({},this.value[i],{newValue:r}),originalEvent:this.cloneEvent(e)})},onEditTagFocus:function(t){this.state.editing={scope:t,input:t.querySelector("[contenteditable]")}},onEditTagBlur:function(t){if(this.state.editing=!1,this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(t)){var e=t.closest(".tagify__tag"),n=this.input.normalize.call(this,t),i=n,r=i!=t.originalValue,o=u({},e.__tagifyTagData,{value:i}),a=this.validateTag(o);if(!n)return this.removeTags(e),void this.onEditTagDone(null,o);r?(this.settings.transformTag.call(this,o),!0===(a=this.validateTag(o))?this.onEditTagDone(e,o):this.trigger("invalid",{data:o,tag:e,message:a})):this.onEditTagDone(e,o)}},onEditTagkeydown:function(t,e){switch(this.trigger("edit:keydown",{originalEvent:this.cloneEvent(t)}),t.key){case"Esc":case"Escape":t.target.textContent=t.target.originalValue,e.__tagifyTagData=e.__tagifyTagData.__originalData;case"Enter":case"Tab":t.preventDefault(),t.target.blur()}},onDoubleClickScope:function(t){var e,n,i=t.target.closest("tag"),r=this.settings;i&&(e=i.classList.contains("tagify__tag--editable"),n=i.hasAttribute("readonly"),"select"==r.mode||r.readonly||e||n||!this.settings.editTags||this.editTag(i),this.toggleFocusClass(!0),this.trigger("dblclick",{tag:i,index:this.getNodeIndex(i),data:this.tagData(i)}))}}},fixFirefoxLastTagNoCaret:function(){var t=this.DOM.input;if(r&&t.childNodes.length&&1==t.lastChild.nodeType)return t.appendChild(document.createTextNode("")),this.setRangeAtStartEnd(!0),!0},editTag:function(t,e){var n=this;e=e||{};var i=(t=t||this.getLastTag()).querySelector(".tagify__tag-text"),r=this.getNodeIndex(t),o=t.__tagifyTagData,a=this.events.callbacks,s=this,l=!0;if(i){if(!(o instanceof Object&&"editable"in o)||o.editable)return t.__tagifyTagData.__originalData=u({},o),t.classList.add("tagify__tag--editable"),i.originalValue=i.textContent,i.setAttribute("contenteditable",!0),i.addEventListener("focus",a.onEditTagFocus.bind(this,t)),i.addEventListener("blur",function(){setTimeout(a.onEditTagBlur.bind(s),0,i)}),i.addEventListener("input",a.onEditTagInput.bind(this,i)),i.addEventListener("keydown",function(e){return a.onEditTagkeydown.call(n,e,t)}),i.focus(),this.setRangeAtStartEnd(!1,i),e.skipValidation||(l=this.editTagToggleValidity(t,o.value)),i.originalIsValid=l,this.trigger("edit:start",{tag:t,index:r,data:o,isValid:l}),this}else console.warn("Cannot find element in Tag template: ",".tagify__tag-text")},editTagToggleValidity:function(t){var e,n=t.__tagifyTagData;if(n)return e=!(!n.__isValid||1==n.__isValid),t.classList.toggle("tagify--invalid",e),n.__isValid;console.warn("tag has no data: ",t,n)},onEditTagDone:function(t,e){var n=this;e=e||{};var i={tag:t,index:this.getNodeIndex(t),data:e};this.trigger("edit:beforeUpdate",i),delete e.__originalData,t&&(this.editTagToggleValidity(t),this.replaceTag(t,e)),this.trigger("edit:updated",i),this.dropdown.hide.call(this),!0===e.__isValid&&this.getTagElms("tagify--notAllowed").forEach(function(t){var e=n.validateTag(t.__tagifyTagData);!0===e&&(t.__tagifyTagData.__isValid=e,n.replaceTag(t))})},replaceTag:function(t,e){e&&e.value||(e=t.__tagifyTagData),e.__isValid&&1!=e.__isValid&&u(e,this.getInvaildTagParams(e,e.__isValid));var n=this.createTagElem(e);t.parentNode.replaceChild(n,t),this.updateValueByDOMTags()},updateValueByDOMTags:function(){var t=this;this.value.length=0,[].forEach.call(this.getTagElms(),function(e){e.classList.contains("tagify--notAllowed")||t.value.push(e.__tagifyTagData)}),this.update()},setRangeAtStartEnd:function(t,e){e=(e=e||this.DOM.input).lastChild||e;var n=document.getSelection();n.rangeCount&&["Start","End"].forEach(function(i){return n.getRangeAt(0)["set"+i](e,t?0:e.length)})},input:{value:"",set:function(t,e){var n=0<arguments.length&&void 0!==t?t:"",i=!(1<arguments.length&&void 0!==e)||e,r=this.settings.dropdown.closeOnSelect;this.input.value=n,i&&(this.DOM.input.innerHTML=n),!n&&r&&setTimeout(this.dropdown.hide.bind(this),20),this.input.autocomplete.suggest.call(this),this.input.validate.call(this),this.setRangeAtStartEnd()},validate:function(){var t=!this.input.value||this.validateTag({value:this.input.value});"select"==this.settings.mode?this.DOM.scope.classList.toggle("tagify--invalid",!0!==t):this.DOM.input.classList.toggle("tagify__input--invalid",!0!==t)},normalize:function(t){var e=t||this.DOM.input,n=[];e.childNodes.forEach(function(t){return 3==t.nodeType&&n.push(t.nodeValue)}),n=n.join("\n");try{n=n.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch(t){}return n=n.replace(/\s/g," ").replace(/^\s+/,"")},autocomplete:{suggest:function(t){if(this.settings.autoComplete.enabled){"string"==typeof(t=t||{})&&(t={value:t});var e=t.value||"",n=e.substr(0,this.input.value.length).toLowerCase(),i=e.substring(this.input.value.length);e&&this.input.value&&n==this.input.value.toLowerCase()?(this.DOM.input.setAttribute("data-suggest",i),this.state.inputSuggestion=t):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}},set:function(t){var e=this.DOM.input.getAttribute("data-suggest"),n=t||(e?this.input.value+e:null);return!!n&&("mix"==this.settings.mode?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+n)):(this.input.set.call(this,n),this.setRangeAtStartEnd()),this.input.autocomplete.suggest.call(this),this.dropdown.hide.call(this),!0)}}},getTagIdx:function(t){return this.value.findIndex(function(e){return JSON.stringify(e)==JSON.stringify(t)})},getNodeIndex:function(t){var e=0;if(t)for(;t=t.previousElementSibling;)e++;return e},getTagElms:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=[".tagify__tag"].concat(e).join(".");return this.DOM.scope.querySelectorAll(i)},getLastTag:function(){var t=this.DOM.scope.querySelectorAll("tag:not(.tagify--hide):not([readonly])");return t[t.length-1]},tagData:function(t,e){return e&&(t.__tagifyTagData=u({},t.__tagifyTagData||{},e)),t.__tagifyTagData},isTagDuplicate:function(t){return"select"!=this.settings.mode&&this.value.reduce(function(e,n){return t.trim().toLowerCase()===n.value.toLowerCase()?e+1:e},0)},getTagIndexByValue:function(t){var e=[];return this.getTagElms().forEach(function(n,i){n.textContent.trim().toLowerCase()==t.toLowerCase()&&e.push(i)}),e},getTagElmByValue:function(t){var e=this.getTagIndexByValue(t)[0];return this.getTagElms()[e]},markTagByValue:function(t,e){return!!(e=e||this.getTagElmByValue(t))&&(e.classList.add("tagify--mark"),setTimeout(function(){e.classList.remove("tagify--mark")},100),e)},isTagBlacklisted:function(t){return t=t.toLowerCase().trim(),this.settings.blacklist.filter(function(e){return t==e.toLowerCase()}).length},isTagWhitelisted:function(t){return this.settings.whitelist.some(function(e){return"string"==typeof t?t.trim().toLowerCase()===(e.value||e).toLowerCase():JSON.stringify(e).toLowerCase()===JSON.stringify(t).toLowerCase()})},validateTag:function(t){var e=t.value.trim(),n=this.settings,i=!0;return e?n.pattern&&n.pattern instanceof RegExp&&!n.pattern.test(e)?i=this.TEXTS.pattern:!n.duplicates&&this.isTagDuplicate(e)?i=this.TEXTS.duplicate:(this.isTagBlacklisted(e)||n.enforceWhitelist&&!this.isTagWhitelisted(e))&&(i=this.TEXTS.notAllowed):i=this.TEXTS.empty,i},getInvaildTagParams:function(t,e){return{"aria-invalid":!0,class:(t.class||"")+" tagify--notAllowed",title:e}},hasMaxTags:function(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},normalizeTags:function(t){function n(t){return(t+"").split(s).filter(function(t){return t}).map(function(t){return{value:t.trim()}})}var r,o=this.settings,a=o.whitelist,s=o.delimiters,l=o.mode,c=!!a&&a[0]instanceof Object,u=t instanceof Array,d=u&&t[0]instanceof Object&&"value"in t[0],h=[];if(d)return(r=[]).concat.apply(r,i(t.map(function(t){return n(t.value).map(function(n){return e(e({},t),n)})})));if("number"==typeof t&&(t=t.toString()),"string"==typeof t){if(!t.trim())return[];t=n(t)}else if(u){var f;t=(f=[]).concat.apply(f,i(t.map(function(t){return n(t)})))}return c&&(t.forEach(function(t){var e=a.filter(function(e){return e.value.toLowerCase()==t.value.toLowerCase()});e[0]?h.push(e[0]):"mix"!=l&&h.push(t)}),h.length&&(t=h)),t},parseMixTags:function(t){var e=this,n=this.settings,i=n.mixTagsInterpolator,r=n.duplicates,o=n.transformTag,a=n.enforceWhitelist,s=[];return t=t.split(i[0]).map(function(t,n){var l,c,u=t.split(i[1]),d=u[0];try{l=JSON.parse(d)}catch(t){l=e.normalizeTags(d)[0]}if(!(1<u.length)||a&&!e.isTagWhitelisted(l.value)||!r&&e.isTagDuplicate(l.value)){if(t)return n?i[0]+t:t}else o.call(e,l),c=e.createTagElem(l),s.push(l),c.classList.add("tagify--noAnim"),u[0]=c.outerHTML,e.value.push(l);return u.join("")}).join(""),this.DOM.input.innerHTML=t,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize(),this.getTagElms().forEach(function(t,e){return t.__tagifyTagData=s[e]}),this.update(),t},replaceTextWithNode:function(t,e){if(this.state.tag||e){e=e||this.state.tag.prefix+this.state.tag.value;var n,i,r=this.state.selection||window.getSelection(),o=r.anchorNode;return o.splitText(r.anchorOffset),n=o.nodeValue.lastIndexOf(e),(i=o.splitText(n)).nodeValue=i.nodeValue.replace(e,""),o.parentNode.insertBefore(t,i),this.DOM.input.normalize(),i}},selectTag:function(t,e){if(!this.settings.enforceWhitelist||this.isTagWhitelisted(e.value))return this.input.set.call(this,e.value,!0),this.state.actions.selectOption&&setTimeout(this.setRangeAtStartEnd.bind(this)),this.getLastTag()?this.replaceTag(this.getLastTag(),e):this.appendTag(t),this.value[0]=e,this.trigger("add",{tag:t,data:e}),this.update(),[t]},addEmptyTag:function(){var t={value:""},e=this.createTagElem(t);e.__tagifyTagData=t,this.appendTag(e),this.editTag(e,{skipValidation:!0})},addTags:function(t,e,n){var i,r=this,o=2<arguments.length&&void 0!==n?n:this.settings.skipInvalid,a=[],s=this.settings;return t&&0!=t.length?(t=this.normalizeTags(t),"mix"==s.mode?(s.transformTag.call(this,t[0]),i=this.createTagElem(t[0]),this.replaceTextWithNode(i)||this.DOM.input.appendChild(i),setTimeout(function(){return i.classList.add("tagify--noAnim")},300),t[0].prefix=t[0].prefix||this.state.tag?this.state.tag.prefix:(s.pattern.source||s.pattern)[0],this.value.push(t[0]),this.update(),this.state.tag=null,this.trigger("add",u({},{tag:i},{data:t[0]})),this.fixFirefoxLastTagNoCaret(),i):("select"==s.mode&&(e=!1),this.DOM.input.removeAttribute("style"),t.forEach(function(t){var e,n={};if(t=Object.assign({},t),s.transformTag.call(r,t),t.__isValid=r.hasMaxTags()||r.validateTag(t),!0!==t.__isValid){if(o)return;u(n,r.getInvaildTagParams(t,t.__isValid)),t.__isValid==r.TEXTS.duplicate&&r.markTagByValue(t.value)}if(n.role="tag",t.readonly&&(n["aria-readonly"]=!0),(e=r.createTagElem(u({},t,n))).__tagifyTagData=t,a.push(e),"select"==s.mode)return r.selectTag(e,t);r.appendTag(e),t.__isValid&&!0===t.__isValid?(r.value.push(t),r.update(),r.trigger("add",{tag:e,index:r.value.length-1,data:t})):(r.trigger("invalid",{data:t,index:r.value.length,tag:e,message:t.__isValid}),s.keepInvalidTags||setTimeout(function(){return r.removeTags(e,!0)},1e3)),r.dropdown.position.call(r)}),t.length&&e&&this.input.set.call(this),this.dropdown.refilter.call(this),a)):("select"==s.mode&&this.removeAllTags(),a)},appendTag:function(t){var e=this.DOM.scope.lastElementChild;e===this.DOM.input?this.DOM.scope.insertBefore(t,e):this.DOM.scope.appendChild(t)},createTagElem:function(t){var e,n=c(t.value),i=this.settings.templates.tag.call(this,n,t);return this.settings.readonly&&(t.readonly=!0),(e=s(i=l(i))).__tagifyTagData=t,e},reCheckInvalidTags:function(){var t=this,e=this.DOM.scope.querySelectorAll(".tagify__tag.tagify--notAllowed");[].forEach.call(e,function(e){var n=e.__tagifyTagData,i=e.getAttribute("title")==t.TEXTS.duplicate,r=!0===t.validateTag(n);i&&r&&(n.__isValid=!0,t.replaceTag(e,n))})},removeTags:function(t,e,n){var i,r=this;t=t&&t instanceof HTMLElement?[t]:t instanceof Array?t:t?[t]:[this.getLastTag()],i=t.reduce(function(t,e){return e&&("string"==typeof e&&(e=r.getTagElmByValue(e)),e&&t.push({node:e,data:e.__tagifyTagData})),t},[]),n="number"==typeof n?n:this.CSSVars.tagHideTransition,"select"==this.settings.mode&&(n=0,this.input.set.call(this)),1==i.length&&i[0].node.classList.contains("tagify--notAllowed")&&(e=!0),this.settings.hooks.beforeRemoveTag(i).then(function(){function t(t){if(t.node.parentNode){var n=this.getTagIdx(t.data);t.node.parentNode.removeChild(t.node),e?this.settings.keepInvalidTags&&this.trigger("remove",{tag:t.node,index:n}):(this.trigger("remove",{tag:t.node,index:n,data:t.data}),this.dropdown.refilter.call(this),this.dropdown.position.call(this),this.DOM.input.normalize(),this.settings.keepInvalidTags&&this.reCheckInvalidTags())}}n&&10<n&&1==i.length?function(e){e.node.style.width=parseFloat(window.getComputedStyle(e.node).width)+"px",document.body.clientTop,e.node.classList.add("tagify--hide"),setTimeout(t.bind(this),n,e)}.call(r,i[0]):i.forEach(t.bind(r)),e||(i.forEach(function(t){var e=r.getTagIdx(t.data);-1<e&&r.value.splice(e,1)}),r.update())}).catch(function(t){})},removeAllTags:function(){this.value=[],"mix"==this.settings.mode?this.DOM.input.innerHTML="":Array.prototype.slice.call(this.getTagElms()).forEach(function(t){return t.parentNode.removeChild(t)}),this.dropdown.position.call(this),"select"==this.settings.mode&&this.input.set.call(this),this.update()},removeValueById:function(){},preUpdate:function(){this.DOM.scope.classList.toggle("tagify--hasMaxTags",this.value.length>=this.settings.maxTags),this.DOM.scope.classList.toggle("tagify--noTags",!this.value.length)},update:function(){this.preUpdate();var t=this.DOM.originalInput,e=t.value,n=function(t,e){return t.map(function(t){var e={};for(var n in t)"__isValid"!=n&&(e[n]=t[n]);return e})}(this.value),i=new CustomEvent("change",{bubbles:!0});t.value="mix"==this.settings.mode?this.getMixedTagsAsString(n):n.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(n):JSON.stringify(n):"",i.simulated=!0,t._valueTracker&&t._valueTracker.setValue(e),t.dispatchEvent(i)},getMixedTagsAsString:function(){var t="",e=this,n=this.settings.mixTagsInterpolator;return function i(r){r.childNodes.forEach(function(r){if(1==r.nodeType){if(r.classList.contains("tagify__tag")&&r.__tagifyTagData)return void(t+=n[0]+JSON.stringify(r.__tagifyTagData)+n[1]);"BR"!=r.tagName||r.parentNode!=e.DOM.input&&1!=r.parentNode.childNodes.length?"DIV"!=r.tagName&&"P"!=r.tagName||(t+="\r\n",i(r)):t+="\r\n"}else t+=r.textContent})}(this.DOM.input),t},getNodeHeight:function(t){var e,n=t.cloneNode(!0);return n.style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(n),e=n.clientHeight,n.parentNode.removeChild(n),e},dropdown:{init:function(){this.DOM.dropdown=s(this.settings.templates.dropdown(this.settings)),this.DOM.dropdown.content=this.DOM.dropdown.querySelector(".tagify__dropdown__wrapper")},show:function(t){var e,n,i,r,a=this,s=this.settings,c=window.getSelection(),u="mix"==s.mode&&!s.enforceWhitelist,d=!s.whitelist||!s.whitelist.length,h="manual"==s.dropdown.position;if(!(d&&!u||!1===s.dropdown.enable||this.state.isLoading)){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems.call(this,t),this.suggestedListItems.length)t&&u&&!this.state.editing.scope&&!function(t,e){return t.toLowerCase()==e.toLowerCase()}(this.suggestedListItems[0].value,t)&&this.suggestedListItems.unshift({value:t});else{if(!t||!u||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),this.dropdown.hide.call(this),void this.events.binding.call(this);this.suggestedListItems=[{value:t}]}i=o(n=this.suggestedListItems[0])?n.value:n,s.autoComplete&&i&&0==i.indexOf(t)&&this.input.autocomplete.suggest.call(this,n),e=this.dropdown.createListHTML.call(this,this.suggestedListItems),this.DOM.dropdown.content.innerHTML=l(e),(s.enforceWhitelist&&!h||s.dropdown.highlightFirst)&&this.dropdown.highlightOption.call(this,this.DOM.dropdown.content.children[0]),this.DOM.scope.setAttribute("aria-expanded",!0),this.trigger("dropdown:show",this.DOM.dropdown),this.state.dropdown.visible=t||!0,this.state.selection={anchorOffset:c.anchorOffset,anchorNode:c.anchorNode},this.dropdown.position.call(this),document.body.contains(this.DOM.dropdown)||(h||(this.events.binding.call(this,!1),r=this.getNodeHeight(this.DOM.dropdown),this.DOM.dropdown.classList.add("tagify__dropdown--initial"),this.dropdown.position.call(this,r),document.body.appendChild(this.DOM.dropdown),setTimeout(function(){return a.DOM.dropdown.classList.remove("tagify__dropdown--initial")})),setTimeout(this.dropdown.events.binding.bind(this)))}},hide:function(t){var e=this.DOM,n=e.scope,i=e.dropdown,r="manual"==this.settings.dropdown.position&&!t;i&&document.body.contains(i)&&!r&&(window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),clearTimeout(this.dropdownHide__bindEventsTimeout),this.dropdownHide__bindEventsTimeout=setTimeout(this.events.binding.bind(this),250),n.setAttribute("aria-expanded",!1),i.parentNode.removeChild(i),this.state.dropdown.visible=!1,this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",i))},refilter:function(){this.suggestedListItems=this.dropdown.filterListItems.call(this,"");var t=this.dropdown.createListHTML.call(this,this.suggestedListItems);this.DOM.dropdown.content.innerHTML=l(t),this.trigger("dropdown:updated",this.DOM.dropdown)},position:function(t){var e,n,i,r,o,a,s=this.DOM.dropdown,l=this.DOM["input"==this.settings.dropdown.position?"input":"scope"];this.state.dropdown.visible&&(a="text"==this.settings.dropdown.position?(r=(n=this.getCaretGlobalPosition()).bottom,i=n.top,o=n.left,"auto"):(i=(n=l.getBoundingClientRect()).top,r=n.bottom-1,o=n.left,n.width+"px"),i=Math.floor(i),r=Math.ceil(r),e=document.documentElement.clientHeight-r<(t||s.clientHeight),s.style.cssText="left:"+(o+window.pageXOffset)+"px; width:"+a+";"+(e?"bottom:"+(document.documentElement.clientHeight-i-window.pageYOffset-2)+"px;":"top: "+(r+window.pageYOffset)+"px"),s.setAttribute("placement",e?"top":"bottom"))},events:{binding:function(t){var e=!(0<arguments.length&&void 0!==t)||t,n=this.dropdown.events.callbacks,i=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this),onKeyDown:n.onKeyDown.bind(this),onMouseOver:n.onMouseOver.bind(this),onMouseLeave:n.onMouseLeave.bind(this),onClick:n.onClick.bind(this),onScroll:n.onScroll.bind(this)},r=e?"addEventListener":"removeEventListener";"manual"!=this.settings.dropdown.position&&(window[r]("resize",i.position),window[r]("keydown",i.onKeyDown)),this.DOM.dropdown[r]("mouseover",i.onMouseOver),this.DOM.dropdown[r]("mouseleave",i.onMouseLeave),this.DOM.dropdown[r]("mousedown",i.onClick),this.DOM.dropdown.content[r]("scroll",i.onScroll),this.DOM[this.listeners.main.click[0]][r]("click",this.listeners.main.click[1])},callbacks:{onKeyDown:function(t){var e=this.DOM.dropdown.querySelector("[class$='--active']"),n=e;switch(t.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":var i;t.preventDefault(),n=(n=n&&n[("ArrowUp"==t.key||"Up"==t.key?"previous":"next")+"ElementSibling"])||(i=this.DOM.dropdown.content.children)["ArrowUp"==t.key||"Up"==t.key?i.length-1:0],this.dropdown.highlightOption.call(this,n,!0);break;case"Escape":case"Esc":this.dropdown.hide.call(this);break;case"ArrowRight":if(this.state.actions.ArrowLeft)return;case"Tab":if("mix"!=this.settings.mode&&!this.settings.autoComplete.rightKey){try{var r=n?n.textContent:this.suggestedListItems[0].value;this.input.autocomplete.set.call(this,r)}catch(t){}return!1}case"Enter":t.preventDefault(),this.dropdown.selectOption.call(this,e);break;case"Backspace":if("mix"==this.settings.mode||this.state.editing.scope)return;var o=this.input.value.trim();""!=o&&8203!=o.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():"edit"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0))}},onMouseOver:function(t){var e=t.target.closest(".tagify__dropdown__item");e&&this.dropdown.highlightOption.call(this,e)},onMouseLeave:function(){this.dropdown.highlightOption.call(this)},onClick:function(t){if(0==t.button&&t.target!=this.DOM.dropdown){var e=t.target.closest(".tagify__dropdown__item");t.target.closest(".tagify__dropdown__addNewBtn"),e&&this.dropdown.selectOption.call(this,e)}},onScroll:function(t){var e=t.target,n=e.scrollTop/(e.scrollHeight-e.parentNode.clientHeight)*100;this.trigger("dropdown:scroll",{percentage:Math.round(n)})}}},highlightOption:function(t,e){var n,i="tagify__dropdown__item--active";if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(i),this.state.ddItemElm.removeAttribute("aria-selected")),!t)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);n=this.suggestedListItems[this.getNodeIndex(t)],this.state.ddItemData=n,(this.state.ddItemElm=t).classList.add(i),t.setAttribute("aria-selected",!0),e&&(t.parentNode.scrollTop=t.clientHeight+t.offsetTop-t.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,n),"manual"!=this.settings.dropdown.position&&this.dropdown.position.call(this))},selectOption:function(t){var n=this;if(t){this.state.actions.selectOption=!0,setTimeout(function(){return n.state.actions.selectOption=!1},50);var i=this.settings.dropdown.closeOnSelect,r=this.suggestedListItems[this.getNodeIndex(t)].value||this.input.value;this.trigger("dropdown:select",r),this.state.editing?this.onEditTagDone(this.state.editing.scope,e(e({},this.state.editing.scope.__tagifyTagData),{},{value:r,__isValid:!0})):this.addTags([r],!0),setTimeout(function(){n.DOM.input.focus(),n.toggleFocusClass(!0)}),i&&this.dropdown.hide.call(this)}},filterListItems:function(t){var e,n,i,r,a,s=this,l=this.settings,c=[],u=l.whitelist,h=l.dropdown.maxItems||1/0,f=l.dropdown.searchKeys.concat(["searchBy","value"]),p=0;if(!t)return(l.duplicates?u:u.filter(function(t){return!s.isTagDuplicate(o(t)?t.value:t)})).slice(0,h);for(;p<u.length&&(e=u[p]instanceof Object?u[p]:{value:u[p]},r=f.reduce(function(t,n){return t+" "+(e[n]||"")},"").toLowerCase(),i=l.dropdown.accentedSearch?d(r).indexOf(d(t.toLowerCase())):r.indexOf(t.toLowerCase()),n=l.dropdown.fuzzySearch?0<=i:0==i,a=!l.duplicates&&this.isTagDuplicate(o(e)?e.value:e),n&&!a&&h--&&c.push(e),0!=h);p++);return c},createListHTML:function(t){var e=this;return t.map(function(t){"string"==typeof t&&(t={value:t});var n=e.settings.dropdown.mapValueTo,i=u({},t,{value:c((n?"function"==typeof n?n(t):t[n]:t.value)||"")});return e.settings.templates.dropdownItem.call(e,i)}).join("")}}}).removeTag=h.prototype.removeTags,h}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(e,i,r){i={content:{message:"object"==typeof i?i.message:i,title:i.title?i.title:"",icon:i.icon?i.icon:"",url:i.url?i.url:"#",target:i.target?i.target:"-"}};r=t.extend(!0,{},i,r),this.settings=t.extend(!0,{},n,r),this._defaults=n,"-"==this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),this.init()}var n={element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};String.format=function(){for(var t=arguments[0],e=1;e<arguments.length;e++)t=t.replace(RegExp("\\{"+(e-1)+"\\}","gm"),arguments[e]);return t},t.extend(e.prototype,{init:function(){var t=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.styleDismiss(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(e,n){var i={};for(var e in"string"==typeof e?i[e]=n:i=e,i)switch(e){case"type":this.$ele.removeClass("alert-"+t.settings.type),this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+t.settings.type),t.settings.type=i[e],this.$ele.addClass("alert-"+i[e]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+i[e]);break;case"icon":var r=this.$ele.find('[data-notify="icon"]');"class"==t.settings.icon_type.toLowerCase()?r.removeClass(t.settings.content.icon).addClass(i[e]):(r.is("img")||r.find("img"),r.attr("src",i[e]));break;case"progress":var o=t.settings.delay-t.settings.delay*(i[e]/100);this.$ele.data("notify-delay",o),this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",i[e]).css("width",i[e]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",i[e]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",i[e]);break;default:this.$ele.find('[data-notify="'+e+'"]').html(i[e])}var a=this.$ele.outerHeight()+parseInt(t.settings.spacing)+parseInt(t.settings.offset.y);t.reposition(a)},close:function(){t.close()}}},buildNotify:function(){var e=this.settings.content;this.$ele=t(String.format(this.settings.template,this.settings.type,e.title,e.message,e.url,e.target)),this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none"),(this.settings.delay<=0&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"==this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleDismiss:function(){this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:"0px",position:"absolute",top:"0px",width:"100%",zIndex:this.settings.z_index+1})},placement:function(){var e=this,n=this.settings.offset.y,i={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},r=!1,o=this.settings;switch(t('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each(function(){return n=Math.max(n,parseInt(t(this).css(o.placement.from))+parseInt(t(this).outerHeight())+parseInt(o.spacing))}),1==this.settings.newest_on_top&&(n=this.settings.offset.y),i[this.settings.placement.from]=n+"px",this.settings.placement.align){case"left":case"right":i[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":i.left=0,i.right=0}this.$ele.css(i).addClass(this.settings.animate.enter),t.each(Array("webkit","moz","o","ms",""),function(t,n){e.$ele[0].style[n+"AnimationIterationCount"]=1}),t(this.settings.element).append(this.$ele),1==this.settings.newest_on_top&&(n=parseInt(n)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(n)),t.isFunction(e.settings.onShow)&&e.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,function(t){r=!0}).one(this.animations.end,function(n){t.isFunction(e.settings.onShown)&&e.settings.onShown.call(this)}),setTimeout(function(){r||t.isFunction(e.settings.onShown)&&e.settings.onShown.call(this)},600)},bind:function(){var e=this;if(this.$ele.find('[data-notify="dismiss"]').on("click",function(){e.close()}),this.$ele.mouseover(function(e){t(this).data("data-hover","true")}).mouseout(function(e){t(this).data("data-hover","false")}),this.$ele.data("data-hover","false"),this.settings.delay>0){e.$ele.data("notify-delay",e.settings.delay);var n=setInterval(function(){var t=parseInt(e.$ele.data("notify-delay"))-e.settings.timer;if("false"===e.$ele.data("data-hover")&&"pause"==e.settings.mouse_over||"pause"!=e.settings.mouse_over){var i=(e.settings.delay-t)/e.settings.delay*100;e.$ele.data("notify-delay",t),e.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",i).css("width",i+"%")}t<=-e.settings.timer&&(clearInterval(n),e.close())},e.settings.timer)}},close:function(){var e=this,n=parseInt(this.$ele.css(this.settings.placement.from)),i=!1;this.$ele.data("closing","true").addClass(this.settings.animate.exit),e.reposition(n),t.isFunction(e.settings.onClose)&&e.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,function(t){i=!0}).one(this.animations.end,function(n){t(this).remove(),t.isFunction(e.settings.onClosed)&&e.settings.onClosed.call(this)}),setTimeout(function(){i||(e.$ele.remove(),e.settings.onClosed&&e.settings.onClosed(e.$ele))},600)},reposition:function(e){var n=this,i='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',r=this.$ele.nextAll(i);1==this.settings.newest_on_top&&(r=this.$ele.prevAll(i)),r.each(function(){t(this).css(n.settings.placement.from,e),e=parseInt(e)+parseInt(n.settings.spacing)+t(this).outerHeight()})}}),t.notify=function(t,n){return new e(this,t,n).notify},t.notifyDefaults=function(e){return n=t.extend(!0,{},n,e)},t.notifyClose=function(e){void 0===e||"all"==e?t("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):t('[data-notify-position="'+e+'"]').find('[data-notify="dismiss"]').trigger("click")}}),$.notifyDefaults({template:'<div data-notify="container" class="alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss"></button><span data-notify="icon"></span><span data-notify="title">{1}</span><span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-animated bg-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'}),function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r="dual-listbox__title",o="dual-listbox__item",a="dual-listbox__button",s="dual-listbox__item--selected",l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.setDefaults(),this.selected=[],this.available=[],t.isDomElement(e)?this.select=e:this.select=document.querySelector(e),this._initOptions(n),this._initReusableElements(),this._splitOptions(this.select.options),void 0!==n.options&&this._splitOptions(n.options),this._buildDualListbox(this.select.parentNode),this._addActions(),this.redraw()}return i(t,[{key:"setDefaults",value:function(){this.addEvent=null,this.removeEvent=null,this.availableTitle="Available options",this.selectedTitle="Selected options",this.addButtonText="add",this.removeButtonText="remove",this.addAllButtonText="add all",this.removeAllButtonText="remove all",this.searchPlaceholder="Search"}},{key:"addEventListener",value:function(t,e){this.dualListbox.addEventListener(t,e)}},{key:"addSelected",value:function(t){var e=this,n=this.available.indexOf(t);n>-1&&(this.available.splice(n,1),this.selected.push(t),this._selectOption(t.dataset.id),this.redraw(),setTimeout(function(){var n=document.createEvent("HTMLEvents");n.initEvent("added",!1,!0),n.addedElement=t,e.dualListbox.dispatchEvent(n)},0))}},{key:"redraw",value:function(){this.updateAvailableListbox(),this.updateSelectedListbox()}},{key:"removeSelected",value:function(t){var e=this,n=this.selected.indexOf(t);n>-1&&(this.selected.splice(n,1),this.available.push(t),this._deselectOption(t.dataset.id),this.redraw(),setTimeout(function(){var n=document.createEvent("HTMLEvents");n.initEvent("removed",!1,!0),n.removedElement=t,e.dualListbox.dispatchEvent(n)},0))}},{key:"searchLists",value:function(t,e){for(var n=e.querySelectorAll("."+o),i=t.toLowerCase(),r=0;r<n.length;r++){var a=n[r];-1===a.textContent.toLowerCase().indexOf(i)?a.style.display="none":a.style.display="list-item"}}},{key:"updateAvailableListbox",value:function(){this._updateListbox(this.availableList,this.available)}},{key:"updateSelectedListbox",value:function(){this._updateListbox(this.selectedList,this.selected)}},{key:"_actionAllSelected",value:function(t){var e=this;t.preventDefault(),this.available.filter(function(t){return"none"!==t.style.display}).forEach(function(t){return e.addSelected(t)})}},{key:"_updateListbox",value:function(t,e){for(;t.firstChild;)t.removeChild(t.firstChild);for(var n=0;n<e.length;n++){var i=e[n];t.appendChild(i)}}},{key:"_actionItemSelected",value:function(t){t.preventDefault();var e=this.dualListbox.querySelector("."+s);e&&this.addSelected(e)}},{key:"_actionAllDeselected",value:function(t){var e=this;t.preventDefault(),this.selected.filter(function(t){return"none"!==t.style.display}).forEach(function(t){return e.removeSelected(t)})}},{key:"_actionItemDeselected",value:function(t){t.preventDefault();var e=this.dualListbox.querySelector("."+s);e&&this.removeSelected(e)}},{key:"_actionItemDoubleClick",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(e.preventDefault(),e.stopPropagation()),this.selected.indexOf(t)>-1?this.removeSelected(t):this.addSelected(t)}},{key:"_actionItemClick",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n&&n.preventDefault();for(var i=e.querySelectorAll("."+o),r=0;r<i.length;r++){var a=i[r];a!==t&&a.classList.remove(s)}t.classList.contains(s)?t.classList.remove(s):t.classList.add(s)}},{key:"_addActions",value:function(){this._addButtonActions(),this._addSearchActions()}},{key:"_addButtonActions",value:function(){var t=this;this.add_all_button.addEventListener("click",function(e){return t._actionAllSelected(e)}),this.add_button.addEventListener("click",function(e){return t._actionItemSelected(e)}),this.remove_button.addEventListener("click",function(e){return t._actionItemDeselected(e)}),this.remove_all_button.addEventListener("click",function(e){return t._actionAllDeselected(e)})}},{key:"_addClickActions",value:function(t){var e=this;return t.addEventListener("dblclick",function(n){return e._actionItemDoubleClick(t,n)}),t.addEventListener("click",function(n){return e._actionItemClick(t,e.dualListbox,n)}),t}},{key:"_addSearchActions",value:function(){var t=this;this.search.addEventListener("change",function(e){return t.searchLists(e.target.value,t.dualListbox)}),this.search.addEventListener("keyup",function(e){return t.searchLists(e.target.value,t.dualListbox)})}},{key:"_buildDualListbox",value:function(t){this.select.style.display="none",this.dualListBoxContainer.appendChild(this._createList(this.availableListTitle,this.availableList)),this.dualListBoxContainer.appendChild(this.buttons),this.dualListBoxContainer.appendChild(this._createList(this.selectedListTitle,this.selectedList)),this.dualListbox.appendChild(this.search),this.dualListbox.appendChild(this.dualListBoxContainer),t.insertBefore(this.dualListbox,this.select)}},{key:"_createList",value:function(t,e){var n=document.createElement("div");return n.appendChild(t),n.appendChild(e),n}},{key:"_createButtons",value:function(){this.buttons=document.createElement("div"),this.buttons.classList.add("dual-listbox__buttons"),this.add_all_button=document.createElement("button"),this.add_all_button.classList.add(a),this.add_all_button.innerHTML=this.addAllButtonText,this.add_button=document.createElement("button"),this.add_button.classList.add(a),this.add_button.innerHTML=this.addButtonText,this.remove_button=document.createElement("button"),this.remove_button.classList.add(a),this.remove_button.innerHTML=this.removeButtonText,this.remove_all_button=document.createElement("button"),this.remove_all_button.classList.add(a),this.remove_all_button.innerHTML=this.removeAllButtonText,this.buttons.appendChild(this.add_all_button),this.buttons.appendChild(this.add_button),this.buttons.appendChild(this.remove_button),this.buttons.appendChild(this.remove_all_button)}},{key:"_createListItem",value:function(t){var e=document.createElement("li");return e.classList.add(o),e.innerHTML=t.text,e.dataset.id=t.value,this._addClickActions(e),e}},{key:"_createSearch",value:function(){this.search=document.createElement("input"),this.search.classList.add("dual-listbox__search"),this.search.placeholder=this.searchPlaceholder}},{key:"_deselectOption",value:function(t){for(var e=this.select.options,n=0;n<e.length;n++){var i=e[n];i.value===t&&(i.selected=!1)}this.removeEvent&&this.removeEvent(t)}},{key:"_initOptions",value:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}},{key:"_initReusableElements",value:function(){this.dualListbox=document.createElement("div"),this.dualListbox.classList.add("dual-listbox"),this.select.id&&this.dualListbox.classList.add(this.select.id),this.dualListBoxContainer=document.createElement("div"),this.dualListBoxContainer.classList.add("dual-listbox__container"),this.availableList=document.createElement("ul"),this.availableList.classList.add("dual-listbox__available"),this.selectedList=document.createElement("ul"),this.selectedList.classList.add("dual-listbox__selected"),this.availableListTitle=document.createElement("div"),this.availableListTitle.classList.add(r),this.availableListTitle.innerText=this.availableTitle,this.selectedListTitle=document.createElement("div"),this.selectedListTitle.classList.add(r),this.selectedListTitle.innerText=this.selectedTitle,this._createButtons(),this._createSearch()}},{key:"_selectOption",value:function(t){for(var e=this.select.options,n=0;n<e.length;n++){var i=e[n];i.value===t&&(i.selected=!0)}this.addEvent&&this.addEvent(t)}},{key:"_splitOptions",value:function(e){for(var n=0;n<e.length;n++){var i=e[n];t.isDomElement(i)?this._addOption({text:i.innerHTML,value:i.value,selected:i.attributes.selected}):this._addOption(i)}}},{key:"_addOption",value:function(t){var e=this._createListItem(t);t.selected?this.selected.push(e):this.available.push(e)}}],[{key:"isDomElement",value:function(t){return"object"===("undefined"==typeof HTMLElement?"undefined":n(HTMLElement))?t instanceof HTMLElement:t&&"object"===(void 0===t?"undefined":n(t))&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}}]),t}();e.default=l,e.DualListbox=l}])}),function(t){"use strict";t.sessionTimeout=function(e){function n(){clearTimeout(r),(a.countdownMessage||a.countdownBar)&&i("session",!0),"function"==typeof a.onStart&&a.onStart(a),a.keepAlive&&(d||(t.ajax({type:a.ajaxType,url:a.keepAliveUrl,data:a.ajaxData}),d=!0,setTimeout(function(){d=!1},a.keepAliveInterval))),r=setTimeout(function(){"function"!=typeof a.onWarn?t("#session-timeout-dialog").modal("show"):a.onWarn(a),clearTimeout(r),t("#session-timeout-dialog").hasClass("in")||!a.countdownMessage&&!a.countdownBar||i("dialog",!0),r=setTimeout(function(){"function"!=typeof a.onRedir?window.location=a.redirUrl:a.onRedir(a)},a.redirAfter-a.warnAfter)},a.warnAfter)}function i(e,n){clearTimeout(s.timer),"dialog"===e&&n?s.timeLeft=Math.floor((a.redirAfter-a.warnAfter)/1e3):"session"===e&&n&&(s.timeLeft=Math.floor(a.redirAfter/1e3)),a.countdownBar&&"dialog"===e?s.percentLeft=Math.floor(s.timeLeft/((a.redirAfter-a.warnAfter)/1e3)*100):a.countdownBar&&"session"===e&&(s.percentLeft=Math.floor(s.timeLeft/(a.redirAfter/1e3)*100));var r=t(".countdown-holder"),o=s.timeLeft>=0?s.timeLeft:0;if(a.countdownSmart){var l=Math.floor(o/60),c=o%60,u=l>0?l+"m":"";u.length>0&&(u+=" "),u+=c+"s",r.text(u)}else r.text(o+"s");a.countdownBar&&t(".countdown-bar").css("width",s.percentLeft+"%"),s.timeLeft=s.timeLeft-1,s.timer=setTimeout(function(){i(e)},1e3)}var r,o={title:"Your Session is About to Expire!",message:"Your session is about to expire.",logoutButton:"Logout",keepAliveButton:"Stay Connected",keepAliveUrl:"/keep-alive",ajaxType:"POST",ajaxData:"",redirUrl:"/timed-out",logoutUrl:"/log-out",warnAfter:9e5,redirAfter:12e5,keepAliveInterval:5e3,keepAlive:!0,ignoreUserActivity:!1,onStart:!1,onWarn:!1,onRedir:!1,countdownMessage:!1,countdownBar:!1,countdownSmart:!1},a=o,s={};if(e&&(a=t.extend(o,e)),a.warnAfter>=a.redirAfter)return console.error('Bootstrap-session-timeout plugin is miss-configured. Option "redirAfter" must be equal or greater than "warnAfter".'),!1;if("function"!=typeof a.onWarn){var l=a.countdownMessage?"<p>"+a.countdownMessage.replace(/{timer}/g,'<span class="countdown-holder"></span>')+"</p>":"",c=a.countdownBar?'<div class="progress">                   <div class="progress-bar progress-bar-striped countdown-bar active" role="progressbar" style="min-width: 15px; width: 100%;">                     <span class="countdown-holder"></span>                   </div>                 </div>':"";t("body").append('<div class="modal fade" id="session-timeout-dialog">               <div class="modal-dialog">                 <div class="modal-content">                   <div class="modal-header">                     <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>                     <h4 class="modal-title">'+a.title+'</h4>                   </div>                   <div class="modal-body">                     <p>'+a.message+"</p>                     "+l+"                     "+c+'                   </div>                   <div class="modal-footer">                     <button id="session-timeout-dialog-logout" type="button" class="btn btn-default">'+a.logoutButton+'</button>                     <button id="session-timeout-dialog-keepalive" type="button" class="btn btn-primary" data-dismiss="modal">'+a.keepAliveButton+"</button>                   </div>                 </div>               </div>              </div>"),t("#session-timeout-dialog-logout").on("click",function(){window.location=a.logoutUrl}),t("#session-timeout-dialog").on("hide.bs.modal",function(){n()})}if(!a.ignoreUserActivity){var u=[-1,-1];t(document).on("keyup mouseup mousemove touchend touchmove",function(e){if("mousemove"===e.type){if(e.clientX===u[0]&&e.clientY===u[1])return;u[0]=e.clientX,u[1]=e.clientY}n(),t("#session-timeout-dialog").length>0&&t("#session-timeout-dialog").data("bs.modal")&&t("#session-timeout-dialog").data("bs.modal").isShown&&(t("#session-timeout-dialog").modal("hide"),t("body").removeClass("modal-open"),t("div.modal-backdrop").remove())})}var d=!1;n()}}(jQuery),function(t){function e(){for(var t=0;t<C.length;t++)C[t][0](C[t][1]);C=[],g=!1}function n(t,n){C.push([t,n]),g||(g=!0,E(e,0))}function i(t){var e=(n=t.owner).state_,n=n.data_,i=t[e];if(t=t.then,"function"==typeof i){e=y;try{n=i(n)}catch(e){s(t,e)}}r(t,n)||(e===y&&o(t,n),e===b&&s(t,n))}function r(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var i=e.then;if("function"==typeof i)return i.call(e,function(i){n||(n=!0,e!==i?o(t,i):a(t,i))},function(e){n||(n=!0,s(t,e))}),!0}}catch(e){return n||s(t,e),!0}return!1}function o(t,e){t!==e&&r(t,e)||a(t,e)}function a(t,e){t.state_===m&&(t.state_=v,t.data_=e,n(c,t))}function s(t,e){t.state_===m&&(t.state_=v,t.data_=e,n(u,t))}function l(t){var e=t.then_;for(t.then_=void 0,t=0;t<e.length;t++)i(e[t])}function c(t){t.state_=y,l(t)}function u(t){t.state_=b,l(t)}function d(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(!1==this instanceof d)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function n(t){s(e,t)}try{t(function(t){o(e,t)},n)}catch(t){n(t)}}(t,this)}var h,f=t.Promise,p=f&&"resolve"in f&&"reject"in f&&"all"in f&&"race"in f&&(new f(function(t){h=t}),"function"==typeof h);"undefined"!=typeof exports&&exports?(exports.Promise=p?f:d,exports.Polyfill=d):"function"==typeof define&&define.amd?define(function(){return p?f:d}):p||(t.Promise=d);var g,m="pending",v="sealed",y="fulfilled",b="rejected",w=function(){},E="undefined"!=typeof setImmediate?setImmediate:setTimeout,C=[];d.prototype={constructor:d,state_:m,then_:null,data_:void 0,then:function(t,e){var r={owner:this,then:new this.constructor(w),fulfilled:t,rejected:e};return this.state_===y||this.state_===b?n(i,r):this.then_.push(r),r.then},catch:function(t){return this.then(null,t)}},d.all=function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("You must pass an array to Promise.all().");return new this(function(e,n){function i(t){return a++,function(n){o[t]=n,--a||e(o)}}for(var r,o=[],a=0,s=0;s<t.length;s++)(r=t[s])&&"function"==typeof r.then?r.then(i(s),n):o[s]=r;a||e(o)})},d.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("You must pass an array to Promise.race().");return new this(function(e,n){for(var i,r=0;r<t.length;r++)(i=t[r])&&"function"==typeof i.then?i.then(e,n):e(i)})},d.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this(function(e){e(t)})},d.reject=function(t){return new this(function(e,n){n(t)})}}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Sweetalert2=e()}(this,function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function l(t,e,n){return(l=s()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&a(r,n.prototype),r}).apply(null,arguments)}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t){return Object.keys(t).map(function(e){return t[e]})}function d(t){return Array.prototype.slice.call(t)}function h(t,e){var n;n='"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(e,'" instead.'),-1===U.indexOf(n)&&(U.push(n),$(n))}function f(t){return t&&"function"==typeof t.toPromise}function p(t){return f(t)?t.toPromise():Promise.resolve(t)}function g(t){return t&&Promise.resolve(t)===t}function m(e){return e instanceof Element||"object"===t(n=e)&&n.jquery;var n}function v(t){var e={};for(var n in t)e[t[n]]="swal2-"+t[n];return e}function y(t){var e=Y();return e?e.querySelector(t):null}function b(t){return y(".".concat(t))}function w(){return d(G().querySelectorAll(".".concat(W.icon)))}function E(){var t=w().filter(function(t){return gt(t)});return t.length?t[0]:null}function C(){return b(W.title)}function T(){return b(W.content)}function _(){return b(W.image)}function O(){return b(W["progress-steps"])}function k(){return b(W["validation-message"])}function D(){return y(".".concat(W.actions," .").concat(W.confirm))}function x(){return y(".".concat(W.actions," .").concat(W.cancel))}function I(){return b(W.actions)}function S(){return b(W.header)}function R(){return b(W.footer)}function A(){return b(W["timer-progress-bar"])}function N(){return b(W.close)}function P(){var t=d(G().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(t,e){return t=parseInt(t.getAttribute("tabindex")),(e=parseInt(e.getAttribute("tabindex")))<t?1:t<e?-1:0}),e=d(G().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(function(t){return"-1"!==t.getAttribute("tabindex")});return function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(t.concat(e)).filter(function(t){return gt(t)})}function M(){return!X()&&!document.body.classList.contains(W["no-backdrop"])}function L(){return G().hasAttribute("data-loading")}function K(t,e){var n;t.textContent="",e&&(d((n=(new DOMParser).parseFromString(e,"text/html")).querySelector("head").childNodes).forEach(function(e){t.appendChild(e)}),d(n.querySelector("body").childNodes).forEach(function(e){t.appendChild(e)}))}function j(t,e){if(e){for(var n=e.split(/\s+/),i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return;return 1}}function F(e,n,i){var r,o;if(o=n,d((r=e).classList).forEach(function(t){-1===u(W).indexOf(t)&&-1===u(q).indexOf(t)&&-1===u(o.showClass).indexOf(t)&&r.classList.remove(t)}),n.customClass&&n.customClass[i]){if("string"!=typeof n.customClass[i]&&!n.customClass[i].forEach)return $("Invalid type of customClass.".concat(i,'! Expected string or iterable object, got "').concat(t(n.customClass[i]),'"'));ht(e,n.customClass[i])}}var B="SweetAlert2:",$=function(t){console.warn("".concat(B," ").concat(t))},H=function(t){console.error("".concat(B," ").concat(t))},U=[],z=function(t){return"function"==typeof t?t():t},V=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),W=v(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","toast-column","show","hide","close","title","header","content","html-container","actions","confirm","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),q=v(["success","warning","info","question","error"]),Y=function(){return document.body.querySelector(".".concat(W.container))},G=function(){return b(W.popup)},X=function(){return document.body.classList.contains(W["toast-shown"])},Z={previousBodyPadding:null};function J(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return pt(t,W[e]);case"checkbox":return t.querySelector(".".concat(W.checkbox," input"));case"radio":return t.querySelector(".".concat(W.radio," input:checked"))||t.querySelector(".".concat(W.radio," input:first-child"));case"range":return t.querySelector(".".concat(W.range," input"));default:return pt(t,W.input)}}function Q(t){var e;t.focus(),"file"!==t.type&&(e=t.value,t.value="",t.value=e)}function tt(t,e,n){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(function(e){t.forEach?t.forEach(function(t){n?t.classList.add(e):t.classList.remove(e)}):n?t.classList.add(e):t.classList.remove(e)}))}function et(t,e,n){n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)}function nt(t,e){var n=1<arguments.length&&void 0!==e?e:"flex";t.style.opacity="",t.style.display=n}function it(t){t.style.opacity="",t.style.display="none"}function rt(t,e,n){e?nt(t,n):it(t)}function ot(t){return!!(t.scrollHeight>t.clientHeight)}function at(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return 0<n||0<i}function st(t,e){var n=1<arguments.length&&void 0!==e&&e,i=A();gt(i)&&(n&&(i.style.transition="none",i.style.width="100%"),setTimeout(function(){i.style.transition="width ".concat(t/1e3,"s linear"),i.style.width="0%"},10))}function lt(){return"undefined"==typeof window||"undefined"==typeof document}function ct(t){Fe.isVisible()&&dt!==t.target.value&&Fe.resetValidationMessage(),dt=t.target.value}function ut(e,n){e instanceof HTMLElement?n.appendChild(e):"object"===t(e)?yt(e,n):e&&K(n,e)}var dt,ht=function(t,e){tt(t,e,!0)},ft=function(t,e){tt(t,e,!1)},pt=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(j(t.childNodes[n],e))return t.childNodes[n]},gt=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},mt='\n <div aria-labelledby="'.concat(W.title,'" aria-describedby="').concat(W.content,'" class="').concat(W.popup,'" tabindex="-1">\n   <div class="').concat(W.header,'">\n     <ul class="').concat(W["progress-steps"],'"></ul>\n     <div class="').concat(W.icon," ").concat(q.error,'"></div>\n     <div class="').concat(W.icon," ").concat(q.question,'"></div>\n     <div class="').concat(W.icon," ").concat(q.warning,'"></div>\n     <div class="').concat(W.icon," ").concat(q.info,'"></div>\n     <div class="').concat(W.icon," ").concat(q.success,'"></div>\n     <img class="').concat(W.image,'" />\n     <h2 class="').concat(W.title,'" id="').concat(W.title,'"></h2>\n     <button type="button" class="').concat(W.close,'"></button>\n   </div>\n   <div class="').concat(W.content,'">\n     <div id="').concat(W.content,'" class="').concat(W["html-container"],'"></div>\n     <input class="').concat(W.input,'" />\n     <input type="file" class="').concat(W.file,'" />\n     <div class="').concat(W.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(W.select,'"></select>\n     <div class="').concat(W.radio,'"></div>\n     <label for="').concat(W.checkbox,'" class="').concat(W.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(W.label,'"></span>\n     </label>\n     <textarea class="').concat(W.textarea,'"></textarea>\n     <div class="').concat(W["validation-message"],'" id="').concat(W["validation-message"],'"></div>\n   </div>\n   <div class="').concat(W.actions,'">\n     <button type="button" class="').concat(W.confirm,'">OK</button>\n     <button type="button" class="').concat(W.cancel,'">Cancel</button>\n   </div>\n   <div class="').concat(W.footer,'"></div>\n   <div class="').concat(W["timer-progress-bar-container"],'">\n     <div class="').concat(W["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),vt=function(t){var e,n,i,r,o,a,s,l,c,u,d,h,f,p,g,m=!!(e=Y())&&(e.parentNode.removeChild(e),ft([document.documentElement,document.body],[W["no-backdrop"],W["toast-shown"],W["has-column"]]),!0);lt()?H("SweetAlert2 requires document to initialize"):((n=document.createElement("div")).className=W.container,m&&ht(n,W["no-transition"]),K(n,mt),(i="string"==typeof(r=t.target)?document.querySelector(r):r).appendChild(n),o=t,(a=G()).setAttribute("role",o.toast?"alert":"dialog"),a.setAttribute("aria-live",o.toast?"polite":"assertive"),o.toast||a.setAttribute("aria-modal","true"),s=i,"rtl"===window.getComputedStyle(s).direction&&ht(Y(),W.rtl),l=T(),c=pt(l,W.input),u=pt(l,W.file),d=l.querySelector(".".concat(W.range," input")),h=l.querySelector(".".concat(W.range," output")),f=pt(l,W.select),p=l.querySelector(".".concat(W.checkbox," input")),g=pt(l,W.textarea),c.oninput=ct,u.onchange=ct,f.onchange=ct,p.onchange=ct,g.oninput=ct,d.oninput=function(t){ct(t),h.value=d.value},d.onchange=function(t){ct(t),d.nextSibling.value=d.value})},yt=function(t,e){t.jquery?bt(e,t):K(e,t.toString())},bt=function(t,e){if(t.textContent="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},wt=function(){if(lt())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1}();function Et(t,e,n){var i;rt(t,n["show".concat((i=e).charAt(0).toUpperCase()+i.slice(1),"Button")],"inline-block"),K(t,n["".concat(e,"ButtonText")]),t.setAttribute("aria-label",n["".concat(e,"ButtonAriaLabel")]),t.className=W[e],F(t,n,"".concat(e,"Button")),ht(t,n["".concat(e,"ButtonClass")])}function Ct(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)}var Tt={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},_t=["input","file","range","select","radio","checkbox","textarea"],Ot=function(t){if(!It[t.input])return H('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));var e=xt(t.input),n=It[t.input](e,t);nt(n),setTimeout(function(){Q(n)})},kt=function(t,e){var n=J(T(),t);if(n)for(var i in function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;-1===["type","value","style"].indexOf(n)&&t.removeAttribute(n)}}(n),e)"range"===t&&"placeholder"===i||n.setAttribute(i,e[i])},Dt=function(t){var e=xt(t.input);t.customClass&&ht(e,t.customClass.input)},xt=function(t){var e=W[t]?W[t]:W.input;return pt(T(),e)},It={};function St(){return Y()&&Y().getAttribute("data-queue-step")}function Rt(t,e){var n,i,r,o,a,s,l,c;F(S(),e,"header"),function(t,e){var n=O();if(!e.progressSteps||0===e.progressSteps.length)return it(n),0;nt(n),n.textContent="";var i=parseInt(void 0===e.currentProgressStep?St():e.currentProgressStep);i>=e.progressSteps.length&&$("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach(function(t,r){var o,a,s,l,c,u=(o=t,a=document.createElement("li"),ht(a,W["progress-step"]),K(a,o),a);n.appendChild(u),r===i&&ht(u,W["active-progress-step"]),r!==e.progressSteps.length-1&&(l=e,c=document.createElement("li"),ht(c,W["progress-step-line"]),l.progressStepsDistance&&(c.style.width=l.progressStepsDistance),s=c,n.appendChild(s))})}(0,e),n=t,i=e,(o=Tt.innerParams.get(n))&&i.icon===o.icon&&E()?F(E(),i,"icon"):(Pt(),i.icon&&(-1!==Object.keys(q).indexOf(i.icon)?(nt(r=y(".".concat(W.icon,".").concat(q[i.icon]))),Lt(r,i),Mt(),F(r,i,"icon"),ht(r,i.showClass.icon)):H('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(i.icon,'"')))),function(t){var e=_();if(!t.imageUrl)return it(e);nt(e,""),e.setAttribute("src",t.imageUrl),e.setAttribute("alt",t.imageAlt),et(e,"width",t.imageWidth),et(e,"height",t.imageHeight),e.className=W.image,F(e,t,"image")}(e),a=e,rt(s=C(),a.title||a.titleText),a.title&&ut(a.title,s),a.titleText&&(s.innerText=a.titleText),F(s,a,"title"),l=e,K(c=N(),l.closeButtonHtml),F(c,l,"closeButton"),rt(c,l.showCloseButton),c.setAttribute("aria-label",l.closeButtonAriaLabel)}function At(t,e){var n,i,r,o;n=e,et(i=G(),"width",n.width),et(i,"padding",n.padding),n.background&&(i.style.background=n.background),Ft(i,n),function(t,e){var n,i,r,o,a,s,l,c,u=Y();u&&(n=u,"string"==typeof(i=e.backdrop)?n.style.background=i:i||ht([document.documentElement,document.body],W["no-backdrop"]),!e.backdrop&&e.allowOutsideClick&&$('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),r=u,(o=e.position)in W?ht(r,W[o]):($('The "position" parameter is not valid, defaulting to "center"'),ht(r,W.center)),a=u,!(s=e.grow)||"string"!=typeof s||(l="grow-".concat(s))in W&&ht(a,W[l]),F(u,e,"container"),(c=document.body.getAttribute("data-swal2-queue-step"))&&(u.setAttribute("data-queue-step",c),document.body.removeAttribute("data-swal2-queue-step")))}(0,e),Rt(t,e),function(t,e){var n,i,r,o,a,s=T().querySelector("#".concat(W.content));e.html?(ut(e.html,s),nt(s,"block")):e.text?(s.textContent=e.text,nt(s,"block")):it(s),n=t,i=e,r=T(),o=Tt.innerParams.get(n),a=!o||i.input!==o.input,_t.forEach(function(t){var e=W[t],n=pt(r,e);kt(t,i.inputAttributes),n.className=e,a&&it(n)}),i.input&&(a&&Ot(i),Dt(i)),F(T(),e,"content")}(t,e),function(t,e){var n=I(),i=D(),r=x();e.showConfirmButton||e.showCancelButton||it(n),F(n,e,"actions"),Et(i,"confirm",e),Et(r,"cancel",e),e.buttonsStyling?function(t,e,n){var i;ht([t,e],W.styled),n.confirmButtonColor&&(t.style.backgroundColor=n.confirmButtonColor),n.cancelButtonColor&&(e.style.backgroundColor=n.cancelButtonColor),L()||(i=window.getComputedStyle(t).getPropertyValue("background-color"),t.style.borderLeftColor=i,t.style.borderRightColor=i)}(i,r,e):(ft([i,r],W.styled),i.style.backgroundColor=i.style.borderLeftColor=i.style.borderRightColor="",r.style.backgroundColor=r.style.borderLeftColor=r.style.borderRightColor=""),e.reverseButtons&&i.parentNode.insertBefore(r,i)}(0,e),r=e,rt(o=R(),r.footer),r.footer&&ut(r.footer,o),F(o,r,"footer"),"function"==typeof e.onRender&&e.onRender(G())}function Nt(){return D()&&D().click()}It.text=It.email=It.password=It.number=It.tel=It.url=function(e,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?e.value=n.inputValue:g(n.inputValue)||$('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(t(n.inputValue),'"')),Ct(e,n),e.type=n.input,e},It.file=function(t,e){return Ct(t,e),t},It.range=function(t,e){var n=t.querySelector("input"),i=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,i.value=e.inputValue,t},It.select=function(t,e){var n;return t.textContent="",e.inputPlaceholder&&(K(n=document.createElement("option"),e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)),t},It.radio=function(t){return t.textContent="",t},It.checkbox=function(t,e){var n=J(T(),"checkbox");return n.value=1,n.id=W.checkbox,n.checked=Boolean(e.inputValue),K(t.querySelector("span"),e.inputPlaceholder),t},It.textarea=function(t,e){var n,i;return t.value=e.inputValue,Ct(t,e),"MutationObserver"in window&&(n=parseInt(window.getComputedStyle(G()).width),i=parseInt(window.getComputedStyle(G()).paddingLeft)+parseInt(window.getComputedStyle(G()).paddingRight),new MutationObserver(function(){var e=t.offsetWidth+i;G().style.width=n<e?"".concat(e,"px"):null}).observe(t,{attributes:!0,attributeFilter:["style"]})),t};var Pt=function(){for(var t=w(),e=0;e<t.length;e++)it(t[e])},Mt=function(){for(var t=G(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),i=0;i<n.length;i++)n[i].style.backgroundColor=e},Lt=function(t,e){t.textContent="",e.iconHtml?K(t,Kt(e.iconHtml)):"success"===e.icon?K(t,'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    '):"error"===e.icon?K(t,'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    '):K(t,Kt({question:"?",warning:"!",info:"i"}[e.icon]))},Kt=function(t){return'<div class="'.concat(W["icon-content"],'">').concat(t,"</div>")},jt=[],Ft=function(t,e){t.className="".concat(W.popup," ").concat(gt(t)?e.showClass.popup:""),e.toast?(ht([document.documentElement,document.body],W["toast-shown"]),ht(t,W.toast)):ht(t,W.modal),F(t,e,"popup"),"string"==typeof e.customClass&&ht(t,e.customClass),e.icon&&ht(t,W["icon-".concat(e.icon)])};function Bt(){var t=G();t||Fe.fire(),t=G();var e=I(),n=D();nt(e),nt(n,"inline-block"),ht([t,e],W.loading),n.disabled=!0,t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()}function $t(){if(Vt.timeout)return function(){var t=A(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var n=parseInt(window.getComputedStyle(t).width),i=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(i,"%")}(),Vt.timeout.stop()}function Ht(){if(Vt.timeout){var t=Vt.timeout.start();return st(t),t}}function Ut(t){return Object.prototype.hasOwnProperty.call(Wt,t)}function zt(t){return Yt[t]}var Vt={},Wt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconHtml:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:void 0,target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showCancelButton:!1,preConfirm:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,onRender:void 0,onClose:void 0,onAfterClose:void 0,onDestroy:void 0,scrollbarPadding:!0},qt=["allowEscapeKey","allowOutsideClick","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","footer","hideClass","html","icon","imageAlt","imageHeight","imageUrl","imageWidth","onAfterClose","onClose","onDestroy","progressSteps","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","text","title","titleText"],Yt={animation:'showClass" and "hideClass'},Gt=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusCancel","heightAuto","keydownListenerCapture"],Xt=Object.freeze({isValidParameter:Ut,isUpdatableParameter:function(t){return-1!==qt.indexOf(t)},isDeprecatedParameter:zt,argsToParams:function(e){var n={};return"object"!==t(e[0])||m(e[0])?["title","html","icon"].forEach(function(i,r){var o=e[r];"string"==typeof o||m(o)?n[i]=o:void 0!==o&&H("Unexpected type of ".concat(i,'! Expected "string" or "Element", got ').concat(t(o)))}):r(n,e[0]),n},isVisible:function(){return gt(G())},clickConfirm:Nt,clickCancel:function(){return x()&&x().click()},getContainer:Y,getPopup:G,getTitle:C,getContent:T,getHtmlContainer:function(){return b(W["html-container"])},getImage:_,getIcon:E,getIcons:w,getCloseButton:N,getActions:I,getConfirmButton:D,getCancelButton:x,getHeader:S,getFooter:R,getTimerProgressBar:A,getFocusableElements:P,getValidationMessage:k,isLoading:L,fire:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return l(this,e)},mixin:function(t){return function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(h,n);var l,u,d=(l=h,u=s(),function(){var t,e=o(l);return function(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,u?(t=o(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))});function h(){return e(this,h),d.apply(this,arguments)}return i(h,[{key:"_main",value:function(e){return c(o(h.prototype),"_main",this).call(this,r({},t,e))}}]),h}(this)},queue:function(t){var e=this;function n(t,e){jt=[],t(e)}jt=t;var i=[];return new Promise(function(t){!function r(o,a){o<jt.length?(document.body.setAttribute("data-swal2-queue-step",o),e.fire(jt[o]).then(function(e){void 0!==e.value?(i.push(e.value),r(o+1,a)):n(t,{dismiss:e.dismiss})})):n(t,{value:i})}(0)})},getQueueStep:St,insertQueueStep:function(t,e){return e&&e<jt.length?jt.splice(e,0,t):jt.push(t)},deleteQueueStep:function(t){void 0!==jt[t]&&jt.splice(t,1)},showLoading:Bt,enableLoading:Bt,getTimerLeft:function(){return Vt.timeout&&Vt.timeout.getTimerLeft()},stopTimer:$t,resumeTimer:Ht,toggleTimer:function(){var t=Vt.timeout;return t&&(t.running?$t:Ht)()},increaseTimer:function(t){if(Vt.timeout){var e=Vt.timeout.increase(t);return st(e,!0),e}},isTimerRunning:function(){return Vt.timeout&&Vt.timeout.isRunning()}});function Zt(){var t,e=Tt.innerParams.get(this);e&&(t=Tt.domCache.get(this),e.showConfirmButton||(it(t.confirmButton),e.showCancelButton||it(t.actions)),ft([t.popup,t.actions],W.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.cancelButton.disabled=!1)}function Jt(){return!!window.MSInputMethodContext&&!!document.documentMode}function Qt(){var t=Y(),e=G();t.style.removeProperty("align-items"),e.offsetTop<0&&(t.style.alignItems="flex-start")}var te=function(t){var e=Y();return t===e||!(ot(e)||"INPUT"===t.tagName||ot(T())&&T().contains(t))},ee={swalPromiseResolve:new WeakMap};function ne(t,e,n,i){var r;n?oe(t,i):(new Promise(function(t){var e=window.scrollX,n=window.scrollY;Vt.restoreFocusTimeout=setTimeout(function(){Vt.previousActiveElement&&Vt.previousActiveElement.focus?(Vt.previousActiveElement.focus(),Vt.previousActiveElement=null):document.body&&document.body.focus(),t()},100),void 0!==e&&void 0!==n&&window.scrollTo(e,n)}).then(function(){return oe(t,i)}),Vt.keydownTarget.removeEventListener("keydown",Vt.keydownHandler,{capture:Vt.keydownListenerCapture}),Vt.keydownHandlerAdded=!1),e.parentNode&&!document.body.getAttribute("data-swal2-queue-step")&&e.parentNode.removeChild(e),M()&&(null!==Z.previousBodyPadding&&(document.body.style.paddingRight="".concat(Z.previousBodyPadding,"px"),Z.previousBodyPadding=null),j(document.body,W.iosfix)&&(r=parseInt(document.body.style.top,10),ft(document.body,W.iosfix),document.body.style.top="",document.body.scrollTop=-1*r),"undefined"!=typeof window&&Jt()&&window.removeEventListener("resize",Qt),d(document.body.children).forEach(function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})),ft([document.documentElement,document.body],[W.shown,W["height-auto"],W["no-backdrop"],W["toast-shown"],W["toast-column"]])}function ie(t){var e,n,i,r=G();r&&(e=Tt.innerParams.get(this))&&!j(r,e.hideClass.popup)&&(n=ee.swalPromiseResolve.get(this),ft(r,e.showClass.popup),ht(r,e.hideClass.popup),i=Y(),ft(i,e.showClass.backdrop),ht(i,e.hideClass.backdrop),function(t,e,n){var i=Y(),r=wt&&at(e),o=n.onClose,a=n.onAfterClose;null!==o&&"function"==typeof o&&o(e),r?re(t,e,i,a):ne(t,i,X(),a)}(this,r,e),void 0!==t?(t.isDismissed=void 0!==t.dismiss,t.isConfirmed=void 0===t.dismiss):t={isDismissed:!0,isConfirmed:!1},n(t||{}))}var re=function(t,e,n,i){Vt.swalCloseEventFinishedCallback=ne.bind(null,t,n,X(),i),e.addEventListener(wt,function(t){t.target===e&&(Vt.swalCloseEventFinishedCallback(),delete Vt.swalCloseEventFinishedCallback)})},oe=function(t,e){setTimeout(function(){"function"==typeof e&&e(),t._destroy()})};function ae(t,e,n){var i=Tt.domCache.get(t);e.forEach(function(t){i[t].disabled=n})}function se(t,e){if(!t)return!1;if("radio"===t.type)for(var n=t.parentNode.parentNode.querySelectorAll("input"),i=0;i<n.length;i++)n[i].disabled=e;else t.disabled=e}var le=function(){function t(n,i){e(this,t),this.callback=n,this.remaining=i,this.running=!1,this.start()}return i(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),ce={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function ue(t){var e,n=G();t.target===n&&(e=Y(),n.removeEventListener(wt,ue),e.style.overflowY="auto")}function de(t,e){t.closePopup({value:e})}function he(t,e,n){var i=P();if(0<i.length)return(e+=n)===i.length?e=0:-1===e&&(e=i.length-1),i[e].focus();G().focus()}var fe,pe=function(t,e){wt&&at(e)?(t.style.overflowY="hidden",e.addEventListener(wt,ue)):t.style.overflowY="auto"},ge=function(t,e,n){var i;(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)&&!j(document.body,W.iosfix)&&(i=document.body.scrollTop,document.body.style.top="".concat(-1*i,"px"),ht(document.body,W.iosfix),function(){var t,e=Y();e.ontouchstart=function(e){t=te(e.target)},e.ontouchmove=function(e){t&&(e.preventDefault(),e.stopPropagation())}}(),navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)||G().scrollHeight>window.innerHeight-44&&(Y().style.paddingBottom="".concat(44,"px"))),"undefined"!=typeof window&&Jt()&&(Qt(),window.addEventListener("resize",Qt)),e&&"hidden"!==n&&null===Z.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Z.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Z.previousBodyPadding+function(){var t=document.createElement("div");t.className=W["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}(),"px")),setTimeout(function(){t.scrollTop=0})},me=function(t,e,n){ht(t,n.showClass.backdrop),nt(e),ht(e,n.showClass.popup),ht([document.documentElement,document.body],W.shown),n.heightAuto&&n.backdrop&&!n.toast&&ht([document.documentElement,document.body],W["height-auto"])},ve=function(e,n){function i(t){return be[n.input](r,we(t),n)}var r=T();f(n.inputOptions)||g(n.inputOptions)?(Bt(),p(n.inputOptions).then(function(t){e.hideLoading(),i(t)})):"object"===t(n.inputOptions)?i(n.inputOptions):H("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(t(n.inputOptions)))},ye=function(t,e){var n=t.getInput();it(n),p(e.inputValue).then(function(i){n.value="number"===e.input?parseFloat(i)||0:"".concat(i),nt(n),n.focus(),t.hideLoading()}).catch(function(e){H("Error in inputValue promise: ".concat(e)),n.value="",nt(n),n.focus(),t.hideLoading()})},be={select:function(t,e,n){function i(t,e,i){var r=document.createElement("option");r.value=i,K(r,e),n.inputValue.toString()===i.toString()&&(r.selected=!0),t.appendChild(r)}var r=pt(t,W.select);e.forEach(function(t){var e,n=t[0],o=t[1];Array.isArray(o)?((e=document.createElement("optgroup")).label=n,e.disabled=!1,r.appendChild(e),o.forEach(function(t){return i(e,t[1],t[0])})):i(r,o,n)}),r.focus()},radio:function(t,e,n){var i=pt(t,W.radio);e.forEach(function(t){var e=t[0],r=t[1],o=document.createElement("input"),a=document.createElement("label");o.type="radio",o.name=W.radio,o.value=e,n.inputValue.toString()===e.toString()&&(o.checked=!0);var s=document.createElement("span");K(s,r),s.className=W.label,a.appendChild(o),a.appendChild(s),i.appendChild(a)});var r=i.querySelectorAll("input");r.length&&r[0].focus()}},we=function e(n){var i=[];return"undefined"!=typeof Map&&n instanceof Map?n.forEach(function(n,r){var o=n;"object"===t(o)&&(o=e(o)),i.push([r,o])}):Object.keys(n).forEach(function(r){var o=n[r];"object"===t(o)&&(o=e(o)),i.push([r,o])}),i},Ee=function(t,e){var n=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return function(t){return t.checked?1:0}(n);case"radio":return function(t){return t.checked?t.value:null}(n);case"file":return function(t){return t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null}(n);default:return e.inputAutoTrim?n.value.trim():n.value}}(t,e);e.inputValidator?(t.disableInput(),Promise.resolve().then(function(){return p(e.inputValidator(n,e.validationMessage))}).then(function(i){t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):Ce(t,e,n)})):t.getInput().checkValidity()?Ce(t,e,n):(t.enableButtons(),t.showValidationMessage(e.validationMessage))},Ce=function(t,e,n){e.showLoaderOnConfirm&&Bt(),e.preConfirm?(t.resetValidationMessage(),Promise.resolve().then(function(){return p(e.preConfirm(n,e.validationMessage))}).then(function(e){gt(k())||!1===e?t.hideLoading():de(t,void 0===e?n:e)})):de(t,n)},Te=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"],_e=["Escape","Esc"],Oe=function(t,e,n){var i=Tt.innerParams.get(t);i.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?ke(t,e,i):"Tab"===e.key?De(e,i):-1!==Te.indexOf(e.key)?xe():-1!==_e.indexOf(e.key)&&Ie(e,i,n)},ke=function(t,e,n){if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;Nt(),e.preventDefault()}},De=function(t){for(var e=t.target,n=P(),i=-1,r=0;r<n.length;r++)if(e===n[r]){i=r;break}t.shiftKey?he(0,i,-1):he(0,i,1),t.stopPropagation(),t.preventDefault()},xe=function(){var t=D(),e=x();document.activeElement===t&&gt(e)?e.focus():document.activeElement===e&&gt(t)&&t.focus()},Ie=function(t,e,n){z(e.allowEscapeKey)&&(t.preventDefault(),n(V.esc))},Se=function(t,e,n){e.popup.onclick=function(){var e=Tt.innerParams.get(t);e.showConfirmButton||e.showCancelButton||e.showCloseButton||e.input||n(V.close)}},Re=!1,Ae=function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(Re=!0)}}},Ne=function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,e.target!==t.popup&&!t.popup.contains(e.target)||(Re=!0)}}},Pe=function(t,e,n){e.container.onclick=function(i){var r=Tt.innerParams.get(t);Re?Re=!1:i.target===e.container&&z(r.allowOutsideClick)&&n(V.backdrop)}},Me=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},Le=function(t){for(var e in t)t[e]=new WeakMap},Ke=Object.freeze({hideLoading:Zt,disableLoading:Zt,getInput:function(t){var e=Tt.innerParams.get(t||this),n=Tt.domCache.get(t||this);return n?J(n.content,e.input):null},close:ie,closePopup:ie,closeModal:ie,closeToast:ie,enableButtons:function(){ae(this,["confirmButton","cancelButton"],!1)},disableButtons:function(){ae(this,["confirmButton","cancelButton"],!0)},enableInput:function(){return se(this.getInput(),!1)},disableInput:function(){return se(this.getInput(),!0)},showValidationMessage:function(t){var e=Tt.domCache.get(this);K(e.validationMessage,t);var n=window.getComputedStyle(e.popup);e.validationMessage.style.marginLeft="-".concat(n.getPropertyValue("padding-left")),e.validationMessage.style.marginRight="-".concat(n.getPropertyValue("padding-right")),nt(e.validationMessage);var i=this.getInput();i&&(i.setAttribute("aria-invalid",!0),i.setAttribute("aria-describedBy",W["validation-message"]),Q(i),ht(i,W.inputerror))},resetValidationMessage:function(){var t=Tt.domCache.get(this);t.validationMessage&&it(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),ft(e,W.inputerror))},getProgressSteps:function(){return Tt.domCache.get(this).progressSteps},_main:function(t){(function(t){for(var e in t)Ut(r=e)||$('Unknown parameter "'.concat(r,'"')),t.toast&&(i=e,-1!==Gt.indexOf(i)&&$('The parameter "'.concat(i,'" is incompatible with toasts'))),zt(n=e)&&h(n,zt(n));var n,i,r})(t),Vt.currentInstance&&Vt.currentInstance._destroy(),Vt.currentInstance=this;var e=function(t){var e=r({},Wt.showClass,t.showClass),n=r({},Wt.hideClass,t.hideClass),i=r({},Wt,t);return i.showClass=e,i.hideClass=n,!1===t.animation&&(i.showClass={popup:"swal2-noanimation",backdrop:"swal2-noanimation"},i.hideClass={}),i}(t);(function(t){var e,n;(e=t).inputValidator||Object.keys(ce).forEach(function(t){e.input===t&&(e.inputValidator=ce[t])}),t.showLoaderOnConfirm&&!t.preConfirm&&$("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),t.animation=z(t.animation),(n=t).target&&("string"!=typeof n.target||document.querySelector(n.target))&&("string"==typeof n.target||n.target.appendChild)||($('Target parameter is not valid, defaulting to "body"'),n.target="body"),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),vt(t)})(e),Object.freeze(e),Vt.timeout&&(Vt.timeout.stop(),delete Vt.timeout),clearTimeout(Vt.restoreFocusTimeout);var n=function(t){var e={popup:G(),container:Y(),content:T(),actions:I(),confirmButton:D(),cancelButton:x(),closeButton:N(),validationMessage:k(),progressSteps:O()};return Tt.domCache.set(t,e),e}(this);return At(this,e),Tt.innerParams.set(this,e),function(t,e,n){return new Promise(function(i){var r=function(e){t.closePopup({dismiss:e})};ee.swalPromiseResolve.set(t,i),e.confirmButton.onclick=function(){return i=n,(e=t).disableButtons(),void(i.input?Ee(e,i):Ce(e,i,!0));var e,i},e.cancelButton.onclick=function(){return function(t,e){t.disableButtons(),e(V.cancel)}(t,r)},e.closeButton.onclick=function(){return r(V.close)},function(t,e,n){Tt.innerParams.get(t).toast?Se(t,e,n):(Ae(e),Ne(e),Pe(t,e,n))}(t,e,r),function(t,e,n,i){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=function(e){return Oe(t,e,i)},e.keydownTarget=n.keydownListenerCapture?window:G(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)}(t,Vt,n,r),n.toast&&(n.input||n.footer||n.showCloseButton)?ht(document.body,W["toast-column"]):ft(document.body,W["toast-column"]),function(t,e){"select"===e.input||"radio"===e.input?ve(t,e):-1!==["text","email","number","tel","textarea"].indexOf(e.input)&&(f(e.inputValue)||g(e.inputValue))&&ye(t,e)}(t,n),function(t){var e=Y(),n=G();"function"==typeof t.onBeforeOpen&&t.onBeforeOpen(n);var i=window.getComputedStyle(document.body).overflowY;me(e,n,t),pe(e,n),M()&&(ge(e,t.scrollbarPadding,i),d(document.body.children).forEach(function(t){t===Y()||function(t,e){if("function"==typeof t.contains)return t.contains(e)}(t,Y())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))})),X()||Vt.previousActiveElement||(Vt.previousActiveElement=document.activeElement),"function"==typeof t.onOpen&&setTimeout(function(){return t.onOpen(n)}),ft(e,W["no-transition"])}(n),function(t,e,n){var i=A();it(i),e.timer&&(t.timeout=new le(function(){n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(nt(i),setTimeout(function(){t.timeout.running&&st(e.timer)})))}(Vt,n,r),function(t,e){if(!e.toast)z(e.allowEnterKey)?e.focusCancel&&gt(t.cancelButton)?t.cancelButton.focus():e.focusConfirm&&gt(t.confirmButton)?t.confirmButton.focus():he(0,-1,1):Me()}(e,n),setTimeout(function(){e.container.scrollTop=0})})}(this,n,e)},update:function(t){var e=G(),n=Tt.innerParams.get(this);if(!e||j(e,n.hideClass.popup))return $("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var i={};Object.keys(t).forEach(function(e){Fe.isUpdatableParameter(e)?i[e]=t[e]:$('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js'))});var o=r({},n,i);At(this,o),Tt.innerParams.set(this,o),Object.defineProperties(this,{params:{value:r({},this.params,t),writable:!1,enumerable:!0}})},_destroy:function(){var t=Tt.domCache.get(this),e=Tt.innerParams.get(this);e&&(t.popup&&Vt.swalCloseEventFinishedCallback&&(Vt.swalCloseEventFinishedCallback(),delete Vt.swalCloseEventFinishedCallback),Vt.deferDisposalTimer&&(clearTimeout(Vt.deferDisposalTimer),delete Vt.deferDisposalTimer),"function"==typeof e.onDestroy&&e.onDestroy(),delete this.params,delete Vt.keydownHandler,delete Vt.keydownTarget,Le(Tt),Le(ee))}}),je=function(){function t(){if(e(this,t),"undefined"!=typeof window){"undefined"==typeof Promise&&H("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),fe=this;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=Object.freeze(this.constructor.argsToParams(i));Object.defineProperties(this,{params:{value:o,writable:!1,enumerable:!0,configurable:!0}});var a=this._main(this.params);Tt.promise.set(this,a)}}return i(t,[{key:"then",value:function(t){return Tt.promise.get(this).then(t)}},{key:"finally",value:function(t){return Tt.promise.get(this).finally(t)}}]),t}();r(je.prototype,Ke),r(je,Xt),Object.keys(Ke).forEach(function(t){je[t]=function(){if(fe)return fe[t].apply(fe,arguments)}}),je.DismissReason=V,je.version="9.17.2";var Fe=je;return Fe.default=Fe}),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),swal.mixin({width:400,heightAuto:!1,padding:"2.5rem",buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonColor:null,cancelButtonClass:"btn btn-secondary",cancelButtonColor:null});var identity=function(t){return t},isArray=function(t){return $.isArray(t)},isObject=function(t){return!isArray(t)&&t instanceof Object},isNumber=function(t){return t instanceof Number},isFunction=function(t){return t instanceof Function},indexOf=function(t,e){return $.inArray(e,t)},inArray=function(t,e){return-1!==indexOf(t,e)},foreach=function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n,t)},last=function(t){return t[t.length-1]},argumentsToArray=function(t){return Array.prototype.slice.call(t)},extend=function(){var t={};return foreach(argumentsToArray(arguments),function(e){foreach(e,function(e,n){t[n]=e})}),t},mapToArray=function(t,e){var n=[];return foreach(t,function(t,i,r){n.push(e(t,i,r))}),n},mapToObject=function(t,e,n){var i={};return foreach(t,function(t,r,o){r=n?n(r,t):r,i[r]=e(t,r,o)}),i},map=function(t,e,n){return isArray(t)?mapToArray(t,e):mapToObject(t,e,n)},pluck=function(t,e){return map(t,function(t){return t[e]})},filter=function(t,e){var n;return isArray(t)?(n=[],foreach(t,function(t,i,r){e(t,i,r)&&n.push(t)})):(n={},foreach(t,function(t,i,r){e(t,i,r)&&(n[i]=t)})),n},call=function(t,e,n){return map(t,function(t,i){return t[e].apply(t,n||[])})},throttle=function(t,e){var n=null;return function(){var i=arguments;null===n&&(n=setTimeout(function(){n=null},t),e.apply(this,i))}},mixinPubSub=function(t){var e={};return(t=t||{}).publish=function(t,n){foreach(e[t],function(t){t(n)})},t.subscribe=function(t,n){e[t]=e[t]||[],e[t].push(n)},t.unsubscribe=function(t){foreach(e,function(e){var n=indexOf(e,t);-1!==n&&e.splice(n,1)})},t};!function(t){"use strict";var e=function(t,e){var n,i=mixinPubSub(),r=t.$;return i.getType=function(){throw'implement me (return type. "text", "radio", etc.)'},i.$=function(t){return t?r.find(t):r},i.disable=function(){i.$().prop("disabled",!0),i.publish("isEnabled",!1)},i.enable=function(){i.$().prop("disabled",!1),i.publish("isEnabled",!0)},e.equalTo=function(t,e){return t===e},e.publishChange=function(t,r){var o=i.get();e.equalTo(o,n)||i.publish("change",{e:t,domElement:r}),n=o},i},n=function(t,n){var i=e(t,n);return i.get=function(){return i.$().val()},i.set=function(t){i.$().val(t)},i.clear=function(){i.set("")},n.buildSetter=function(t){return function(e){t.call(i,e)}},i},i=function(t,e){t=isArray(t)?t:[t],e=isArray(e)?e:[e];var n=!0;return t.length!==e.length?n=!1:foreach(t,function(t){inArray(e,t)||(n=!1)}),n},r=function(t){var e={},i=n(t,e);return i.getType=function(){return"button"},i.$().on("change",function(t){e.publishChange(t,this)}),i},o=function(e){var r={},o=n(e,r);return o.getType=function(){return"checkbox"},o.get=function(){var e=[];return o.$().filter(":checked").each(function(){e.push(t(this).val())}),e},o.set=function(e){e=isArray(e)?e:[e],o.$().each(function(){t(this).prop("checked",!1)}),foreach(e,function(t){o.$().filter('[value="'+t+'"]').prop("checked",!0)})},r.equalTo=i,o.$().change(function(t){r.publishChange(t,this)}),o},a=function(t){var e=g(t,{});return e.getType=function(){return"email"},e},s=function(n){var i={},r=e(n,i);return r.getType=function(){return"file"},r.get=function(){return last(r.$().val().split("\\"))},r.clear=function(){this.$().each(function(){t(this).wrap("<form>").closest("form").get(0).reset(),t(this).unwrap()})},r.$().change(function(t){i.publishChange(t,this)}),r},l=function(t){var e={},i=n(t,e);return i.getType=function(){return"hidden"},i.$().change(function(t){e.publishChange(t,this)}),i},c=function(n){var i={},r=e(n,i);return r.getType=function(){return"file[multiple]"},r.get=function(){var t,e=r.$().get(0).files||[],n=[];for(t=0;t<(e.length||0);t+=1)n.push(e[t].name);return n},r.clear=function(){this.$().each(function(){t(this).wrap("<form>").closest("form").get(0).reset(),t(this).unwrap()})},r.$().change(function(t){i.publishChange(t,this)}),r},u=function(t){var e={},r=n(t,e);return r.getType=function(){return"select[multiple]"},r.get=function(){return r.$().val()||[]},r.set=function(t){r.$().val(""===t?[]:isArray(t)?t:[t])},e.equalTo=i,r.$().change(function(t){e.publishChange(t,this)}),r},d=function(t){var e=g(t,{});return e.getType=function(){return"password"},e},h=function(e){var i={},r=n(e,i);return r.getType=function(){return"radio"},r.get=function(){return r.$().filter(":checked").val()||null},r.set=function(e){e?r.$().filter('[value="'+e+'"]').prop("checked",!0):r.$().each(function(){t(this).prop("checked",!1)})},r.$().change(function(t){i.publishChange(t,this)}),r},f=function(t){var e={},i=n(t,e);return i.getType=function(){return"range"},i.$().change(function(t){e.publishChange(t,this)}),i},p=function(t){var e={},i=n(t,e);return i.getType=function(){return"select"},i.$().change(function(t){e.publishChange(t,this)}),i},g=function(t){var e={},i=n(t,e);return i.getType=function(){return"text"},i.$().on("change keyup keydown",function(t){e.publishChange(t,this)}),i},m=function(t){var e={},i=n(t,e);return i.getType=function(){return"textarea"},i.$().on("change keyup keydown",function(t){e.publishChange(t,this)}),i},v=function(t){var e=g(t,{});return e.getType=function(){return"url"},e},y=function(e){var n={},i=e.$,y=e.constructorOverride||{button:r,text:g,url:v,email:a,password:d,range:f,textarea:m,select:p,"select[multiple]":u,radio:h,checkbox:o,file:s,"file[multiple]":c,hidden:l},b=function(e,r){(isObject(r)?r:i.find(r)).each(function(){var i=t(this).attr("name");n[i]=y[e]({$:t(this)})})},w=function(e,r){var o=[],a=isObject(r)?r:i.find(r);isObject(r)?n[a.attr("name")]=y[e]({$:a}):(a.each(function(){-1===indexOf(o,t(this).attr("name"))&&o.push(t(this).attr("name"))}),foreach(o,function(t){n[t]=y[e]({$:i.find('input[name="'+t+'"]')})}))};return i.is("input, select, textarea")?i.is('input[type="button"], button, input[type="submit"]')?b("button",i):i.is("textarea")?b("textarea",i):i.is('input[type="text"]')||i.is("input")&&!i.attr("type")?b("text",i):i.is('input[type="password"]')?b("password",i):i.is('input[type="email"]')?b("email",i):i.is('input[type="url"]')?b("url",i):i.is('input[type="range"]')?b("range",i):i.is("select")?i.is("[multiple]")?b("select[multiple]",i):b("select",i):i.is('input[type="file"]')?i.is("[multiple]")?b("file[multiple]",i):b("file",i):i.is('input[type="hidden"]')?b("hidden",i):i.is('input[type="radio"]')?w("radio",i):i.is('input[type="checkbox"]')?w("checkbox",i):b("text",i):(b("button",'input[type="button"], button, input[type="submit"]'),b("text",'input[type="text"]'),b("password",'input[type="password"]'),b("email",'input[type="email"]'),b("url",'input[type="url"]'),b("range",'input[type="range"]'),b("textarea","textarea"),b("select","select:not([multiple])"),b("select[multiple]","select[multiple]"),b("file",'input[type="file"]:not([multiple])'),b("file[multiple]",'input[type="file"][multiple]'),b("hidden",'input[type="hidden"]'),w("radio",'input[type="radio"]'),w("checkbox",'input[type="checkbox"]')),n};t.fn.inputVal=function(e){var n=t(this),i=y({$:n});return n.is("input, textarea, select")?void 0===e?i[n.attr("name")].get():(i[n.attr("name")].set(e),n):void 0===e?call(i,"get"):(foreach(e,function(t,e){i[e].set(t)}),n)},t.fn.inputOnChange=function(e){var n=t(this),i=y({$:n});return foreach(i,function(t){t.subscribe("change",function(t){e.call(t.domElement,t.e)})}),n},t.fn.inputDisable=function(){var e=t(this);return call(y({$:e}),"disable"),e},t.fn.inputEnable=function(){var e=t(this);return call(y({$:e}),"enable"),e},t.fn.inputClear=function(){var e=t(this);return call(y({$:e}),"clear"),e}}(jQuery),$.fn.repeaterVal=function(){var t,e,n=function(t){if(1===t.length&&(0===t[0].key.length||1===t[0].key.length&&!t[0].key[0]))return t[0].val;foreach(t,function(t){t.head=t.key.shift()});var e,i=function(){var e={};return foreach(t,function(t){e[t.head]||(e[t.head]=[]),e[t.head].push(t)}),e}();return/^[0-9]+$/.test(t[0].head)?(e=[],foreach(i,function(t){e.push(n(t))})):(e={},foreach(i,function(t,i){e[i]=n(t)})),e};return n((t=$(this).inputVal(),e=[],foreach(t,function(t,n){var i=[];"undefined"!==n&&(i.push(n.match(/^[^\[]*/)[0]),i=i.concat(map(n.match(/\[[^\]]*\]/g),function(t){return t.replace(/[\[\]]/g,"")})),e.push({val:t,key:i}))}),e))},$.fn.repeater=function(t){var e;return t=t||{},$(this).each(function(){var n=$(this),i=t.show||function(){$(this).show()},r=t.hide||function(t){t()},o=n.find("[data-repeater-list]").first(),a=function(t,e){return t.filter(function(){return!e||0===$(this).closest(pluck(e,"selector").join(",")).length})},s=function(){return a(o.find("[data-repeater-item]"),t.repeaters)},l=o.find("[data-repeater-item]").first().clone().hide(),c=a(a($(this).find("[data-repeater-item]"),t.repeaters).first().find("[data-repeater-delete]"),t.repeaters);t.isFirstItemUndeletable&&c&&c.remove();var u=function(){var e=o.data("repeater-list");return t.$parent?t.$parent.data("item-name")+"["+e+"]":e},d=function(e){t.repeaters&&e.each(function(){var e=$(this);foreach(t.repeaters,function(t){e.find(t.selector).repeater(extend(t,{$parent:e}))})})},h=function(t,e,n){t&&foreach(t,function(t){n.call(e.find(t.selector)[0],t)})},f=function(t,e,n){t.each(function(t){var i=$(this);i.data("item-name",e+"["+t+"]"),a(i.find("[name]"),n).each(function(){var r=$(this),o=r.attr("name").match(/\[[^\]]+\]/g),s=o?last(o).replace(/\[|\]/g,""):r.attr("name"),l=e+"["+t+"]["+s+"]"+(r.is(":checkbox")||r.attr("multiple")?"[]":"");r.attr("name",l),h(n,i,function(n){var i=$(this);f(a(i.find("[data-repeater-item]"),n.repeaters||[]),e+"["+t+"]["+i.find("[data-repeater-list]").first().data("repeater-list")+"]",n.repeaters)})})}),o.find("input[name][checked]").removeAttr("checked").prop("checked",!0)};f(s(),u(),t.repeaters),d(s()),t.initEmpty&&s().remove(),t.ready&&t.ready(function(){f(s(),u(),t.repeaters)});var p,g=(p=function(e,n,i){if(n||t.defaultValues){var r={};a(e.find("[name]"),i).each(function(){var t=$(this).attr("name").match(/\[([^\]]*)(\]|\]\[\])$/)[1];r[t]=$(this).attr("name")}),e.inputVal(map(filter(n||t.defaultValues,function(t,e){return r[e]}),identity,function(t){return r[t]}))}h(i,e,function(t){var e=$(this);a(e.find("[data-repeater-item]"),t.repeaters).each(function(){var i=e.find("[data-repeater-list]").data("repeater-list");if(n&&n[i]){var r=$(this).clone();e.find("[data-repeater-item]").remove(),foreach(n[i],function(n){var i=r.clone();p(i,n,t.repeaters||[]),e.find("[data-repeater-list]").append(i)})}else p($(this),t.defaultValues,t.repeaters||[])})})},function(e,n){o.append(e),f(s(),u(),t.repeaters),e.find("[name]").each(function(){$(this).inputClear()}),p(e,n||t.defaultValues,t.repeaters)}),m=function(e){var n=l.clone();g(n,e),t.repeaters&&d(n),i.call(n.get(0))};e=function(t){s().remove(),foreach(t,m)},a(n.find("[data-repeater-create]"),t.repeaters).click(function(){m()}),o.on("click","[data-repeater-delete]",function(){var e=$(this).closest("[data-repeater-item]").get(0);r.call(e,function(){$(e).remove(),f(s(),u(),t.repeaters)})})}),this.setList=e,this},function(){var t,e,n,i,r,o,a,s,l;window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var t=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,e={timestamp:"L0QA",version:"4.16.0 (Standard)",revision:"17a1555f7f",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:t},status:"unloaded",basePath:function(){var e=window.CKEDITOR_BASEPATH||"";if(!e)for(var n=document.getElementsByTagName("script"),i=0;i<n.length;i++){var r=n[i].src.match(t);if(r){e=r[1];break}}if(-1==e.indexOf(":/")&&"//"!=e.slice(0,2)&&(e=0===e.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+e:location.href.match(/^[^\?]*\/(?:)/)[0]+e),!e)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return e}(),getUrl:function(t){return-1==t.indexOf(":/")&&0!==t.indexOf("/")&&(t=this.basePath+t),this.timestamp&&"/"!=t.charAt(t.length-1)&&!/[&?]t=/.test(t)&&(t+=(0<=t.indexOf("?")?"&":"?")+"t="+this.timestamp),t},domReady:function(){function t(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",t,!1),window.removeEventListener("load",t,!1),e()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",t),window.detachEvent("onload",t),e())}catch(t){}}function e(){for(var t;t=n.shift();)t()}var n=[];return function(e){if(n.push(e),"complete"===document.readyState&&setTimeout(t,1),1==n.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",t),window.attachEvent("onload",t),e=!1;try{e=!window.frameElement}catch(t){}document.documentElement.doScroll&&e&&function e(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(e,1)}t()}()}}}()},n=window.CKEDITOR_GETURL;if(n){var i=e.getUrl;e.getUrl=function(t){return n.call(e,t)||i.call(e,t)}}return e}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(t){var e,n=CKEDITOR.event.prototype;for(e in n)null==t[e]&&(t[e]=n[e])},CKEDITOR.event.prototype=function(){function t(t){var i=e(this);return i[t]||(i[t]=new n(t))}var e=function(t){return(t=t.getPrivate&&t.getPrivate()||t._||(t._={})).events||(t.events={})},n=function(t){this.name=t,this.listeners=[]};return n.prototype={getListenerIndex:function(t){for(var e=0,n=this.listeners;e<n.length;e++)if(n[e].fn==t)return e;return-1}},{define:function(e,n){var i=t.call(this,e);CKEDITOR.tools.extend(i,n,!0)},on:function(e,n,i,r,o){function a(t,o,a,l){return t={name:e,sender:this,editor:t,data:o,listenerData:r,stop:a,cancel:l,removeListener:s},!1!==n.call(i,t)&&t.data}function s(){c.removeListener(e,n)}var l=t.call(this,e);if(0>l.getListenerIndex(n)){l=l.listeners,i||(i=this),isNaN(o)&&(o=10);var c=this;a.fn=n,a.priority=o;for(var u=l.length-1;0<=u;u--)if(l[u].priority<=o)return l.splice(u+1,0,a),{removeListener:s};l.unshift(a)}return{removeListener:s}},once:function(){var t=Array.prototype.slice.call(arguments),e=t[1];return t[1]=function(t){return t.removeListener(),e.apply(this,arguments)},this.on.apply(this,t)},capture:function(){CKEDITOR.event.useCapture=1;var t=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,t},fire:function(){var t=0,n=function(){t=1},i=0,r=function(){i=1};return function(o,a,s){var l=e(this)[o];o=t;var c=i;if((t=i=0,l)&&(d=l.listeners).length)for(var u,d=d.slice(0),h=0;h<d.length;h++){if(l.errorProof)try{u=d[h].call(this,s,a,n,r)}catch(t){}else u=d[h].call(this,s,a,n,r);if(!1===u?i=1:void 0!==u&&(a=u),t||i)break}return a=!i&&(void 0===a||a),t=o,i=c,a}}(),fireOnce:function(t,n,i){return n=this.fire(t,n,i),delete e(this)[t],n},removeListener:function(t,n){var i=e(this)[t];if(i){var r=i.getListenerIndex(n);0<=r&&i.listeners.splice(r,1)}},removeAllListeners:function(){var t,n=e(this);for(t in n)delete n[t]},hasListeners:function(t){return(t=e(this)[t])&&0<t.listeners.length}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(t,e){return t in{instanceReady:1,loaded:1}&&(this[t]=!0),CKEDITOR.event.prototype.fire.call(this,t,e,this)},CKEDITOR.editor.prototype.fireOnce=function(t,e){return t in{instanceReady:1,loaded:1}&&(this[t]=!0),CKEDITOR.event.prototype.fireOnce.call(this,t,e,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var t=navigator.userAgent.toLowerCase(),e=t.match(/edge[ \/](\d+.?\d*)/),n=-1<t.indexOf("trident/");(n={ie:n=!(!e&&!n),edge:!!e,webkit:!n&&-1<t.indexOf(" applewebkit/"),air:-1<t.indexOf(" adobeair/"),mac:-1<t.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<t.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(t),isCustomDomain:function(){if(!this.ie)return!1;var t=document.domain,e=window.location.hostname;return t!=e&&t!="["+e+"]"},secure:"https:"==location.protocol}).gecko="Gecko"==navigator.product&&!n.webkit&&!n.ie,n.webkit&&(-1<t.indexOf("chrome")?n.chrome=!0:n.safari=!0);var i=0;return n.ie&&(i=e?parseFloat(e[1]):n.quirks||!document.documentMode?parseFloat(t.match(/msie (\d+)/)[1]):document.documentMode,n.ie9Compat=9==i,n.ie8Compat=8==i,n.ie7Compat=7==i,n.ie6Compat=7>i||n.quirks),n.gecko&&(e=t.match(/rv:([\d\.]+)/))&&(i=1e4*(e=e[1].split("."))[0]+100*(e[1]||0)+1*(e[2]||0)),n.air&&(i=parseFloat(t.match(/ adobeair\/(\d+)/)[1])),n.webkit&&(i=parseFloat(t.match(/ applewebkit\/(\d+)/)[1])),n.version=i,n.isCompatible=!(n.ie&&7>i||n.gecko&&4e4>i||n.webkit&&534>i),n.hidpi=2<=window.devicePixelRatio,n.needsBrFiller=n.gecko||n.webkit||n.ie&&10<i,n.needsNbspFiller=n.ie&&11>i,n.cssClass="cke_browser_"+(n.ie?"ie":n.gecko?"gecko":n.webkit?"webkit":"unknown"),n.quirks&&(n.cssClass+=" cke_browser_quirks"),n.ie&&(n.cssClass+=" cke_browser_ie"+(n.quirks?"6 cke_browser_iequirks":n.version)),n.air&&(n.cssClass+=" cke_browser_air"),n.iOS&&(n.cssClass+=" cke_browser_ios"),n.hidpi&&(n.cssClass+=" cke_hidpi"),n}()),"unloaded"==CKEDITOR.status&&(CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var t=document.createElement("script");t.type="text/javascript",t.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(t)}},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(t){(this._.pending||(this._.pending=[])).push(t)},CKEDITOR.domReady(function(){var t=CKEDITOR.loadFullCore,e=CKEDITOR.loadFullCoreTimeout;t&&(CKEDITOR.status="basic_ready",t&&t._load?t():e&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1e3*e))}),CKEDITOR.status="basic_loaded"),CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(t,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:t,additionalData:e})},CKEDITOR.error=function(t,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:t,additionalData:e})},CKEDITOR.on("log",function(t){if(window.console&&window.console.log){var e=console[t.data.type]?t.data.type:"log",n=t.data.errorCode;(t=t.data.additionalData)?console[e]("[CKEDITOR] Error code: "+n+".",t):console[e]("[CKEDITOR] Error code: "+n+"."),console[e]("[CKEDITOR] For more information about this error go to https://ckeditor.com/docs/ckeditor4/latest/guide/dev_errors.html#"+n)}},null,null,999),CKEDITOR.dom={},function(){function t(t,e,n){this._minInterval=t,this._context=n,this._lastOutput=this._scheduledTimer=0,this._output=CKEDITOR.tools.bind(e,n||{});var i=this;this.input=function(){function t(){i._lastOutput=(new Date).getTime(),i._scheduledTimer=0,i._call()}if(!i._scheduledTimer||!1!==i._reschedule()){var e=(new Date).getTime()-i._lastOutput;e<i._minInterval?i._scheduledTimer=setTimeout(t,i._minInterval-e):t()}}}function e(e,n,i){t.call(this,e,n,i),this._args=[];var r=this;this.input=CKEDITOR.tools.override(this.input,function(t){return function(){r._args=Array.prototype.slice.call(arguments),t.call(this)}})}var n=[],i=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",r=/&/g,o=/>/g,a=/</g,s=/"/g,l=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,c={lt:"<",gt:">",amp:"&",quot:'"',nbsp:"Â ",shy:"Â­"},u=function(t,e){return"#"==e[0]?String.fromCharCode(parseInt(e.slice(1),10)):c[e]};CKEDITOR.on("reset",function(){n=[]}),CKEDITOR.tools={arrayCompare:function(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0},getIndex:function(t,e){for(var n=0;n<t.length;++n)if(e(t[n]))return n;return-1},clone:function(t){var e;if(t&&t instanceof Array){e=[];for(var n=0;n<t.length;n++)e[n]=CKEDITOR.tools.clone(t[n]);return e}if(null===t||"object"!=typeof t||t instanceof String||t instanceof Number||t instanceof Boolean||t instanceof Date||t instanceof RegExp||t.nodeType||t.window===t)return t;for(n in e=new t.constructor,t)e[n]=CKEDITOR.tools.clone(t[n]);return e},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},extend:function(t){var e,n,i=arguments.length;"boolean"==typeof(e=arguments[i-1])?i--:"boolean"==typeof(e=arguments[i-2])&&(n=arguments[i-1],i-=2);for(var r=1;r<i;r++){var o=arguments[r]||{};CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(o),function(i){!0!==e&&null!=t[i]||(!n||i in n)&&(t[i]=o[i])})}return t},prototypedCopy:function(t){var e=function(){};return e.prototype=t,new e},copy:function(t){var e,n={};for(e in t)n[e]=t[e];return n},isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},cssVendorPrefix:function(t,e,n){return n?i+t+":"+e+";"+t+":"+e:((n={})[t]=e,n[i+t]=e,n)},cssStyleToDomStyle:function(){var t=document.createElement("div").style,e=void 0!==t.cssFloat?"cssFloat":void 0!==t.styleFloat?"styleFloat":"float";return function(t){return"float"==t?e:t.replace(/-./g,function(t){return t.substr(1).toUpperCase()})}}(),buildStyleHtml:function(t){t=[].concat(t);for(var e,n=[],i=0;i<t.length;i++)(e=t[i])&&(/@import|[{}]/.test(e)?n.push("<style>"+e+"</style>"):n.push('<link type="text/css" rel=stylesheet href="'+e+'">'));return n.join("")},htmlEncode:function(t){return null==t?"":String(t).replace(r,"&amp;").replace(o,"&gt;").replace(a,"&lt;")},htmlDecode:function(t){return t.replace(l,u)},htmlEncodeAttr:function(t){return CKEDITOR.tools.htmlEncode(t).replace(s,"&quot;")},htmlDecodeAttr:function(t){return CKEDITOR.tools.htmlDecode(t)},transformPlainTextToHtml:function(t,e){var n=e==CKEDITOR.ENTER_BR,i=(i=this.htmlEncode(t.replace(/\r\n/g,"\n"))).replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),r=e==CKEDITOR.ENTER_P?"p":"div";if(!n){var o=/\n{2}/g;if(o.test(i)){var a="<"+r+">",s="</"+r+">";i=a+i.replace(o,function(){return s+a})+s}}return i=i.replace(/\n/g,"<br>"),n||(i=i.replace(new RegExp("<br>(?=</"+r+">)"),function(t){return CKEDITOR.tools.repeat(t,2)})),(i=i.replace(/^ | $/g,"&nbsp;")).replace(/(>|\s) /g,function(t,e){return e+"&nbsp;"}).replace(/ (?=<)/g,"&nbsp;")},getNextNumber:function(){var t=0;return function(){return++t}}(),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var t="e",e=0;8>e;e++)t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t},override:function(t,e){var n=e(t);return n.prototype=t.prototype,n},setTimeout:function(t,e,n,i,r){return r||(r=window),n||(n=r),r.setTimeout(function(){i?t.apply(n,[].concat(i)):t.apply(n)},e||0)},throttle:function(t,e,n){return new this.buffers.throttle(t,e,n)},trim:function(){var t=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(e){return e.replace(t,"")}}(),ltrim:function(){var t=/^[ \t\n\r]+/g;return function(e){return e.replace(t,"")}}(),rtrim:function(){var t=/[ \t\n\r]+$/g;return function(e){return e.replace(t,"")}}(),indexOf:function(t,e){if("function"==typeof e){for(var n=0,i=t.length;n<i;n++)if(e(t[n]))return n}else{if(t.indexOf)return t.indexOf(e);for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1},search:function(t,e){var n=CKEDITOR.tools.indexOf(t,e);return 0<=n?t[n]:null},bind:function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},createClass:function(t){var e=t.$,n=t.base,i=t.privates||t._,r=t.proto;if(t=t.statics,!e&&(e=function(){n&&this.base.apply(this,arguments)}),i){var o=e;e=function(){var t,e=this._||(this._={});for(t in i){var n=i[t];e[t]="function"==typeof n?CKEDITOR.tools.bind(n,this):n}o.apply(this,arguments)}}return n&&(e.prototype=this.prototypedCopy(n.prototype),e.prototype.constructor=e,e.base=n,e.baseProto=n.prototype,e.prototype.base=function t(){this.base=n.prototype.base,n.apply(this,arguments),this.base=t}),r&&this.extend(e.prototype,r,!0),t&&this.extend(e,t,!0),e},addFunction:function(t,e){return n.push(function(){return t.apply(e||this,arguments)})-1},removeFunction:function(t){n[t]=null},callFunction:function(t){var e=n[t];return e&&e.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var t,e=/^-?\d+\.?\d*px$/;return function(n){return t=CKEDITOR.tools.trim(n+"")+"px",e.test(t)?t:n||""}}(),convertToPx:function(){var t;return function(e){if(t||(t=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(t)),!/%$/.test(e)){var n=0>parseFloat(e);return n&&(e=e.replace("-","")),t.setStyle("width",e),e=t.$.clientWidth,n?-e:e}return e}}(),repeat:function(t,e){return Array(e+1).join(t)},tryThese:function(){for(var t,e=0,n=arguments.length;e<n;e++){var i=arguments[e];try{t=i();break}catch(t){}}return t},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(t){return function(){var e=arguments,n=this;window.setTimeout(function(){t.apply(n,e)},0)}},normalizeCssText:function(t,e){var n,i=[],r=CKEDITOR.tools.parseCssText(t,!0,e);for(n in r)i.push(n+":"+r[n]);return i.sort(),i.length?i.join(";")+";":""},convertRgbToHex:function(t){return t.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(t,e,n,i){for(t=[e,n,i],e=0;3>e;e++)t[e]=("0"+parseInt(t[e],10).toString(16)).slice(-2);return"#"+t.join("")})},normalizeHex:function(t){return t.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,function(t,e,n,i){return 3==(t=e.toLowerCase()).length&&(t=[(t=t.split(""))[0],t[0],t[1],t[1],t[2],t[2]].join("")),"#"+t+i})},_isValidColorFormat:function(t){return!!t&&(t=t.replace(/\s+/g,""),/^[a-z0-9()#%,./]+$/i.test(t))},parseCssText:function(t,e,n){var i={};return n&&(t=new CKEDITOR.dom.element("span").setAttribute("style",t).getAttribute("style")||""),t&&(t=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(t))),t&&";"!=t?(t.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(t,n,r){e&&("font-family"==(n=n.toLowerCase())&&(r=r.replace(/\s*,\s*/g,",")),r=CKEDITOR.tools.trim(r)),i[n]=r}),i):i},writeCssText:function(t,e){var n,i=[];for(n in t)i.push(n+":"+t[n]);return e&&i.sort(),i.join("; ")},objectCompare:function(t,e,n){var i;if(!t&&!e)return!0;if(!t||!e)return!1;for(i in t)if(t[i]!=e[i])return!1;if(!n)for(i in e)if(t[i]!=e[i])return!1;return!0},objectKeys:function(t){return CKEDITOR.tools.object.keys(t)},convertArrayToObject:function(t,e){var n={};1==arguments.length&&(e=!0);for(var i=0,r=t.length;i<r;++i)n[t[i]]=e;return n},getStyledSpans:function(t,e){var n=CKEDITOR.env.ie&&8==CKEDITOR.env.version?t.toUpperCase():t;n=e.find("span[style*="+n+"]").toArray();return CKEDITOR.tools.array.filter(n,function(e){return!!e.getStyle(t)})},fixDomain:function(){for(var t;;)try{t=window.parent.document.domain;break}catch(e){if(!(t=t?t.replace(/.+?(?:\.|$)/,""):document.domain))break;document.domain=t}return!!t},eventsBuffer:function(t,e,n){return new this.buffers.event(t,e,n)},enableHtml5Elements:function(t,e){for(var n,i="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),r=i.length;r--;)n=t.createElement(i[r]),e&&t.appendChild(n)},checkIfAnyArrayItemMatches:function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n].match(e))return!0;return!1},checkIfAnyObjectPropertyMatches:function(t,e){for(var n in t)if(n.match(e))return!0;return!1},keystrokeToString:function(t,e){var n=this.keystrokeToArray(t,e);return n.display=n.display.join("+"),n.aria=n.aria.join("+"),n},keystrokeToArray:function(t,e){var n=16711680&e,i=65535&e,r=CKEDITOR.env.mac,o=[],a=[];return n&CKEDITOR.CTRL&&(o.push(r?"â":t[17]),a.push(r?t[224]:t[17])),n&CKEDITOR.ALT&&(o.push(r?"â¥":t[18]),a.push(t[18])),n&CKEDITOR.SHIFT&&(o.push(r?"â§":t[16]),a.push(t[16])),i&&(t[i]?(o.push(t[i]),a.push(t[i])):(o.push(String.fromCharCode(i)),a.push(String.fromCharCode(i)))),{display:o,aria:a}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",getCookie:function(t){t=t.toLowerCase();for(var e,n=document.cookie.split(";"),i=0;i<n.length;i++)if(e=n[i].split("="),decodeURIComponent(CKEDITOR.tools.trim(e[0]).toLowerCase())===t)return decodeURIComponent(1<e.length?e[1]:"");return null},setCookie:function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path=/"},getCsrfToken:function(){if(!(t=CKEDITOR.tools.getCookie("ckCsrfToken"))||40!=t.length){var t=[],e="";if(window.crypto&&window.crypto.getRandomValues)t=new Uint8Array(40),window.crypto.getRandomValues(t);else for(var n=0;40>n;n++)t.push(Math.floor(256*Math.random()));for(n=0;n<t.length;n++){var i="abcdefghijklmnopqrstuvwxyz0123456789".charAt(t[n]%36);e=e+(.5<Math.random()?i.toUpperCase():i)}t=e,CKEDITOR.tools.setCookie("ckCsrfToken",t)}return t},escapeCss:function(t){return t?window.CSS&&CSS.escape?CSS.escape(t):isNaN(parseInt(t.charAt(0),10))?t:"\\3"+t.charAt(0)+" "+t.substring(1,t.length):""},getMouseButton:function(t){return!!(t=t&&t.data?t.data.$:t)&&CKEDITOR.tools.normalizeMouseButton(t.button)},normalizeMouseButton:function(t,e){if(!CKEDITOR.env.ie||9<=CKEDITOR.env.version&&!CKEDITOR.env.ie6Compat)return t;for(var n=[[CKEDITOR.MOUSE_BUTTON_LEFT,1],[CKEDITOR.MOUSE_BUTTON_MIDDLE,4],[CKEDITOR.MOUSE_BUTTON_RIGHT,2]],i=0;i<n.length;i++){var r=n[i];if(r[0]===t&&e)return r[1];if(!e&&r[1]===t)return r[0]}},convertHexStringToBytes:function(t){var e,n=[],i=t.length/2;for(e=0;e<i;e++)n.push(parseInt(t.substr(2*e,2),16));return n},convertBytesToBase64:function(t){var e,n="",i=t.length;for(e=0;e<i;e+=3){var r,o=t.slice(e,e+3),a=o.length,s=[];if(3>a)for(r=a;3>r;r++)o[r]=0;for(s[0]=(252&o[0])>>2,s[1]=(3&o[0])<<4|o[1]>>4,s[2]=(15&o[1])<<2|(192&o[2])>>6,s[3]=63&o[2],r=0;4>r;r++)n=r<=a?n+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s[r]):n+"="}return n},style:{parse:{_borderStyle:"none hidden dotted dashed solid double groove ridge inset outset".split(" "),_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(t){var e={},n=this._findColor(t);return n.length&&(e.color=n[0],CKEDITOR.tools.array.forEach(n,function(e){t=t.replace(e,"")})),(t=CKEDITOR.tools.trim(t))&&(e.unprocessed=t),e},margin:function(t){return CKEDITOR.tools.style.parse.sideShorthand(t,function(t){return t.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset|revert)/g)||["0px"]})},sideShorthand:function(t,e){function n(t){i.top=r[t[0]],i.right=r[t[1]],i.bottom=r[t[2]],i.left=r[t[3]]}var i={},r=e?e(t):t.split(/\s+/);switch(r.length){case 1:n([0,0,0,0]);break;case 2:n([0,1,0,1]);break;case 3:n([0,1,2,1]);break;case 4:n([0,1,2,3])}return i},border:function(t){return CKEDITOR.tools.style.border.fromCssRule(t)},_findColor:function(t){var e=[],n=CKEDITOR.tools.array;return(e=(e=e.concat(t.match(this._rgbaRegExp)||[])).concat(t.match(this._hslaRegExp)||[])).concat(n.filter(t.split(/\s+/),function(t){return!!t.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)||t.toLowerCase()in CKEDITOR.tools.style.parse._colors}))}}},array:{filter:function(t,e,n){var i=[];return this.forEach(t,function(r,o){e.call(n,r,o,t)&&i.push(r)}),i},find:function(t,e,n){for(var i=t.length,r=0;r<i;){if(e.call(n,t[r],r,t))return t[r];r++}},forEach:function(t,e,n){var i,r=t.length;for(i=0;i<r;i++)e.call(n,t[i],i,t)},map:function(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(e.call(n,t[r],r,t));return i},reduce:function(t,e,n,i){for(var r=0;r<t.length;r++)n=e.call(i,n,t[r],r,t);return n},every:function(t,e,n){return!t.length||(e=this.filter(t,e,n),t.length===e.length)},some:function(t,e,n){for(var i=0;i<t.length;i++)if(e.call(n,t[i],i,t))return!0;return!1},zip:function(t,e){return CKEDITOR.tools.array.map(t,function(t,n){return[t,e[n]]})},unique:function(t){return this.filter(t,function(e,n){return n===CKEDITOR.tools.array.indexOf(t,e)})}},object:{DONT_ENUMS:"toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),entries:function(t){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(t),function(e){return[e,t[e]]})},values:function(t){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(t),function(e){return t[e]})},keys:function(t){var e=Object.prototype.hasOwnProperty,n=[],i=CKEDITOR.tools.object.DONT_ENUMS;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(!t||"object"!=typeof t)){if(e=[],"string"==typeof t)for(n=0;n<t.length;n++)e.push(String(n));return e}for(var r in t)n.push(r);if(CKEDITOR.env.ie&&9>CKEDITOR.env.version)for(r=0;r<i.length;r++)e.call(t,i[r])&&n.push(i[r]);return n},findKey:function(t,e){if("object"!=typeof t)return null;for(var n in t)if(t[n]===e)return n;return null},merge:function(t,e){var n=CKEDITOR.tools,i=n.clone(t),r=n.clone(e);return n.array.forEach(n.object.keys(r),function(t){i[t]="object"==typeof r[t]&&"object"==typeof i[t]?n.object.merge(i[t],r[t]):r[t]}),i}},getAbsoluteRectPosition:function(t,e){var n=CKEDITOR.tools.copy(e);!function t(e){if(e){var i=e.getClientRect();n.top+=i.top,n.left+=i.left,"x"in n&&"y"in n&&(n.x+=i.x,n.y+=i.y),t(e.getWindow().getFrame())}}(t.getFrame());var i=CKEDITOR.document.getWindow().getScrollPosition();return n.top+=i.y,n.left+=i.x,"x"in n&&"y"in n&&(n.y+=i.y,n.x+=i.x),n.right=n.left+n.width,n.bottom=n.top+n.height,n}},t.prototype={reset:function(){this._lastOutput=0,this._clearTimer()},_reschedule:function(){return!1},_call:function(){this._output()},_clearTimer:function(){this._scheduledTimer&&clearTimeout(this._scheduledTimer),this._scheduledTimer=0}},e.prototype=CKEDITOR.tools.prototypedCopy(t.prototype),e.prototype._reschedule=function(){this._scheduledTimer&&this._clearTimer()},e.prototype._call=function(){this._output.apply(this._context,this._args)},CKEDITOR.tools.buffers={},CKEDITOR.tools.buffers.event=t,CKEDITOR.tools.buffers.throttle=e,CKEDITOR.tools.style.border=CKEDITOR.tools.createClass({$:function(t){t=t||{},this.width=t.width,this.style=t.style,this.color=t.color,this._.normalize()},_:{normalizeMap:{color:[[/windowtext/g,"black"]]},normalize:function(){for(var t in this._.normalizeMap){var e=this[t];e&&(this[t]=CKEDITOR.tools.array.reduce(this._.normalizeMap[t],function(t,e){return t.replace(e[0],e[1])},e))}}},proto:{toString:function(){return CKEDITOR.tools.array.filter([this.width,this.style,this.color],function(t){return!!t}).join(" ")}},statics:{fromCssRule:function(t){var e={},n=t.split(/\s+/g);return(t=CKEDITOR.tools.style.parse._findColor(t)).length&&(e.color=t[0]),CKEDITOR.tools.array.forEach(n,function(t){e.style||-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,t)?!e.width&&CKEDITOR.tools.style.parse._widthRegExp.test(t)&&(e.width=t):e.style=t}),new CKEDITOR.tools.style.border(e)},splitCssValues:function(t,e){e=e||{};var n=CKEDITOR.tools.array.reduce(["width","style","color"],function(n,i){var r=t["border-"+i]||e[i];return n[i]=r?CKEDITOR.tools.style.parse.sideShorthand(r):null,n},{});return CKEDITOR.tools.array.reduce(["top","right","bottom","left"],function(e,i){var r,o={};for(r in n){var a=t["border-"+i+"-"+r];o[r]=a||n[r]&&n[r][i]}return e["border-"+i]=new CKEDITOR.tools.style.border(o),e},{})}}}),CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf,CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray,CKEDITOR.MOUSE_BUTTON_LEFT=0,CKEDITOR.MOUSE_BUTTON_MIDDLE=1,CKEDITOR.MOUSE_BUTTON_RIGHT=2}(),CKEDITOR.dtd=(t=CKEDITOR.tools.extend,e=function(t,e){for(var n=CKEDITOR.tools.clone(t),i=1;i<arguments.length;i++)for(var r in e=arguments[i])delete n[r];return n},i={},r={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},o={command:1,link:1,meta:1,noscript:1,script:1,style:1},a={},l={center:1,dir:1,noframes:1},t(n={},{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,var:1,video:1,wbr:1},s={"#":1},{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1}),t(i,r,n,l),e={a:e(n,{a:1,button:1}),abbr:n,address:i,area:a,article:i,aside:i,audio:t({source:1,track:1},i),b:n,base:a,bdi:n,bdo:n,blockquote:i,body:i,br:a,button:e(n,{a:1,button:1}),canvas:n,caption:i,cite:n,code:n,col:a,colgroup:{col:1},command:a,datalist:t({option:1},n),dd:i,del:n,details:t({summary:1},i),dfn:n,div:i,dl:{dt:1,dd:1},dt:i,em:n,embed:a,fieldset:t({legend:1},i),figcaption:i,figure:t({figcaption:1},i),footer:i,form:i,h1:n,h2:n,h3:n,h4:n,h5:n,h6:n,head:t({title:1,base:1},o),header:i,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:a,html:t({head:1,body:1},i,o),i:n,iframe:s,img:a,input:a,ins:n,kbd:n,keygen:a,label:n,legend:n,li:i,link:a,main:i,map:i,mark:n,menu:t({li:1},i),meta:a,meter:e(n,{meter:1}),nav:i,noscript:t({link:1,meta:1,style:1},n),object:t({param:1},n),ol:{li:1},optgroup:{option:1},option:s,output:n,p:n,param:a,pre:n,progress:e(n,{progress:1}),q:n,rp:n,rt:n,ruby:t({rp:1,rt:1},n),s:n,samp:n,script:s,section:i,select:{optgroup:1,option:1},small:n,source:a,span:n,strong:n,style:s,sub:n,summary:t({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},n),sup:n,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:i,textarea:s,tfoot:{tr:1},th:i,thead:{tr:1},time:e(n,{time:1}),title:s,tr:{th:1,td:1},track:a,u:n,ul:{li:1},var:n,video:t({source:1,track:1},i),wbr:a,acronym:n,applet:t({param:1},i),basefont:a,big:n,center:i,dialog:a,dir:{li:1},font:n,isindex:a,noframes:i,strike:n,tt:n},t(e,{$block:t({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},r,l),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:n,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:t({body:1,head:1,html:1},e.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,var:1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),e),CKEDITOR.dom.event=function(t){this.$=t},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var t=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(t+=CKEDITOR.CTRL),this.$.shiftKey&&(t+=CKEDITOR.SHIFT),this.$.altKey&&(t+=CKEDITOR.ALT),t},preventDefault:function(t){var e=this.$;e.preventDefault?e.preventDefault():e.returnValue=!1,t&&this.stopPropagation()},stopPropagation:function(){var t=this.$;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},getTarget:function(){var t=this.$.target||this.$.srcElement;return t?new CKEDITOR.dom.node(t):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var t=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(t.documentElement.scrollLeft||t.body.scrollLeft),y:this.$.pageY||this.$.clientY+(t.documentElement.scrollTop||t.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(t){t&&(this.$=t)},CKEDITOR.dom.domObject.prototype={getPrivate:function(){var t;return(t=this.getCustomData("_"))||this.setCustomData("_",t={}),t},on:function(t){var e=this.getCustomData("_cke_nativeListeners");return e||(e={},this.setCustomData("_cke_nativeListeners",e)),e[t]||(e=e[t]=function(t,e){return function(n){"undefined"!=typeof CKEDITOR&&t.fire(e,new CKEDITOR.dom.event(n))}}(this,t),this.$.addEventListener?this.$.addEventListener(t,e,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+t,e)),CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(t){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(t)){var e=this.getCustomData("_cke_nativeListeners"),n=e&&e[t];n&&(this.$.removeEventListener?this.$.removeEventListener(t,n,!1):this.$.detachEvent&&this.$.detachEvent("on"+t,n),delete e[t])}},removeAllListeners:function(){try{var t,e=this.getCustomData("_cke_nativeListeners");for(t in e){var n=e[t];this.$.detachEvent?this.$.detachEvent("on"+t,n):this.$.removeEventListener&&this.$.removeEventListener(t,n,!1),delete e[t]}}catch(t){if(!CKEDITOR.env.edge||-2146828218!==t.number)throw t}CKEDITOR.event.prototype.removeAllListeners.call(this)}},function(t){var e={};CKEDITOR.on("reset",function(){e={}}),t.equals=function(t){try{return t&&t.$===this.$}catch(t){return!1}},t.setCustomData=function(t,n){var i=this.getUniqueId();return(e[i]||(e[i]={}))[t]=n,this},t.getCustomData=function(t){var n=this.$["data-cke-expando"];return(n=n&&e[n])&&t in n?n[t]:null},t.removeCustomData=function(t){var n,i,r;return(n=(n=this.$["data-cke-expando"])&&e[n])&&(i=n[t],r=t in n,delete n[t]),r?i:null},t.clearCustomData=function(){this.removeAllListeners();var t=this.getUniqueId();t&&delete e[t]},t.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())},CKEDITOR.event.implementOn(t)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(t){return t?new CKEDITOR.dom[t.nodeType==CKEDITOR.NODE_DOCUMENT?"document":t.nodeType==CKEDITOR.NODE_ELEMENT?"element":t.nodeType==CKEDITOR.NODE_TEXT?"text":t.nodeType==CKEDITOR.NODE_COMMENT?"comment":t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](t):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(t,e){return t.append(this,e),t},clone:function(t,e){var n=this.$.cloneNode(t);return function n(i){if(i["data-cke-expando"]&&(i["data-cke-expando"]=!1),(i.nodeType==CKEDITOR.NODE_ELEMENT||i.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(e||i.nodeType!=CKEDITOR.NODE_ELEMENT||i.removeAttribute("id",!1),t)){i=i.childNodes;for(var r=0;r<i.length;r++)n(i[r])}}(n),n=new CKEDITOR.dom.node(n),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&function e(n){if(n.type==CKEDITOR.NODE_ELEMENT||n.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(n.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var i=n.getName();":"==i[0]&&n.renameNode(i.substring(1))}if(t)for(i=0;i<n.getChildCount();i++)e(n.getChild(i))}}(n),n},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(t){return t.$.parentNode.insertBefore(this.$,t.$.nextSibling),t},insertBefore:function(t){return t.$.parentNode.insertBefore(this.$,t.$),t},insertBeforeMe:function(t){return this.$.parentNode.insertBefore(t.$,this.$),t},getAddress:function(t){for(var e=[],n=this.getDocument().$.documentElement,i=this;i&&i!=n;){var r=i.getParent();r&&e.unshift(this.getIndex.call(i,t)),i=r}return e},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(t){function e(t,n){var i=n?t.getNext():t.getPrevious();return i&&i.type==CKEDITOR.NODE_TEXT?i.isEmpty()?e(i,n):i:null}var n,i=this,r=-1;if(!this.getParent()||t&&i.type==CKEDITOR.NODE_TEXT&&i.isEmpty()&&!e(i)&&!e(i,!0))return-1;do{t&&!i.equals(this)&&i.type==CKEDITOR.NODE_TEXT&&(n||i.isEmpty())||(r++,n=i.type==CKEDITOR.NODE_TEXT)}while(i=i.getPrevious());return r},getNextSourceNode:function(t,e,n){if(n&&!n.call){var i=n;n=function(t){return!t.equals(i)}}var r;if(!(t=!t&&this.getFirst&&this.getFirst())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;t=this.getNext()}for(;!t&&(r=(r||this).getParent());){if(n&&!1===n(r,!0))return null;t=r.getNext()}return!t||n&&!1===n(t)?null:e&&e!=t.type?t.getNextSourceNode(!1,e,n):t},getPreviousSourceNode:function(t,e,n){if(n&&!n.call){var i=n;n=function(t){return!t.equals(i)}}var r;if(!(t=!t&&this.getLast&&this.getLast())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;t=this.getPrevious()}for(;!t&&(r=(r||this).getParent());){if(n&&!1===n(r,!0))return null;t=r.getPrevious()}return!t||n&&!1===n(t)?null:e&&t.type!=e?t.getPreviousSourceNode(!1,e,n):t},getPrevious:function(t){var e,n=this.$;do{e=(n=n.previousSibling)&&10!=n.nodeType&&new CKEDITOR.dom.node(n)}while(e&&t&&!t(e));return e},getNext:function(t){var e,n=this.$;do{e=(n=n.nextSibling)&&new CKEDITOR.dom.node(n)}while(e&&t&&!t(e));return e},getParent:function(t){var e=this.$.parentNode;return e&&(e.nodeType==CKEDITOR.NODE_ELEMENT||t&&e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(e):null},getParents:function(t){var e=this,n=[];do{n[t?"push":"unshift"](e)}while(e=e.getParent());return n},getCommonAncestor:function(t){if(t.equals(this))return this;if(t.contains&&t.contains(this))return t;var e=this.contains?this:this.getParent();do{if(e.contains(t))return e}while(e=e.getParent());return null},getPosition:function(t){var e=this.$,n=t.$;if(e.compareDocumentPosition)return e.compareDocumentPosition(n);if(e==n)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&t.type==CKEDITOR.NODE_ELEMENT){if(e.contains){if(e.contains(n))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(n.contains(e))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in e)return 0>e.sourceIndex||0>n.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:e.sourceIndex<n.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}e=this.getAddress(),t=t.getAddress();n=Math.min(e.length,t.length);for(var i=0;i<n;i++)if(e[i]!=t[i])return e[i]<t[i]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return e.length<t.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(t,e){var n,i,r=this.$;for(e||(r=r.parentNode),"function"==typeof t?(i=!0,n=t):(i=!1,n=function(e){return e="string"==typeof e.nodeName?e.nodeName.toLowerCase():"","string"==typeof t?e==t:e in t});r;){if(n(i?new CKEDITOR.dom.node(r):r))return new CKEDITOR.dom.node(r);try{r=r.parentNode}catch(t){r=null}}return null},hasAscendant:function(t,e){var n=this.$;for(e||(n=n.parentNode);n;){if(n.nodeName&&n.nodeName.toLowerCase()==t)return!0;n=n.parentNode}return!1},move:function(t,e){t.append(this.remove(),e)},remove:function(t){var e=this.$,n=e.parentNode;if(n){if(t)for(;t=e.firstChild;)n.insertBefore(e.removeChild(t),e);n.removeChild(e)}return this},replace:function(t){this.insertBefore(t),t.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var t;this.getFirst&&(t=this.getFirst());){if(t.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.ltrim(t.getText()),n=t.getLength();if(!e){t.remove();continue}e.length<n&&(t.split(n-e.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var t;this.getLast&&(t=this.getLast());){if(t.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.rtrim(t.getText()),n=t.getLength();if(!e){t.remove();continue}e.length<n&&(t.split(e.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(t=this.$.lastChild)&&1==t.type&&"br"==t.nodeName.toLowerCase()&&t.parentNode.removeChild(t)},isReadOnly:function(t){var e=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(e=this.getParent()),CKEDITOR.env.edge&&e&&e.is("textarea","input")&&(t=!0),!t&&e&&void 0!==e.$.isContentEditable)return!(e.$.isContentEditable||e.data("cke-editable"));for(;e;){if(e.data("cke-editable"))return!1;if(e.hasAttribute("contenteditable"))return"false"==e.getAttribute("contenteditable");e=e.getParent()}return!0}}),CKEDITOR.dom.window=function(t){CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var t=this.$.document,e="CSS1Compat"==t.compatMode;return{width:(e?t.documentElement.clientWidth:t.body.clientWidth)||0,height:(e?t.documentElement.clientHeight:t.body.clientHeight)||0}},getScrollPosition:function(){var t=this.$;return"pageXOffset"in t?{x:t.pageXOffset||0,y:t.pageYOffset||0}:{x:(t=t.document).documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0}},getFrame:function(){var t=this.$.frameElement;return t?new CKEDITOR.dom.element.get(t):null}}),CKEDITOR.dom.document=function(t){CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(t){if(this.$.createStyleSheet)this.$.createStyleSheet(t);else{var e=new CKEDITOR.dom.element("link");e.setAttributes({rel:"stylesheet",type:"text/css",href:t}),this.getHead().append(e)}},appendStyleText:function(t){if(this.$.createStyleSheet){var e=this.$.createStyleSheet("");e.cssText=t}else{var n=new CKEDITOR.dom.element("style",this);n.append(new CKEDITOR.dom.text(t,this)),this.getHead().append(n)}return e||n.$.sheet},createElement:function(t,e){var n=new CKEDITOR.dom.element(t,this);return e&&(e.attributes&&n.setAttributes(e.attributes),e.styles&&n.setStyles(e.styles)),n},createText:function(t){return new CKEDITOR.dom.text(t,this)},focus:function(){this.getWindow().focus()},getActive:function(){var t;try{t=this.$.activeElement}catch(t){return null}return new CKEDITOR.dom.element(t)},getById:function(t){return(t=this.$.getElementById(t))?new CKEDITOR.dom.element(t):null},getByAddress:function(t,e){for(var n=this.$.documentElement,i=0;n&&i<t.length;i++){var r=t[i];if(e)for(var o=-1,a=0;a<n.childNodes.length;a++){var s=n.childNodes[a];if((!0!==e||3!=s.nodeType||!s.previousSibling||3!=s.previousSibling.nodeType)&&++o==r){n=s;break}}else n=n.childNodes[r]}return n?new CKEDITOR.dom.node(n):null},getElementsByTag:function(t,e){return CKEDITOR.env.ie&&8>=document.documentMode||!e||(t=e+":"+t),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(t))},getHead:function(){var t=this.$.getElementsByTagName("head")[0];return t?new CKEDITOR.dom.element(t):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(t){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(t=t.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();<\/script>")),this.$.write(t),this.$.close()},find:function(t){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(t))},findOne:function(t){return(t=this.$.querySelector(t))?new CKEDITOR.dom.element(t):null},_getHtml5ShivFrag:function(){var t=this.getCustomData("html5ShivFrag");return t||(t=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(t,!0),this.setCustomData("html5ShivFrag",t)),t}}),CKEDITOR.dom.nodeList=function(t){this.$=t},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(t){return 0>t||t>=this.$.length?null:(t=this.$[t])?new CKEDITOR.dom.node(t):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,function(t){return new CKEDITOR.dom.node(t)})}},CKEDITOR.dom.element=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createElement(t)),CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.element.get=function(t){return(t="string"==typeof t?document.getElementById(t)||document.getElementsByName(t)[0]:t)&&(t.$?t:new CKEDITOR.dom.element(t))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(t,e){var n=new CKEDITOR.dom.element("div",e);return n.setHtml(t),n.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(t,e,n,i){var r=e.getCustomData("list_marker_id")||e.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),o=e.getCustomData("list_marker_names")||e.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return t[r]=e,o[n]=1,e.setCustomData(n,i)},CKEDITOR.dom.element.clearAllMarkers=function(t){for(var e in t)CKEDITOR.dom.element.clearMarkers(t,t[e],1)},CKEDITOR.dom.element.clearMarkers=function(t,e,n){var i,r=e.getCustomData("list_marker_names"),o=e.getCustomData("list_marker_id");for(i in r)e.removeCustomData(i);e.removeCustomData("list_marker_names"),n&&(e.removeCustomData("list_marker_id"),delete t[o])},function(){function t(t,e){return-1<(" "+t+" ").replace(o," ").indexOf(" "+e+" ")}function e(t){var e=!0;return t.$.id||(t.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),e=!1),function(){e||t.removeAttribute("id")}}function n(t,e){var n=CKEDITOR.tools.escapeCss(t.$.id);return"#"+n+" "+e.split(/,\s*/).join(", #"+n+" ")}function i(t){for(var e=0,n=0,i=a[t].length;n<i;n++)e+=parseFloat(this.getComputedStyle(a[t][n])||0,10)||0;return e}var r=void 0!==(r=document.createElement("_").classList)&&null!==String(r.add).match(/\[Native code\]/gi),o=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:r?function(t){return this.$.classList.add(t),this}:function(e){var n=this.$.className;return n&&(t(n,e)||(n+=" "+e)),this.$.className=n||e,this},removeClass:r?function(t){var e=this.$;return e.classList.remove(t),e.className||e.removeAttribute("class"),this}:function(e){var n=this.getAttribute("class");return n&&t(n,e)&&((n=n.replace(new RegExp("(?:^|\\s+)"+e+"(?=\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",n):this.removeAttribute("class")),this},hasClass:function(e){return t(this.$.className,e)},append:function(t,e){return"string"==typeof t&&(t=this.getDocument().createElement(t)),e?this.$.insertBefore(t.$,this.$.firstChild):this.$.appendChild(t.$),t},appendHtml:function(t){if(this.$.childNodes.length){var e=new CKEDITOR.dom.element("div",this.getDocument());e.setHtml(t),e.moveChildren(this)}else this.setHtml(t)},appendText:function(t){null!=this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=t:this.append(new CKEDITOR.dom.text(t))},appendBogus:function(t){if(t||CKEDITOR.env.needsBrFiller){for(t=this.getLast();t&&t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(t.getText());)t=t.getPrevious();t&&t.is&&t.is("br")||(t=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&t.setAttribute("type","_moz"),this.append(t))}},breakParent:function(t,e){var n=new CKEDITOR.dom.range(this.getDocument());n.setStartAfter(this),n.setEndAfter(t);var i,r=n.extractContents(!1,e||!1);if(n.insertNode(this.remove()),CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(n=new CKEDITOR.dom.element("div");i=r.getFirst();)i.$.style.backgroundColor&&(i.$.style.backgroundColor=i.$.style.backgroundColor),n.append(i);n.insertAfter(this),n.remove(!0)}else r.insertAfterNode(this)},contains:document.compareDocumentPosition?function(t){return!!(16&this.$.compareDocumentPosition(t.$))}:function(t){var e=this.$;return t.type!=CKEDITOR.NODE_ELEMENT?e.contains(t.getParent().$):e!=t.$&&e.contains(t.$)},focus:function(){function t(){try{this.$.focus()}catch(t){}}return function(e){e?CKEDITOR.tools.setTimeout(t,100,this):t.call(this)}}(),getHtml:function(){var t=this.$.innerHTML;return CKEDITOR.env.ie?t.replace(/<\?[^>]*>/g,""):t},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var t=this.$.ownerDocument.createElement("div");return t.appendChild(this.$.cloneNode(!0)),t.innerHTML},getClientRect:function(t){var e=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return!e.width&&(e.width=e.right-e.left),!e.height&&(e.height=e.bottom-e.top),t?CKEDITOR.tools.getAbsoluteRectPosition(this.getWindow(),e):e},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(t){try{var e=this.$;if(this.getParent())return e.innerHTML=t;var n=this.getDocument()._getHtml5ShivFrag();return n.appendChild(e),e.innerHTML=t,n.removeChild(e),t}catch(n){for(this.$.innerHTML="",(e=new CKEDITOR.dom.element("body",this.getDocument())).$.innerHTML=t,e=e.getChildren();e.count();)this.append(e.getItem(0));return t}}:function(t){return this.$.innerHTML=t},setText:function(){var t=document.createElement("p");return t.innerHTML="x",t=t.textContent,function(e){this.$[t?"textContent":"innerText"]=e}}(),getAttribute:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){switch(t){case"class":t="className";break;case"http-equiv":t="httpEquiv";break;case"name":return this.$.name;case"tabindex":return 0!==(t=this.$.getAttribute(t,2))&&0===this.$.tabIndex&&(t=null),t;case"checked":return((t=this.$.attributes.getNamedItem(t)).specified?t.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[t];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(t,2)}:function(t){return this.$.getAttribute(t,2)},getAttributes:function(t){var e,n={},i=this.$.attributes;for(t=CKEDITOR.tools.isArray(t)?t:[],e=0;e<i.length;e++)-1===CKEDITOR.tools.indexOf(t,i[e].name)&&(n[i[e].name]=i[e].value);return n},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getClientSize:function(){return{width:this.$.clientWidth,height:this.$.clientHeight}},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(t){var e=this.getWindow().$.getComputedStyle(this.$,null);return e?e.getPropertyValue(t):""}:function(t){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(t)]},getDtd:function(){var t=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return t},t},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var t=this.$.tabIndex;return 0!==t||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?t:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var t=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&8>=document.documentMode){var e=this.$.scopeName;"HTML"!=e&&(t=e.toLowerCase()+":"+t)}return this.getName=function(){return t},this.getName()},getValue:function(){return this.$.value},getFirst:function(t){var e=this.$.firstChild;return(e=e&&new CKEDITOR.dom.node(e))&&t&&!t(e)&&(e=e.getNext(t)),e},getLast:function(t){var e=this.$.lastChild;return(e=e&&new CKEDITOR.dom.node(e))&&t&&!t(e)&&(e=e.getPrevious(t)),e},getStyle:function(t){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]},is:function(){var t=this.getName();if("object"==typeof arguments[0])return!!arguments[0][t];for(var e=0;e<arguments.length;e++)if(arguments[e]==t)return!0;return!1},isEditable:function(t){var e=this.getName();return!(this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[e]||CKEDITOR.dtd.$empty[e]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount())&&(!1===t||!(!(t=CKEDITOR.dtd[e]||CKEDITOR.dtd.span)||!t["#"]))},isIdentical:function(t){var e=this.clone(0,1);if(t=t.clone(0,1),e.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),e.$.isEqualNode)return e.$.style.cssText=CKEDITOR.tools.normalizeCssText(e.$.style.cssText),t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText),e.$.isEqualNode(t.$);if(e=e.getOuterHtml(),t=t.getOuterHtml(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is("a")){var n=this.getParent();n.type==CKEDITOR.NODE_ELEMENT&&((n=n.clone()).setHtml(e),e=n.getHtml(),n.setHtml(t),t=n.getHtml())}return e==t},isVisible:function(){var t,e,n=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility");return n&&CKEDITOR.env.webkit&&(!(t=this.getWindow()).equals(CKEDITOR.document.getWindow())&&(e=t.$.frameElement)&&(n=new CKEDITOR.dom.element(e).isVisible())),!!n},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var t=this.getChildren(),e=0,n=t.count();e<n;e++){var i=t.getItem(e);if((i.type!=CKEDITOR.NODE_ELEMENT||!i.data("cke-bookmark"))&&(i.type==CKEDITOR.NODE_ELEMENT&&!i.isEmptyInlineRemoveable()||i.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(i.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var t=this.$.attributes,e=0;e<t.length;e++){var n=t[e];switch(n.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(n.specified)return!0}}return!1}:function(){var t=this.$.attributes,e=t.length,n={"data-cke-expando":1,_moz_dirty:1};return 0<e&&(2<e||!n[t[0].nodeName]||2==e&&!n[t[1].nodeName])},hasAttribute:function(){function t(t){var e=this.$.attributes.getNamedItem(t);if("input"==this.getName())switch(t){case"class":return 0<this.$.className.length;case"checked":return!!this.$.checked;case"value":return"checkbox"==(t=this.getAttribute("type"))||"radio"==t?"on"!=this.$.value:!!this.$.value}return!!e&&e.specified}return CKEDITOR.env.ie?8>CKEDITOR.env.version?function(e){return"name"==e?!!this.$.name:t.call(this,e)}:t:function(t){return!!this.$.attributes.getNamedItem(t)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(t,e){var n,i=this.$;if(i!=(t=t.$))if(e)for(;n=i.lastChild;)t.insertBefore(i.removeChild(n),t.firstChild);else for(;n=i.firstChild;)t.appendChild(i.removeChild(n))},mergeSiblings:function(){function t(t,e,n){if(e&&e.type==CKEDITOR.NODE_ELEMENT){for(var i=[];e.data("cke-bookmark")||e.isEmptyInlineRemoveable();)if(i.push(e),!(e=n?e.getNext():e.getPrevious())||e.type!=CKEDITOR.NODE_ELEMENT)return;if(t.isIdentical(e)){for(var r=n?t.getLast():t.getFirst();i.length;)i.shift().move(t,!n);e.moveChildren(t,!n),e.remove(),r&&r.type==CKEDITOR.NODE_ELEMENT&&r.mergeSiblings()}}}return function(e){(!1===e||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(t(this,this.getNext(),!0),t(this,this.getPrevious()))}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var t=function(t,e){return this.$.setAttribute(t,e),this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e,n){return"class"==e?this.$.className=n:"style"==e?this.$.style.cssText=n:"tabindex"==e?this.$.tabIndex=n:"checked"==e?this.$.checked=n:"contenteditable"==e?t.call(this,"contentEditable",n):t.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(e,n){if("src"==e&&n.match(/^http:\/\//))try{t.apply(this,arguments)}catch(t){}else t.apply(this,arguments);return this}:t}(),setAttributes:function(t){for(var e in t)this.setAttribute(e,t[e]);return this},setValue:function(t){return this.$.value=t,this},removeAttribute:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){"class"==t?t="className":"tabindex"==t?t="tabIndex":"contenteditable"==t&&(t="contentEditable"),this.$.removeAttribute(t)}:function(t){this.$.removeAttribute(t)},removeAttributes:function(t){if(CKEDITOR.tools.isArray(t))for(var e=0;e<t.length;e++)this.removeAttribute(t[e]);else for(e in t=t||this.getAttributes())t.hasOwnProperty(e)&&this.removeAttribute(e)},removeStyle:function(t){if((i=this.$.style).removeProperty||"border"!=t&&"margin"!=t&&"padding"!=t)i.removeProperty?i.removeProperty(t):i.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(t)),this.$.style.cssText||this.removeAttribute("style");else{var e,n=["top","left","right","bottom"];"border"==t&&(e=["color","style","width"]);for(var i=[],r=0;r<n.length;r++)if(e)for(var o=0;o<e.length;o++)i.push([t,n[r],e[o]].join("-"));else i.push([t,n[r]].join("-"));for(t=0;t<i.length;t++)this.removeStyle(i[t])}},setStyle:function(t,e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]=e,this},setStyles:function(t){for(var e in t)this.setStyle(e,t[e]);return this},setOpacity:function(t){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(t=Math.round(100*t),this.setStyle("filter",100<=t?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+t+")")):this.setStyle("opacity",t)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var t=this.getElementsByTag("*"),e=0,n=t.count();e<n;e++)t.getItem(e).setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var t=this;"html"!=t.getName();){if("static"!=t.getComputedStyle("position"))return t;t=t.getParent()}return null},getDocumentPosition:function(t){var e=0,n=0,i=this.getDocument(),r=i.getBody(),o="BackCompat"==i.$.compatMode;if(!document.documentElement.getBoundingClientRect||CKEDITOR.env.ie&&8===CKEDITOR.env.version)for(l=this,c=null;l&&"body"!=l.getName()&&"html"!=l.getName();){for(e+=l.$.offsetLeft-l.$.scrollLeft,n+=l.$.offsetTop-l.$.scrollTop,l.equals(this)||(e+=l.$.clientLeft||0,n+=l.$.clientTop||0);c&&!c.equals(l);)e-=c.$.scrollLeft,n-=c.$.scrollTop,c=c.getParent();c=l,l=(a=l.$.offsetParent)?new CKEDITOR.dom.element(a):null}else{var a=this.$.getBoundingClientRect(),s=i.$.documentElement,l=s.clientTop||r.$.clientTop||0,c=s.clientLeft||r.$.clientLeft||0,u=!0;CKEDITOR.env.ie&&(u=i.getDocumentElement().contains(this),i=i.getBody().contains(this),u=o&&i||!o&&u),u&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(e=r.$.scrollLeft||s.scrollLeft,n=r.$.scrollTop||s.scrollTop):(e=(n=o?r.$:s).scrollLeft,n=n.scrollTop),e=a.left+e-c,n=a.top+n-l)}return t&&(a=this.getWindow(),l=t.getWindow(),!a.equals(l)&&a.$.frameElement&&(e+=(t=new CKEDITOR.dom.element(a.$.frameElement).getDocumentPosition(t)).x,n+=t.y)),document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||o||(e+=this.$.clientLeft?1:0,n+=this.$.clientTop?1:0),{x:e,y:n}},scrollIntoView:function(t){var e=this.getParent();if(e)do{if((e.$.clientWidth&&e.$.clientWidth<e.$.scrollWidth||e.$.clientHeight&&e.$.clientHeight<e.$.scrollHeight)&&!e.is("body")&&this.scrollIntoParent(e,t,1),e.is("html")){var n=e.getWindow();try{var i=n.$.frameElement;i&&(e=new CKEDITOR.dom.element(i))}catch(t){}}}while(e=e.getParent())},scrollIntoParent:function(t,e,n){var i,r,o,a;function s(e,n){/body|html/.test(t.getName())?t.getWindow().$.scrollBy(e,n):(t.$.scrollLeft+=e,t.$.scrollTop+=n)}function l(t,e){var n={x:0,y:0};if(!t.is(u?"body":"html")){var i=t.$.getBoundingClientRect();n.x=i.left,n.y=i.top}return(i=t.getWindow()).equals(e)||(i=l(CKEDITOR.dom.element.get(i.$.frameElement),e),n.x+=i.x,n.y+=i.y),n}function c(t,e){return parseInt(t.getComputedStyle("margin-"+e)||0,10)||0}!t&&(t=this.getWindow());var u="BackCompat"==(o=t.getDocument()).$.compatMode;t instanceof CKEDITOR.dom.window&&(t=u?o.getBody():o.getDocumentElement()),CKEDITOR.env.webkit&&(o=this.getEditor(!1))&&(o._.previousScrollTop=null),r=l(this,o=t.getWindow());var d=l(t,o),h=this.$.offsetHeight;i=this.$.offsetWidth;var f=t.$.clientHeight,p=t.$.clientWidth;o=r.x-c(this,"left")-d.x||0,a=r.y-c(this,"top")-d.y||0,i=r.x+i+c(this,"right")-(d.x+p)||0,r=r.y+h+c(this,"bottom")-(d.y+f)||0,(0>a||0<r)&&s(0,!0===e?a:!1===e?r:0>a?a:r),n&&(0>o||0<i)&&s(0>o?o:i,0)},setState:function(t,e,n){switch(e=e||"cke",t){case CKEDITOR.TRISTATE_ON:this.addClass(e+"_on"),this.removeClass(e+"_off"),this.removeClass(e+"_disabled"),n&&this.setAttribute("aria-pressed",!0),n&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(e+"_disabled"),this.removeClass(e+"_off"),this.removeClass(e+"_on"),n&&this.setAttribute("aria-disabled",!0),n&&this.removeAttribute("aria-pressed");break;default:this.addClass(e+"_off"),this.removeClass(e+"_on"),this.removeClass(e+"_disabled"),n&&this.removeAttribute("aria-pressed"),n&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var t=this.$;try{t.contentWindow.document}catch(e){t.src=t.src}return t&&new CKEDITOR.dom.document(t.contentWindow.document)},copyAttributes:function(t,e){var n=this.$.attributes;e=e||{};for(var i=0;i<n.length;i++){var r,o=n[i],a=o.nodeName.toLowerCase();a in e||("checked"==a&&(r=this.getAttribute(a))?t.setAttribute(a,r):CKEDITOR.env.ie&&!this.hasAttribute(a)||(null===(r=this.getAttribute(a))&&(r=o.nodeValue),t.setAttribute(a,r)))}""!==this.$.style.cssText&&(t.$.style.cssText=this.$.style.cssText)},renameNode:function(t){if(this.getName()!=t){var e=this.getDocument();t=new CKEDITOR.dom.element(t,e),this.copyAttributes(t),this.moveChildren(t),this.getParent(!0)&&this.$.parentNode.replaceChild(t.$,this.$),t.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=t.$,delete this.getName}},getChild:function(){function t(t,e){var n=t.childNodes;if(0<=e&&e<n.length)return n[e]}return function(e){var n=this.$;if(e.slice)for(e=e.slice();0<e.length&&n;)n=t(n,e.shift());else n=t(n,e);return n?new CKEDITOR.dom.node(n):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function t(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_enable_context_menu")}this.on("contextmenu",function(e){e.data.getTarget().getAscendant(t,!0)||e.data.preventDefault()})},getDirection:function(t){return t?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(t,e){return t="data-"+t,void 0===e?this.getAttribute(t):(!1===e?this.removeAttribute(t):this.setAttribute(t,e),null)},getEditor:function(t){var e,n,i,r=CKEDITOR.instances;for(e in t=t||void 0===t,r)if((n=r[e]).element.equals(this)&&n.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!t&&(i=n.editable())&&(i.equals(this)||i.contains(this)))return n;return null},find:function(t){var i=e(this);return t=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(n(this,t))),i(),t},findOne:function(t){var i=e(this);return t=this.$.querySelector(n(this,t)),i(),t?new CKEDITOR.dom.element(t):null},forEach:function(t,e,n){if(!(n||e&&this.type!=e))var i=t(this);if(!1!==i){n=this.getChildren();for(var r=0;r<n.count();r++)(i=n.getItem(r)).type==CKEDITOR.NODE_ELEMENT?i.forEach(t,e):e&&i.type!=e||t(i)}},fireEventHandler:function(t,e){var n="on"+t,i=this.$;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version){var r,o=i.ownerDocument.createEventObject();for(r in e)o[r]=e[r];i.fireEvent(n,o)}else i[i[t]?t:n](e)},isDetached:function(){var t=this.getDocument(),e=t.getDocumentElement();return!e.equals(this)&&!e.contains(this)||(!CKEDITOR.env.ie||8<CKEDITOR.env.version&&!CKEDITOR.env.quirks)&&!t.$.defaultView}});var a={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(t,e,n){"number"==typeof e&&(!n||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(e-=i.call(this,t)),this.setStyle(t,e+"px"))},CKEDITOR.dom.element.prototype.getSize=function(t,e){var n=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(t)],this.$["client"+CKEDITOR.tools.capitalize(t)])||0;return e&&(n-=i.call(this,t)),n}}(),CKEDITOR.dom.documentFragment=function(t){t=t||CKEDITOR.document,this.$=t.type==CKEDITOR.NODE_DOCUMENT?t.$.createDocumentFragment():t},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(t){(t=t.$).parentNode.insertBefore(this.$,t.nextSibling)},getHtml:function(){var t=new CKEDITOR.dom.element("div");return this.clone(1,1).appendTo(t),t.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.document.prototype,!0,{find:1,findOne:1}),function(){function t(t,e){var n=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,n.collapsed)return this.end(),null;n.optimize()}var i,r=n.startContainer;i=n.endContainer;var o,a=n.startOffset,s=n.endOffset,l=this.guard,c=this.type,u=t?"getPreviousSourceNode":"getNextSourceNode";if(!t&&!this._.guardLTR){var d=i.type==CKEDITOR.NODE_ELEMENT?i:i.getParent(),h=i.type==CKEDITOR.NODE_ELEMENT?i.getChild(s):i.getNext();this._.guardLTR=function(t,e){return!(e&&d.equals(t)||h&&t.equals(h)||t.type==CKEDITOR.NODE_ELEMENT&&e&&t.equals(n.root))}}if(t&&!this._.guardRTL){var f=r.type==CKEDITOR.NODE_ELEMENT?r:r.getParent(),p=r.type==CKEDITOR.NODE_ELEMENT?a?r.getChild(a-1):null:r.getPrevious();this._.guardRTL=function(t,e){return!(e&&f.equals(t)||p&&t.equals(p)||t.type==CKEDITOR.NODE_ELEMENT&&e&&t.equals(n.root))}}var g=t?this._.guardRTL:this._.guardLTR;for(o=l?function(t,e){return!1!==g(t,e)&&l(t,e)}:g,this.current?i=this.current[u](!1,c,o):(t?i.type==CKEDITOR.NODE_ELEMENT&&(i=0<s?i.getChild(s-1):!1===o(i,!0)?null:i.getPreviousSourceNode(!0,c,o)):(i=r).type==CKEDITOR.NODE_ELEMENT&&((i=i.getChild(a))||(i=!1===o(r,!0)?null:r.getNextSourceNode(!0,c,o))),i&&!1===o(i)&&(i=null));i&&!this._.end;){if(this.current=i,this.evaluator&&!1===this.evaluator(i)){if(e&&this.evaluator)return!1}else if(!e)return i;i=i[u](!1,c,o)}return this.end(),this.current=null}function e(e){for(var n,i=null;n=t.call(this,e);)i=n;return i}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(t){this.range=t,this._={}},proto:{end:function(){this._.end=1},next:function(){return t.call(this)},previous:function(){return t.call(this,1)},checkForward:function(){return!1!==t.call(this,0,1)},checkBackward:function(){return!1!==t.call(this,1,1)},lastForward:function(){return e.call(this)},lastBackward:function(){return e.call(this,1)},reset:function(){delete this.current,this._={}}}});var n={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},i={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(t){return!("none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in i||!n[this.getComputedStyle("display")])||!!(this.is(CKEDITOR.dtd.$block)||t&&this.is(t))},CKEDITOR.dom.walker.blockBoundary=function(t){return function(e){return!(e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary(t))}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(t,e){function n(t){return t&&t.getName&&"span"==t.getName()&&t.data("cke-bookmark")}return function(i){var r,o;return r=i&&i.type!=CKEDITOR.NODE_ELEMENT&&(o=i.getParent())&&n(o),r=t?r:r||n(i),!!(e^r)}},CKEDITOR.dom.walker.whitespaces=function(t){return function(e){var n;return e&&e.type==CKEDITOR.NODE_TEXT&&(n=!CKEDITOR.tools.trim(e.getText())||CKEDITOR.env.webkit&&e.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE),!!(t^n)}},CKEDITOR.dom.walker.invisible=function(t){var e=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.env.webkit?1:0;return function(i){return e(i)?i=1:(i.type==CKEDITOR.NODE_TEXT&&(i=i.getParent()),i=i.$.offsetWidth<=n),!!(t^i)}},CKEDITOR.dom.walker.nodeType=function(t,e){return function(n){return!!(e^n.type==t)}},CKEDITOR.dom.walker.bogus=function(t){function e(t){return!o(t)&&!a(t)}return function(n){var i=CKEDITOR.env.needsBrFiller?n.is&&n.is("br"):n.getText&&r.test(n.getText());return i&&(i=n.getParent(),n=n.getNext(e),i=i.isBlockBoundary()&&(!n||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary())),!!(t^i)}},CKEDITOR.dom.walker.temp=function(t){return function(e){return e.type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent()),e=e&&e.hasAttribute("data-cke-temp"),!!(t^e)}};var r=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,o=CKEDITOR.dom.walker.whitespaces(),a=CKEDITOR.dom.walker.bookmark(),s=CKEDITOR.dom.walker.temp(),l=function(t){return a(t)||o(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$inline)&&!t.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=function(t){return function(e){return e=o(e)||a(e)||s(e),!!(t^e)}};var c=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(t){return function(e){for(var n=0,i=e.getChildCount();n<i;++n)if(!c(e.getChild(n)))return!!t;return!t}};var u=CKEDITOR.dom.walker.empty(),d=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(t){var e,n={};for(e in t)CKEDITOR.dtd[e]["#"]&&(n[e]=1);return n}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(t){return function(e){return e=!c(e)&&!!(e.type==CKEDITOR.NODE_TEXT||e.type==CKEDITOR.NODE_ELEMENT&&(e.is(CKEDITOR.dtd.$inline)||e.is("hr")||"false"==e.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&e.is(d)&&u(e))),!!(t^e)}},CKEDITOR.dom.element.prototype.getBogus=function(){var t=this;do{t=t.getPreviousSourceNode()}while(l(t));return!(!t||!(CKEDITOR.env.needsBrFiller?t.is&&t.is("br"):t.getText&&r.test(t.getText())))&&t}}(),CKEDITOR.dom.range=function(t){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null,this.collapsed=!0;var e=t instanceof CKEDITOR.dom.document;this.document=e?t:t.getDocument(),this.root=e?t.getBody():t},function(){function t(t){t.collapsed=t.startContainer&&t.endContainer&&t.startContainer.equals(t.endContainer)&&t.startOffset==t.endOffset}function e(t,e,n,i,r){function o(t,e,n,i){var o=n?t.getPrevious():t.getNext();return i&&a?o:(l||i?e.append(t.clone(!0,r),n):(t.remove(),s&&e.append(t,n)),o)}t.optimizeBookmark();var a=0===e,s=1==e,l=2==e;e=l||s;var c,u,d,h,f,p,g=t.startContainer,m=t.endContainer,v=t.startOffset,y=t.endOffset;if(l&&m.type==CKEDITOR.NODE_TEXT&&(g.equals(m)||g.type===CKEDITOR.NODE_ELEMENT&&g.getFirst().equals(m)))n.append(t.document.createText(m.substring(v,y)));else{m.type==CKEDITOR.NODE_TEXT?l?p=!0:m=m.split(y):0<m.getChildCount()?y>=m.getChildCount()?(m=m.getChild(y-1),u=!0):m=m.getChild(y):h=u=!0,g.type==CKEDITOR.NODE_TEXT?l?f=!0:g.split(v):0<g.getChildCount()?0===v?(g=g.getChild(v),c=!0):g=g.getChild(v-1):d=c=!0;for(var b,w,E,C=g.getParents(),T=m.getParents(),_=function(){var t,e,n,i=Math.min(C.length,T.length);for(t=0;t<i;t++)if(e=C[t],n=T[t],!e.equals(n))return t;return t-1}(),O=C.length-1,k=T.length-1,D=n,x=-1,I=_;I<=O;I++){for(E=(w=C[I]).getNext(),I!=O||w.equals(T[I])&&O<k?e&&(b=D.append(w.clone(0,r))):c?o(w,D,!1,d):f&&D.append(t.document.createText(w.substring(v)));E;){if(E.equals(T[I])){x=I;break}E=o(E,D)}D=b}for(D=n,I=_;I<=k;I++)if(E=(n=T[I]).getPrevious(),n.equals(C[I]))e&&(D=D.getChild(0));else{if(I!=k||n.equals(C[I])&&k<O?e&&(b=D.append(n.clone(0,r))):u?o(n,D,!1,h):p&&D.append(t.document.createText(n.substring(0,y))),I>x)for(;E;)E=o(E,D,!0);D=b}l||function(){var e=_-1,n=d&&h&&!g.equals(m);e<O-1||e<k-1||n?(n?t.moveToPosition(m,CKEDITOR.POSITION_BEFORE_START):k==e+1&&u?t.moveToPosition(T[e],CKEDITOR.POSITION_BEFORE_END):t.moveToPosition(T[e+1],CKEDITOR.POSITION_BEFORE_START),i&&(e=C[e+1])&&e.type==CKEDITOR.NODE_ELEMENT&&((n=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',t.document)).insertAfter(e),e.mergeSiblings(!1),t.moveToBookmark({startNode:n}))):t.collapse(!0)}()}}function n(){var t=!1,e=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!0),i=CKEDITOR.dom.walker.bogus();return function(o){return!(!n(o)&&!e(o))||(i(o)&&!t?t=!0:!(o.type==CKEDITOR.NODE_TEXT&&(o.hasAscendant("pre")||CKEDITOR.tools.trim(o.getText()).length)||o.type==CKEDITOR.NODE_ELEMENT&&!o.is(r)))}}function i(t){return function(){var e;return this[t?"getPreviousNode":"getNextNode"](function(t){return!e&&l(t)&&(e=t),s(t)&&!(o(t)&&t.equals(e))})}}var r={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,var:1},o=CKEDITOR.dom.walker.bogus(),a=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,s=CKEDITOR.dom.walker.editable(),l=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var t=new CKEDITOR.dom.range(this.root);return t._setStartContainer(this.startContainer),t.startOffset=this.startOffset,t._setEndContainer(this.endContainer),t.endOffset=this.endOffset,t.collapsed=this.collapsed,t},collapse:function(t){t?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(t){var n=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||e(this,2,n,!1,void 0===t||t),n},deleteContents:function(t){this.collapsed||e(this,0,null,t)},extractContents:function(t,n){var i=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||e(this,1,i,t,void 0===n||n),i},equals:function(t){return this.startOffset===t.startOffset&&this.endOffset===t.endOffset&&this.startContainer.equals(t.startContainer)&&this.endContainer.equals(t.endContainer)},createBookmark:function(t){function e(t){return t.getAscendant(function(t){var e;return(e=t.data&&t.data("cke-temp"))&&(e=-1===CKEDITOR.tools.array.indexOf(["cke_copybin","cke_pastebin"],t.getAttribute("id"))),e},!0)}var n,i,r,o,a=this.startContainer,s=this.endContainer,l=this.collapsed;return(n=this.document.createElement("span")).data("cke-bookmark",1),n.setStyle("display","none"),n.setHtml("&nbsp;"),t&&(r="cke_bm_"+CKEDITOR.tools.getNextNumber(),n.setAttribute("id",r+(l?"C":"S"))),l||((i=n.clone()).setHtml("&nbsp;"),t&&i.setAttribute("id",r+"E"),o=this.clone(),e(s)&&(s=e(s),o.moveToPosition(s,CKEDITOR.POSITION_AFTER_END)),o.collapse(),o.insertNode(i)),o=this.clone(),e(a)&&(s=e(a),o.moveToPosition(s,CKEDITOR.POSITION_BEFORE_START)),o.collapse(!0),o.insertNode(n),i?(this.setStartAfter(n),this.setEndBefore(i)):this.moveToPosition(n,CKEDITOR.POSITION_AFTER_END),{startNode:t?r+(l?"C":"S"):n,endNode:t?r+"E":i,serializable:t,collapsed:l}},createBookmark2:function(){function t(t){var e,i=t.container,r=t.offset,o=r;if((e=(e=i).type!=CKEDITOR.NODE_ELEMENT||0===o||o==e.getChildCount()?0:e.getChild(o-1).type==CKEDITOR.NODE_TEXT&&e.getChild(o).type==CKEDITOR.NODE_TEXT)&&(r=(i=i.getChild(r-1)).getLength()),i.type==CKEDITOR.NODE_ELEMENT&&0<r){t:{for(e=i;r--;)if(0<=(o=e.getChild(r).getIndex(!0))){r=o;break t}r=-1}r+=1}if(i.type==CKEDITOR.NODE_TEXT){for(e=i,o=0;(e=e.getPrevious())&&e.type==CKEDITOR.NODE_TEXT;)o+=e.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;e=o,i.isEmpty()?(o=i.getPrevious(n),e?(r=e,i=o?o.getNext():i.getParent().getFirst()):(i=i.getParent(),r=o?o.getIndex(!0)+1:0)):r+=e}t.container=i,t.offset=r}function e(t,e){var n=e.getCustomData("cke-fillingChar");if(n){var i=t.container;n.equals(i)&&(t.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=t.offset&&(t.offset=i.getIndex(),t.container=i.getParent()))}}var n=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(n){var i=this.collapsed,r={container:this.startContainer,offset:this.startOffset},o={container:this.endContainer,offset:this.endOffset};return n&&(t(r),e(r,this.root),i||(t(o),e(o,this.root))),{start:r.container.getAddress(n),end:i?null:o.container.getAddress(n),startOffset:r.offset,endOffset:o.offset,normalized:n,collapsed:i,is2:!0}}}(),moveToBookmark:function(t){if(t.is2){var e=this.document.getByAddress(t.start,t.normalized),n=t.startOffset,i=t.end&&this.document.getByAddress(t.end,t.normalized);t=t.endOffset,this.setStart(e,n),i?this.setEnd(i,t):this.collapse(!0)}else e=(n=t.serializable)?this.document.getById(t.startNode):t.startNode,t=n?this.document.getById(t.endNode):t.endNode,this.setStartBefore(e),e.remove(),t?(this.setEndBefore(t),t.remove()):this.collapse(!0)},getBoundaryNodes:function(){var t,e=this.startContainer,n=this.endContainer,i=this.startOffset,r=this.endOffset;if(e.type==CKEDITOR.NODE_ELEMENT)if((t=e.getChildCount())>i)e=e.getChild(i);else if(1>t)e=e.getPreviousSourceNode();else{for(e=e.$;e.lastChild;)e=e.lastChild;e=(e=new CKEDITOR.dom.node(e)).getNextSourceNode()||e}if(n.type==CKEDITOR.NODE_ELEMENT)if((t=n.getChildCount())>r)n=n.getChild(r).getPreviousSourceNode(!0);else if(1>t)n=n.getPreviousSourceNode();else{for(n=n.$;n.lastChild;)n=n.lastChild;n=new CKEDITOR.dom.node(n)}return e.getPosition(n)&CKEDITOR.POSITION_FOLLOWING&&(e=n),{startNode:e,endNode:n}},getCommonAncestor:function(t,e){var n=this.startContainer,i=this.endContainer;n=n.equals(i)?t&&n.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?n.getChild(this.startOffset):n:n.getCommonAncestor(i);return e&&!n.is?n.getParent():n},optimize:function(){var t=this.startContainer,e=this.startOffset;t.type!=CKEDITOR.NODE_ELEMENT&&(e?e>=t.getLength()&&this.setStartAfter(t):this.setStartBefore(t)),t=this.endContainer,e=this.endOffset,t.type!=CKEDITOR.NODE_ELEMENT&&(e?e>=t.getLength()&&this.setEndAfter(t):this.setEndBefore(t))},optimizeBookmark:function(){var t=this.startContainer,e=this.endContainer;t.is&&t.is("span")&&t.data("cke-bookmark")&&this.setStartAt(t,CKEDITOR.POSITION_BEFORE_START),e&&e.is&&e.is("span")&&e.data("cke-bookmark")&&this.setEndAt(e,CKEDITOR.POSITION_AFTER_END)},trim:function(t,e){var n=this.startContainer,i=this.startOffset,r=this.collapsed;if((!t||r)&&n&&n.type==CKEDITOR.NODE_TEXT){if(i)if(i>=n.getLength())i=n.getIndex()+1,n=n.getParent();else{var o=n.split(i);i=n.getIndex()+1,n=n.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(o,this.endOffset-this.startOffset):n.equals(this.endContainer)&&(this.endOffset+=1)}else i=n.getIndex(),n=n.getParent();if(this.setStart(n,i),r)return void this.collapse(!0)}n=this.endContainer,i=this.endOffset,e||r||!n||n.type!=CKEDITOR.NODE_TEXT||(i?(i>=n.getLength()||n.split(i),i=n.getIndex()+1):i=n.getIndex(),n=n.getParent(),this.setEnd(n,i))},enlarge:function(t,e){function n(t){return t&&t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable")?null:t}var i=new RegExp(/[^\s\ufeff]/);switch(t){case CKEDITOR.ENLARGE_INLINE:var r=1;case CKEDITOR.ENLARGE_ELEMENT:var o=function(t,e){var n,r;for((n=new CKEDITOR.dom.range(p)).setStart(t,e),n.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(n)).guard=function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary())};r=n.next();){if(r.type!=CKEDITOR.NODE_TEXT)return!1;if(h=r!=t?r.getText():r.substring(e),i.test(h))return!1}return!0};if(this.collapsed)break;var a,s,l,c,u,d,h,f=this.getCommonAncestor(),p=this.root,g=!1;d=this.startContainer;var m=this.startOffset;for(d.type==CKEDITOR.NODE_TEXT?(m&&(g=!!(d=!CKEDITOR.tools.trim(d.substring(0,m)).length&&d)),d&&((c=d.getPrevious())||(l=d.getParent()))):(m&&(c=d.getChild(m-1)||d.getLast()),c||(l=d)),l=n(l);l||c;){if(l&&!c){if(!u&&l.equals(f)&&(u=!0),r?l.isBlockBoundary():!p.contains(l))break;g&&"inline"==l.getComputedStyle("display")||(g=!1,u?a=l:this.setStartBefore(l)),c=l.getPrevious()}for(;c;)if(d=!1,c.type==CKEDITOR.NODE_COMMENT)c=c.getPrevious();else{if(c.type==CKEDITOR.NODE_TEXT)h=c.getText(),i.test(h)&&(c=null),d=/[\s\ufeff]$/.test(h);else if((c.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||e&&c.is("br"))&&!c.data("cke-bookmark"))if(g&&CKEDITOR.dtd.$removeEmpty[c.getName()]){if(h=c.getText(),i.test(h))c=null;else{m=c.$.getElementsByTagName("*");for(var v,y=0;v=m[y++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){c=null;break}}c&&(d=!!h.length)}else c=null;if(d&&(g?u?a=l:l&&this.setStartBefore(l):g=!0),c){if(d=c.getPrevious(),!l&&!d){l=c,c=null;break}c=d}else l=null}l&&(l=n(l.getParent()))}for(d=this.endContainer,m=this.endOffset,l=c=null,u=g=!1,d.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(d.substring(m)).length?g=!0:(g=!d.getLength(),m==d.getLength()?(c=d.getNext())||(l=d.getParent()):o(d,m)&&(l=d.getParent())):(c=d.getChild(m))||(l=d);l||c;){if(l&&!c){if(!u&&l.equals(f)&&(u=!0),r?l.isBlockBoundary():!p.contains(l))break;g&&"inline"==l.getComputedStyle("display")||(g=!1,u?s=l:l&&this.setEndAfter(l)),c=l.getNext()}for(;c;){if(d=!1,c.type==CKEDITOR.NODE_TEXT)h=c.getText(),o(c,0)||(c=null),d=/^[\s\ufeff]/.test(h);else if(c.type==CKEDITOR.NODE_ELEMENT){if((0<c.$.offsetWidth||e&&c.is("br"))&&!c.data("cke-bookmark"))if(g&&CKEDITOR.dtd.$removeEmpty[c.getName()]){if(h=c.getText(),i.test(h))c=null;else for(m=c.$.getElementsByTagName("*"),y=0;v=m[y++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){c=null;break}c&&(d=!!h.length)}else c=null}else d=1;if(d&&g&&(u?s=l:this.setEndAfter(l)),c){if(d=c.getNext(),!l&&!d){l=c,c=null;break}c=d}else l=null}l&&(l=n(l.getParent()))}a&&s&&(f=a.contains(s)?s:a,this.setStartBefore(f),this.setEndAfter(f));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:l=new CKEDITOR.dom.range(this.root),p=this.root,l.setStartAt(p,CKEDITOR.POSITION_AFTER_START),l.setEnd(this.startContainer,this.startOffset),l=new CKEDITOR.dom.walker(l);var b,w,E=CKEDITOR.dom.walker.blockBoundary(t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),C=null,T=function(t){if(t.type==CKEDITOR.NODE_ELEMENT&&"false"==t.getAttribute("contenteditable"))if(C){if(C.equals(t))return void(C=null)}else C=t;else if(C)return;var e=E(t);return e||(b=t),e};r=function(t){var e=T(t);return!e&&t.is&&t.is("br")&&(w=t),e};if(l.guard=T,l=l.lastBackward(),b=b||p,this.setStartAt(b,!b.is("br")&&(!l&&this.checkStartOfBlock()||l&&b.contains(l))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){l=this.clone(),l=new CKEDITOR.dom.walker(l);var _=CKEDITOR.dom.walker.whitespaces(),O=CKEDITOR.dom.walker.bookmark();if(l.evaluator=function(t){return!_(t)&&!O(t)},(l=l.previous())&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("br"))break}(l=this.clone()).collapse(),l.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(l=new CKEDITOR.dom.walker(l)).guard=t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?r:T,b=C=w=null,l=l.lastForward(),b=b||p,this.setEndAt(b,!l&&this.checkEndOfBlock()||l&&b.contains(l)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),w&&this.setEndAfter(w)}},shrink:function(t,e,n){var i="boolean"==typeof n?n:!n||"boolean"!=typeof n.shrinkOnBlockBoundary||n.shrinkOnBlockBoundary,r=n&&n.skipBogus;if(!this.collapsed){t=t||CKEDITOR.SHRINK_TEXT;var o=this.clone(),a=this.startContainer,s=this.endContainer,l=this.startOffset,c=this.endOffset,u=n=1;a&&a.type==CKEDITOR.NODE_TEXT&&(l?l>=a.getLength()?o.setStartAfter(a):(o.setStartBefore(a),n=0):o.setStartBefore(a)),s&&s.type==CKEDITOR.NODE_TEXT&&(c?c>=s.getLength()?o.setEndAfter(s):(o.setEndAfter(s),u=0):o.setEndBefore(s));o=new CKEDITOR.dom.walker(o);var d,h=CKEDITOR.dom.walker.bookmark(),f=CKEDITOR.dom.walker.bogus();return o.evaluator=function(e){return e.type==(t==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)},o.guard=function(e,n){return!!(r&&f(e)||h(e))||!(t==CKEDITOR.SHRINK_ELEMENT&&e.type==CKEDITOR.NODE_TEXT||n&&e.equals(d)||!1===i&&e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()||e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable"))&&(n||e.type!=CKEDITOR.NODE_ELEMENT||(d=e),!0)},n&&(a=o[t==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(a,e?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START),u&&(o.reset(),(o=o[t==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(o,e?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)),!(!n&&!u)}},insertNode:function(t){this.optimizeBookmark(),this.trim(!1,!0);var e=this.startContainer,n=e.getChild(this.startOffset);n?t.insertBefore(n):e.append(t),t.getParent()&&t.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(t)},moveToPosition:function(t,e){this.setStartAt(t,e),this.collapse(!0)},moveToRange:function(t){this.setStart(t.startContainer,t.startOffset),this.setEnd(t.endContainer,t.endOffset)},selectNodeContents:function(t){this.setStart(t,0),this.setEnd(t,t.type==CKEDITOR.NODE_TEXT?t.getLength():t.getChildCount())},setStart:function(e,n){e.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[e.getName()]&&(n=e.getIndex(),e=e.getParent()),this._setStartContainer(e),this.startOffset=n,this.endContainer||(this._setEndContainer(e),this.endOffset=n),t(this)},setEnd:function(e,n){e.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[e.getName()]&&(n=e.getIndex()+1,e=e.getParent()),this._setEndContainer(e),this.endOffset=n,this.startContainer||(this._setStartContainer(e),this.startOffset=n),t(this)},setStartAfter:function(t){this.setStart(t.getParent(),t.getIndex()+1)},setStartBefore:function(t){this.setStart(t.getParent(),t.getIndex())},setEndAfter:function(t){this.setEnd(t.getParent(),t.getIndex()+1)},setEndBefore:function(t){this.setEnd(t.getParent(),t.getIndex())},setStartAt:function(e,n){switch(n){case CKEDITOR.POSITION_AFTER_START:this.setStart(e,0);break;case CKEDITOR.POSITION_BEFORE_END:e.type==CKEDITOR.NODE_TEXT?this.setStart(e,e.getLength()):this.setStart(e,e.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(e);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(e)}t(this)},setEndAt:function(e,n){switch(n){case CKEDITOR.POSITION_AFTER_START:this.setEnd(e,0);break;case CKEDITOR.POSITION_BEFORE_END:e.type==CKEDITOR.NODE_TEXT?this.setEnd(e,e.getLength()):this.setEnd(e,e.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(e);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(e)}t(this)},fixBlock:function(t,e){var n=this.createBookmark(),i=this.document.createElement(e);this.collapse(t),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(i),i.trim(),this.insertNode(i);var r=i.getBogus();return r&&r.remove(),i.appendBogus(),this.moveToBookmark(n),i},splitBlock:function(t,e){var n=new CKEDITOR.dom.elementPath(this.startContainer,this.root),i=new CKEDITOR.dom.elementPath(this.endContainer,this.root),r=n.block,o=i.block,a=null;return n.blockLimit.equals(i.blockLimit)?("br"!=t&&(r||(r=this.fixBlock(!0,t),o=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),o||(o=this.fixBlock(!1,t))),n=r&&this.checkStartOfBlock(),i=o&&this.checkEndOfBlock(),this.deleteContents(),r&&r.equals(o)&&(i?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(o,CKEDITOR.POSITION_AFTER_END),o=null):n?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(r,CKEDITOR.POSITION_BEFORE_START),r=null):(o=this.splitElement(r,e||!1),r.is("ul","ol")||r.appendBogus())),{previousBlock:r,nextBlock:o,wasStartOfBlock:n,wasEndOfBlock:i,elementPath:a}):null},splitElement:function(t,e){if(!this.collapsed)return null;this.setEndAt(t,CKEDITOR.POSITION_BEFORE_END);var n=this.extractContents(!1,e||!1),i=t.clone(!1,e||!1);return n.appendTo(i),i.insertAfter(t),this.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),i},removeEmptyBlocksAtEnd:function(){function t(t){return function(i){return!(e(i)||n(i)||i.type==CKEDITOR.NODE_ELEMENT&&i.isEmptyInlineRemoveable()||t.is("table")&&i.is("caption"))}}var e=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!1);return function(e){for(var n,i=this.createBookmark(),r=this[e?"endPath":"startPath"](),o=r.block||r.blockLimit;o&&!o.equals(r.root)&&!o.getFirst(t(o));)n=o.getParent(),this[e?"setEndAt":"setStartAt"](o,CKEDITOR.POSITION_AFTER_END),o.remove(1),o=n;this.moveToBookmark(i)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(t,e){var n=e==CKEDITOR.START,i=this.clone();return i.collapse(n),i[n?"setStartAt":"setEndAt"](t,n?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),(i=new CKEDITOR.dom.walker(i)).evaluator=function(t){var e=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(1);return function(i){return!(!n(i)&&!e(i))||!t&&o(i)||i.type==CKEDITOR.NODE_ELEMENT&&i.is(CKEDITOR.dtd.$removeEmpty)}}(n),i[n?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var t=this.startContainer,e=this.startOffset;return CKEDITOR.env.ie&&e&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.ltrim(t.substring(0,e)),a.test(t)&&this.trim(0,1)),this.trim(),t=new CKEDITOR.dom.elementPath(this.startContainer,this.root),(e=this.clone()).collapse(!0),e.setStartAt(t.block||t.blockLimit,CKEDITOR.POSITION_AFTER_START),(t=new CKEDITOR.dom.walker(e)).evaluator=n(),t.checkBackward()},checkEndOfBlock:function(){var t=this.endContainer,e=this.endOffset;return CKEDITOR.env.ie&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.rtrim(t.substring(e)),a.test(t)&&this.trim(1,0)),this.trim(),t=new CKEDITOR.dom.elementPath(this.endContainer,this.root),(e=this.clone()).collapse(!1),e.setEndAt(t.block||t.blockLimit,CKEDITOR.POSITION_BEFORE_END),(t=new CKEDITOR.dom.walker(e)).evaluator=n(),t.checkForward()},getPreviousNode:function(t,e,n){var i=this.clone();return i.collapse(1),i.setStartAt(n||this.root,CKEDITOR.POSITION_AFTER_START),(n=new CKEDITOR.dom.walker(i)).evaluator=t,n.guard=e,n.previous()},getNextNode:function(t,e,n){var i=this.clone();return i.collapse(),i.setEndAt(n||this.root,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(i)).evaluator=t,n.guard=e,n.next()},checkReadOnly:function(){function t(t,e){for(;t;){if(t.type==CKEDITOR.NODE_ELEMENT){if("false"==t.getAttribute("contentEditable")&&!t.data("cke-editable"))return 0;if(t.is("html")||"true"==t.getAttribute("contentEditable")&&(t.contains(e)||t.equals(e)))break}t=t.getParent()}return 1}return function(){var e=this.startContainer,n=this.endContainer;return!(t(e,n)&&t(n,e))}}(),moveToElementEditablePosition:function(t,e){if(t.type==CKEDITOR.NODE_ELEMENT&&!t.isEditable(!1))return this.moveToPosition(t,e?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var n=0;t;){if(t.type==CKEDITOR.NODE_TEXT){e&&this.endContainer&&this.checkEndOfBlock()&&a.test(t.getText())?this.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(t,e?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),n=1;break}if(t.type==CKEDITOR.NODE_ELEMENT)if(t.isEditable())this.moveToPosition(t,e?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),n=1;else if(e&&t.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START);else if("false"==t.getAttribute("contenteditable")&&t.is(CKEDITOR.dtd.$block))return this.setStartBefore(t),this.setEndAfter(t),!0;var i=t,r=n,o=void 0;i.type==CKEDITOR.NODE_ELEMENT&&i.isEditable(!1)&&(o=i[e?"getLast":"getFirst"](l)),r||o||(o=i[e?"getPrevious":"getNext"](l)),t=o}return!!n},moveToClosestEditablePosition:function(t,e){var n,i,r,o=0,a=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return t?(n=new CKEDITOR.dom.range(this.root)).moveToPosition(t,a[e?0:1]):n=this.clone(),t&&!t.is(CKEDITOR.dtd.$block)?o=1:(i=n[e?"getNextEditableNode":"getPreviousEditableNode"]())&&(o=1,(r=i.type==CKEDITOR.NODE_ELEMENT)&&i.is(CKEDITOR.dtd.$block)&&"false"==i.getAttribute("contenteditable")?(n.setStartAt(i,CKEDITOR.POSITION_BEFORE_START),n.setEndAt(i,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&r&&i.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(n.setEnd(i,0),n.collapse()):n.moveToPosition(i,a[e?1:0])),o&&this.moveToRange(n),!!o},moveToElementEditStart:function(t){return this.moveToElementEditablePosition(t)},moveToElementEditEnd:function(t){return this.moveToElementEditablePosition(t,!0)},getEnclosedNode:function(){if((t=this.clone()).optimize(),t.startContainer.type!=CKEDITOR.NODE_ELEMENT||t.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var t=new CKEDITOR.dom.walker(t),e=CKEDITOR.dom.walker.bookmark(!1,!0),n=CKEDITOR.dom.walker.whitespaces(!0);t.evaluator=function(t){return n(t)&&e(t)};var i=t.next();return t.reset(),i&&i.equals(t.previous())?i:null},getTouchedStartNode:function(){var t=this.startContainer;return this.collapsed||t.type!=CKEDITOR.NODE_ELEMENT?t:t.getChild(this.startOffset)||t},getTouchedEndNode:function(){var t=this.endContainer;return this.collapsed||t.type!=CKEDITOR.NODE_ELEMENT?t:t.getChild(this.endOffset-1)||t},getNextEditableNode:i(),getPreviousEditableNode:i(1),_getTableElement:function(t){t=t||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var e=this.getTouchedStartNode(),n=this.getTouchedEndNode(),i=e.getAscendant("table",!0);n=n.getAscendant("table",!0);return i&&!this.root.contains(i)?null:this.getEnclosedNode()?this.getEnclosedNode().getAscendant(t,!0):i&&n&&(i.equals(n)||i.contains(n)||n.contains(i))?e.getAscendant(t,!0):null},scrollIntoView:function(){var t,e,n,i=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),r=this.clone();r.optimize(),(n=r.startContainer.type==CKEDITOR.NODE_TEXT)?(e=r.startContainer.getText(),t=r.startContainer.split(r.startOffset),i.insertAfter(r.startContainer)):r.insertNode(i),i.scrollIntoView(),n&&(r.startContainer.setText(e),t.remove()),i.remove()},getClientRects:function(){function t(t,e,i){var r;return e.collapsed?i.startContainer instanceof CKEDITOR.dom.element?(t=i.checkStartOfBlock(),r=new CKEDITOR.dom.text("â"),t?i.startContainer.append(r,!0):0===i.startOffset?r.insertBefore(i.startContainer.getFirst()):(i=i.startContainer.getChildren().getItem(i.startOffset-1),r.insertAfter(i)),e.setStart(r.$,0),e.setEnd(r.$,0),t=e.getClientRects(),r.remove()):i.startContainer instanceof CKEDITOR.dom.text&&(""===i.startContainer.getText()?(i.startContainer.setText("â"),t=e.getClientRects(),i.startContainer.setText("")):t=[n(i.createBookmark())]):t=[n(i.createBookmark())],t}function e(t,e,n){return t=CKEDITOR.tools.extend({},t),e&&(t=CKEDITOR.tools.getAbsoluteRectPosition(n.document.getWindow(),t)),!t.width&&(t.width=t.right-t.left),!t.height&&(t.height=t.bottom-t.top),t}function n(t){var e,n=t.startNode;return t=t.endNode,n.setText("â"),n.removeStyle("display"),t?(t.setText("â"),t.removeStyle("display"),e=[n.getClientRect(),t.getClientRect()],t.remove()):e=[n.getClientRect(),n.getClientRect()],n.remove(),{right:Math.max(e[0].right,e[1].right),bottom:Math.max(e[0].bottom,e[1].bottom),left:Math.min(e[0].left,e[1].left),top:Math.min(e[0].top,e[1].top),width:Math.abs(e[0].left-e[1].left),height:Math.max(e[0].bottom,e[1].bottom)-Math.min(e[0].top,e[1].top)}}return void 0!==this.document.getSelection?function(n){var i,r=this.root.getDocument().$.createRange();return r.setStart(this.startContainer.$,this.startOffset),r.setEnd(this.endContainer.$,this.endOffset),(i=function(t,e){var n,i,r,o=CKEDITOR.tools.array.map(t,function(t){return t}),a=new CKEDITOR.dom.range(e.root);if(e.startContainer instanceof CKEDITOR.dom.element&&(i=0===e.startOffset&&e.startContainer.hasAttribute("data-widget")),e.endContainer instanceof CKEDITOR.dom.element&&(r=(r=e.endOffset===(e.endContainer.getChildCount?e.endContainer.getChildCount():e.endContainer.length))&&e.endContainer.hasAttribute("data-widget")),i&&a.setStart(e.startContainer.getParent(),e.startContainer.getIndex()),r&&a.setEnd(e.endContainer.getParent(),e.endContainer.getIndex()+1),(i||r)&&(e=a),a=e.cloneContents().find("[data-cke-widget-id]").toArray(),a=CKEDITOR.tools.array.map(a,function(t){var n=e.root.editor;return t=t.getAttribute("data-cke-widget-id"),n.widgets.instances[t].element}))return a=CKEDITOR.tools.array.map(a,function(t){var e;return e=t.getParent().hasClass("cke_widget_wrapper")?t.getParent():t,(n=this.root.getDocument().$.createRange()).setStart(e.getParent().$,e.getIndex()),n.setEnd(e.getParent().$,e.getIndex()+1),(e=n.getClientRects()).widgetRect=t.getClientRect(),e},e),CKEDITOR.tools.array.forEach(a,function(t){var e;!function n(i){CKEDITOR.tools.array.forEach(o,function(n,r){var a=CKEDITOR.tools.objectCompare(t[i],n);a||(a=CKEDITOR.tools.objectCompare(t.widgetRect,n)),a&&(Array.prototype.splice.call(o,r,t.length-i,t.widgetRect),e=!0)}),e||(i<o.length-1?n(i+1):o.push(t.widgetRect))}(0)}),o}(i=r.getClientRects(),this)).length||(i=t(i,r,this)),CKEDITOR.tools.array.map(i,function(t){return e(t,n,this)},this)}:function(t){return[e(n(this.createBookmark()),t,this)]}}(),_setStartContainer:function(t){this.startContainer=t},_setEndContainer:function(t){this.endContainer=t},_find:function(t,e){var n,i,r,o,a=this.getCommonAncestor(),s=this.getBoundaryNodes(),l=[];if(a&&a.find)for(i=a.find(t),n=0;n<i.count();n++)a=i.getItem(n),(e||!a.isReadOnly())&&(r=a.getPosition(s.startNode)&CKEDITOR.POSITION_FOLLOWING||s.startNode.equals(a),o=a.getPosition(s.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||s.endNode.equals(a),r&&o&&l.push(a));return l}},CKEDITOR.dom.range.mergeRanges=function(t){return CKEDITOR.tools.array.reduce(t,function(t,e){var n=t[t.length-1],i=!1;if((e=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),n){var r=new CKEDITOR.dom.range(e.root),o=(i=new CKEDITOR.dom.walker(r),CKEDITOR.dom.walker.whitespaces());for(r.setStart(n.endContainer,n.endOffset),r.setEnd(e.startContainer,e.startOffset),r=i.next();o(r)||e.endContainer.equals(r);)r=i.next();i=!r}return i?n.setEnd(e.endContainer,e.endOffset):t.push(e),t},[])}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,function(){function t(t){1>arguments.length||(this.range=t,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function e(t,n,i,r){t:{null==r&&(r=function(t){var e=[];return t.forEach(function(t){if("true"==t.getAttribute("contenteditable"))return e.push(t),!1},CKEDITOR.NODE_ELEMENT,!0),e}(i));for(var o;o=r.shift();)if(o.getDtd().p){r={element:o,remaining:r};break t}r=null}return r?(o=CKEDITOR.filter.instances[r.element.data("cke-filter")])&&!o.check(n)?e(t,n,i,r.remaining):((n=new CKEDITOR.dom.range(r.element)).selectNodeContents(r.element),(n=n.createIterator()).enlargeBr=t.enlargeBr,n.enforceRealBlocks=t.enforceRealBlocks,n.activeFilter=n.filter=o,t._.nestedEditable={element:r.element,container:i,remaining:r.remaining,iterator:n},1):0}function n(t,e,n){return!!e&&((t=t.clone()).collapse(!n),t.checkBoundaryOfElement(e,n?CKEDITOR.START:CKEDITOR.END))}var i=/^[\r\n\t ]+$/,r=CKEDITOR.dom.walker.bookmark(!1,!0),o=CKEDITOR.dom.walker.whitespaces(!0),a=function(t){return r(t)&&o(t)},s={dd:1,dt:1,li:1};t.prototype={getNextParagraph:function(t){var o,l,c,u,d;if(t=t||"p",this._.nestedEditable){if(o=this._.nestedEditable.iterator.getNextParagraph(t))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,o;if(this.activeFilter=this.filter,e(this,t,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(t);this._.nestedEditable=null}if(!this.range.root.getDtd()[t])return null;if(!this._.started){var h=this.range.clone();l=h.startPath();var f=h.endPath(),p=!h.collapsed&&n(h,l.block),g=!h.collapsed&&n(h,f.block,1);h.shrink(CKEDITOR.SHRINK_ELEMENT,!0),p&&h.setStartAt(l.block,CKEDITOR.POSITION_BEFORE_END),g&&h.setEndAt(f.block,CKEDITOR.POSITION_AFTER_START),l=h.endContainer.hasAscendant("pre",!0)||h.startContainer.hasAscendant("pre",!0),h.enlarge(this.forceBrBreak&&!l||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),h.collapsed||(l=new CKEDITOR.dom.walker(h.clone()),f=CKEDITOR.dom.walker.bookmark(!0,!0),l.evaluator=f,this._.nextNode=l.next(),(l=new CKEDITOR.dom.walker(h.clone())).evaluator=f,l=l.previous(),this._.lastNode=l.getNextSourceNode(!0,null,h.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&((f=this.range.clone()).moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),f.checkEndOfBlock()&&(f=new CKEDITOR.dom.elementPath(f.endContainer,f.root),this._.lastNode=(f.block||f.blockLimit).getNextSourceNode(!0))),this._.lastNode&&h.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=h.document.createText(""),this._.lastNode.insertAfter(l)),h=null),this._.started=1,l=h}for(f=this._.nextNode,h=this._.lastNode,this._.nextNode=null;f;){p=0,g=f.hasAscendant("pre");var m=f.type!=CKEDITOR.NODE_ELEMENT,v=0;if(m)f.type==CKEDITOR.NODE_TEXT&&i.test(f.getText())&&(m=0);else{var y=f.getName();if(CKEDITOR.dtd.$block[y]&&"false"==f.getAttribute("contenteditable")){e(this,t,o=f);break}if(f.isBlockBoundary(this.forceBrBreak&&!g&&{br:1})){if("br"==y)m=1;else if(!l&&!f.getChildCount()&&"hr"!=y){o=f,c=f.equals(h);break}l&&(l.setEndAt(f,CKEDITOR.POSITION_BEFORE_START),"br"!=y&&(this._.nextNode=f)),p=1}else{if(f.getFirst()){l||(l=this.range.clone()).setStartAt(f,CKEDITOR.POSITION_BEFORE_START),f=f.getFirst();continue}m=1}}if(m&&!l&&(l=this.range.clone()).setStartAt(f,CKEDITOR.POSITION_BEFORE_START),c=(!p||m)&&f.equals(h),l&&!p)for(;!f.getNext(a)&&!c;){if((y=f.getParent()).isBlockBoundary(this.forceBrBreak&&!g&&{br:1})){p=1,m=0,c||y.equals(h),l.setEndAt(y,CKEDITOR.POSITION_BEFORE_END);break}m=1,c=(f=y).equals(h),v=1}if(m&&l.setEndAt(f,CKEDITOR.POSITION_AFTER_END),(c=!(f=this._getNextSourceNode(f,v,h)))||p&&l)break}if(!o){if(!l)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;f=(o=new CKEDITOR.dom.elementPath(l.startContainer,l.root)).blockLimit,p={div:1,th:1,td:1},!(o=o.block)&&f&&!this.enforceRealBlocks&&p[f.getName()]&&l.checkStartOfBlock()&&l.checkEndOfBlock()&&!f.equals(l.root)?o=f:!o||this.enforceRealBlocks&&o.is(s)?(o=this.range.document.createElement(t),l.extractContents().appendTo(o),o.trim(),l.insertNode(o),u=d=!0):"li"!=o.getName()?l.checkStartOfBlock()&&l.checkEndOfBlock()||(o=o.clone(!1),l.extractContents().appendTo(o),o.trim(),u=!(d=l.splitBlock()).wasStartOfBlock,d=!d.wasEndOfBlock,l.insertNode(o)):c||(this._.nextNode=o.equals(h)?null:this._getNextSourceNode(l.getBoundaryNodes().endNode,1,h))}return u&&(u=o.getPrevious())&&u.type==CKEDITOR.NODE_ELEMENT&&("br"==u.getName()?u.remove():u.getLast()&&"br"==u.getLast().$.nodeName.toLowerCase()&&u.getLast().remove()),d&&(u=o.getLast())&&u.type==CKEDITOR.NODE_ELEMENT&&"br"==u.getName()&&(!CKEDITOR.env.needsBrFiller||u.getPrevious(r)||u.getNext(r))&&u.remove(),this._.nextNode||(this._.nextNode=c||o.equals(h)||!h?null:this._getNextSourceNode(o,1,h)),o},_getNextSourceNode:function(t,e,n){function i(t){return!(t.equals(n)||t.equals(o))}var o=this.range.root;for(t=t.getNextSourceNode(e,null,i);!r(t);)t=t.getNextSourceNode(e,null,i);return t}},CKEDITOR.dom.range.prototype.createIterator=function(){return new t(this)}}(),CKEDITOR.command=function(t,e){var n;this.uiItems=[],this.exec=function(n){return!(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())&&(this.editorFocus&&t.focus(),!1===this.fire("exec")||!1!==e.exec.call(this,t,n))},this.refresh=function(t,n){return!(this.readOnly||!t.readOnly)||(this.context&&!n.isContextFor(this.context)||!this.checkAllowed(!0)?(this.disable(),!0):(this.startDisabled||this.enable(),this.modes&&!this.modes[t.mode]&&this.disable(),!1===this.fire("refresh",{editor:t,path:n})||e.refresh&&!1!==e.refresh.apply(this,arguments)))},this.checkAllowed=function(e){return e||"boolean"!=typeof n?n=t.activeFilter.checkFeature(this):n},CKEDITOR.tools.extend(this,e,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!e.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&void 0!==this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(t){return!(this.state==t||t!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())&&(this.previousState=this.state,this.state=t,this.fire("state"),!0)},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function t(t,e,n,i,r){var o,s,l;for(o in t=[],e){s="boolean"==typeof(s=e[o])?{}:"function"==typeof s?{match:s}:k(s),"$"!=o.charAt(0)&&(s.elements=o),n&&(s.featureName=n.toLowerCase());var c=s;c.elements=a(c.elements,/\s+/)||null,c.propertiesOnly=c.propertiesOnly||!0===c.elements;var u=/\s*,\s*/,d=void 0;for(d in S){c[d]=a(c[d],u)||null;var h=c,f=R[d],p=a(c[R[d]],u),g=c[d],v=[],y=!0,b=void 0;for(b in p?y=!1:p={},g)"!"==b.charAt(0)&&(b=b.slice(1),v.push(b),p[b]=!0,y=!1);for(;b=v.pop();)g[b]=g["!"+b],delete g["!"+b];h[f]=!y&&p||null}c.match=c.match||null,i.push(s),t.push(s)}for(e=r.elements,r=r.generic,n=0,i=t.length;n<i;++n){for(u in s=!0===(o=k(t[n])).classes||!0===o.styles||!0===o.attributes,c=o,d=f=u=void 0,S)c[u]=m(c[u]);for(d in h=!0,R){for(g in p=[],g=void 0,f=c[u=R[d]])-1<g.indexOf("*")?p.push(new RegExp("^"+g.replace(/\*/g,".*")+"$")):p.push(g);(f=p).length&&(c[u]=f,h=!1)}if(c.nothingRequired=h,c.noProperties=!(c.attributes||c.classes||c.styles),!0===o.elements||null===o.elements)r[s?"unshift":"push"](o);else for(l in c=o.elements,delete o.elements,c)e[l]?e[l][s?"unshift":"push"](o):e[l]=[o]}}function e(t,e,i,r){if((!t.match||t.match(e))&&(r||s(t,e))&&(t.propertiesOnly||(i.valid=!0),i.allAttributes||(i.allAttributes=n(t.attributes,e.attributes,i.validAttributes)),i.allStyles||(i.allStyles=n(t.styles,e.styles,i.validStyles)),!i.allClasses)){if(t=t.classes,e=e.classes,r=i.validClasses,t)if(!0===t)t=!0;else{for(var o,a=0,l=e.length;a<l;++a)r[o=e[a]]||(r[o]=t(o));t=!1}else t=!1;i.allClasses=t}}function n(t,e,n){if(!t)return!1;if(!0===t)return!0;for(var i in e)n[i]||(n[i]=t(i));return!1}function i(t,e,n){if(!t.match||t.match(e)){if(t.noProperties)return!1;if(n.hadInvalidAttribute=r(t.attributes,e.attributes)||n.hadInvalidAttribute,n.hadInvalidStyle=r(t.styles,e.styles)||n.hadInvalidStyle,t=t.classes,e=e.classes,t){for(var i=!1,o=!0===t,a=e.length;a--;)(o||t(e[a]))&&(e.splice(a,1),i=!0);t=i}else t=!1;n.hadInvalidClass=t||n.hadInvalidClass}}function r(t,e){if(!t)return!1;var n,i=!1,r=!0===t;for(n in e)(r||t(n))&&(delete e[n],i=!0);return i}function o(t,e,n){return!(t.disabled||t.customConfig&&!n||!e)&&(t._.cachedChecks={},!0)}function a(t,e){if(!t)return!1;if(!0===t)return t;if("string"==typeof t)return"*"==(t=D(t))||CKEDITOR.tools.convertArrayToObject(t.split(e));if(CKEDITOR.tools.isArray(t))return!!t.length&&CKEDITOR.tools.convertArrayToObject(t);var n,i={},r=0;for(n in t)i[n]=t[n],r++;return!!r&&i}function s(t,e){if(t.nothingRequired)return!0;var n,i,r,o;if(r=t.requiredClasses)for(o=e.classes,n=0;n<r.length;++n)if("string"==typeof(i=r[n])){if(-1==CKEDITOR.tools.indexOf(o,i))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(o,i))return!1;return l(e.styles,t.requiredStyles)&&l(e.attributes,t.requiredAttributes)}function l(t,e){if(!e)return!0;for(var n,i=0;i<e.length;++i)if("string"==typeof(n=e[i])){if(!(n in t))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(t,n))return!1;return!0}function c(t){if(!t)return{};t=t.split(/\s*,\s*/).sort();for(var e={};t.length;)e[t.shift()]="cke-test";return e}function u(t){var e,n,i,r,o={},a=1;for(t=D(t);e=t.match(A);)(n=e[2])?(i=d(n,"styles"),r=d(n,"attrs"),n=d(n,"classes")):i=r=n=null,o["$"+a++]={elements:e[1],classes:n,styles:i,attributes:r},t=t.slice(e[0].length);return o}function d(t,e){var n=t.match(N[e]);return n?D(n[1]):null}function h(t){var e=t.styleBackup=t.attributes.style,n=t.classBackup=t.attributes.class;t.styles||(t.styles=CKEDITOR.tools.parseCssText(e||"",1)),t.classes||(t.classes=n?n.split(/\s+/):[])}function f(t,n,r,o){var a,s=0;if(o.toHtml&&(n.name=n.name.replace(P,"$1")),o.doCallbacks&&t.elementCallbacks){t:{for(var l,c=0,u=(a=t.elementCallbacks).length;c<u;++c)if(l=a[c](n)){a=l;break t}a=void 0}if(a)return a}if(o.doTransform&&(a=t._.transformations[n.name])){for(h(n),c=0;c<a.length;++c)w(t,n,a[c]);p(n)}if(o.doFilter){t:{c=n.name,t=(u=t._).allowedRules.elements[c],a=u.allowedRules.generic,c=u.disallowedRules.elements[c],u=u.disallowedRules.generic,l=o.skipRequired;var d,f,m={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};if(t||a){if(h(n),c)for(d=0,f=c.length;d<f;++d)if(!1===i(c[d],n,m)){t=null;break t}if(u)for(d=0,f=u.length;d<f;++d)i(u[d],n,m);if(t)for(d=0,f=t.length;d<f;++d)e(t[d],n,m,l);if(a)for(d=0,f=a.length;d<f;++d)e(a[d],n,m,l);t=m}else t=null}if(!t||!t.valid)return r.push(n),1;f=t.validAttributes;var v=t.validStyles;a=t.validClasses;c=n.attributes;var y=n.styles;u=n.classes;l=n.classBackup;var b,E,C=n.styleBackup,T=[],_=(m=[],/^data-cke-/);if(d=!1,delete c.style,delete c.class,delete n.classBackup,delete n.styleBackup,!t.allAttributes)for(b in c)f[b]||_.test(b)&&(b==(E=b.replace(/^data-cke-saved-/,""))||f[E])||(delete c[b],d=!0);if(!t.allStyles||t.hadInvalidStyle){for(b in y)t.allStyles||v[b]?T.push(b+":"+y[b]):d=!0;T.length&&(c.style=T.sort().join("; "))}else C&&(c.style=C);if(!t.allClasses||t.hadInvalidClass){for(b=0;b<u.length;++b)(t.allClasses||a[u[b]])&&m.push(u[b]);m.length&&(c.class=m.sort().join(" ")),l&&m.length<l.split(/\s+/).length&&(d=!0)}else l&&(c.class=l);if(d&&(s=1),!o.skipFinalValidation&&!g(n))return r.push(n),1}return o.toHtml&&(n.name=n.name.replace(M,"cke:$1")),s}function p(t){var e,n=t.attributes;delete n.style,delete n.class,(e=CKEDITOR.tools.writeCssText(t.styles,!0))&&(n.style=e),t.classes.length&&(n.class=t.classes.sort().join(" "))}function g(t){switch(t.name){case"a":if(!(t.children.length||t.attributes.name||t.attributes.id))return!1;break;case"img":if(!t.attributes.src)return!1}return!0}function m(t){if(!t)return!1;if(!0===t)return!0;var e=function(t){var e,n=[];for(e in t)-1<e.indexOf("*")&&n.push(e.replace(/\*/g,".*"));return n.length?new RegExp("^(?:"+n.join("|")+")$"):null}(t);return function(n){return n in t||e&&n.match(e)}}function v(){return new CKEDITOR.htmlParser.element("br")}function y(t){return t.type==CKEDITOR.NODE_ELEMENT&&("br"==t.name||O.$block[t.name])}function b(t,e,n){var i=t.name;if(O.$empty[i]||!t.children.length)"hr"==i&&"br"==e?t.replaceWith(v()):(t.parent&&n.push({check:"it",el:t.parent}),t.remove());else if(O.$block[i]||"tr"==i)if("br"==e)t.previous&&!y(t.previous)&&(e=v()).insertBefore(t),t.next&&!y(t.next)&&(e=v()).insertAfter(t),t.replaceWithChildren();else{var r;i=t.children;t:{r=O[e];for(var o,a=0,s=i.length;a<s;++a)if((o=i[a]).type==CKEDITOR.NODE_ELEMENT&&!r[o.name]){r=!1;break t}r=!0}if(r)t.name=e,t.attributes={},n.push({check:"parent-down",el:t});else{var l,c;for(a=(r=t.parent).type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==r.name,s=i.length;0<s;)o=i[--s],a&&(o.type==CKEDITOR.NODE_TEXT||o.type==CKEDITOR.NODE_ELEMENT&&O.$inline[o.name])?(l||((l=new CKEDITOR.htmlParser.element(e)).insertAfter(t),n.push({check:"parent-down",el:l})),l.add(o,0)):(l=null,c=O[r.name]||O.span,o.insertAfter(t),r.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||o.type!=CKEDITOR.NODE_ELEMENT||c[o.name]||n.push({check:"el-up",el:o}));t.remove()}}else i in{style:1,script:1}?t.remove():(t.parent&&n.push({check:"it",el:t.parent}),t.replaceWithChildren())}function w(t,e,n){var i,r;for(i=0;i<n.length;++i)if(!((r=n[i]).check&&!t.check(r.check,!1)||r.left&&!r.left(e))){r.right(e,I);break}}function E(t,e){var n,i,r,o,a=e.getDefinition(),s=a.attributes,l=a.styles;if(t.name!=a.element)return!1;for(n in s)if("class"==n){for(a=s[n].split(/\s+/),r=t.classes.join("|");o=a.pop();)if(-1==r.indexOf(o))return!1}else if(t.attributes[n]!=s[n])return!1;for(i in l)if(t.styles[i]!=l[i])return!1;return!0}function C(t,e){var n,i;return"string"==typeof t?n=t:t instanceof CKEDITOR.style?i=t:(n=t[0],i=t[1]),[{element:n,left:i,right:function(t,n){n.transform(t,e)}}]}function T(t){return function(e){return E(e,t)}}function _(t){return function(e,n){n[t](e)}}var O=CKEDITOR.dtd,k=CKEDITOR.tools.copy,D=CKEDITOR.tools.trim,x=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2,CKEDITOR.filter=function(t,e){this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}},CKEDITOR.filter.instances[this.id]=this;var n=this.editor=t instanceof CKEDITOR.editor?t:null;if(n&&!e){this.customConfig=!0;var i=n.config.allowedContent;!0===i?this.disabled=!0:(i||(this.customConfig=!1),this.allow(i,"config",1),this.allow(n.config.extraAllowedContent,"extra",1),this.allow(x[n.enterMode]+" "+x[n.shiftEnterMode],"default",1),this.disallow(n.config.disallowedContent))}else this.customConfig=!1,this.allow(e||t,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(e,n,i){if(!o(this,e,i))return!1;var r,a;if("string"==typeof e)e=u(e);else if(e instanceof CKEDITOR.style){if(e.toAllowedContentRules)return this.allow(e.toAllowedContentRules(this.editor),n,i);r=e.getDefinition(),e={},i=r.attributes,e[r.element]=r={styles:r.styles,requiredStyles:r.styles&&CKEDITOR.tools.object.keys(r.styles)},i&&(i=k(i),r.classes=i.class?i.class.split(/\s+/):null,r.requiredClasses=r.classes,delete i.class,r.attributes=i,r.requiredAttributes=i&&CKEDITOR.tools.object.keys(i))}else if(CKEDITOR.tools.isArray(e)){for(r=0;r<e.length;++r)a=this.allow(e[r],n,i);return a}return t(this,e,n,this.allowedContent,this._.allowedRules),!0},applyTo:function(t,e,n,i){if(this.disabled)return!1;var r,o,a,s=this,l=[],c=this.editor&&this.editor.config.protectedSource,u=!1,d={doFilter:!n,doTransform:!0,doCallbacks:!0,toHtml:e};for(t.forEach(function(t){if(t.type==CKEDITOR.NODE_ELEMENT){if("off"==t.attributes["data-cke-filter"])return!1;if(!e||"span"!=t.name||!~CKEDITOR.tools.object.keys(t.attributes).join("|").indexOf("data-cke-"))if(1&(r=f(s,t,l,d)))u=!0;else if(2&r)return!1}else if(t.type==CKEDITOR.NODE_COMMENT&&t.value.match(/^\{cke_protected\}(?!\{C\})/)){var n;t:{var i,o,a,h=decodeURIComponent(t.value.replace(/^\{cke_protected\}/,""));if(n=[],c)for(o=0;o<c.length;++o)if((a=h.match(c[o]))&&a[0].length==h.length){n=!0;break t}1==(h=CKEDITOR.htmlParser.fragment.fromHtml(h)).children.length&&(i=h.children[0]).type==CKEDITOR.NODE_ELEMENT&&f(s,i,n,d),n=!n.length}n||l.push(t)}},null,!0),l.length&&(u=!0),t=[],i=x[i||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];n=l.pop();)n.type==CKEDITOR.NODE_ELEMENT?b(n,i,t):n.remove();for(;o=t.pop();)if((n=o.el).parent)switch(a=O[n.parent.name]||O.span,o.check){case"it":O.$removeEmpty[n.name]&&!n.children.length?b(n,i,t):g(n)||b(n,i,t);break;case"el-up":n.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||a[n.name]||b(n,i,t);break;case"parent-down":n.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||a[n.name]||b(n.parent,i,t)}return u},checkFeature:function(t){return!(!this.disabled&&t)||(t.toFeature&&(t=t.toFeature(this.editor)),!t.requiredContent||this.check(t.requiredContent))},disable:function(){this.disabled=!0},disallow:function(e){return!!o(this,e,!0)&&("string"==typeof e&&(e=u(e)),t(this,e,null,this.disallowedContent,this._.disallowedRules),!0)},addContentForms:function(t){if(!this.disabled&&t){var e,n,i,r=[];for(e=0;e<t.length&&!i;++e)("string"==typeof(n=t[e])||n instanceof CKEDITOR.style)&&this.check(n)&&(i=n);if(i){for(e=0;e<t.length;++e)r.push(C(t[e],i));this.addTransformations(r)}}},addElementCallback:function(t){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(t)},addFeature:function(t){return!(!this.disabled&&t)||(t.toFeature&&(t=t.toFeature(this.editor)),this.allow(t.allowedContent,t.name),this.addTransformations(t.contentTransformations),this.addContentForms(t.contentForms),!t.requiredContent||!this.customConfig&&!this.disallowedContent.length||this.check(t.requiredContent))},addTransformations:function(t){var e,n;if(!this.disabled&&t){var i,r=this._.transformations;for(i=0;i<t.length;++i){e=t[i];var o=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0;for(n=[],a=0;a<e.length;++a)"string"==typeof(s=e[a])?(l=(s=s.split(/\s*:\s*/))[0],c=null,u=s[1]):(l=s.check,c=s.left,u=s.right),o||(o=(o=s).element?o.element:l?l.match(/^([a-z0-9]+)/i)[0]:o.left.getDefinition().element),c instanceof CKEDITOR.style&&(c=T(c)),n.push({check:l==o?null:l,left:c,right:"string"==typeof u?_(u):u});r[e=o]||(r[e]=[]),r[e].push(n)}}},check:function(t,e,n){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(t)){for(var i=t.length;i--;)if(this.check(t[i],e,n))return!0;return!1}var r,o;if("string"==typeof t){if((o=t+"<"+(!1===e?"0":"1")+(n?"1":"0")+">")in this._.cachedChecks)return this._.cachedChecks[o];var a=(r=u(t).$1).styles;i=r.classes;r.name=r.elements,r.classes=i=i?i.split(/\s*,\s*/):[],r.styles=c(a),r.attributes=c(r.attributes),r.children=[],i.length&&(r.attributes.class=i.join(" ")),a&&(r.attributes.style=CKEDITOR.tools.writeCssText(r.styles))}else a=(r=t.getDefinition()).styles,i=r.attributes||{},a&&!CKEDITOR.tools.isEmpty(a)?(a=k(a),i.style=CKEDITOR.tools.writeCssText(a,!0)):a={},r={name:r.element,attributes:i,classes:i.class?i.class.split(/\s+/):[],styles:a,children:[]};a=CKEDITOR.tools.clone(r);var s,l=[];if(!1!==e&&(s=this._.transformations[r.name])){for(i=0;i<s.length;++i)w(this,r,s[i]);p(r)}return f(this,a,l,{doFilter:!0,doTransform:!1!==e,skipRequired:!n,skipFinalValidation:!n}),0<l.length?n=!1:((e=r.attributes.class)&&(r.attributes.class=r.attributes.class.split(" ").sort().join(" ")),n=CKEDITOR.tools.objectCompare(r.attributes,a.attributes,!0),e&&(r.attributes.class=e)),"string"==typeof t&&(this._.cachedChecks[o]=n),n},getAllowedEnterMode:function(){var t=["p","div","br"],e={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(n,i){var r,o=t.slice();if(this.check(x[n]))return n;for(i||(o=o.reverse());r=o.pop();)if(this.check(r))return e[r];return CKEDITOR.ENTER_BR}}(),clone:function(){var t=new CKEDITOR.filter,e=CKEDITOR.tools.clone;return t.allowedContent=e(this.allowedContent),t._.allowedRules=e(this._.allowedRules),t.disallowedContent=e(this.disallowedContent),t._.disallowedRules=e(this._.disallowedRules),t._.transformations=e(this._.transformations),t.disabled=this.disabled,t.editor=this.editor,t},destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var I,S={styles:1,attributes:1,classes:1},R={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},A=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,N={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},P=/^cke:(object|embed|param)$/,M=/^(object|embed|param)$/;I=CKEDITOR.filter.transformationsTools={sizeToStyle:function(t){this.lengthToStyle(t,"width"),this.lengthToStyle(t,"height")},sizeToAttribute:function(t){this.lengthToAttribute(t,"width"),this.lengthToAttribute(t,"height")},lengthToStyle:function(t,e,n){if(!((n=n||e)in t.styles)){var i=t.attributes[e];i&&(/^\d+$/.test(i)&&(i+="px"),t.styles[n]=i)}delete t.attributes[e]},lengthToAttribute:function(t,e,n){if(!((n=n||e)in t.attributes)){var i=t.styles[e],r=i&&i.match(/^(\d+)(?:\.\d*)?px$/);r?t.attributes[n]=r[1]:"cke-test"==i&&(t.attributes[n]="cke-test")}delete t.styles[e]},alignmentToStyle:function(t){if(!("float"in t.styles)){var e=t.attributes.align;"left"!=e&&"right"!=e||(t.styles.float=e)}delete t.attributes.align},alignmentToAttribute:function(t){if(!("align"in t.attributes)){var e=t.styles.float;"left"!=e&&"right"!=e||(t.attributes.align=e)}delete t.styles.float},splitBorderShorthand:function(t){if(t.styles.border){var e=CKEDITOR.tools.style.parse.border(t.styles.border);e.color&&(t.styles["border-color"]=e.color),e.style&&(t.styles["border-style"]=e.style),e.width&&(t.styles["border-width"]=e.width),delete t.styles.border}},listTypeToStyle:function(t){if(t.attributes.type)switch(t.attributes.type){case"a":t.styles["list-style-type"]="lower-alpha";break;case"A":t.styles["list-style-type"]="upper-alpha";break;case"i":t.styles["list-style-type"]="lower-roman";break;case"I":t.styles["list-style-type"]="upper-roman";break;case"1":t.styles["list-style-type"]="decimal";break;default:t.styles["list-style-type"]=t.attributes.type}},splitMarginShorthand:function(t){function e(e){t.styles["margin-top"]=n[e[0]],t.styles["margin-right"]=n[e[1]],t.styles["margin-bottom"]=n[e[2]],t.styles["margin-left"]=n[e[3]]}if(t.styles.margin){var n=t.styles.margin.match(/(auto|0|(?:\-?[\.\d]+(?:\w+|%)))/g)||["0px"];switch(n.length){case 1:e([0,0,0,0]);break;case 2:e([0,1,0,1]);break;case 3:e([0,1,2,1]);break;case 4:e([0,1,2,3])}delete t.styles.margin}},matchesStyle:E,transform:function(t,e){if("string"==typeof e)t.name=e;else{var n,i,r,o,a=e.getDefinition(),s=a.styles,l=a.attributes;for(n in t.name=a.element,l)if("class"==n)for(a=t.classes.join("|"),r=l[n].split(/\s+/);o=r.pop();)-1==a.indexOf(o)&&t.classes.push(o);else t.attributes[n]=l[n];for(i in s)t.styles[i]=s[i]}}}}(),CKEDITOR.focusManager=function(t){return t.focusManager?t.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:t},this)},CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(t){this._.timer&&clearTimeout(this._.timer),t&&(this.currentActive=t),this.hasFocus||this._.locked||((t=CKEDITOR.currentInstance)&&t.focusManager.blur(1),this.hasFocus=!0,(t=this._.editor.container)&&t.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(t){function e(){if(this.hasFocus){this.hasFocus=!1;var t=this._.editor.container;t&&t.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var n=CKEDITOR.focusManager._.blurDelay;t||!n?e.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer,e.call(this)},n,this)}},add:function(t,e){if(!(n=t.getCustomData("focusmanager"))||n!=this){n&&n.remove(t);var n="focus",i="blur";e&&(CKEDITOR.env.ie?(n="focusin",i="focusout"):CKEDITOR.event.useCapture=1);var r={blur:function(){t.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(t)}};t.on(n,r.focus,this),t.on(i,r.blur,this),e&&(CKEDITOR.event.useCapture=0),t.setCustomData("focusmanager",this),t.setCustomData("focusmanager_handlers",r)}},remove:function(t){t.removeCustomData("focusmanager");var e=t.removeCustomData("focusmanager_handlers");t.removeListener("blur",e.blur),t.removeListener("focus",e.focus)}},CKEDITOR.keystrokeHandler=function(t){return t.keystrokeHandler?t.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:t},this)},function(){var t,e=function(e){var n=(e=e.data).getKeystroke(),i=this.keystrokes[n],r=this._.editor;return(t=!1===r.fire("key",{keyCode:n,domEvent:e}))||(i&&(t=!1!==r.execCommand(i,{from:"keystrokeHandler"})),t||(t=!!this.blockedKeystrokes[n])),t&&e.preventDefault(!0),!t},n=function(e){t&&(t=!1,e.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(t){t.on("keydown",e,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&t.on("keypress",n,this)}}}(),CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(t,e,n){t&&CKEDITOR.lang.languages[t]||(t=this.detect(e,t));var i=this;e=function(){i[t].dir=i.rtl[t]?"rtl":"ltr",n(t,i[t])},this[t]?e():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+t+".js"),e,this)},detect:function(t,e){var n=this.languages,i=(r=(e=e||navigator.userLanguage||navigator.language||t).toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/))[1],r=r[2];return n[i+"-"+r]?i=i+"-"+r:n[i]||(i=null),CKEDITOR.lang.detect=i?function(){return i}:function(t){return t},i||t}},CKEDITOR.scriptLoader=function(){var t={},e={};return{load:function(n,i,r,o){var a="string"==typeof n;a&&(n=[n]),r||(r=CKEDITOR);var s=n.length,l=s,c=[],u=[],d=function(t){i&&(a?i.call(r,t):i.call(r,c,u))};if(0===l)d(!0);else{var h=function(t,e){(e?c:u).push(t),0>=--l&&(o&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),d(e))},f=function(n,i){t[n]=1;var r=e[n];delete e[n];for(var o=0;o<r.length;o++)r[o](n,i)},p=function(n){if(t[n])h(n,!0);else{var r=e[n]||(e[n]=[]);if(r.push(h),!(1<r.length)){var o=new CKEDITOR.dom.element("script");o.setAttributes({type:"text/javascript",src:n}),i&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?o.$.onreadystatechange=function(){"loaded"!=o.$.readyState&&"complete"!=o.$.readyState||(o.$.onreadystatechange=null,f(n,!0))}:(o.$.onload=function(){setTimeout(function(){o.$.onload=null,o.$.onerror=null,f(n,!0)},0)},o.$.onerror=function(){o.$.onload=null,o.$.onerror=null,f(n,!1)})),o.appendTo(CKEDITOR.document.getHead())}}};o&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var g=0;g<s;g++)p(n[g])}},queue:function(){function t(){var t;(t=e[0])&&this.load(t.scriptUrl,t.callback,CKEDITOR,0)}var e=[];return function(n,i){var r=this;e.push({scriptUrl:n,callback:function(){i&&i.apply(this,arguments),e.shift(),t.call(r)}}),1==e.length&&t.call(this)}}()}}(),CKEDITOR.resourceManager=function(t,e){this.basePath=t,this.fileName=e,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(t,e){if(this.registered[t])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+t+'" is already registered.');var n=this.registered[t]=e||{};return n.name=t,n.path=this.getPath(t),CKEDITOR.fire(t+CKEDITOR.tools.capitalize(this.fileName)+"Ready",n),this.get(t)},get:function(t){return this.registered[t]||null},getPath:function(t){var e=this.externals[t];return CKEDITOR.getUrl(e&&e.dir||this.basePath+t+"/")},getFilePath:function(t){var e=this.externals[t];return CKEDITOR.getUrl(this.getPath(t)+(e?e.file:this.fileName+".js"))},addExternal:function(t,e,n){n||(e=e.replace(/[^\/]+$/,function(t){return n=t,""})),n=n||this.fileName+".js",t=t.split(",");for(var i=0;i<t.length;i++)this.externals[t[i]]={dir:e,file:n}},load:function(t,e,n){CKEDITOR.tools.isArray(t)||(t=t?[t]:[]);for(var i=this.loaded,r=this.registered,o=[],a={},s={},l=0;l<t.length;l++){var c=t[l];if(c)if(i[c]||r[c])s[c]=this.get(c);else{var u=this.getFilePath(c);o.push(u),u in a||(a[u]=[]),a[u].push(c)}}CKEDITOR.scriptLoader.load(o,function(t,r){if(r.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+a[r[0]].join(",")+'" was not found at "'+r[0]+'".');for(var o=0;o<t.length;o++)for(var l=a[t[o]],c=0;c<l.length;c++){var u=l[c];s[u]=this.get(u),i[u]=1}e.call(n,s)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(t){var e={};return function(n,i,r){var o={},a=function(n){t.call(this,n,function(t){CKEDITOR.tools.extend(o,t);var n,s=[];for(n in t){var l=t[n],c=l&&l.requires;if(!e[n]){if(l.icons)for(var u=l.icons.split(","),d=u.length;d--;)CKEDITOR.skin.addIcon(u[d],l.path+"icons/"+(CKEDITOR.env.hidpi&&l.hidpi?"hidpi/":"")+u[d]+".png");l.isSupportedEnvironment=l.isSupportedEnvironment||function(){return!0},e[n]=1}if(c)for(c.split&&(c=c.split(",")),l=0;l<c.length;l++)o[c[l]]||s.push(c[l])}if(s.length)a.call(this,s);else{for(n in o)(l=o[n]).onLoad&&!l.onLoad._called&&(!1===l.onLoad()&&delete o[n],l.onLoad._called=1);i&&i.call(r||window,o)}},this)};a.call(this,n)}}),CKEDITOR.plugins.setLang=function(t,e,n){var i=this.get(t);t=i.langEntries||(i.langEntries={}),(i=i.lang||(i.lang=[])).split&&(i=i.split(",")),-1==CKEDITOR.tools.indexOf(i,e)&&i.push(e),t[e]=n},CKEDITOR.ui=function(t){return t.ui?t.ui:(this.items={},this.instances={},this.editor=t,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(t,e,n){n.name=t.toLowerCase();var i=this.items[t]={type:e,command:n.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(i,n)},get:function(t){return this.instances[t]},create:function(t){var e=this.items[t],n=e&&this._.handlers[e.type],i=e&&e.command&&this.editor.getCommand(e.command);n=n&&n.create.apply(this,e.args);return this.instances[t]=n,i&&i.uiItems.push(n),n&&!n.type&&(n.type=e.type),n},addHandler:function(t,e){this._.handlers[t]=e},space:function(t){return CKEDITOR.document.getById(this.spaceId(t))},spaceId:function(t){return this.editor.id+"_"+t}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function t(t,n,o){if(CKEDITOR.event.call(this),t=t&&CKEDITOR.tools.clone(t),void 0!==n){if(!(n instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!o)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&o==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!function(t,e){return e==CKEDITOR.ELEMENT_MODE_INLINE?t.is(CKEDITOR.dtd.$editable)||t.is("textarea"):e==CKEDITOR.ELEMENT_MODE_REPLACE?!t.is(CKEDITOR.dtd.$nonBodyContent):1}(n,o))throw Error('The specified element mode is not supported on element: "'+n.getName()+'".');this.element=n,this.elementMode=o,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(n.getId()||n.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||function(){do{var t="editor"+ ++a}while(CKEDITOR.instances[t]);return t}(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",e),this.on("selectionChange",function(t){i(this,t.data.path)}),this.on("activeFilterChange",function(){i(this,this.elementPath(),!0)}),this.on("mode",e),CKEDITOR.dom.selection.setupEditorOptimization(this),this.on("instanceReady",function(){if(this.config.startupFocus){if("end"===this.config.startupFocus){var t=this.createRange();t.selectNodeContents(this.editable()),t.shrink(CKEDITOR.SHRINK_ELEMENT,!0),t.collapse(),this.getSelection().selectRanges([t])}this.focus()}}),CKEDITOR.fire("instanceCreated",null,this),CKEDITOR.add(this),CKEDITOR.tools.setTimeout(function(){this.isDestroyed()||this.isDetached()||r(this,t)},0,this)}function e(){var t,e=this.commands;for(t in e)n(this,e[t])}function n(t,e){e[e.startDisabled?"disable":t.readOnly&&!e.readOnly?"disable":e.modes[t.mode]?"enable":"disable"]()}function i(t,e,n){if(e){var i,r,o=t.commands;for(r in o)i=o[r],(n||i.contextSensitive)&&i.refresh(t,e)}}function r(t,e){t.on("customConfigLoaded",function(){if(e){if(e.on)for(var n in e.on)t.on(n,e.on[n]);CKEDITOR.tools.extend(t.config,e,!0),delete t.config.on}n=t.config,t.readOnly=!!n.readOnly||(t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.element.is("textarea")?t.element.hasAttribute("disabled")||t.element.hasAttribute("readonly"):t.element.isReadOnly():t.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.element.hasAttribute("disabled")||t.element.hasAttribute("readonly"))),t.blockless=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!(t.element.is("textarea")||CKEDITOR.dtd[t.element.getName()].p),t.tabIndex=n.tabIndex||t.element&&t.element.getAttribute("tabindex")||0,t.activeEnterMode=t.enterMode=t.blockless?CKEDITOR.ENTER_BR:n.enterMode,t.activeShiftEnterMode=t.shiftEnterMode=t.blockless?CKEDITOR.ENTER_BR:n.shiftEnterMode,n.skin&&(CKEDITOR.skinName=n.skin),t.fireOnce("configLoaded"),t.dataProcessor=new CKEDITOR.htmlDataProcessor(t),t.filter=t.activeFilter=new CKEDITOR.filter(t),function(t){CKEDITOR.skin.loadPart("editor",function(){!function(t){CKEDITOR.lang.load(t.config.language,t.config.defaultLanguage,function(e,n){var i=t.config.title;t.langCode=e,t.lang=CKEDITOR.tools.prototypedCopy(n),t.title="string"==typeof i||!1===i?i:[t.lang.editor,t.name].join(", "),t.config.contentsLangDirection||(t.config.contentsLangDirection=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.element.getDirection(1):t.lang.dir),t.fire("langLoaded"),function(t){t.getStylesSet(function(e){t.once("loaded",function(){t.fire("stylesSet",{styles:e})},null,null,1),function(t){function e(t){return t?(CKEDITOR.tools.isArray(t)&&(t=t.join(",")),t.replace(/\s/g,"")):""}var n=t.config,i=e(n.plugins),r=e(n.extraPlugins),o=e(n.removePlugins);if(r)var a=new RegExp("(?:^|,)(?:"+r.replace(/,/g,"|")+")(?=,|$)","g"),i=(i=i.replace(a,""))+","+r;if(o)var s=new RegExp("(?:^|,)(?:"+o.replace(/,/g,"|")+")(?=,|$)","g"),i=i.replace(s,"");CKEDITOR.env.air&&(i+=",adobeair"),CKEDITOR.plugins.load(i.split(","),function(e){var i=[],r=[],o=[];for(var a in t.plugins=CKEDITOR.tools.extend({},t.plugins,e),e){var l,c=e[a],u=c.lang,d=null,h=c.requires;if(CKEDITOR.tools.isArray(h)&&(h=h.join(",")),h&&(l=h.match(s)))for(;h=l.pop();)CKEDITOR.error("editor-plugin-required",{plugin:h.replace(",",""),requiredBy:a});u&&!t.lang[a]&&(u.split&&(u=u.split(",")),0<=CKEDITOR.tools.indexOf(u,t.langCode)?d=t.langCode:d=(d=t.langCode.replace(/-.*/,""))!=t.langCode&&0<=CKEDITOR.tools.indexOf(u,d)?d:0<=CKEDITOR.tools.indexOf(u,"en")?"en":u[0],c.langEntries&&c.langEntries[d]?(t.lang[a]=c.langEntries[d],d=null):o.push(CKEDITOR.getUrl(c.path+"lang/"+d+".js"))),r.push(d),i.push(c)}CKEDITOR.scriptLoader.load(o,function(){if(!t.isDestroyed()&&!t.isDetached()){for(var e=["beforeInit","init","afterInit"],o=0;o<e.length;o++)for(var a=0;a<i.length;a++){var s=i[a];0===o&&r[a]&&s.lang&&s.langEntries&&(t.lang[s.name]=s.langEntries[r[a]]),s[e[o]]&&s[e[o]](t)}for(t.fireOnce("pluginsLoaded"),n.keystrokes&&t.setKeystroke(t.config.keystrokes),a=0;a<t.config.blockedKeystrokes.length;a++)t.keystrokeHandler.blockedKeystrokes[t.config.blockedKeystrokes[a]]=1;t.status="loaded",t.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,t)}})})}(t)})}(t)})}(t)})}(t)}),e&&null!=e.customConfig&&(t.config.customConfig=e.customConfig),function t(e){if(!(n=e.config.customConfig))return!1;var n=CKEDITOR.getUrl(n),i=s[n]||(s[n]={});return i.fn?(i.fn.call(e,e.config),CKEDITOR.getUrl(e.config.customConfig)!=n&&t(e)||e.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(n,function(){i.fn=i.fn||CKEDITOR.editorConfig||function(){},t(e)}),!0}(t)||t.fireOnce("customConfigLoaded")}function o(){var t=this.element;if(t&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var e=this.getData();return this.config.htmlEncodeOutput&&(e=CKEDITOR.tools.htmlEncode(e)),t.is("textarea")?t.setValue(e):t.setHtml(e),!0}return!1}t.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=t;var a=0,s={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{plugins:{detectConflict:function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(this[i])return CKEDITOR.warn("editor-plugin-conflict",{plugin:t,replacedWith:i}),!0}return!1}},addCommand:function(t,e){e.name=t.toLowerCase();var i=e instanceof CKEDITOR.command?e:new CKEDITOR.command(this,e);return this.mode&&n(this,i),this.commands[t]=i},_attachToForm:function(){function t(t){e.updateElement(),e._.required&&!n.getValue()&&!1===e.fire("required")&&t.data.preventDefault()}var e=this,n=e.element,i=new CKEDITOR.dom.element(n.$.form);n.is("textarea")&&i&&(i.on("submit",t),function(t){return!!(t&&t.call&&t.apply)}(i.$.submit)&&(i.$.submit=CKEDITOR.tools.override(i.$.submit,function(e){return function(){t(),e.apply?e.apply(this):e()}})),e.on("destroy",function(){i.removeListener("submit",t)}))},destroy:function(t){var e=CKEDITOR.filter.instances,n=this;this.fire("beforeDestroy"),!t&&o.call(this),this.editable(null),this.filter&&delete this.filter,CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(e),function(t){t=e[t],n===t.editor&&t.destroy()}),delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(t){if(!t){if(!(t=this.getSelection()))return null;t=t.getStartElement()}return t?new CKEDITOR.dom.elementPath(t,this.editable()):null},createRange:function(){var t=this.editable();return t?new CKEDITOR.dom.range(t):null},execCommand:function(t,e){var n=this.getCommand(t),i={name:t,commandData:e||{},command:n};return!(!n||n.state==CKEDITOR.TRISTATE_DISABLED||!1===this.fire("beforeCommandExec",i)||(i.returnValue=n.exec(i.commandData),n.async||!1===this.fire("afterCommandExec",i)))&&i.returnValue},getCommand:function(t){return this.commands[t]},getData:function(t){!t&&this.fire("beforeGetData");var e=this._.data;return"string"!=typeof e&&(e=(e=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?e.is("textarea")?e.getValue():e.getHtml():""),e={dataValue:e},!t&&this.fire("getData",e),e.dataValue},getSnapshot:function(){var t=this.fire("getSnapshot");return"string"!=typeof t&&(t=(t=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?t.is("textarea")?t.getValue():t.getHtml():""),t},loadSnapshot:function(t){this.fire("loadSnapshot",t)},setData:function(t,e,n){var i=!0,r=e;e&&"object"==typeof e&&(n=e.internal,r=e.callback,i=!e.noSnapshot),!n&&i&&this.fire("saveSnapshot"),!r&&n||this.once("dataReady",function(t){!n&&i&&this.fire("saveSnapshot"),r&&r.call(t.editor)}),t={dataValue:t},!n&&this.fire("setData",t),this._.data=t.dataValue,!n&&this.fire("afterSetData",t)},setReadOnly:function(t){t=null==t||t,this.readOnly!=t&&(this.readOnly=t,this.keystrokeHandler.blockedKeystrokes[8]=+t,this.editable().setReadOnly(t),this.fire("readOnly"))},insertHtml:function(t,e,n){this.fire("insertHtml",{dataValue:t,mode:e,range:n})},insertText:function(t){this.fire("insertText",t)},insertElement:function(t){this.fire("insertElement",t)},getSelectedHtml:function(t){var e=this.editable(),n=(n=this.getSelection())&&n.getRanges();return e&&n&&0!==n.length?(e=function(t,e){function n(t){var e=t.startContainer,n=t.endContainer;return!(!e.is||!(e.is("tr")||e.is("td")&&e.equals(n)&&t.endOffset===e.getChildCount()))}function i(t){var e=t.startContainer;return e.is("tr")?t.cloneContents():e.clone(!0)}for(var r,o,a,s=new CKEDITOR.dom.documentFragment,l=0;l<t.length;l++){var c=t[l],u=c.startContainer.getAscendant("tr",!0);n(c)?(r||((r=u.getAscendant("table").clone()).append(u.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),s.append(r),r=r.findOne("thead, tbody, tfoot")),o&&o.equals(u)||(o=u,a=u.clone(),r.append(a)),a.append(i(c))):s.append(c.cloneContents())}return r?s:e.getHtmlFromRange(t[0])}(n,e),t?e.getHtml():e):null},extractSelectedHtml:function(t,e){var n,i=this.editable(),r=this.getSelection().getRanges(),o=new CKEDITOR.dom.documentFragment;if(!i||0===r.length)return null;for(n=0;n<r.length;n++)o.append(i.extractHtmlFromRange(r[n],e));return e||this.getSelection().selectRanges([r[0]]),t?o.getHtml():o},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return o.call(this)},setKeystroke:function(){for(var t,e,n=this.keystrokeHandler.keystrokes,i=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],r=i.length;r--;)t=i[r],e=0,CKEDITOR.tools.isArray(t)&&(e=t[1],t=t[0]),e?n[t]=e:delete n[t]},getCommandKeystroke:function(t,e){var n="string"==typeof t?this.getCommand(t):t,i=[];if(n){var r=CKEDITOR.tools.object.findKey(this.commands,n),o=this.keystrokeHandler.keystrokes;if(n.fakeKeystroke)i.push(n.fakeKeystroke);else for(var a in o)o[a]===r&&i.push(a)}return e?i:i[0]||null},addFeature:function(t){return this.filter.addFeature(t)},setActiveFilter:function(t){t||(t=this.filter),this.activeFilter!==t&&(this.activeFilter=t,this.fire("activeFilterChange"),t===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(t.getAllowedEnterMode(this.enterMode),t.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(t,e){t=t?this.blockless?CKEDITOR.ENTER_BR:t:this.enterMode,e=e?this.blockless?CKEDITOR.ENTER_BR:e:this.shiftEnterMode,this.activeEnterMode==t&&this.activeShiftEnterMode==e||(this.activeEnterMode=t,this.activeShiftEnterMode=e,this.fire("activeEnterModeChange"))},showNotification:function(t){alert(t)},isDetached:function(){return!!this.container&&this.container.isDetached()},isDestroyed:function(){return"destroyed"===this.status}}),CKEDITOR.editor._getEditorElement=function(t){if(!CKEDITOR.env.isCompatible)return null;var e=CKEDITOR.dom.element.get(t);return e?e.getEditor()?(CKEDITOR.error("editor-element-conflict",{editorName:e.getEditor().name}),null):e:(CKEDITOR.error("editor-incorrect-element",{element:t}),null)}}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},function(){var t=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,e={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(n){for(var i,r,o,a=0;i=this._.htmlPartsRegex.exec(n);)if((r=i.index)>a&&(a=n.substring(a,r),o?o.push(a):this.onText(a)),a=this._.htmlPartsRegex.lastIndex,!(r=i[1])||(r=r.toLowerCase(),o&&CKEDITOR.dtd.$cdata[r]&&(this.onCDATA(o.join("")),o=null),o))if(o)o.push(i[0]);else if(r=i[3]){if(r=r.toLowerCase(),!/="/.test(r)){var s,l={},c=i[4];if(i=!!i[5],c)for(;s=t.exec(c);){var u=s[1].toLowerCase();s=s[2]||s[3]||s[4]||"",l[u]=!s&&e[u]?u:CKEDITOR.tools.htmlDecodeAttr(s)}this.onTagOpen(r,l,i),!o&&CKEDITOR.dtd.$cdata[r]&&(o=[])}}else(r=i[2])&&this.onComment(r);else this.onTagClose(r);n.length>a&&this.onText(n.substring(a,n.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(t){this._.output.push("<",t)},openTagClose:function(t,e){e?this._.output.push(" />"):this._.output.push(">")},attribute:function(t,e){"string"==typeof e&&(e=CKEDITOR.tools.htmlEncodeAttr(e)),this._.output.push(" ",t,'="',e,'"')},closeTag:function(t){this._.output.push("</",t,">")},text:function(t){this._.output.push(t)},comment:function(t){this._.output.push("\x3c!--",t,"--\x3e")},write:function(t){this._.output.push(t)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(t){var e=this._.output.join("");return t&&this.reset(),e}}}),CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var t=this.parent.children,e=CKEDITOR.tools.indexOf(t,this),n=this.previous,i=this.next;n&&(n.next=i),i&&(i.previous=n),t.splice(e,1),this.parent=null},replaceWith:function(t){var e=this.parent.children,n=CKEDITOR.tools.indexOf(e,this),i=t.previous=this.previous,r=t.next=this.next;i&&(i.next=t),r&&(r.previous=t),e[n]=t,t.parent=this.parent,this.parent=null},insertAfter:function(t){var e=t.parent.children,n=CKEDITOR.tools.indexOf(e,t),i=t.next;e.splice(n+1,0,this),this.next=t.next,this.previous=t,t.next=this,i&&(i.previous=this),this.parent=t.parent},insertBefore:function(t){var e=t.parent.children,n=CKEDITOR.tools.indexOf(e,t);e.splice(n,0,this),this.next=t,(this.previous=t.previous)&&(t.previous.next=this),t.previous=this,this.parent=t.parent},getAscendant:function(t){for(var e="function"==typeof t?t:"string"==typeof t?function(e){return e.name==t}:function(e){return e.name in t},n=this.parent;n&&n.type==CKEDITOR.NODE_ELEMENT;){if(e(n))return n;n=n.parent}return null},wrapWith:function(t){return this.replaceWith(t),t.add(this),t},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(t){return t||{}}},CKEDITOR.htmlParser.comment=function(t){this.value=t,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(t,e){var n=this.value;return(n=t.onComment(e,n,this))?"string"!=typeof n?(this.replaceWith(n),!1):(this.value=n,!0):(this.remove(),!1)},writeHtml:function(t,e){e&&this.filter(e),t.comment(this.value)}}),CKEDITOR.htmlParser.text=function(t){this.value=t,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(t,e){if(!(this.value=t.onText(e,this.value,this)))return this.remove(),!1},writeHtml:function(t,e){e&&this.filter(e),t.text(this.value)}}),CKEDITOR.htmlParser.cdata=function(t){this.value=t},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(t){t.write(this.value)}}),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function t(t){return!t.attributes["data-cke-survive"]&&("a"==t.name&&t.attributes.href||CKEDITOR.dtd.$removeEmpty[t.name])}var e=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),n={ol:1,ul:1},i=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),r={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(o,a,s){function l(t){var e;if(0<m.length)for(var n=0;n<m.length;n++){var i=m[n],r=i.name,o=CKEDITOR.dtd[r],a=y.name&&CKEDITOR.dtd[y.name];a&&!a[r]||t&&o&&!o[t]&&CKEDITOR.dtd[t]?r==y.name&&(d(y,y.parent,1),n--):(e||(c(),e=1),(i=i.clone()).parent=y,y=i,m.splice(n,1),n--)}}function c(){for(;v.length;)d(v.shift(),y)}function u(t){if(t._.isBlockLike&&"pre"!=t.name&&"textarea"!=t.name){var e,n=t.children.length,i=t.children[n-1];i&&i.type==CKEDITOR.NODE_TEXT&&((e=CKEDITOR.tools.rtrim(i.value))?i.value=e:t.children.length=n-1)}}function d(e,n,i){n=n||y||g;var r=y;void 0===e.previous&&(h(n,e)&&(y=n,p.onTagOpen(s,{}),e.returnPoint=n=y),u(e),t(e)&&!e.children.length||n.add(e),"pre"==e.name&&(w=!1),"textarea"==e.name&&(b=!1)),e.returnPoint?(y=e.returnPoint,delete e.returnPoint):y=i?n:r}function h(t,e){var n,i;if((t==g||"body"==t.name)&&s&&(!t.name||CKEDITOR.dtd[t.name][s]))return(n=e.attributes&&(i=e.attributes["data-cke-real-element-type"])?i:e.name)&&n in CKEDITOR.dtd.$inline&&!(n in CKEDITOR.dtd.head)&&!e.isOrphan||e.type==CKEDITOR.NODE_TEXT}function f(t,e){return(t in CKEDITOR.dtd.$listItem||t in CKEDITOR.dtd.$tableContent)&&(t==e||"dt"==t&&"dd"==e||"dd"==t&&"dt"==e)}var p=new CKEDITOR.htmlParser,g=a instanceof CKEDITOR.htmlParser.element?a:"string"==typeof a?new CKEDITOR.htmlParser.element(a):new CKEDITOR.htmlParser.fragment,m=[],v=[],y=g,b="textarea"==g.name,w="pre"==g.name;for(p.onTagOpen=function(r,o,a,s){if((o=new CKEDITOR.htmlParser.element(r,o)).isUnknown&&a&&(o.isEmpty=!0),o.isOptionalClose=s,t(o))m.push(o);else{if("pre"==r)w=!0;else{if("br"==r&&w)return void y.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==r&&(b=!0)}if("br"==r)v.push(o);else{for(;s=(a=y.name)?CKEDITOR.dtd[a]||(y._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):i,!(o.isUnknown||y.isUnknown||s[r]);)if(y.isOptionalClose)p.onTagClose(a);else if(r in n&&a in n)(a=(a=y.children)[a.length-1])&&"li"==a.name||d(a=new CKEDITOR.htmlParser.element("li"),y),!o.returnPoint&&(o.returnPoint=y),y=a;else if(r in CKEDITOR.dtd.$listItem&&!f(r,a))p.onTagOpen("li"==r?"ul":"dl",{},0,1);else if(a in e&&!f(r,a))!o.returnPoint&&(o.returnPoint=y),y=y.parent;else{if(a in CKEDITOR.dtd.$inline&&m.unshift(y),!y.parent){o.isOrphan=1;break}d(y,y.parent,1)}l(r),c(),o.parent=y,o.isEmpty?d(o):y=o}}},p.onTagClose=function(t){for(var e=m.length-1;0<=e;e--)if(t==m[e].name)return void m.splice(e,1);for(var n=[],i=[],r=y;r!=g&&r.name!=t;)r._.isBlockLike||i.unshift(r),n.push(r),r=r.returnPoint||r.parent;if(r!=g){for(e=0;e<n.length;e++){var o=n[e];d(o,o.parent)}y=r,r._.isBlockLike&&c(),d(r,r.parent),r==y&&(y=y.parent),m=m.concat(i)}"body"==t&&(s=!1)},p.onText=function(t){if(y._.hasInlineStarted&&!v.length||w||b||0!==(t=CKEDITOR.tools.ltrim(t)).length){var n=y.name,o=n?CKEDITOR.dtd[n]||(y._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):i;!b&&!o["#"]&&n in e?(p.onTagOpen(r[n]||""),p.onText(t)):(c(),l(),w||b||(t=t.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),t=new CKEDITOR.htmlParser.text(t),h(y,t)&&this.onTagOpen(s,{},0,1),y.add(t))}},p.onCDATA=function(t){y.add(new CKEDITOR.htmlParser.cdata(t))},p.onComment=function(t){c(),l(),y.add(new CKEDITOR.htmlParser.comment(t))},p.parse(o),c();y!=g;)d(y,y.parent,1);return u(g),g},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(t,e){isNaN(e)&&(e=this.children.length);var n=0<e?this.children[e-1]:null;if(n){if(t._.isBlockLike&&n.type==CKEDITOR.NODE_TEXT&&(n.value=CKEDITOR.tools.rtrim(n.value),0===n.value.length))return this.children.pop(),void this.add(t);n.next=t}t.previous=n,t.parent=this,this.children.splice(e,0,t),this._.hasInlineStarted||(this._.hasInlineStarted=t.type==CKEDITOR.NODE_TEXT||t.type==CKEDITOR.NODE_ELEMENT&&!t._.isBlockLike)},filter:function(t,e){e=this.getFilterContext(e),t.onRoot(e,this),this.filterChildren(t,!1,e)},filterChildren:function(t,e,n){if(this.childrenFilteredBy!=t.id)for(n=this.getFilterContext(n),e&&!this.parent&&t.onRoot(n,this),this.childrenFilteredBy=t.id,e=0;e<this.children.length;e++)!1===this.children[e].filter(t,n)&&e--},writeHtml:function(t,e){e&&this.filter(e),this.writeChildrenHtml(t)},writeChildrenHtml:function(t,e,n){var i=this.getFilterContext();for(n&&!this.parent&&e&&e.onRoot(i,this),e&&this.filterChildren(e,!1,i),e=0,i=(n=this.children).length;e<i;e++)n[e].writeHtml(t)},forEach:function(t,e,n){if(!(n||e&&this.type!=e))var i=t(this);if(!1!==i){n=this.children;for(var r=0;r<n.length;r++)(i=n[r]).type==CKEDITOR.NODE_ELEMENT?i.forEach(t,e):e&&i.type!=e||t(i)}},getFilterContext:function(t){return t||{}}}}(),function(){function t(){this.rules=[]}function e(e,n,i,r){var o,a;for(o in n)(a=e[o])||(a=e[o]=new t),a.add(n[o],i,r)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(e){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new t,this.attributeNameRules=new t,this.elementsRules={},this.attributesRules={},this.textRules=new t,this.commentRules=new t,this.rootRules=new t,e&&this.addRules(e,10)},proto:{addRules:function(t,n){var i;"number"==typeof n?i=n:n&&"priority"in n&&(i=n.priority),"number"!=typeof i&&(i=10),"object"!=typeof n&&(n={}),t.elementNames&&this.elementNameRules.addMany(t.elementNames,i,n),t.attributeNames&&this.attributeNameRules.addMany(t.attributeNames,i,n),t.elements&&e(this.elementsRules,t.elements,i,n),t.attributes&&e(this.attributesRules,t.attributes,i,n),t.text&&this.textRules.add(t.text,i,n),t.comment&&this.commentRules.add(t.comment,i,n),t.root&&this.rootRules.add(t.root,i,n)},applyTo:function(t){t.filter(this)},onElementName:function(t,e){return this.elementNameRules.execOnName(t,e)},onAttributeName:function(t,e){return this.attributeNameRules.execOnName(t,e)},onText:function(t,e,n){return this.textRules.exec(t,e,n)},onComment:function(t,e,n){return this.commentRules.exec(t,e,n)},onRoot:function(t,e){return this.rootRules.exec(t,e)},onElement:function(t,e){for(var n,i=[this.elementsRules["^"],this.elementsRules[e.name],this.elementsRules.$],r=0;3>r;r++)if(n=i[r]){if(!1===(n=n.exec(t,e,this)))return null;if(n&&n!=e)return this.onNode(t,n);if(e.parent&&!e.name)break}return e},onNode:function(t,e){var n=e.type;return n==CKEDITOR.NODE_ELEMENT?this.onElement(t,e):n==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(t,e.value,e)):n==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(t,e.value,e)):null},onAttribute:function(t,e,n,i){return(n=this.attributesRules[n])?n.exec(t,i,e,this):i}}}),CKEDITOR.htmlParser.filterRulesGroup=t,t.prototype={add:function(t,e,n){this.rules.splice(this.findIndex(e),0,{value:t,priority:e,options:n})},addMany:function(t,e,n){for(var i=[this.findIndex(e),0],r=0,o=t.length;r<o;r++)i.push({value:t[r],priority:e,options:n});this.rules.splice.apply(this.rules,i)},findIndex:function(t){for(var e=this.rules,n=e.length-1;0<=n&&t<e[n].priority;)n--;return n+1},exec:function(t,e){var n,i,r,o,a=e instanceof CKEDITOR.htmlParser.node||e instanceof CKEDITOR.htmlParser.fragment,s=Array.prototype.slice.call(arguments,1),l=this.rules,c=l.length;for(o=0;o<c;o++)if(a&&(n=e.type,i=e.name),r=l[o],!(t.nonEditable&&!r.options.applyToAll||t.nestedEditable&&r.options.excludeNestedEditable)){if(!1===(r=r.value.apply(null,s))||a&&r&&(r.name!=i||r.type!=n))return r;null!=r&&(s[0]=e=r)}return e},execOnName:function(t,e){for(var n,i=0,r=this.rules,o=r.length;e&&i<o;i++)n=r[i],t.nonEditable&&!n.options.applyToAll||t.nestedEditable&&n.options.excludeNestedEditable||(e=e.replace(n.value[0],n.value[1]));return e}}}(),function(){function t(t,e){function s(t){return t||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text("Â "):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function l(t,e){return function(r){if(r.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var a,l,u=[],d=n(r);if(d)for(c(d,1)&&u.push(d);d;)o(d)&&(a=i(d))&&c(a)&&((l=i(a))&&!o(l)?u.push(a):(s(h).insertAfter(a),a.remove())),d=d.previous;for(d=0;d<u.length;d++)u[d].remove();(u=!t||!1!==("function"==typeof e?e(r):e))&&((h||CKEDITOR.env.needsBrFiller||r.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(h||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||r.name in CKEDITOR.dtd.tr||r.name in CKEDITOR.dtd.$listItem))?u=!(u=n(r))||"form"==r.name&&"input"==u.name:u=!1),u&&r.add(s(t))}}}function c(t,e){return!(h&&!CKEDITOR.env.needsBrFiller||t.type!=CKEDITOR.NODE_ELEMENT||"br"!=t.name||t.attributes["data-cke-eol"])||!!(t.type==CKEDITOR.NODE_TEXT&&(n=t.value.match(f))&&(n.index&&(new CKEDITOR.htmlParser.text(t.value.substring(0,n.index)).insertBefore(t),t.value=n[0]),!CKEDITOR.env.needsBrFiller&&h&&(!e||t.parent.name in p)||!h&&((n=t.previous)&&"br"==n.name||!n||o(n))));var n}var u,d={elements:{}},h="html"==e,p=CKEDITOR.tools.extend({},v);for(u in p)"#"in g[u]||delete p[u];for(u in p)d.elements[u]=l(h,t.config.fillEmptyBlocks);return d.root=l(h,!1),d.elements.br=function(t){return function(e){if(e.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var n=e.attributes;if("data-cke-bogus"in n||"data-cke-eol"in n)delete n["data-cke-bogus"];else{for(n=e.next;n&&r(n);)n=n.next;var l=i(e);!n&&o(e.parent)?a(e.parent,s(t)):o(n)&&l&&!o(l)&&s(t).insertBefore(n)}}}}(h),d}function e(t,e){return t!=CKEDITOR.ENTER_BR&&!1!==e&&(t==CKEDITOR.ENTER_DIV?"div":"p")}function n(t){for(t=t.children[t.children.length-1];t&&r(t);)t=t.previous;return t}function i(t){for(t=t.previous;t&&r(t);)t=t.previous;return t}function r(t){return t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(t.value)||t.type==CKEDITOR.NODE_ELEMENT&&t.attributes["data-cke-bookmark"]}function o(t){return t&&(t.type==CKEDITOR.NODE_ELEMENT&&t.name in v||t.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function a(t,e){var n=t.children[t.children.length-1];t.children.push(e),e.parent=t,n&&(n.next=e,e.previous=n)}function s(t){"false"!=(t=t.attributes).contenteditable&&(t["data-cke-editable"]=t.contenteditable?"true":1),t.contenteditable="false"}function l(t){switch((t=t.attributes)["data-cke-editable"]){case"true":t.contenteditable="true";break;case"1":delete t.contenteditable}}function c(t,e){return t.replace(e,function(t,e,n){return 0===t.indexOf("<textarea")&&(t=e+u(n).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(t)+"</cke:encoded>"})}function u(t){return t.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,function(t,e){return decodeURIComponent(e)})}function d(t,e){var n=e._.dataStore;return t.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,function(t,e){return decodeURIComponent(e)}).replace(/\{cke_protected_(\d+)\}/g,function(t,e){return n&&n[e]||""})}var h;CKEDITOR.htmlDataProcessor=function(n){var i,r,o=this;this.editor=n,this.dataFilter=i=new CKEDITOR.htmlParser.filter,this.htmlFilter=r=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,i.addRules(y),i.addRules(b,{applyToAll:!0}),i.addRules(t(n,"data"),{applyToAll:!0}),r.addRules(w),r.addRules(E,{applyToAll:!0}),r.addRules(t(n,"html"),{applyToAll:!0}),n.on("toHtml",function(t){var i,r,o=(t=t.data).dataValue;o=function(t,e){var n=[],i=e.config.protectedSource,r=e._.dataStore||(e._.dataStore={id:1}),o=/<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g;i=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(i),t=t.replace(/\x3c!--[\s\S]*?--\x3e/g,function(t){return"\x3c!--{cke_tempcomment}"+(n.push(t)-1)+"--\x3e"});for(var a=0;a<i.length;a++)t=t.replace(i[a],function(t){return t=t.replace(o,function(t,e,i){return n[i]}),/cke_temp(comment)?/.test(t)?t:"\x3c!--{cke_temp}"+(n.push(t)-1)+"--\x3e"});return(t=(t=t.replace(o,function(t,e,i){return"\x3c!--"+p+(e?"{C}":"")+encodeURIComponent(n[i]).replace(/--/g,"%2D%2D")+"--\x3e"})).replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(t){return t.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,function(t,e){return r[r.id]=decodeURIComponent(e),"{cke_protected_"+r.id+++"}"})})).replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(t,n,i,r){return"<"+n+i+">"+d(u(r),e)+"</"+n+">"})}(o=h(o),n),o=c(o,k),o=(o=(o=(o=(o=c(o=function(t){return t.replace(C,function(t,e,n){return"<"+e+n.replace(T,function(t,e){return _.test(e)&&-1==n.indexOf("data-cke-saved-"+e)?" data-cke-saved-"+t+" data-cke-"+CKEDITOR.rnd+"-"+t:t})+">"})}(o),O)).replace(x,"$1cke:$2")).replace(S,"<cke:$1$2></cke:$1>")).replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2")).replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");i=t.context||n.editable().getName(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&"pre"==i&&(i="div",o="<pre>"+o+"</pre>",r=1),(i=n.document.createElement(i)).setHtml("a"+o),o=(o=i.getHtml().substr(1)).replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),""),r&&(o=o.replace(/^<pre>|<\/pre>$/gi,"")),o=u(o=function(t){return t.replace(D,function(t,e){return decodeURIComponent(e)})}(o=o.replace(I,"$1$2"))),i=!1!==t.fixForBody&&e(t.enterMode,n.config.autoParagraph),o=CKEDITOR.htmlParser.fragment.fromHtml(o,t.context,i),i&&(!(r=o).children.length&&CKEDITOR.dtd[r.name][i]&&(i=new CKEDITOR.htmlParser.element(i),r.add(i))),t.dataValue=o},null,null,5),n.on("toHtml",function(t){t.data.filter.applyTo(t.data.dataValue,!0,t.data.dontFilter,t.data.enterMode)&&n.fire("dataFiltered")},null,null,6),n.on("toHtml",function(t){t.data.dataValue.filterChildren(o.dataFilter,!0)},null,null,10),n.on("toHtml",function(t){var e=(t=t.data).dataValue,n=new CKEDITOR.htmlParser.basicWriter;e.writeChildrenHtml(n),e=n.getHtml(!0),t.dataValue=function(t){return t.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,function(t){return"\x3c!--"+p+"{C}"+encodeURIComponent(t).replace(/--/g,"%2D%2D")+"--\x3e"})}(e)},null,null,15),n.on("toDataFormat",function(t){var i=t.data.dataValue;t.data.enterMode!=CKEDITOR.ENTER_BR&&(i=i.replace(/^<br *\/?>/i,"")),t.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(i,t.data.context,e(t.data.enterMode,n.config.autoParagraph))},null,null,5),n.on("toDataFormat",function(t){t.data.dataValue.filterChildren(o.htmlFilter,!0)},null,null,10),n.on("toDataFormat",function(t){t.data.filter.applyTo(t.data.dataValue,!1,!0)},null,null,11),n.on("toDataFormat",function(t){var e=t.data.dataValue,i=o.writer;i.reset(),e.writeChildrenHtml(i),e=d(e=u(e=i.getHtml(!0)),n),t.data.dataValue=e},null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(t,e,n,i){var r,o,a,s,l=this.editor;return e&&"object"==typeof e?(r=e.context,n=e.fixForBody,i=e.dontFilter,o=e.filter,a=e.enterMode,s=e.protectedWhitespaces):r=e,r||null===r||(r=l.editable().getName()),l.fire("toHtml",{dataValue:t,context:r,fixForBody:n,dontFilter:i,filter:o||l.filter,enterMode:a||l.enterMode,protectedWhitespaces:s}).dataValue},toDataFormat:function(t,e){var n,i,r;return e&&(n=e.context,i=e.filter,r=e.enterMode),n||null===n||(n=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:t,filter:i||this.editor.filter,context:n,enterMode:r||this.editor.enterMode}).dataValue}};var f=/(?:&nbsp;|\xa0)$/,p="{cke_protected}",g=CKEDITOR.dtd,m="caption colgroup col thead tfoot tbody".split(" "),v=CKEDITOR.tools.extend({},g.$blockLimit,g.$block),y={elements:{input:s,textarea:s}},b={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(t){if(t.attributes&&t.attributes.src){var e=t.attributes.src.toLowerCase().replace(/[^a-z]/gi,"");0!==e.indexOf("javascript")&&0!==e.indexOf("data")||(t.attributes["data-cke-pa-src"]=t.attributes.src,delete t.attributes.src)}}}},w={elements:{embed:function(t){if((n=t.parent)&&"object"==n.name){var e=n.attributes.width,n=n.attributes.height;e&&(t.attributes.width=e),n&&(t.attributes.height=n)}},a:function(t){var e=t.attributes;if(!(t.children.length||e.name||e.id||t.attributes["data-cke-saved-name"]))return!1}}},E={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(t){var e=t.attributes;if(e){if(e["data-cke-temp"])return!1;for(var n=["name","href","src"],i=0;i<n.length;i++)"data-cke-saved-"+n[i]in e&&delete e[n[i]]}return t},table:function(t){t.children.slice(0).sort(function(t,e){var n,i;return t.type==CKEDITOR.NODE_ELEMENT&&e.type==t.type&&(n=CKEDITOR.tools.indexOf(m,t.name),i=CKEDITOR.tools.indexOf(m,e.name)),-1<n&&-1<i&&n!=i||(n=t.parent?t.getIndex():-1,i=e.parent?e.getIndex():-1),n>i?1:-1})},param:function(t){return t.children=[],t.isEmpty=!0,t},span:function(t){"Apple-style-span"==t.attributes.class&&delete t.name},html:function(t){delete t.attributes.contenteditable,delete t.attributes.class},body:function(t){delete t.attributes.spellcheck,delete t.attributes.contenteditable},style:function(t){var e=t.children[0];e&&e.value&&(e.value=CKEDITOR.tools.trim(e.value)),t.attributes.type||(t.attributes.type="text/css")},title:function(t){var e=t.children[0];!e&&a(t,e=new CKEDITOR.htmlParser.text),e.value=t.attributes["data-cke-title"]||""},input:l,textarea:l},attributes:{class:function(t){return CKEDITOR.tools.ltrim(t.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(E.attributes.style=function(t){return t.replace(/(^|;)([^\:]+)/g,function(t){return t.toLowerCase()})});var C=/<(a|area|img|input|source)\b([^>]*)>/gi,T=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,_=/^(href|src|name)$/i,O=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,k=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,D=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,x=/(<\/?)((?:object|embed|param|html|body|head|title)([\s][^>]*)?>)/gi,I=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,S=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;h=function(){function t(t){return CKEDITOR.tools.array.reduce(t.split(""),function(t,n){var i=n.toLowerCase(),r=n.toUpperCase(),o=e(i);return i!==r&&(o+="|"+e(r)),t+"("+o+")"},"")}function e(t){var e,n=(e=t.charCodeAt(0)).toString(16);for(var i in e={htmlCode:"&#"+e+";?",hex:"&#x0*"+n+";?",entity:{"<":"&lt;",">":"&gt;",":":"&colon;"}[t]})e[i]&&(t+="|"+e[i]);return t}var n=new RegExp("("+t("<cke:encoded>")+"(.*?)"+t("</cke:encoded>")+")|("+t("<")+t("/")+"?"+t("cke:encoded>")+")","gi"),i=new RegExp("(("+t("{cke_protected")+")(_[0-9]*)?"+t("}")+")","gi");return function(t){return t.replace(n,"").replace(i,"")}}()}(),CKEDITOR.htmlParser.element=function(t,e){this.name=t,this.attributes=e||{},this.children=[];var n=t||"",i=n.match(/^cke:(.*)/);i&&(n=i[1]),n=!!(CKEDITOR.dtd.$nonBodyContent[n]||CKEDITOR.dtd.$block[n]||CKEDITOR.dtd.$listItem[n]||CKEDITOR.dtd.$tableContent[n]||CKEDITOR.dtd.$nonEditable[n]||"br"==n),this.isEmpty=!!CKEDITOR.dtd.$empty[t],this.isUnknown=!CKEDITOR.dtd[t],this._={isBlockLike:n,hasInlineStarted:this.isEmpty||!n}},CKEDITOR.htmlParser.cssStyle=function(t){var e={};return((t instanceof CKEDITOR.htmlParser.element?t.attributes.style:t)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(t,n,i){"font-family"==n&&(i=i.replace(/["']/g,"")),e[n.toLowerCase()]=i}),{rules:e,populate:function(t){var e=this.toString();e&&(t instanceof CKEDITOR.dom.element?t.setAttribute("style",e):t instanceof CKEDITOR.htmlParser.element?t.attributes.style=e:t.style=e)},toString:function(){var t,n=[];for(t in e)e[t]&&n.push(t,":",e[t],";");return n.join("")}}},function(){var t=function(t,e){return(t=t[0])<(e=e[0])?-1:t>e?1:0},e=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:e.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(t,e){var n,i,r,o,a=this;for(e=a.getFilterContext(e),a.parent||t.onRoot(e,a);;){if(n=a.name,!(i=t.onElementName(e,n)))return this.remove(),!1;if(a.name=i,!(a=t.onElement(e,a)))return this.remove(),!1;if(a!==this)return this.replaceWith(a),!1;if(a.name==n)break;if(a.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(a),!1;if(!a.name)return this.replaceWithChildren(),!1}for(r in n=a.attributes){for(i=n[r];;){if(!(o=t.onAttributeName(e,r))){delete n[r];break}if(o==r)break;delete n[r],r=o}o&&(!1===(i=t.onAttribute(e,a,o,i))?delete n[o]:n[o]=i)}return a.isEmpty||this.filterChildren(t,!1,e),!0},filterChildren:e.filterChildren,writeHtml:function(e,n){n&&this.filter(n);var i,r,o=this.name,a=[],s=this.attributes;for(i in e.openTag(o,s),s)a.push([i,s[i]]);for(e.sortAttributes&&a.sort(t),i=0,r=a.length;i<r;i++)s=a[i],e.attribute(s[0],s[1]);e.openTagClose(o,this.isEmpty),this.writeChildrenHtml(e),this.isEmpty||e.closeTag(o)},writeChildrenHtml:e.writeChildrenHtml,replaceWithChildren:function(){for(var t=this.children,e=t.length;e;)t[--e].insertAfter(this);this.remove()},forEach:e.forEach,getFirst:function(t){if(!t)return this.children.length?this.children[0]:null;"function"!=typeof t&&(t=function(t){return function(e){return e.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof t?e.name==t:e.name in t)}}(t));for(var e=0,n=this.children.length;e<n;++e)if(t(this.children[e]))return this.children[e];return null},getHtml:function(){var t=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(t),t.getHtml()},setHtml:function(t){for(var e=0,n=(t=this.children=CKEDITOR.htmlParser.fragment.fromHtml(t).children).length;e<n;++e)t[e].parent=this},getOuterHtml:function(){var t=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(t),t.getHtml()},split:function(t){for(var e=this.children.splice(t,this.children.length-t),n=this.clone(),i=0;i<e.length;++i)e[i].parent=n;return n.children=e,e[0]&&(e[0].previous=null),0<t&&(this.children[t-1].next=null),this.parent.add(n,this.getIndex()+1),n},find:function(t,e){void 0===e&&(e=!1);var n,i=[];for(n=0;n<this.children.length;n++){var r=this.children[n];"function"==typeof t&&t(r)?i.push(r):"string"==typeof t&&r.name===t&&i.push(r),e&&r.find&&(i=i.concat(r.find(t,e)))}return i},findOne:function(t,e){var n=null,i=CKEDITOR.tools.array.find(this.children,function(i){var r="function"==typeof t?t(i):i.name===t;return r||!e?r:(i.children&&i.findOne&&(n=i.findOne(t,!0)),!!n)});return n||i||null},addClass:function(t){if(!this.hasClass(t)){var e=this.attributes.class||"";this.attributes.class=e+(e?" ":"")+t}},removeClass:function(t){var e=this.attributes.class;e&&((e=CKEDITOR.tools.trim(e.replace(new RegExp("(?:\\s+|^)"+t+"(?:\\s+|$)")," ")))?this.attributes.class=e:delete this.attributes.class)},hasClass:function(t){var e=this.attributes.class;return!!e&&new RegExp("(?:^|\\s)"+t+"(?=\\s|$)").test(e)},getFilterContext:function(t){var e=[];if(t||(t={nonEditable:!1,nestedEditable:!1}),t.nonEditable||"false"!=this.attributes.contenteditable?t.nonEditable&&!t.nestedEditable&&"true"==this.attributes.contenteditable&&e.push("nestedEditable",!0):e.push("nonEditable",!0),e.length){t=CKEDITOR.tools.copy(t);for(var n=0;n<e.length;n+=2)t[e[n]]=e[n+1]}return t}},!0)}(),function(){var t=/{([^}]+)}/g;CKEDITOR.template=function(t){this.source="function"==typeof t?t:String(t)},CKEDITOR.template.prototype.output=function(e,n){var i=("function"==typeof this.source?this.source(e):this.source).replace(t,function(t,n){return void 0!==e[n]?e[n]:t});return n?n.push(i):i}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(t){function e(){CKEDITOR.currentInstance==t&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}CKEDITOR.instances[t.name]=t,t.on("focus",function(){CKEDITOR.currentInstance!=t&&(CKEDITOR.currentInstance=t,CKEDITOR.fire("currentInstance"))}),t.on("blur",e),t.on("destroy",e),CKEDITOR.fire("instance",null,t)},CKEDITOR.remove=function(t){delete CKEDITOR.instances[t.name]},function(){var t={};CKEDITOR.addTemplate=function(e,n){var i=t[e];return i||(i={name:e,source:n},CKEDITOR.fire("template",i),t[e]=new CKEDITOR.template(i.source))},CKEDITOR.getTemplate=function(e){return t[e]}}(),function(){var t=[];CKEDITOR.addCss=function(e){t.push(e)},CKEDITOR.getCss=function(){return t.join("\n")}}(),CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,CKEDITOR.inline=function(t,e){if(!(t=CKEDITOR.editor._getEditorElement(t)))return null;var n=new CKEDITOR.editor(e,t,CKEDITOR.ELEMENT_MODE_INLINE),i=t.is("textarea")?t:null;return i?(n.setData(i.getValue(),null,!0),(t=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!n.readOnly+'" class="cke_textarea_inline">'+i.getValue()+"</div>",CKEDITOR.document)).insertAfter(i),i.hide(),i.$.form&&n._attachToForm()):(e&&void 0!==e.readOnly&&!e.readOnly&&t.setAttribute("contenteditable","true"),n.setData(t.getHtml(),null,!0)),n.on("loaded",function(){n.fire("uiReady"),n.editable(t),n.container=t,n.ui.contentsElement=t,n.setData(n.getData(1)),n.resetDirty(),n.fire("contentDom"),n.mode="wysiwyg",n.fire("mode"),n.status="ready",n.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,n)},null,null,1e4),n.on("destroy",function(){var t=n.container;i&&t&&(t.clearCustomData(),t.remove()),i&&i.show(),n.element.clearCustomData(),delete n.element}),n},CKEDITOR.inlineAll=function(){var t,e,n;for(n in CKEDITOR.dtd.$editable)for(var i=CKEDITOR.document.getElementsByTag(n),r=0,o=i.count();r<o;r++)"true"!=(t=i.getItem(r)).getAttribute("contenteditable")||t.getEditor()||(e={element:t,config:{}},!1!==CKEDITOR.fire("inline",e)&&CKEDITOR.inline(t,e.config))},CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()}),CKEDITOR.replaceClass="ckeditor",function(){function t(t,n,i,r){if(!(t=CKEDITOR.editor._getEditorElement(t)))return null;var o=new CKEDITOR.editor(n,t,r);return r==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.setStyle("visibility","hidden"),o._.required=t.hasAttribute("required"),t.removeAttribute("required")),i&&o.setData(i,null,!0),o.on("loaded",function(){o.isDestroyed()||o.isDetached()||(function(t){var e=t.name,n=t.element,i=t.elementMode,r=t.fire("uiSpace",{space:"top",html:""}).html,o=t.fire("uiSpace",{space:"bottom",html:""}).html,a=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(t.title?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(t.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>'),e=CKEDITOR.dom.element.createFromHtml(a.output({id:t.id,name:e,langDir:t.lang.dir,langCode:t.langCode,voiceLabel:t.title,topHtml:r?'<span id="'+t.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+r+"</span>":"",contentId:t.ui.spaceId("contents"),bottomHtml:o?'<span id="'+t.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+o+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));i==CKEDITOR.ELEMENT_MODE_REPLACE?(n.hide(),e.insertAfter(n)):n.append(e),t.container=e,t.ui.contentsElement=t.ui.space("contents"),r&&t.ui.space("top").unselectable(),o&&t.ui.space("bottom").unselectable(),n=t.config.width,i=t.config.height,n&&e.setStyle("width",CKEDITOR.tools.cssLength(n)),i&&t.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(i)),e.disableContextMenu(),CKEDITOR.env.webkit&&e.on("focus",function(){t.focus()}),t.fireOnce("uiReady")}(o),r==CKEDITOR.ELEMENT_MODE_REPLACE&&o.config.autoUpdateElement&&t.$.form&&o._attachToForm(),o.setMode(o.config.startupMode,function(){o.resetDirty(),o.status="ready",o.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,o)}))}),o.on("destroy",e),o}function e(){var t=this.container,e=this.element;t&&(t.clearCustomData(),t.remove()),e&&(e.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.show(),this._.required&&e.setAttribute("required","required")),delete this.element)}CKEDITOR.replace=function(e,n){return t(e,n,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(e,n,i){return t(e,n,i,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(){for(var t=document.getElementsByTagName("textarea"),e=0;e<t.length;e++){var n=null,i=t[e];if(i.name||i.id){if("string"==typeof arguments[0]){if(!new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)").test(i.className))continue}else if("function"==typeof arguments[0]&&(n={},!1===arguments[0](i,n)))continue;this.replace(i,n)}}},CKEDITOR.editor.prototype.addMode=function(t,e){(this._.modes||(this._.modes={}))[t]=e},CKEDITOR.editor.prototype.setMode=function(t,e){var n=this,i=this._.modes;if(t!=n.mode&&i&&i[t]){if(n.fire("beforeSetMode",t),n.mode){var r,o=n.checkDirty(),a=(i=n._.previousModeData,0);n.fire("beforeModeUnload"),n.editable(0),n._.previousMode=n.mode,n._.previousModeData=r=n.getData(1),"source"==n.mode&&i==r&&(n.fire("lockSnapshot",{forceUpdate:!0}),a=1),n.ui.space("contents").setHtml(""),n.mode=""}else n._.previousModeData=n.getData(1);this._.modes[t](function(){n.mode=t,void 0!==o&&!o&&n.resetDirty(),a?n.fire("unlockSnapshot"):"wysiwyg"==t&&n.fire("saveSnapshot"),setTimeout(function(){n.isDestroyed()||n.isDetached()||(n.fire("mode"),e&&e.call(n))},0)})}},CKEDITOR.editor.prototype.resize=function(t,e,n,i){var r=this.container,o=this.ui.space("contents"),a=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;i=i?this.container.getFirst(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_inner")}):r,(t||0===t)&&(t=CKEDITOR.tools.convertToPx(CKEDITOR.tools.cssLength(t))),i.setSize("width",t,!0),a&&(a.style.width="1%"),e=CKEDITOR.tools.convertToPx(CKEDITOR.tools.cssLength(e));var s=(i.$.offsetHeight||0)-(o.$.clientHeight||0);r=Math.max(e-(n?0:s),0);e=n?e+s:e,o.setStyle("height",CKEDITOR.tools.cssLength(r)),a&&(a.style.width="100%"),this.fire("resize",{outerHeight:e,contentsHeight:r,outerWidth:t||i.getSize("width")})},CKEDITOR.editor.prototype.getResizable=function(t){return t?this.ui.space("contents"):this.container},CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode="wysiwyg",function(){function t(t){var e,i=t.editor,o=t.data.path,a=o.blockLimit,s=t.data.selection,l=s.getRanges()[0];(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&(s=function(t,e){if(t.isFake)return 0;var i=e.block||e.blockLimit,r=i&&i.getLast(n);if(!(!i||!i.isBlockBoundary()||r&&r.type==CKEDITOR.NODE_ELEMENT&&r.isBlockBoundary()||i.is("pre")||i.getBogus()))return i}(s,o))&&(s.appendBogus(),e=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.edge&&i._.previousActive),r(i,o.block,a)&&l.collapsed&&!l.getCommonAncestor().isReadOnly()&&((o=l.clone()).enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),(a=new CKEDITOR.dom.walker(o)).guard=function(t){return!n(t)||t.type==CKEDITOR.NODE_COMMENT||t.isReadOnly()},!a.checkForward()||o.checkStartOfBlock()&&o.checkEndOfBlock())&&(i=l.fixBlock(!0,i.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(i=i.getFirst(n))&&i.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(i.getText()).match(/^(?:&nbsp;|\xa0)$/)&&i.remove(),e=1,t.cancel()),e&&l.select()}function e(t){var e=t.data.getTarget();e.is("input")&&("submit"!=(e=e.getAttribute("type"))&&"reset"!=e||t.data.preventDefault())}function n(t){return c(t)&&u(t)}function i(t){function e(t){return function(e,r){if(r&&e.type==CKEDITOR.NODE_ELEMENT&&e.is(o)&&(i=e),!(r||!n(e)||t&&h(e)))return!1}}var i,r=t.getRanges()[0];t=t.root;var o={table:1,ul:1,ol:1,dl:1};if(r.startPath().contains(o)){var a=r.clone();if(a.collapse(1),a.setStartAt(t,CKEDITOR.POSITION_AFTER_START),(t=new CKEDITOR.dom.walker(a)).guard=e(),t.checkBackward(),i)return(a=r.clone()).collapse(),a.setEndAt(i,CKEDITOR.POSITION_AFTER_END),(t=new CKEDITOR.dom.walker(a)).guard=e(!0),i=!1,t.checkForward(),i}return null}function r(t,e,n){return!1!==t.config.autoParagraph&&t.activeEnterMode!=CKEDITOR.ENTER_BR&&(t.editable().equals(n)&&!e||e&&"true"==e.getAttribute("contenteditable"))}function o(t){return t.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==t.config.autoParagraph&&(t.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p")}function a(t){t&&t.isEmptyInlineRemoveable()&&t.remove()}function s(t){var e=t.editor;e.getSelection().scrollIntoView(),setTimeout(function(){e.fire("saveSnapshot")},0)}function l(t,e,n){var i=t.getCommonAncestor(e);for(e=t=n?e:t;(t=t.getParent())&&!i.equals(t)&&1==t.getChildCount();)e=t;e.remove()}var c,u,d,h,f,p,g,m,v,y;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(t,e){this.base(e.$||e),this.editor=t,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var t;if(CKEDITOR.env.webkit&&!this.hasFocus&&(t=this.editor._.previousActive||this.getDocument().getActive(),this.contains(t)))t.focus();else{CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var e=this.$.scrollTop;this.$.focus(),this.$.scrollTop=e}else this.$.focus();else this.$.setActive()}catch(t){if(!CKEDITOR.env.ie)throw t}CKEDITOR.env.safari&&!this.isInline()&&((t=CKEDITOR.document.getActive()).equals(this.getWindow().getFrame())||this.getWindow().focus())}},on:function(t,e){var n=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(t)&&(t="focus"==t?"focusin":"focusout",e=function(t,e){return function(n){var i=n.data.$.toElement||n.data.$.fromElement||n.data.$.relatedTarget;(i=i&&i.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(i):null)&&(e.equals(i)||e.contains(i))||t.call(this,n)}}(e,this),n[0]=t,n[1]=e),CKEDITOR.dom.element.prototype.on.apply(this,n)},attachListener:function(t){!this._.listeners&&(this._.listeners=[]);var e=Array.prototype.slice.call(arguments,1);e=t.on.apply(t,e);return this._.listeners.push(e),e},clearListeners:function(){var t=this._.listeners;try{for(;t.length;)t.pop().removeListener()}catch(t){}},restoreAttrs:function(){var t,e,n=this._.attrChanges;for(e in n)n.hasOwnProperty(e)&&(null!==(t=n[e])?this.setAttribute(e,t):this.removeAttribute(e))},attachClass:function(t){var e=this.getCustomData("classes");this.hasClass(t)||(!e&&(e=[]),e.push(t),this.setCustomData("classes",e),this.addClass(t))},changeAttr:function(t,e){var n=this.getAttribute(t);e!==n&&(!this._.attrChanges&&(this._.attrChanges={}),t in this._.attrChanges||(this._.attrChanges[t]=n),this.setAttribute(t,e))},insertText:function(t){this.editor.focus(),this.insertHtml(this.transformPlainTextToHtml(t),"text")},transformPlainTextToHtml:function(t){var e=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(t,e)},insertHtml:function(t,e,n){var i=this.editor;i.focus(),i.fire("saveSnapshot"),n||(n=i.getSelection().getRanges()[0]),p(this,e||"html",t,n),n.select(),s(this),this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(t,e,n){p(this,n||"html",t,e),this.editor.fire("afterInsertHtml",{intoRange:e})},insertElement:function(t,e){(r=this.editor).focus(),r.fire("saveSnapshot");var i=r.activeEnterMode,r=r.getSelection(),o=t.getName();o=CKEDITOR.dtd.$block[o];e||(e=r.getRanges()[0]),this.insertElementIntoRange(t,e)&&(e.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),o&&((o=t.getNext(function(t){return n(t)&&!h(t)}))&&o.type==CKEDITOR.NODE_ELEMENT&&o.is(CKEDITOR.dtd.$block)?o.getDtd()["#"]?e.moveToElementEditStart(o):e.moveToElementEditEnd(t):o||i==CKEDITOR.ENTER_BR||(o=e.fixBlock(!0,i==CKEDITOR.ENTER_DIV?"div":"p"),e.moveToElementEditStart(o)))),r.selectRanges([e]),s(this)},insertElementIntoSelection:function(t){this.insertElement(t)},insertElementIntoRange:function(t,e){var n,i,r=this.editor,o=r.config.enterMode,s=t.getName(),l=CKEDITOR.dtd.$block[s];if(e.checkReadOnly())return!1;if(e.deleteContents(1),e.startContainer.type==CKEDITOR.NODE_ELEMENT&&(e.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?g(e):e.startContainer.is(CKEDITOR.dtd.$list)&&m(e)),l)for(;(n=e.getCommonAncestor(0,1))&&(i=CKEDITOR.dtd[n.getName()])&&(!i||!i[s]);)if(n.getName()in CKEDITOR.dtd.span){l=e.splitElement(n);var c=e.createBookmark();a(n),a(l),e.moveToBookmark(c)}else e.checkStartOfBlock()&&e.checkEndOfBlock()?(e.setStartBefore(n),e.collapse(!0),n.remove()):e.splitBlock(o==CKEDITOR.ENTER_DIV?"div":"p",r.editable());return e.insertNode(t),!0},setData:function(t,e){e||(t=this.editor.dataProcessor.toHtml(t)),this.setHtml(t),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(t){var e=this.getHtml();return t||(e=this.editor.dataProcessor.toDataFormat(e)),e},setReadOnly:function(t){this.setAttribute("contenteditable",!t)},detach:function(){this.status="detached",this.editor.setData(this.editor.getData(),{internal:!0}),this.clearListeners();try{this._.cleanCustomData()}catch(t){if(!CKEDITOR.env.ie||-2146828218!==t.number)throw t}this.editor.fire("contentDomUnload"),delete this.editor.document,delete this.editor.window,delete this.editor},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function t(){var t,n=e.getDocument().$,i=n.getSelection();t:if(i.anchorNode&&i.anchorNode==e.$)t=!0;else{if(CKEDITOR.env.webkit&&(t=e.getDocument().getActive())&&t.equals(e)&&!i.anchorNode){t=!0;break t}t=void 0}t&&((t=new CKEDITOR.dom.range(e)).moveToElementEditStart(e),(n=n.createRange()).setStart(t.startContainer.$,t.startOffset),n.collapse(!0),i.removeAllRanges(),i.addRange(n))}var e=this;CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks)?this.hasFocus&&(this.focus(),function(){var t=e.getDocument().$,n=t.selection,i=e.getDocument().getActive();"None"==n.type&&i.equals(e)&&(n=new CKEDITOR.dom.range(e),t=t.body.createTextRange(),n.moveToElementEditStart(e),(n=n.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(n=n.getParent()),t.moveToElementText(n.$),t.collapse(!0),t.select())}()):this.hasFocus?(this.focus(),t()):this.once("focus",function(){t()},null,null,-999)},getHtmlFromRange:function(t){return t.collapsed?new CKEDITOR.dom.documentFragment(t.document):(t={doc:this.getDocument(),range:t.clone()},v.eol.detect(t,this),v.bogus.exclude(t),v.cell.shrink(t),t.fragment=t.range.cloneContents(),v.tree.rebuild(t,this),v.eol.fix(t,this),new CKEDITOR.dom.documentFragment(t.fragment.$))},extractHtmlFromRange:function(t,e){var n=y,i={range:t,doc:t.document},r=this.getHtmlFromRange(t);if(t.collapsed)return t.optimize(),r;if(t.enlarge(CKEDITOR.ENLARGE_INLINE,1),n.table.detectPurge(i),i.bookmark=t.createBookmark(),delete i.range,(a=this.editor.createRange()).moveToPosition(i.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START),i.targetBookmark=a.createBookmark(),n.list.detectMerge(i,this),n.table.detectRanges(i,this),n.block.detectMerge(i,this),i.tableContentsRanges?(n.table.deleteRanges(i),t.moveToBookmark(i.bookmark),i.range=t):(t.moveToBookmark(i.bookmark),i.range=t,t.extractContents(n.detectExtractMerge(i))),t.moveToBookmark(i.targetBookmark),t.optimize(),n.fixUneditableRangePosition(t),n.list.merge(i,this),n.table.purge(i,this),n.block.merge(i,this),e){if(n=t.startPath(),i=t.checkStartOfBlock()&&t.checkEndOfBlock()&&n.block&&!t.root.equals(n.block)){t:{var o,a=0;if(i=n.block.getElementsByTag("span"))for(;o=i.getItem(a++);)if(!u(o)){i=!0;break t}i=!1}i=!i}i&&(t.moveToPosition(n.block,CKEDITOR.POSITION_BEFORE_START),n.block.remove())}else n.autoParagraph(this.editor,t),d(t.startContainer)&&t.startContainer.appendBogus();return t.startContainer.mergeSiblings(),r},setup:function(){var t=this.editor;if(this.attachListener(t,"beforeGetData",function(){var e=this.getData();this.is("textarea")||!1!==t.config.ignoreEmptyParagraph&&(e=e.replace(f,function(t,e){return e})),t.setData(e,null,1)},this),this.attachListener(t,"getSnapshot",function(t){t.data=this.getData(1)},this),this.attachListener(t,"afterSetData",function(){this.setData(t.getData(1))},this),this.attachListener(t,"loadSnapshot",function(t){this.setData(t.data,1)},this),this.attachListener(t,"beforeFocus",function(){var e=t.getSelection();(e=e&&e.getNative())&&"Control"==e.type||this.focus()},this),this.attachListener(t,"insertHtml",function(t){this.insertHtml(t.data.dataValue,t.data.mode,t.data.range)},this),this.attachListener(t,"insertElement",function(t){this.insertElement(t.data)},this),this.attachListener(t,"insertText",function(t){this.insertText(t.data)},this),this.setReadOnly(t.readOnly),this.attachClass("cke_editable"),t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):t.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&t.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed"),this.attachClass("cke_contents_"+t.config.contentsLangDirection),t.keystrokeHandler.blockedKeystrokes[8]=+t.readOnly,t.keystrokeHandler.attach(this),this.on("blur",function(){this.hasFocus=!1},null,null,-1),this.on("focus",function(){this.hasFocus=!0},null,null,-1),CKEDITOR.env.webkit&&this.on("scroll",function(){t._.previousScrollTop=t.editable().$.scrollTop},null,null,-1),CKEDITOR.env.edge&&14<CKEDITOR.env.version){var r=function(){var e=t.editable();null!=t._.previousScrollTop&&e.getDocument().equals(CKEDITOR.document)&&(e.$.scrollTop=t._.previousScrollTop,t._.previousScrollTop=null,this.removeListener("scroll",r))};this.on("scroll",r)}if(t.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,t.once("contentDom",function(){t.focusManager.focus(this)},this)),this.isInline()&&this.changeAttr("tabindex",t.tabIndex),!this.is("textarea")){t.document=this.getDocument(),t.window=this.getWindow();var o=t.document;this.changeAttr("spellcheck",!t.config.disableNativeSpellChecker);var a=t.config.contentsLangDirection;this.getDirection(1)!=a&&this.changeAttr("dir",a);var s=CKEDITOR.getCss();if(s){var u=(a=o.getHead()).getCustomData("stylesheet");u?s!=u.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?u.$.styleSheet.cssText=s:u.setText(s)):(s=o.appendStyleText(s),s=new CKEDITOR.dom.element(s.ownerNode||s.owningElement),a.setCustomData("stylesheet",s),s.data("cke-temp",1))}a=o.getCustomData("stylesheet_ref")||0,o.setCustomData("stylesheet_ref",a+1),this.setCustomData("cke_includeReadonly",!t.config.disableReadonlyStyling),this.attachListener(this,"click",function(t){t=t.data;var e=new CKEDITOR.dom.elementPath(t.getTarget(),this).contains("a");e&&2!=t.$.button&&e.isReadOnly()&&t.preventDefault()});var d={8:1,46:1};this.attachListener(t,"key",function(e){if(t.readOnly)return!0;var n,r=e.data.domEvent.getKey();if(0!==(e=t.getSelection()).getRanges().length){if(r in d){var o,a,s,l,u=e.getRanges()[0],h=u.startPath();r=8==r;CKEDITOR.env.ie&&11>CKEDITOR.env.version&&(o=e.getSelectedElement())||(o=i(e))?(t.fire("saveSnapshot"),u.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o.remove(),u.select(),t.fire("saveSnapshot"),n=1):u.collapsed&&((a=h.block)&&(l=a[r?"getPrevious":"getNext"](c))&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("table")&&u[r?"checkStartOfBlock":"checkEndOfBlock"]()?(t.fire("saveSnapshot"),u[r?"checkEndOfBlock":"checkStartOfBlock"]()&&a.remove(),u["moveToElementEdit"+(r?"End":"Start")](l),u.select(),t.fire("saveSnapshot"),n=1):h.blockLimit&&h.blockLimit.is("td")&&(s=h.blockLimit.getAscendant("table"))&&u.checkBoundaryOfElement(s,r?CKEDITOR.START:CKEDITOR.END)&&(l=s[r?"getPrevious":"getNext"](c))?(t.fire("saveSnapshot"),u["moveToElementEdit"+(r?"End":"Start")](l),u.checkStartOfBlock()&&u.checkEndOfBlock()?l.remove():u.select(),t.fire("saveSnapshot"),n=1):(s=h.contains(["td","th","caption"]))&&u.checkBoundaryOfElement(s,r?CKEDITOR.START:CKEDITOR.END)&&(n=1))}return!n}}),t.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(e){e.data.getKeystroke()in d&&!this.getFirst(n)&&(this.appendBogus(),(e=t.createRange()).moveToPosition(this,CKEDITOR.POSITION_AFTER_START),e.select())}),this.attachListener(this,"dblclick",function(e){if(t.readOnly)return!1;e={element:e.data.getTarget()},t.fire("doubleclick",e)}),CKEDITOR.env.ie&&this.attachListener(this,"click",e),CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",function(e){var n=e.data.getTarget();n.is("img","hr","input","textarea","select")&&!n.isReadOnly()&&(t.getSelection().selectElement(n),n.is("input","textarea","select")&&e.data.preventDefault())}),CKEDITOR.env.edge&&this.attachListener(this,"mouseup",function(e){(e=e.data.getTarget())&&e.is("img")&&!e.isReadOnly()&&t.getSelection().selectElement(e)}),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(e){if(2==e.data.$.button&&(!(e=e.data.getTarget()).getAscendant("table")&&!e.getOuterHtml().replace(f,""))){var n=t.createRange();n.moveToElementEditStart(e),n.select(!0)}}),CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(t){t.data.getTarget().is("input","select")&&t.data.preventDefault()}),this.attachListener(this,"mouseup",function(t){t.data.getTarget().is("input","textarea")&&t.data.preventDefault()})),CKEDITOR.env.webkit&&this.attachListener(t,"key",function(e){if(t.readOnly)return!0;if((n=e.data.domEvent.getKey())in d&&0!==(e=t.getSelection()).getRanges().length){var n=8==n,i=e.getRanges()[0];if(e=i.startPath(),i.collapsed)t:{var r=e.block;if(r&&i[n?"checkStartOfBlock":"checkEndOfBlock"]()&&i.moveToClosestEditablePosition(r,!n)&&i.collapsed){if(i.startContainer.type==CKEDITOR.NODE_ELEMENT){var o=i.startContainer.getChild(i.startOffset-(n?1:0));if(o&&o.type==CKEDITOR.NODE_ELEMENT&&o.is("hr")){t.fire("saveSnapshot"),o.remove(),e=!0;break t}}var a;if(!(i=i.startPath().block)||i&&i.contains(r))e=void 0;else t.fire("saveSnapshot"),(a=(n?i:r).getBogus())&&a.remove(),o=(a=t.getSelection()).createBookmarks(),(n?r:i).moveChildren(n?i:r,!1),e.lastElement.mergeSiblings(),l(r,i,!n),a.selectBookmarks(o),e=!0}else e=!1}else n=i,a=e.block,i=n.endPath().block,a&&i&&!a.equals(i)?(t.fire("saveSnapshot"),(r=a.getBogus())&&r.remove(),n.enlarge(CKEDITOR.ENLARGE_INLINE),n.deleteContents(),i.getParent()&&(i.moveChildren(a,!1),e.lastElement.mergeSiblings(),l(a,i,!0)),(n=t.getSelection().getRanges()[0]).collapse(1),n.optimize(),""===n.startContainer.getHtml()&&n.startContainer.appendBogus(),n.select(),e=!0):e=!1;if(!e)return;return t.getSelection().scrollIntoView(),t.fire("saveSnapshot"),!1}},this,null,100)}},getUniqueId:function(){var t;try{this._.expandoNumber=t=CKEDITOR.dom.domObject.prototype.getUniqueId.call(this)}catch(e){t=this._&&this._.expandoNumber}return t}},_:{cleanCustomData:function(){this.removeClass("cke_editable"),this.restoreAttrs();for(var t=this.removeCustomData("classes");t&&t.length;)this.removeClass(t.pop());if(!this.is("textarea")){var e=(t=this.getDocument()).getHead();if(e.getCustomData("stylesheet")){var n=t.getCustomData("stylesheet_ref");--n?t.setCustomData("stylesheet_ref",n):(t.removeCustomData("stylesheet_ref"),e.removeCustomData("stylesheet").remove())}}}}}),CKEDITOR.editor.prototype.editable=function(t){var e=this._.editable;return e&&t?0:arguments.length?(t?e=t instanceof CKEDITOR.editable?t:new CKEDITOR.editable(this,t):(e&&e.detach(),e=null),this._.editable=e):e},CKEDITOR.on("instanceLoaded",function(e){var n=e.editor;n.on("insertElement",function(t){(t=t.data).type==CKEDITOR.NODE_ELEMENT&&(t.is("input")||t.is("textarea"))&&("false"!=t.getAttribute("contentEditable")&&t.data("cke-editable",t.hasAttribute("contenteditable")?"true":"1"),t.setAttribute("contentEditable",!1))}),n.on("selectionChange",function(e){if(!n.readOnly){var i=n.getSelection();i&&!i.isLocked&&(i=n.checkDirty(),n.fire("lockSnapshot"),t(e),n.fire("unlockSnapshot"),!i&&n.resetDirty())}})}),CKEDITOR.on("instanceCreated",function(t){var e=t.editor;e.on("mode",function(){var t=e.editable();if(t&&t.isInline()){var n=e.title;if(t.changeAttr("role","textbox"),t.changeAttr("aria-multiline","true"),t.changeAttr("aria-label",n),n&&t.changeAttr("title",n),(r=e.fire("ariaEditorHelpLabel",{}).label)&&(n=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var i=CKEDITOR.tools.getNextId(),r=CKEDITOR.dom.element.createFromHtml('<span id="'+i+'" class="cke_voice_label">'+r+"</span>");n.append(r),t.changeAttr("aria-describedby",i)}}})}),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"),c=CKEDITOR.dom.walker.whitespaces(!0),u=CKEDITOR.dom.walker.bookmark(!1,!0),d=CKEDITOR.dom.walker.empty(),h=CKEDITOR.dom.walker.bogus(),f=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,p=function(){function t(t){return t.type==CKEDITOR.NODE_ELEMENT}function e(n,i){var r,o=[],a=n.getChildren(),s=a.count(),l=0,u=c[i],d=!n.is(c.$inline)||n.is("br");for(d&&o.push(" ");l<s;l++)t(r=a.getItem(l))&&!r.is(u)?o=o.concat(e(r,i)):o.push(r);return d&&o.push(" "),o}function i(e){return t(e.startContainer)&&e.startContainer.getChild(e.startOffset-1)}function s(e){return e&&t(e)&&(e.is(c.$removeEmpty)||e.is("a")&&!e.isBlockBoundary())}function l(e,n,i,r){var o,a,s=e.clone();s.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),(o=new CKEDITOR.dom.walker(s).next())&&t(o)&&u[o.getName()]&&(a=o.getPrevious())&&t(a)&&!a.getParent().equals(e.startContainer)&&i.contains(a)&&r.contains(o)&&o.isIdentical(a)&&(o.moveChildren(a),o.remove(),l(e,n,i,r))}var c=CKEDITOR.dtd,u={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},d={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},h=CKEDITOR.tools.extend({},c.$inline);return delete h.br,function(u,f,p,g){var m=u.editor,v=!1;if("unfiltered_html"==f&&(f="html",v=!0),!g.checkReadOnly()){v=(f={type:f,dontFilter:v,editable:u,editor:m,range:g,blockLimit:O=new CKEDITOR.dom.elementPath(g.startContainer,g.root).blockLimit||g.root,mergeCandidates:[],zombies:[]}).range;var y,b,w,E,C,T,_,O=f.mergeCandidates,k="html"===f.type;if("text"==f.type&&v.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(b=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",v.document),v.insertNode(b),v.setStartAfter(b)),w=new CKEDITOR.dom.elementPath(v.startContainer),f.endPath=E=new CKEDITOR.dom.elementPath(v.endContainer),!v.collapsed){y=E.block||E.blockLimit;var D=v.getCommonAncestor();y&&!y.equals(D)&&!y.contains(D)&&v.checkEndOfBlock()&&f.zombies.push(y),v.deleteContents()}for(;(C=i(v))&&t(C)&&C.isBlockBoundary()&&w.contains(C);)v.moveToPosition(C,CKEDITOR.POSITION_BEFORE_END);for(l(v,f.blockLimit,w,E),b&&(v.setEndBefore(b),v.collapse(),b.remove()),(y=(b=v.startPath()).contains(s,!1,1))&&(T=v.splitElement(y),f.inlineStylesRoot=y,f.inlineStylesPeak=b.lastElement),b=v.createBookmark(),k&&(a(y),a(T)),(y=b.startNode.getPrevious(n))&&t(y)&&s(y)&&O.push(y),(y=b.startNode.getNext(n))&&t(y)&&s(y)&&O.push(y),y=b.startNode;(y=y.getParent())&&s(y);)O.push(y);if(v.moveToBookmark(b),m.enterMode===CKEDITOR.ENTER_DIV&&""===m.getData(!0)&&((m=u.getFirst())&&m.remove(),g.setStartAt(u,CKEDITOR.POSITION_AFTER_START),g.collapse(!0)),u=p){if(u=f.range,"text"==f.type&&f.inlineStylesRoot){for(m=(g=f.inlineStylesPeak).getDocument().createText("{cke-peak}"),T=f.inlineStylesRoot.getParent();!g.equals(T);)m=m.appendTo(g.clone()),g=g.getParent();p=m.getOuterHtml().split("{cke-peak}").join(p)}if(g=f.blockLimit.getName(),/^\s+|\s+$/.test(p)&&"span"in CKEDITOR.dtd[g])p=(A='<span data-cke-marker="1">&nbsp;</span>')+p+A;if(p=f.editor.dataProcessor.toHtml(p,{context:null,fixForBody:!1,protectedWhitespaces:!!A,dontFilter:f.dontFilter,filter:f.editor.activeFilter,enterMode:f.editor.activeEnterMode}),(g=u.document.createElement("body")).setHtml(p),A&&(g.getFirst().remove(),g.getLast().remove()),(A=u.startPath().block)&&(1!=A.getChildCount()||!A.getBogus()))t:{var x;if(1==g.getChildCount()&&t(x=g.getFirst())&&x.is(d)&&!x.hasAttribute("contenteditable")){for(u=0,T=(A=x.getElementsByTag("*")).count();u<T;u++)if(!(m=A.getItem(u)).is(h))break t;x.moveChildren(x.getParent(1)),x.remove()}}f.dataWrapper=g,u=p}if(u){u=(x=f.range).document,g=f.blockLimit,T=0;var I,S,R,A=[];p=b=0;var N,P;m=x.startContainer,v=(C=f.endPath.elements[0]).getPosition(m),O=!(!C.getCommonAncestor(m)||v==CKEDITOR.POSITION_IDENTICAL||v&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);for(function(e,n){function i(e,n){if(n.isBlock&&n.isElement&&!n.node.is("br")&&t(e)&&e.is("br"))return e.remove(),1}var r=n.endContainer.getChild(n.endOffset),o=n.endContainer.getChild(n.endOffset-1);r&&i(r,e[e.length-1]),o&&i(o,e[0])&&(n.setEnd(n.endContainer,n.endOffset-1),n.collapse())}(m=function e(n,i){var r,o,a,s,l=[],u=i.range.startContainer;r=i.range.startPath();u=c[u.getName()];for(var d=0,h=n.getChildren(),f=h.count(),p=-1,g=-1,m=0,v=r.contains(c.$list);d<f;++d)t(r=h.getItem(d))?(a=r.getName(),v&&a in CKEDITOR.dtd.$list?l=l.concat(e(r,i)):(s=!!u[a],"br"!=a||!r.data("cke-eol")||d&&d!=f-1||(m=(o=d?l[d-1].node:h.getItem(d+1))&&(!t(o)||!o.is("br")),o=o&&t(o)&&c.$block[o.getName()]),-1!=p||s||(p=d),s||(g=d),l.push({isElement:1,isLineBreak:m,isBlock:r.isBlockBoundary(),hasBlockSibling:o,node:r,name:a,allowed:s}),o=m=0)):l.push({isElement:0,node:r,allowed:1});return-1<p&&(l[p].firstNotAllowed=1),-1<g&&(l[g].lastNotAllowed=1),l}(f.dataWrapper,f),x);T<m.length;T++)if((k=(v=m[T]).isLineBreak)&&(k=x,y=g,E=w=void 0,v.hasBlockSibling?k=1:(w=k.startContainer.getAscendant(c.$block,1))&&w.is({div:1,p:1})?(E=w.getPosition(y))==CKEDITOR.POSITION_IDENTICAL||E==CKEDITOR.POSITION_CONTAINS?k=0:(y=k.splitElement(w),k.moveToPosition(y,CKEDITOR.POSITION_AFTER_START),k=1):k=0),k)p=0<T;else{if(k=x.startPath(),!v.isBlock&&r(f.editor,k.block,k.blockLimit)&&(R=o(f.editor))&&((R=u.createElement(R)).appendBogus(),x.insertNode(R),CKEDITOR.env.needsBrFiller&&(I=R.getBogus())&&I.remove(),x.moveToPosition(R,CKEDITOR.POSITION_BEFORE_END)),(k=x.startPath().block)&&!k.equals(S)&&((I=k.getBogus())&&(I.remove(),A.push(k)),S=k),v.firstNotAllowed&&(b=1),b&&v.isElement){for(k=x.startContainer,y=null;k&&!c[k.getName()][v.name];){if(k.equals(g)){k=null;break}y=k,k=k.getParent()}if(k)y&&(N=x.splitElement(y),f.zombies.push(N),f.zombies.push(y));else{y=g.getName(),P=!T,k=T==m.length-1,w=[],E=(y=e(v.node,y)).length;D=0;for(var M=void 0,L=0,K=-1;D<E;D++)" "==(M=y[D])?(L||P&&!D||(w.push(new CKEDITOR.dom.text(" ")),K=w.length),L=1):(w.push(M),L=0);k&&K==w.length&&w.pop(),P=w}}if(P){for(;k=P.pop();)x.insertNode(k);P=0}else x.insertNode(v.node);v.lastNotAllowed&&T<m.length-1&&((N=O?C:N)&&x.setEndAt(N,CKEDITOR.POSITION_AFTER_START),b=0),x.collapse()}1!=m.length?I=!1:I=(I=m[0]).isElement&&"false"==I.node.getAttribute("contenteditable"),I&&(p=!0,k=m[0].node,x.setStartAt(k,CKEDITOR.POSITION_BEFORE_START),x.setEndAt(k,CKEDITOR.POSITION_AFTER_END)),f.dontMoveCaret=p,f.bogusNeededBlocks=A}for(I=f.range,P=f.bogusNeededBlocks,S=I.createBookmark();R=f.zombies.pop();)R.getParent()&&((N=I.clone()).moveToElementEditStart(R),N.removeEmptyBlocksAtEnd());if(P)for(;R=P.pop();)CKEDITOR.env.needsBrFiller?R.appendBogus():R.append(I.document.createText("Â "));for(;R=f.mergeCandidates.pop();)R.mergeSiblings();if(CKEDITOR.env.webkit&&I.startPath()&&((R=I.startPath()).block?R.block.$.normalize():R.blockLimit&&R.blockLimit.$.normalize()),I.moveToBookmark(S),!f.dontMoveCaret){for(R=i(I);R&&t(R)&&!R.is(c.$empty);){if(R.isBlockBoundary())I.moveToPosition(R,CKEDITOR.POSITION_BEFORE_END);else{if(s(R)&&R.getHtml().match(/(\s|&nbsp;)$/g)){_=null;break}(_=I.clone()).moveToPosition(R,CKEDITOR.POSITION_BEFORE_END)}R=R.getLast(n)}_&&I.moveToRange(_)}}}}(),g=function(){function t(t){return(t=new CKEDITOR.dom.walker(t)).guard=function(t,e){return!e&&(t.type==CKEDITOR.NODE_ELEMENT?t.is(CKEDITOR.dtd.$tableContent):void 0)},t.evaluator=function(t){return t.type==CKEDITOR.NODE_ELEMENT},t}function e(t,e,n){return e=t.getDocument().createElement(e),t.append(e,n),e}function n(t){for(var e,n=t.count();0<n--;)e=t.getItem(n),CKEDITOR.tools.trim(e.getHtml())||(e.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&e.getChildCount()&&e.getFirst().remove())}return function(i){var r=i.startContainer,o=r.getAscendant("table",1),a=!1;n(o.getElementsByTag("td")),n(o.getElementsByTag("th")),(o=i.clone()).setStart(r,0),(o=t(o).lastBackward())||((o=i.clone()).setEndAt(r,CKEDITOR.POSITION_BEFORE_END),o=t(o).lastForward(),a=!0),o||(o=r),o.is("table")?(i.setStartAt(o,CKEDITOR.POSITION_BEFORE_START),i.collapse(!0),o.remove()):(o.is({tbody:1,thead:1,tfoot:1})&&(o=e(o,"tr",a)),o.is("tr")&&(o=e(o,o.getParent().is("thead")?"th":"td",a)),(r=o.getBogus())&&r.remove(),i.moveToPosition(o,a?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}(),m=function(){function t(t){return(t=new CKEDITOR.dom.walker(t)).guard=function(t,e){return!e&&(t.type==CKEDITOR.NODE_ELEMENT?t.is(CKEDITOR.dtd.$list)||t.is(CKEDITOR.dtd.$listItem):void 0)},t.evaluator=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$listItem)},t}return function(e){var n,i=e.startContainer,r=!1;(n=e.clone()).setStart(i,0),(n=t(n).lastBackward())||((n=e.clone()).setEndAt(i,CKEDITOR.POSITION_BEFORE_END),n=t(n).lastForward(),r=!0),n||(n=i),n.is(CKEDITOR.dtd.$list)?(e.setStartAt(n,CKEDITOR.POSITION_BEFORE_START),e.collapse(!0),n.remove()):((i=n.getBogus())&&i.remove(),e.moveToPosition(n,r?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),e.select())}}(),v={eol:{detect:function(t,e){var n=t.range,i=n.clone(),r=n.clone(),o=new CKEDITOR.dom.elementPath(n.startContainer,e),a=new CKEDITOR.dom.elementPath(n.endContainer,e);i.collapse(1),r.collapse(),o.block&&i.checkBoundaryOfElement(o.block,CKEDITOR.END)&&(n.setStartAfter(o.block),t.prependEolBr=1),a.block&&r.checkBoundaryOfElement(a.block,CKEDITOR.START)&&(n.setEndBefore(a.block),t.appendEolBr=1)},fix:function(t,e){var n,i=e.getDocument();t.appendEolBr&&(n=this.createEolBr(i),t.fragment.append(n)),!t.prependEolBr||n&&!n.getPrevious()||t.fragment.append(this.createEolBr(i),1)},createEolBr:function(t){return t.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(t){var e,n=(e=t.range.getBoundaryNodes()).startNode;!(e=e.endNode)||!h(e)||n&&n.equals(e)||t.range.setEndBefore(e)}},tree:{rebuild:function(t,e){var n,i=(a=t.range).getCommonAncestor(),r=new CKEDITOR.dom.elementPath(i,e),o=new CKEDITOR.dom.elementPath(a.startContainer,e),a=new CKEDITOR.dom.elementPath(a.endContainer,e);if(i.type==CKEDITOR.NODE_TEXT&&(i=i.getParent()),r.blockLimit.is({tr:1,table:1})){var s=r.contains("table").getParent();n=function(t){return!t.equals(s)}}else if(r.block&&r.block.is(CKEDITOR.dtd.$listItem)&&(o=o.contains(CKEDITOR.dtd.$list),a=a.contains(CKEDITOR.dtd.$list),!o.equals(a))){var l=r.contains(CKEDITOR.dtd.$list).getParent();n=function(t){return!t.equals(l)}}n||(n=function(t){return!t.equals(r.block)&&!t.equals(r.blockLimit)}),this.rebuildFragment(t,e,i,n)},rebuildFragment:function(t,e,n,i){for(var r;n&&!n.equals(e)&&i(n);)r=n.clone(0,1),t.fragment.appendTo(r),t.fragment=r,n=n.getParent()}},cell:{shrink:function(t){var e=(t=t.range).startContainer,n=t.endContainer,i=t.startOffset,r=t.endOffset;e.type==CKEDITOR.NODE_ELEMENT&&e.equals(n)&&e.is("tr")&&++i==r&&t.shrink(CKEDITOR.SHRINK_TEXT)}}},y=function(){function t(t,e){var n=t.getParent();n.is(CKEDITOR.dtd.$inline)&&t[e?"insertBefore":"insertAfter"](n)}function e(e,n,i){t(n),t(i,1);for(var r;r=i.getNext();)r.insertAfter(n),n=r;d(e)&&e.remove()}function n(t,e){var n=new CKEDITOR.dom.range(t);return n.setStartAfter(e.startNode),n.setEndBefore(e.endNode),n}return{list:{detectMerge:function(t,e){var i=n(e,t.bookmark),r=i.startPath(),o=i.endPath(),a=r.contains(CKEDITOR.dtd.$list),s=o.contains(CKEDITOR.dtd.$list);t.mergeList=a&&s&&a.getParent().equals(s.getParent())&&!a.equals(s),t.mergeListItems=r.block&&o.block&&r.block.is(CKEDITOR.dtd.$listItem)&&o.block.is(CKEDITOR.dtd.$listItem),(t.mergeList||t.mergeListItems)&&((i=i.clone()).setStartBefore(t.bookmark.startNode),i.setEndAfter(t.bookmark.endNode),t.mergeListBookmark=i.createBookmark())},merge:function(t,n){if(t.mergeListBookmark){var i=t.mergeListBookmark.startNode,r=t.mergeListBookmark.endNode,o=new CKEDITOR.dom.elementPath(i,n),a=new CKEDITOR.dom.elementPath(r,n);if(t.mergeList){var s=o.contains(CKEDITOR.dtd.$list),l=a.contains(CKEDITOR.dtd.$list);s.equals(l)||(l.moveChildren(s),l.remove())}t.mergeListItems&&(o=o.contains(CKEDITOR.dtd.$listItem),a=a.contains(CKEDITOR.dtd.$listItem),o.equals(a)||e(a,i,r)),i.remove(),r.remove()}}},block:{detectMerge:function(t,e){if(!t.tableContentsRanges&&!t.mergeListBookmark){var n=new CKEDITOR.dom.range(e);n.setStartBefore(t.bookmark.startNode),n.setEndAfter(t.bookmark.endNode),t.mergeBlockBookmark=n.createBookmark()}},merge:function(t,n){if(t.mergeBlockBookmark&&!t.purgeTableBookmark){var i=t.mergeBlockBookmark.startNode,r=t.mergeBlockBookmark.endNode,o=new CKEDITOR.dom.elementPath(i,n),a=new CKEDITOR.dom.elementPath(r,n);o=o.block,a=a.block;o&&a&&!o.equals(a)&&e(a,i,r),i.remove(),r.remove()}}},table:function(){function t(t){var n,r=[],o=new CKEDITOR.dom.walker(t),a=t.startPath().contains(i),s=t.endPath().contains(i),l={};return o.guard=function(o,c){if(o.type==CKEDITOR.NODE_ELEMENT){var u="visited_"+(c?"out":"in");if(o.getCustomData(u))return;CKEDITOR.dom.element.setMarker(l,o,u,1)}if(c&&a&&o.equals(a))(n=t.clone()).setEndAt(a,CKEDITOR.POSITION_BEFORE_END),r.push(n);else if(!c&&s&&o.equals(s))(n=t.clone()).setStartAt(s,CKEDITOR.POSITION_AFTER_START),r.push(n);else{if((u=!c)&&(u=o.type==CKEDITOR.NODE_ELEMENT&&o.is(i)&&(!a||e(o,a))&&(!s||e(o,s))),!u&&(u=c))if(o.is(i)){u=a&&a.getAscendant("table",!0);var d=s&&s.getAscendant("table",!0),h=o.getAscendant("table",!0);u=u&&u.contains(h)||d&&d.contains(h)}else u=void 0;u&&((n=t.clone()).selectNodeContents(o),r.push(n))}},o.lastForward(),CKEDITOR.dom.element.clearAllMarkers(l),r}function e(t,e){var n=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,i=t.getPosition(e);return i!==CKEDITOR.POSITION_IDENTICAL&&0==(i&n)}var i={td:1,th:1,caption:1};return{detectPurge:function(t){var e=t.range;(n=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT);var n=new CKEDITOR.dom.walker(n),r=0;if(n.evaluator=function(t){t.type==CKEDITOR.NODE_ELEMENT&&t.is(i)&&++r},n.checkForward(),1<r){n=e.startPath().contains("table");var o=e.endPath().contains("table");n&&o&&e.checkBoundaryOfElement(n,CKEDITOR.START)&&e.checkBoundaryOfElement(o,CKEDITOR.END)&&((e=t.range.clone()).setStartBefore(n),e.setEndAfter(o),t.purgeTableBookmark=e.createBookmark())}},detectRanges:function(r,o){var a,s,l=n(o,r.bookmark),c=l.clone(),u=l.getCommonAncestor();u.is(CKEDITOR.dtd.$tableContent)&&!u.is(i)&&(u=u.getAscendant("table",!0)),s=u,u=new CKEDITOR.dom.elementPath(l.startContainer,s),s=new CKEDITOR.dom.elementPath(l.endContainer,s),u=u.contains("table"),s=s.contains("table"),(u||s)&&(u&&s&&e(u,s)?(r.tableSurroundingRange=c,c.setStartAt(u,CKEDITOR.POSITION_AFTER_END),c.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),(c=l.clone()).setEndAt(u,CKEDITOR.POSITION_AFTER_END),(a=l.clone()).setStartAt(s,CKEDITOR.POSITION_BEFORE_START),a=t(c).concat(t(a))):u?s||(r.tableSurroundingRange=c,c.setStartAt(u,CKEDITOR.POSITION_AFTER_END),l.setEndAt(u,CKEDITOR.POSITION_AFTER_END)):(r.tableSurroundingRange=c,c.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),l.setStartAt(s,CKEDITOR.POSITION_AFTER_START)),r.tableContentsRanges=a||t(l))},deleteRanges:function(t){for(var e;e=t.tableContentsRanges.pop();)e.extractContents(),d(e.startContainer)&&e.startContainer.appendBogus();t.tableSurroundingRange&&t.tableSurroundingRange.extractContents()},purge:function(t){if(t.purgeTableBookmark){var e=t.doc,n=t.range.clone();(e=e.createElement("p")).insertBefore(t.purgeTableBookmark.startNode),n.moveToBookmark(t.purgeTableBookmark),n.deleteContents(),t.range.moveToPosition(e,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(t){return!(t.range.startPath().contains(CKEDITOR.dtd.$listItem)&&t.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(t){t.startContainer.getDtd()["#"]||t.moveToClosestEditablePosition(null,!0)},autoParagraph:function(t,e){var n,i=e.startPath();r(t,i.block,i.blockLimit)&&(n=o(t))&&((n=e.document.createElement(n)).appendBogus(),e.insertNode(n),e.moveToPosition(n,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function t(t){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(t)}function e(e,n){if(0===e.length||t(e[0].getEnclosedNode()))return!1;var i,r;if((i=!n&&1===e.length)&&!(i=e[0].collapsed)){var o=e[0];i=o.startContainer.getAscendant({td:1,th:1},!0);var a=o.endContainer.getAscendant({td:1,th:1},!0);r=CKEDITOR.tools.trim,i&&i.equals(a)&&!i.findOne("td, th, tr, tbody, table")?i=!(o=o.cloneContents()).getFirst()||r(o.getFirst().getText())!==r(i.getText()):i=!1}if(i)return!1;for(r=0;r<e.length;r++)if(!(i=e[r]._getTableElement()))return!1;return!0}function n(t){var e=this.root.editor,n=e.getSelection(1);this.reset(),d=!0,n.root.once("selectionchange",function(t){t.cancel()},null,null,0),n.selectRanges([t[0]]),(n=this._.cache).ranges=new CKEDITOR.dom.rangeList(t),n.type=CKEDITOR.SELECTION_TEXT,n.selectedElement=t[0]._getTableElement(),n.selectedText=function(t){t=function(t){function e(t){t=t.find("td, th");var e,n=[];for(e=0;e<t.count();e++)n.push(t.getItem(e));return n}var n,i,r=[];for(i=0;i<t.length;i++)(n=t[i]._getTableElement()).is&&n.is({td:1,th:1})?r.push(n):r=r.concat(e(n));return r}(t);var e,n,i="",r=[];for(n=0;n<t.length;n++)e&&!e.equals(t[n].getAscendant("tr"))?(i+=r.join("\t")+"\n",e=t[n].getAscendant("tr"),r=[]):0===n&&(e=t[n].getAscendant("tr")),r.push(t[n].getText());return i+r.join("\t")}(t),n.nativeSel=null,this.isFake=1,this.rev=g++,e._.fakeSelection=this,d=!1,this.root.fire("selectionchange")}function i(){var n,i=this._.fakeSelection;if(i){var r;if(!(r=!(n=this.getSelection(1)))&&(r=!n.isHidden())){r=i;var o=n.getRanges(),a=r.getRanges(),s=o.length&&o[0]._getTableElement()&&o[0]._getTableElement().getAscendant("table",!0),l=a.length&&a[0]._getTableElement()&&a[0]._getTableElement().getAscendant("table",!0),c=1===o.length&&o[0]._getTableElement()&&o[0]._getTableElement().is("table"),u=1===a.length&&a[0]._getTableElement()&&a[0]._getTableElement().is("table");if(t(r.getSelectedElement()))r=!1;else{var d=1===o.length&&o[0].collapsed;a=e(o,!!CKEDITOR.env.webkit)&&e(a);(s=!(!s||!l)&&(s.equals(l)||l.contains(s)))&&(d||a)?(c&&!u&&r.selectRanges(o),r=!0):r=!1}r=!r}r&&(i.reset(),i=0)}(i||(i=n||this.getSelection(1))&&i.getType()!=CKEDITOR.SELECTION_NONE)&&(this.fire("selectionCheck",i),(n=this.elementPath()).compare(this._.selectionPreviousPath)||(r=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(n.blockLimit),!CKEDITOR.env.webkit&&!CKEDITOR.env.gecko||r||(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=n,this.fire("selectionChange",{selection:i,path:n})))}function r(){f=!0,h||(o.call(this),h=CKEDITOR.tools.setTimeout(o,200,this))}function o(){h=null,f&&(CKEDITOR.tools.setTimeout(i,0,this),f=!1)}function a(t){return!(!y(t)&&(t.type!=CKEDITOR.NODE_ELEMENT||t.is(CKEDITOR.dtd.$empty)))}function s(t){function e(e,n){return!(!e||e.type==CKEDITOR.NODE_TEXT)&&t.clone()["moveToElementEdit"+(n?"End":"Start")](e)}if(!(t.root instanceof CKEDITOR.editable))return!1;var n=t.startContainer,i=t.getPreviousNode(a,null,n),r=t.getNextNode(a,null,n);return!(!e(i)&&!e(r,1)&&(i||r||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()&&n.getBogus()))}function l(t){c(t,!1);var e=t.getDocument().createText(m);return t.setCustomData("cke-fillingChar",e),e}function c(t,e){var n=t&&t.removeCustomData("cke-fillingChar");if(n){if(!1!==e){var i=t.getDocument().getSelection().getNative(),r=i&&"None"!=i.type&&i.getRangeAt(0),o=m.length;if(n.getLength()>o&&r&&r.intersectsNode(n.$)){var a=[{node:i.anchorNode,offset:i.anchorOffset},{node:i.focusNode,offset:i.focusOffset}];i.anchorNode==n.$&&i.anchorOffset>o&&(a[0].offset-=o),i.focusNode==n.$&&i.focusOffset>o&&(a[1].offset-=o)}}n.setText(u(n.getText(),1)),a&&(i=(n=t.getDocument().$).getSelection(),(n=n.createRange()).setStart(a[0].node,a[0].offset),n.collapse(!0),i.removeAllRanges(),i.addRange(n),i.extend(a[1].node,a[1].offset))}}function u(t,e){return e?t.replace(v,function(t,e){return e?"Â ":""}):t.replace(m,"")}var d,h,f,p="function"!=typeof window.getSelection,g=1,m=CKEDITOR.tools.repeat("â",7),v=new RegExp(m+"( )?","g"),y=CKEDITOR.dom.walker.invisible(1),b=function(){function t(t){return function(e){var n=e.editor.createRange();return n.moveToClosestEditablePosition(e.selected,t)&&e.editor.getSelection().selectRanges([n]),!1}}function e(t){return function(e){var n,i=e.editor,r=i.createRange();if(!i.readOnly)return(n=r.moveToClosestEditablePosition(e.selected,t))||(n=r.moveToClosestEditablePosition(e.selected,!t)),n&&i.getSelection().selectRanges([r]),i.fire("saveSnapshot"),e.selected.remove(),n||(r.moveToElementEditablePosition(i.editable()),i.getSelection().selectRanges([r])),i.fire("saveSnapshot"),!1}}var n=t(),i=t(1);return{37:n,38:n,39:i,40:i,8:e(),46:e(1)}}();CKEDITOR.on("instanceCreated",function(t){function e(){var t=n.getSelection();t&&t.removeAllRanges()}var n=t.editor;n.on("contentDom",function(){function t(){(a=new CKEDITOR.dom.selection(n.getSelection())).lock()}function e(){d.removeListener("mouseup",e),g.removeListener("mouseup",e);var t=CKEDITOR.document.$.selection,n=t.createRange();"None"!=t.type&&n.parentElement()&&n.parentElement().ownerDocument==u.$&&n.select()}var o,a,s,l,u=n.document,d=CKEDITOR.document,h=n.editable(),f=u.getBody(),g=u.getDocumentElement(),m=h.isInline();if((CKEDITOR.env.gecko&&h.attachListener(h,"focus",function(t){t.removeListener(),0!==o&&(t=n.getSelection().getNative())&&t.isCollapsed&&t.anchorNode==h.$&&((t=n.createRange()).moveToElementEditStart(h),t.select())},null,null,-2),h.attachListener(h,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){if(o&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){o=n._.previousActive&&n._.previousActive.equals(u.getActive());var t=null!=n._.previousScrollTop&&n._.previousScrollTop!=h.$.scrollTop;CKEDITOR.env.webkit&&o&&t&&(h.$.scrollTop=n._.previousScrollTop)}n.unlockSelection(o),o=0},null,null,-1),h.attachListener(h,"mousedown",function(){o=0}),(CKEDITOR.env.ie||CKEDITOR.env.gecko||m)&&(p?h.attachListener(h,"beforedeactivate",t,null,null,-1):h.attachListener(n,"selectionCheck",t,null,null,-1),h.attachListener(h,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusout":"blur",function(){var t=a&&(a.isFake||2>a.getRanges().length);CKEDITOR.env.gecko&&!m&&t||(n.lockSelection(a),o=1)},null,null,-1),h.attachListener(h,"mousedown",function(){o=0})),CKEDITOR.env.ie&&!m)&&(h.attachListener(h,"mousedown",function(t){2==t.data.$.button&&((t=n.document.getSelection())&&t.getType()!=CKEDITOR.SELECTION_NONE||(s=n.window.getScrollPosition()))}),h.attachListener(h,"mouseup",function(t){2==t.data.$.button&&s&&(n.document.$.documentElement.scrollLeft=s.x,n.document.$.documentElement.scrollTop=s.y),s=null}),"BackCompat"!=u.$.compatMode)){var v,y;if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)g.on("mousedown",function(t){function e(t){if(t=t.data.$,v){var e=f.$.createTextRange();try{e.moveToPoint(t.clientX,t.clientY)}catch(t){}v.setEndPoint(0>y.compareEndPoints("StartToStart",e)?"EndToEnd":"StartToStart",e),v.select()}}function n(){g.removeListener("mousemove",e),d.removeListener("mouseup",n),g.removeListener("mouseup",n),v.select()}if((t=t.data).getTarget().is("html")&&t.$.y<g.$.clientHeight&&t.$.x<g.$.clientWidth){v=f.$.createTextRange();try{v.moveToPoint(t.$.clientX,t.$.clientY)}catch(t){}y=v.duplicate(),g.on("mousemove",e),d.on("mouseup",n),g.on("mouseup",n)}});7<CKEDITOR.env.version&&11>CKEDITOR.env.version&&g.on("mousedown",function(t){t.data.getTarget().is("html")&&(d.on("mouseup",e),g.on("mouseup",e))})}(h.attachListener(h,"selectionchange",i,n),h.attachListener(h,"keyup",r,n),h.attachListener(h,"touchstart",r,n),h.attachListener(h,"touchend",r,n),CKEDITOR.env.ie&&h.attachListener(h,"keydown",function(t){var e,n;(e=!!(e=this.document.getActive())&&("input"===e.getName()||"textarea"===e.getName()))||(n=function(t){return(t=t.getRanges()[0])&&(t=t.startContainer.getAscendant(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable")},!0))&&"false"===t.getAttribute("contenteditable")?t:null}(e=this.getSelection(1)))&&!n.equals(h)&&(e.selectElement(n),t.data.preventDefault())},n),h.attachListener(h,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){n.forceNextSelectionCheck(),n.selectionChange(1)}),m&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko))?(h.attachListener(h,"mousedown",function(){l=1}),h.attachListener(u.getDocumentElement(),"mouseup",function(){l&&r.call(n),l=0})):h.attachListener(CKEDITOR.env.ie?h:u.getDocumentElement(),"mouseup",r,n);CKEDITOR.env.webkit&&h.attachListener(u,"keydown",function(t){switch(t.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:h.hasFocus&&c(h)}},null,null,-1),h.attachListener(h,"keydown",function(t){var e={37:1,39:1,8:1,46:1};return function(n){var i=n.data.getKeystroke();if(e[i]){var r=t.getSelection().getRanges(),o=r[0];1==r.length&&o.collapsed&&(i=o[38>i?"getPreviousEditableNode":"getNextEditableNode"]())&&i.type==CKEDITOR.NODE_ELEMENT&&"false"==i.getAttribute("contenteditable")&&(t.getSelection().fake(i),n.data.preventDefault(),n.cancel())}}}(n),null,null,-1)}),n.on("setData",function(){n.unlockSelection(),CKEDITOR.env.webkit&&e()}),n.on("contentDomUnload",function(){n.unlockSelection()}),CKEDITOR.env.ie9Compat&&n.on("beforeDestroy",e,null,null,9),n.on("dataReady",function(){delete n._.fakeSelection,delete n._.hiddenSelectionContainer,n.selectionChange(1)}),n.on("loadSnapshot",function(){var t=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),e=n.editable().getLast(t);e&&e.hasAttribute("data-cke-hidden-sel")&&(e.remove(),CKEDITOR.env.gecko&&(t=n.editable().getFirst(t))&&t.is("br")&&t.getAttribute("_moz_editor_bogus_node")&&t.remove())},null,null,100),n.on("key",function(t){if("wysiwyg"==n.mode){var e=n.getSelection();if(e.isFake){var i=b[t.data.keyCode];if(i)return i({editor:n,selected:e.getSelectedElement(),selection:e,keyEvent:t})}}})}),CKEDITOR.env.webkit&&CKEDITOR.on("instanceReady",function(t){var e=t.editor;e.on("selectionChange",function(){var t=e.editable(),n=t.getCustomData("cke-fillingChar");n&&(n.getCustomData("ready")?(c(t),t.editor.fire("selectionCheck")):n.setCustomData("ready",1))},null,null,-1),e.on("beforeSetMode",function(){c(e.editable())},null,null,-1),e.on("getSnapshot",function(t){t.data&&(t.data=u(t.data))},e,null,20),e.on("toDataFormat",function(t){t.data.dataValue=u(t.data.dataValue)},null,null,0)}),CKEDITOR.editor.prototype.selectionChange=function(t){(t?i:r).call(this)},CKEDITOR.editor.prototype.getSelection=function(t){return!this._.savedSelection&&!this._.fakeSelection||t?(t=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(t):null:this._.savedSelection||this._.fakeSelection},CKEDITOR.editor.prototype.getSelectedRanges=function(t){var e=this.getSelection();return e&&e.getRanges(t)||[]},CKEDITOR.editor.prototype.lockSelection=function(t){return(t=t||this.getSelection(1)).getType()!=CKEDITOR.SELECTION_NONE&&(!t.isLocked&&t.lock(),this._.savedSelection=t,!0)},CKEDITOR.editor.prototype.unlockSelection=function(t){var e=this._.savedSelection;return!!e&&(e.unlock(t),delete this._.savedSelection,!0)},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var t=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return t.selectRanges([this]),t},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3,CKEDITOR.dom.selection=function(t){if(t instanceof CKEDITOR.dom.selection){var e=t;t=t.root}var n,i,r=t instanceof CKEDITOR.dom.element;if(this.rev=e?e.rev:g++,this.document=t instanceof CKEDITOR.dom.document?t:t.getDocument(),this.root=r?t:this.document.getBody(),this.isLocked=0,this._={cache:{}},e)return CKEDITOR.tools.extend(this._.cache,e._.cache),this.isFake=e.isFake,this.isLocked=e.isLocked,this;if(t=this.getNative())if(t.getRangeAt)n=(i=t.rangeCount&&t.getRangeAt(0))&&new CKEDITOR.dom.node(i.commonAncestorContainer);else{try{i=t.createRange()}catch(t){}n=i&&CKEDITOR.dom.element.get(i.item&&i.item(0)||i.parentElement())}return(!n||n.type!=CKEDITOR.NODE_ELEMENT&&n.type!=CKEDITOR.NODE_TEXT||!this.root.equals(n)&&!this.root.contains(n))&&(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var w={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:u,_createFillingCharSequenceNode:l,FILLING_CHAR_SEQUENCE:m}),CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=p?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:p?function(){var t=this._.cache;if(t.type)return t.type;var e=CKEDITOR.SELECTION_NONE;try{var n=this.getNative(),i=n.type;"Text"==i&&(e=CKEDITOR.SELECTION_TEXT),"Control"==i&&(e=CKEDITOR.SELECTION_ELEMENT),n.createRange().parentElement()&&(e=CKEDITOR.SELECTION_TEXT)}catch(t){}return t.type=e}:function(){var t=this._.cache;if(t.type)return t.type;var e=CKEDITOR.SELECTION_TEXT;if((n=this.getNative())&&n.rangeCount){if(1==n.rangeCount){var n,i=(n=n.getRangeAt(0)).startContainer;i==n.endContainer&&1==i.nodeType&&1==n.endOffset-n.startOffset&&w[i.childNodes[n.startOffset].nodeName.toLowerCase()]&&(e=CKEDITOR.SELECTION_ELEMENT)}}else e=CKEDITOR.SELECTION_NONE;return t.type=e},getRanges:function(){var t=p?function(){function t(t){return new CKEDITOR.dom.node(t).getIndex()}var e=function(e,n){(e=e.duplicate()).collapse(n);var i=e.parentElement();if(!i.hasChildNodes())return{container:i,offset:0};for(var r,o,a,s,l=i.children,c=e.duplicate(),u=0,d=l.length-1,h=-1;u<=d;)if(r=l[h=Math.floor((u+d)/2)],c.moveToElementText(r),0<(a=c.compareEndPoints("StartToStart",e)))d=h-1;else{if(!(0>a))return{container:i,offset:t(r)};u=h+1}if(-1==h||h==l.length-1&&0>a){if(c.moveToElementText(i),c.setEndPoint("StartToStart",e),c=c.text.replace(/(\r\n|\r)/g,"\n").length,l=i.childNodes,!c)return(r=l[l.length-1]).nodeType!=CKEDITOR.NODE_TEXT?{container:i,offset:l.length}:{container:r,offset:r.nodeValue.length};for(i=l.length;0<c&&0<i;)(o=l[--i]).nodeType==CKEDITOR.NODE_TEXT&&(s=o,c-=o.nodeValue.length);return{container:s,offset:-c}}if(c.collapse(0<a),c.setEndPoint(0<a?"StartToStart":"EndToStart",e),!(c=c.text.replace(/(\r\n|\r)/g,"\n").length))return{container:i,offset:t(r)+(0<a?0:1)};for(;0<c;)try{(o=r[0<a?"previousSibling":"nextSibling"]).nodeType==CKEDITOR.NODE_TEXT&&(c-=o.nodeValue.length,s=o),r=o}catch(e){return{container:i,offset:t(r)}}return{container:s,offset:0<a?-c:s.nodeValue.length+c}};return function(){var t=(s=this.getNative())&&s.createRange(),n=this.getType();if(!s)return[];if(n==CKEDITOR.SELECTION_TEXT)return s=new CKEDITOR.dom.range(this.root),n=e(t,!0),s.setStart(new CKEDITOR.dom.node(n.container),n.offset),n=e(t),s.setEnd(new CKEDITOR.dom.node(n.container),n.offset),s.endContainer.getPosition(s.startContainer)&CKEDITOR.POSITION_PRECEDING&&s.endOffset<=s.startContainer.getIndex()&&s.collapse(),[s];if(n==CKEDITOR.SELECTION_ELEMENT){n=[];for(var i=0;i<t.length;i++){for(var r=t.item(i),o=r.parentNode,a=0,s=new CKEDITOR.dom.range(this.root);a<o.childNodes.length&&o.childNodes[a]!=r;a++);s.setStart(new CKEDITOR.dom.node(o),a),s.setEnd(new CKEDITOR.dom.node(o),a+1),n.push(s)}return n}return[]}}():function(){var t,e=[],n=this.getNative();if(!n)return e;for(var i=0;i<n.rangeCount;i++){var r=n.getRangeAt(i);(t=new CKEDITOR.dom.range(this.root)).setStart(new CKEDITOR.dom.node(r.startContainer),r.startOffset),t.setEnd(new CKEDITOR.dom.node(r.endContainer),r.endOffset),e.push(t)}return e};return function(e){var n=this._.cache,i=n.ranges;return i||(n.ranges=i=new CKEDITOR.dom.rangeList(t.call(this))),e?function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.getCommonAncestor().isReadOnly()&&t.splice(e,1),!n.collapsed){if(n.startContainer.isReadOnly())for(var i,r=n.startContainer;r&&!((i=r.type==CKEDITOR.NODE_ELEMENT)&&r.is("body")||!r.isReadOnly());)i&&"false"==r.getAttribute("contentEditable")&&n.setStartAfter(r),r=r.getParent();r=n.startContainer,i=n.endContainer;var o=n.startOffset,a=n.endOffset,s=n.clone();r&&r.type==CKEDITOR.NODE_TEXT&&(o>=r.getLength()?s.setStartAfter(r):s.setStartBefore(r)),i&&i.type==CKEDITOR.NODE_TEXT&&(a?s.setEndAfter(i):s.setEndBefore(i)),(r=new CKEDITOR.dom.walker(s)).evaluator=function(i){if(i.type==CKEDITOR.NODE_ELEMENT&&i.isReadOnly()){var r=n.clone();return n.setEndBefore(i),n.collapsed&&t.splice(e--,1),i.getPosition(s.endContainer)&CKEDITOR.POSITION_CONTAINS||(r.setStartAfter(i),r.collapsed||t.splice(e+1,0,r)),!0}return!1},r.next()}}return t}(new CKEDITOR.dom.rangeList(i.slice())):i}}(),getStartElement:function(){var t,e=this._.cache;if(void 0!==e.startElement)return e.startElement;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var n=this.getRanges()[0];if(n){if(n.collapsed)(t=n.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent());else{for(n.optimize();t=n.startContainer,n.startOffset==(t.getChildCount?t.getChildCount():t.getLength())&&!t.isBlockBoundary();)n.setStartAfter(t);if((t=n.startContainer).type!=CKEDITOR.NODE_ELEMENT)return t.getParent();if((t=t.getChild(n.startOffset))&&t.type==CKEDITOR.NODE_ELEMENT)for(n=t.getFirst();n&&n.type==CKEDITOR.NODE_ELEMENT;)t=n,n=n.getFirst();else t=n.startContainer}t=t.$}}return e.startElement=t?new CKEDITOR.dom.element(t):null},getSelectedElement:function(){var t=this._.cache;if(void 0!==t.selectedElement)return t.selectedElement;var e=this,n=CKEDITOR.tools.tryThese(function(){return e.getNative().createRange().item(0)},function(){for(var t,n,i=e.getRanges()[0].clone(),r=2;r&&!((t=i.getEnclosedNode())&&t.type==CKEDITOR.NODE_ELEMENT&&w[t.getName()]&&(n=t));r--)i.shrink(CKEDITOR.SHRINK_ELEMENT);return n&&n.$});return t.selectedElement=n?new CKEDITOR.dom.element(n):null},getSelectedText:function(){var t=this._.cache;if(void 0!==t.selectedText)return t.selectedText;var e=this.getNative();e=p?"Control"==e.type?"":e.createRange().text:e.toString();return t.selectedText=e},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(t){if(this.isLocked){if(t)var i=this.getSelectedElement(),r=this.getRanges(),o=this.isFake;this.isLocked=0,this.reset(),t&&(t=i||r[0]&&r[0].getCommonAncestor())&&t.getAscendant("body",1)&&((t=this.root.editor)&&t.plugins.tableselection&&t.plugins.tableselection.isSupportedEnvironment(t)&&e(r)?n.call(this,r):o?this.fake(i):i&&2>r.length?this.selectElement(i):this.selectRanges(r))}},reset:function(){this._.cache={},this.isFake=0;var t=this.root.editor;if(t&&t._.fakeSelection)if(this.rev==t._.fakeSelection.rev){delete t._.fakeSelection;var e=t._.hiddenSelectionContainer;if(e){var n=t.checkDirty();t.fire("lockSnapshot"),e.remove(),t.fire("unlockSnapshot"),!n&&t.resetDirty()}delete t._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=g++},selectElement:function(t){var e=new CKEDITOR.dom.range(this.root);e.setStartBefore(t),e.setEndAfter(t),this.selectRanges([e])},selectRanges:function(t){var i=this.root.editor,r=i&&i._.hiddenSelectionContainer;if(this.reset(),r){r=this.root;for(var o,a=0;a<t.length;++a)(o=t[a]).endContainer.equals(r)&&(o.endOffset=Math.min(o.endOffset,r.getChildCount()))}if(t.length)if(this.isLocked){var u=CKEDITOR.document.getActive();this.unlock(),this.selectRanges(t),this.lock(),u&&!u.equals(this.root)&&u.focus()}else{var h,f,g;if(1==t.length&&!(g=t[0]).collapsed&&(h=g.getEnclosedNode())&&h.type==CKEDITOR.NODE_ELEMENT&&((g=g.clone()).shrink(CKEDITOR.SHRINK_ELEMENT,!0),(f=g.getEnclosedNode())&&f.type==CKEDITOR.NODE_ELEMENT&&(h=f),"false"==h.getAttribute("contenteditable"))||(h=void 0),h)this.fake(h);else if(i&&i.plugins.tableselection&&i.plugins.tableselection.isSupportedEnvironment(i)&&e(t)&&!d&&!t[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored"))n.call(this,t);else{if(p){var m,v,y;if(f=CKEDITOR.dom.walker.whitespaces(!0),h=/\ufeff|\u00a0/,g={table:1,tbody:1,tr:1},1<t.length&&(i=t[t.length-1],t[0].setEnd(i.endContainer,i.endOffset)),t=(i=t[0]).collapsed,(r=i.getEnclosedNode())&&r.type==CKEDITOR.NODE_ELEMENT&&r.getName()in w&&(!r.is("a")||!r.getText()))try{return(y=r.$.createControlRange()).addElement(r.$),void y.select()}catch(t){}(i.startContainer.type==CKEDITOR.NODE_ELEMENT&&i.startContainer.getName()in g||i.endContainer.type==CKEDITOR.NODE_ELEMENT&&i.endContainer.getName()in g)&&(i.shrink(CKEDITOR.NODE_ELEMENT,!0),t=i.collapsed),g=(y=i.createBookmark()).startNode,t||(u=y.endNode),(y=i.document.$.body.createTextRange()).moveToElementText(g.$),y.moveStart("character",1),u?((h=i.document.$.body.createTextRange()).moveToElementText(u.$),y.setEndPoint("EndToEnd",h),y.moveEnd("character",-1)):(m=g.getNext(f),v=g.hasAscendant("pre"),m=!(m&&m.getText&&m.getText().match(h))&&(v||!g.hasPrevious()||g.getPrevious().is&&g.getPrevious().is("br")),(v=i.document.createElement("span")).setHtml("&#65279;"),v.insertBefore(g),m&&i.document.createText("\ufeff").insertBefore(g)),i.setStartBefore(g),g.remove(),t?(m?(y.moveStart("character",-1),y.select(),i.document.$.selection.clear()):y.select(),i.moveToPosition(v,CKEDITOR.POSITION_BEFORE_START),v.remove()):(i.setEndBefore(u),u.remove(),y.select())}else{if(!(u=this.getNative()))return;for(this.removeAllRanges(),y=0;y<t.length;y++)if(y<t.length-1&&(m=t[y],v=t[y+1],(h=m.clone()).setStart(m.endContainer,m.endOffset),h.setEnd(v.startContainer,v.startOffset),!h.collapsed&&(h.shrink(CKEDITOR.NODE_ELEMENT,!0),i=h.getCommonAncestor(),h=h.getEnclosedNode(),i.isReadOnly()||h&&h.isReadOnly())))v.setStart(m.startContainer,m.startOffset),t.splice(y--,1);else{i=t[y],v=this.document.$.createRange(),i.collapsed&&CKEDITOR.env.webkit&&s(i)&&(h=l(this.root),i.insertNode(h),(m=h.getNext())&&!h.getPrevious()&&m.type==CKEDITOR.NODE_ELEMENT&&"br"==m.getName()?(c(this.root),i.moveToPosition(m,CKEDITOR.POSITION_BEFORE_START)):i.moveToPosition(h,CKEDITOR.POSITION_AFTER_END)),v.setStart(i.startContainer.$,i.startOffset);try{v.setEnd(i.endContainer.$,i.endOffset)}catch(t){if(!(0<=t.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")))throw t;i.collapse(1),v.setEnd(i.endContainer.$,i.endOffset)}u.addRange(v)}}this.reset(),this.root.fire("selectionchange")}}},fake:function(t,e){var n=this.root.editor;void 0===e&&t.hasAttribute("aria-label")&&(e=t.getAttribute("aria-label")),this.reset(),function(t,e){var n=e&&CKEDITOR.tools.htmlEncode(e)||"&nbsp;";n=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?"display:none":"position:fixed;top:0;left:-1000px;width:0;height:0;overflow:hidden;")+'">'+n+"</div>",t.document),t.fire("lockSnapshot"),t.editable().append(n);var i=t.getSelection(1),r=t.createRange(),o=i.root.on("selectionchange",function(t){t.cancel()},null,null,0);r.setStartAt(n,CKEDITOR.POSITION_AFTER_START),r.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),i.selectRanges([r]),o.removeListener(),t.fire("unlockSnapshot"),t._.hiddenSelectionContainer=n}(n,e);var i=this._.cache,r=new CKEDITOR.dom.range(this.root);r.setStartBefore(t),r.setEndAfter(t),i.ranges=new CKEDITOR.dom.rangeList(r),i.selectedElement=i.startElement=t,i.type=CKEDITOR.SELECTION_ELEMENT,i.selectedText=i.nativeSel=null,this.isFake=1,this.rev=g++,n._.fakeSelection=this,this.root.fire("selectionchange")},isHidden:function(){var t=this.getCommonAncestor();return t&&t.type==CKEDITOR.NODE_TEXT&&(t=t.getParent()),!(!t||!t.data("cke-hidden-sel"))},isInTable:function(t){return e(this.getRanges(),t)},isCollapsed:function(){var t=this.getRanges();return 1===t.length&&t[0].collapsed},createBookmarks:function(t){return t=this.getRanges().createBookmarks(t),this.isFake&&(t.isFake=1),t},createBookmarks2:function(t){return t=this.getRanges().createBookmarks2(t),this.isFake&&(t.isFake=1),t},selectBookmarks:function(t){for(var n,i=[],r=0;r<t.length;r++){var o=new CKEDITOR.dom.range(this.root);o.moveToBookmark(t[r]),i.push(o)}return t.isFake&&((n=e(i)?i[0]._getTableElement():i[0].getEnclosedNode())&&n.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),t.isFake=0)),t.isFake&&!e(i)?this.fake(n):this.selectRanges(i),this},getCommonAncestor:function(){var t=this.getRanges();return t.length?t[0].startContainer.getCommonAncestor(t[t.length-1].endContainer):null},scrollIntoView:function(){this.getType()!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var t=this.getNative();try{t&&t[p?"empty":"removeAllRanges"]()}catch(t){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function t(t,e){for(var n,i;(t=t.getParent())&&!t.equals(e);)if(t.getAttribute("data-nostyle"))n=t;else if(!i){var r=t.getAttribute("contentEditable");"false"==r?n=t:"true"==r&&(i=1)}return n}function e(t,e,n,i){return(t.getPosition(e)|i)==i&&(!n.childRule||n.childRule(t))}function n(i){var o=i.document;if(i.collapsed)o=g(this,o),i.insertNode(o),i.moveToPosition(o,CKEDITOR.POSITION_BEFORE_END);else{var a,s=this.element,l=this._.definition,c=(y=l.ignoreReadonly)||l.includeReadonly;null==c&&(c=i.root.getCustomData("cke_includeReadonly"));var u=CKEDITOR.dtd[s];u||(a=!0,u=CKEDITOR.dtd.span),i.enlarge(CKEDITOR.ENLARGE_INLINE,1),i.trim();var d,f=i.createBookmark(),p=f.startNode,m=f.endNode,v=p;if(!y){var y=t(p,b=i.getCommonAncestor()),b=t(m,b);y&&(v=y.getNextSourceNode(!0)),b&&(m=b)}for(v.getPosition(m)==CKEDITOR.POSITION_FOLLOWING&&(v=0);v;){if(y=!1,v.equals(m))v=null,y=!0;else{b=(D=v.type==CKEDITOR.NODE_ELEMENT?v.getName():null)&&"false"==v.getAttribute("contentEditable");var w=D&&-1!==CKEDITOR.tools.array.indexOf(CKEDITOR.style.unstylableElements,D);w=D&&(v.getAttribute("data-nostyle")||w);if(D&&v.data("cke-bookmark")||v.type===CKEDITOR.NODE_COMMENT){v=v.getNextSourceNode(!0);continue}if(b&&c&&CKEDITOR.dtd.$block[D])for(var E=void 0,C=0,T=(P=(N=r(T=v)).length)&&new CKEDITOR.dom.range(T.getDocument());C<P;++C){E=N[C];var _=CKEDITOR.filter.instances[E.data("cke-filter")];_&&!_.check(this)||(T.selectNodeContents(E),n.call(this,T))}if(N=D?!u[D]||w?0:b&&!c?0:e(v,m,l,x):1){if(N=l,P=s,C=a,!(E=v.getParent())||!(E.getDtd()||CKEDITOR.dtd.span)[P]&&!C||N.parentRule&&!N.parentRule(E))y=!0;else if(d||D&&CKEDITOR.dtd.$removeEmpty[D]&&(v.getPosition(m)|x)!=x||(d=i.clone()).setStartBefore(v),(D=v.type)==CKEDITOR.NODE_TEXT||b||D==CKEDITOR.NODE_ELEMENT&&!v.getChildCount()){for(var O,D=v;(y=!D.getNext(k))&&u[(O=D.getParent()).getName()]&&e(O,p,l,I);)D=O;d.setEndAfter(D)}}else y=!0;v=v.getNextSourceNode(w||b)}if(y&&d&&!d.collapsed){b=(y=g(this,o)).hasAttributes(),w=d.getCommonAncestor(),D={};for(var S,R,A,N={},P=(E={},{});y&&w;){if(w.getName()==s){for(S in l.attributes)!P[S]&&(A=w.getAttribute(R))&&(y.getAttribute(S)==A?N[S]=1:P[S]=1);for(R in l.styles)!E[R]&&(A=w.getStyle(R))&&(y.getStyle(R)==A?D[R]=1:E[R]=1)}w=w.getParent()}for(S in N)y.removeAttribute(S);for(R in D)y.removeStyle(R);b&&!y.hasAttributes()&&(y=null),y?(d.extractContents().appendTo(y),d.insertNode(y),h.call(this,y),y.mergeSiblings(),CKEDITOR.env.ie||y.$.normalize()):(y=new CKEDITOR.dom.element("span"),d.extractContents().appendTo(y),d.insertNode(y),h.call(this,y),y.remove(!0)),d=null}}i.moveToBookmark(f),i.shrink(CKEDITOR.SHRINK_TEXT),i.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function i(t){function e(){for(var t=new CKEDITOR.dom.elementPath(i.getParent()),e=new CKEDITOR.dom.elementPath(u.getParent()),n=null,r=null,o=0;o<t.elements.length;o++){var a=t.elements[o];if(a==t.block||a==t.blockLimit)break;h.checkElementRemovable(a,!0)&&(n=a)}for(o=0;o<e.elements.length&&((a=e.elements[o])!=e.block&&a!=e.blockLimit);o++)h.checkElementRemovable(a,!0)&&(r=a);r&&u.breakParent(r),n&&i.breakParent(n)}t.enlarge(CKEDITOR.ENLARGE_INLINE,1);var n=t.createBookmark(),i=n.startNode,r=this._.definition.alwaysRemoveElement;if(t.collapsed){for(var o,a,s=new CKEDITOR.dom.elementPath(i.getParent(),t.root),l=0;l<s.elements.length&&(a=s.elements[l])&&a!=s.block&&a!=s.blockLimit;l++)if(this.checkElementRemovable(a)){var c;!r&&t.collapsed&&(t.checkBoundaryOfElement(a,CKEDITOR.END)||(c=t.checkBoundaryOfElement(a,CKEDITOR.START)))?(o=a).match=c?"start":"end":(a.mergeSiblings(),a.is(this.element)?d.call(this,a):f(a,y(this)[a.getName()]))}if(o){for(r=i,l=0;!(a=s.elements[l]).equals(o);l++)a.match||((a=a.clone()).append(r),r=a);r["start"==o.match?"insertBefore":"insertAfter"](o)}}else{var u=n.endNode,h=this;for(e(),s=i;!s.equals(u);)o=s.getNextSourceNode(),s.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(s)&&(s.getName()==this.element?d.call(this,s):f(s,y(this)[s.getName()]),o.type==CKEDITOR.NODE_ELEMENT&&o.contains(i)&&(e(),o=i.getNext())),s=o}t.moveToBookmark(n),t.shrink(CKEDITOR.NODE_ELEMENT,!0)}function r(t){var e=[];return t.forEach(function(t){if("true"==t.getAttribute("contenteditable"))return e.push(t),!1},CKEDITOR.NODE_ELEMENT,!0),e}function o(t){var e=t.getEnclosedNode()||t.getCommonAncestor(!1,!0);(t=new CKEDITOR.dom.elementPath(e,t.root).contains(this.element,1))&&!t.isReadOnly()&&m(t,this)}function a(t){var e=t.getCommonAncestor(!0,!0);if(t=new CKEDITOR.dom.elementPath(e,t.root).contains(this.element,1)){var n=(e=this._.definition).attributes;if(n)for(var i in n)t.removeAttribute(i,n[i]);if(e.styles)for(var r in e.styles)e.styles.hasOwnProperty(r)&&t.removeStyle(r)}}function s(t){var e=t.createBookmark(!0),n=t.createIterator();n.enforceRealBlocks=!0,this._.enterMode&&(n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var i,r=t.document;i=n.getNextParagraph();)!i.isReadOnly()&&(!n.activeFilter||n.activeFilter.check(this))&&c(i,g(this,r,i));t.moveToBookmark(e)}function l(t){var e,n,i=t.createBookmark(1),r=t.createIterator();for(r.enforceRealBlocks=!0,r.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;e=r.getNextParagraph();)this.checkElementRemovable(e)&&(e.is("pre")?((n=this._.enterMode==CKEDITOR.ENTER_BR?null:t.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&e.copyAttributes(n),c(e,n)):d.call(this,e));t.moveToBookmark(i)}function c(t,e){(n=!e)&&(e=t.getDocument().createElement("div"),t.copyAttributes(e));var n,i,r=e&&e.is("pre"),o=t.is("pre"),a=!r&&o;if(r&&!o){if(o=e,(a=t.getBogus())&&a.remove(),a=(a=(a=(a=u(a=t.getHtml(),/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"")).replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1")).replace(/([ \t\n\r]+|&nbsp;)/g," ")).replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var s=t.getDocument().createElement("div");s.append(o),o.$.outerHTML="<pre>"+a+"</pre>",o.copyAttributes(s.getFirst()),o=s.getFirst().remove()}else o.setHtml(a);e=o}else a?e=function(t,e){var n;1<t.length&&(n=new CKEDITOR.dom.documentFragment(e.getDocument()));for(var i=0;i<t.length;i++){var r=t[i],r=r.replace(/(\r\n|\r)/g,"\n"),r=u(r,/^[ \t]*\n/,""),r=u(r,/\n$/,""),r=u(r,/^[ \t]+|[ \t]+$/g,function(t,e){return 1==t.length?"&nbsp;":e?" "+CKEDITOR.tools.repeat("&nbsp;",t.length-1):CKEDITOR.tools.repeat("&nbsp;",t.length-1)+" "}),r=r.replace(/\n/g,"<br>"),r=r.replace(/[ \t]{2,}/g,function(t){return CKEDITOR.tools.repeat("&nbsp;",t.length-1)+" "});if(n){var o=e.clone();o.setHtml(r),n.append(o)}else e.setHtml(r)}return n||e}(n?[t.getHtml()]:function(t){var e=[];return u(t.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(t,e,n){return e+"</pre>"+n+"<pre>"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(t,n){e.push(n)}),e}(t),e):t.moveChildren(e);(e.replace(t),r)?(i=(n=e).getPrevious(D))&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("pre")&&(r=u(i.getHtml(),/\n$/,"")+"\n\n"+u(n.getHtml(),/^\n/,""),CKEDITOR.env.ie?n.$.outerHTML="<pre>"+r+"</pre>":n.setHtml(r),i.remove()):n&&p(e)}function u(t,e,n){var i="",r="";return t=t.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(t,e,n){return e&&(i=e),n&&(r=n),""}),i+t.replace(e,n)+r}function d(t,e){var n,i=(r=this._.definition).attributes,r=r.styles,o=y(this)[t.getName()],a=CKEDITOR.tools.isEmpty(i)&&CKEDITOR.tools.isEmpty(r);for(n in i)("class"!=n&&!this._.definition.fullMatch||t.getAttribute(n)==b(n,i[n]))&&(e&&"data-"==n.slice(0,5)||(a=t.hasAttribute(n),t.removeAttribute(n)));for(var s in r)this._.definition.fullMatch&&t.getStyle(s)!=b(s,r[s],!0)||(a=a||!!t.getStyle(s),t.removeStyle(s));f(t,o,C[t.getName()]),a&&(this._.definition.alwaysRemoveElement?p(t,1):!CKEDITOR.dtd.$block[t.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!t.hasAttributes()?p(t):t.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function h(t){for(var e,n=y(this),i=t.getElementsByTag(this.element),r=i.count();0<=--r;)(e=i.getItem(r)).isReadOnly()||d.call(this,e,!0);for(var o in n)if(o!=this.element)for(r=(i=t.getElementsByTag(o)).count()-1;0<=r;r--)(e=i.getItem(r)).isReadOnly()||f(e,n[o])}function f(t,e,n){if(e=e&&e.attributes)for(var i=0;i<e.length;i++){var r,o=e[i][0];if(r=t.getAttribute(o)){var a=e[i][1];(null===a||a.test&&a.test(r)||"string"==typeof a&&r==a)&&t.removeAttribute(o)}}n||p(t)}function p(t,e){if(!t.hasAttributes()||e)if(CKEDITOR.dtd.$block[t.getName()]){var n=t.getPrevious(D),i=t.getNext(D);!n||n.type!=CKEDITOR.NODE_TEXT&&n.isBlockBoundary({br:1})||t.append("br",1),!i||i.type!=CKEDITOR.NODE_TEXT&&i.isBlockBoundary({br:1})||t.append("br"),t.remove(!0)}else n=t.getFirst(),i=t.getLast(),t.remove(!0),n&&(n.type==CKEDITOR.NODE_ELEMENT&&n.mergeSiblings(),i&&!n.equals(i)&&i.type==CKEDITOR.NODE_ELEMENT&&i.mergeSiblings())}function g(t,e,n){var i;return"*"==(i=t.element)&&(i="span"),i=new CKEDITOR.dom.element(i,e),n&&n.copyAttributes(i),i=m(i,t),e.getCustomData("doc_processing_style")&&i.hasAttribute("id")?i.removeAttribute("id"):e.setCustomData("doc_processing_style",1),i}function m(t,e){var n=(i=e._.definition).attributes,i=CKEDITOR.style.getStyleText(i);if(n)for(var r in n)t.setAttribute(r,n[r]);return i&&t.setAttribute("style",i),t.getDocument().removeCustomData("doc_processing_style"),t}function v(t,e){for(var n in t)t[n]=t[n].replace(O,function(t,n){return e[n]})}function y(t){if(t._.overrides)return t._.overrides;var e=t._.overrides={},n=t._.definition.overrides;if(n){CKEDITOR.tools.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++){var r,o;if("string"==typeof(s=n[i])?r=s.toLowerCase():(r=s.element?s.element.toLowerCase():t.element,o=s.attributes),s=e[r]||(e[r]={}),o){var a,s=s.attributes=s.attributes||[];for(a in o)s.push([a.toLowerCase(),o[a]])}}}return e}function b(t,e,n){var i=new CKEDITOR.dom.element("span");return i[n?"setStyle":"setAttribute"](t,e),i[n?"getStyle":"getAttribute"](t)}function w(t,e){function n(t,e){return"font-family"==e.toLowerCase()?t.replace(/["']/g,""):t}for(var i in"string"==typeof t&&(t=CKEDITOR.tools.parseCssText(t)),"string"==typeof e&&(e=CKEDITOR.tools.parseCssText(e,!0)),t)if(!(i in e)||n(e[i],i)!=n(t[i],i)&&"inherit"!=t[i]&&"inherit"!=e[i])return!1;return!0}function E(t,e,n){var i=t.getRanges();e=e?this.removeFromRange:this.applyToRange;for(var r,o=i.createIterator();r=o.getNextRange();)e.call(this,r,n);t.selectRanges(i)}var C={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},T={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},_=/\s*(?:;\s*|$)/,O=/#\((.+?)\)/g,k=CKEDITOR.dom.walker.bookmark(0,1),D=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(t,e){if("string"==typeof t.type)return new CKEDITOR.style.customHandlers[t.type](t);var n=t.attributes;n&&n.style&&(t.styles=CKEDITOR.tools.extend({},t.styles,CKEDITOR.tools.parseCssText(n.style)),delete n.style),e&&(v((t=CKEDITOR.tools.clone(t)).attributes,e),v(t.styles,e)),n=this.element=t.element?"string"==typeof t.element?t.element.toLowerCase():t.element:"*",this.type=t.type||(C[n]?CKEDITOR.STYLE_BLOCK:T[n]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:t}},CKEDITOR.style.prototype={apply:function(t){if(t instanceof CKEDITOR.dom.document)return E.call(this,t.getSelection());if(this.checkApplicable(t.elementPath(),t)){var e=this._.enterMode;e||(this._.enterMode=t.activeEnterMode),E.call(this,t.getSelection(),0,t),this._.enterMode=e}},remove:function(t){if(t instanceof CKEDITOR.dom.document)return E.call(this,t.getSelection(),1);if(this.checkApplicable(t.elementPath(),t)){var e=this._.enterMode;e||(this._.enterMode=t.activeEnterMode),E.call(this,t.getSelection(),1,t),this._.enterMode=e}},applyToRange:function(t){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?n:this.type==CKEDITOR.STYLE_BLOCK?s:this.type==CKEDITOR.STYLE_OBJECT?o:null,this.applyToRange(t)},removeFromRange:function(t){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?i:this.type==CKEDITOR.STYLE_BLOCK?l:this.type==CKEDITOR.STYLE_OBJECT?a:null,this.removeFromRange(t)},applyToObject:function(t){m(t,this)},checkActive:function(t,e){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(t.block||t.blockLimit,!0,e);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var n,i=t.elements,r=0;r<i.length;r++)if(n=i[r],this.type!=CKEDITOR.STYLE_INLINE||n!=t.block&&n!=t.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var o=n.getName();if(!("string"==typeof this.element?o==this.element:o in this.element))continue}if(this.checkElementRemovable(n,!0,e))return!0}}return!1},checkApplicable:function(t,e,n){if(e&&e instanceof CKEDITOR.filter&&(n=e),n&&!n.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!t.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!t.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(t,e){var n=this._.definition;if(!t||!n.ignoreReadonly&&t.isReadOnly())return!1;var i=t.getName();if("string"==typeof this.element?i==this.element:i in this.element){if(!e&&!t.hasAttributes())return!0;if(i=n._AC)n=i;else{i={};var r=0,o=n.attributes;if(o)for(var a in o)r++,i[a]=o[a];(a=CKEDITOR.style.getStyleText(n))&&(i.style||r++,i.style=a),i._length=r,n=n._AC=i}if(!n._length)return!0;for(var s in n)if("_length"!=s)if(i=t.getAttribute(s)||"","style"==s?w(n[s],i):n[s]==i){if(!e)return!0}else if(e)return!1;if(e)return!0}return!1},checkElementRemovable:function(t,e,n){if(this.checkElementMatch(t,e,n))return!0;if(e=y(this)[t.getName()]){var i;if(!(e=e.attributes))return!0;for(n=0;n<e.length;n++)if(i=e[n][0],i=t.getAttribute(i)){var r=e[n][1];if(null===r)return!0;if("string"==typeof r){if(i==r)return!0}else if(r.test(i))return!0}}return!1},buildPreview:function(t){var e=this._.definition,n=[],i=e.element;"bdo"==i&&(i="span");n=["<",i];var r=e.attributes;if(r)for(var o in r)n.push(" ",o,'="',r[o],'"');return(r=CKEDITOR.style.getStyleText(e))&&n.push(' style="',r,'"'),n.push(">",t||e.name,"</",i,">"),n.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(t){if(e=t._ST)return e;var e=t.styles,n=t.attributes&&t.attributes.style||"",i="";for(var r in n.length&&(n=n.replace(_,";")),e){var o=e[r],a=(r+":"+o).replace(_,";");"inherit"==o?i+=a:n+=a}return n.length&&(n=CKEDITOR.tools.normalizeCssText(n,!0)),t._ST=n+i},CKEDITOR.style.customHandlers={},CKEDITOR.style.unstylableElements=[],CKEDITOR.style.addCustomHandler=function(t){var e=function(t){this._={definition:t},this.setup&&this.setup(t)};return e.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},t,!0),this.customHandlers[t.type]=e};var x=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,I=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(t,e){this.requiredContent=this.allowedContent=this.style=t,CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.styleCommand.prototype.exec=function(t){t.focus(),this.state==CKEDITOR.TRISTATE_OFF?t.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&t.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(t,e,n){CKEDITOR.stylesSet.addExternal(t,e,""),CKEDITOR.stylesSet.load(t,n)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(t,e){var n=this._.styleStateChangeCallbacks;n||(n=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(t){for(var e=0;e<n.length;e++){var i=n[e],r=i.style.checkActive(t.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;i.fn.call(this,r)}})),n.push({style:t,fn:e})},applyStyle:function(t){t.apply(this)},removeStyle:function(t){t.remove(this)},getStylesSet:function(t){if(this._.stylesDefinitions)t(this._.stylesDefinitions);else{var e=this;if(!1===(n=e.config.stylesCombo_stylesSet||e.config.stylesSet))t(null);else if(n instanceof Array)e._.stylesDefinitions=n,t(n);else{n||(n="default");var n,i=(n=n.split(":"))[0];CKEDITOR.stylesSet.addExternal(i,n[1]?n.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(i,function(n){e._.stylesDefinitions=n[i],t(e._.stylesDefinitions)})}}}}),function(){if(window.Promise)CKEDITOR.tools.promise=Promise;else{var t=CKEDITOR.getUrl("vendor/promise.js");if("function"==typeof window.define&&window.define.amd&&"function"==typeof window.require)return window.require([t],function(t){CKEDITOR.tools.promise=t});CKEDITOR.scriptLoader.load(t,function(e){return e?void 0!==window.ES6Promise?CKEDITOR.tools.promise=ES6Promise:void 0:CKEDITOR.error("no-vendor-lib",{path:t})})}}(),function(){function t(t,i,r){t.once("selectionCheck",function(t){if(!e){var o=t.data.getRanges()[0];r.equals(o)?t.cancel():i.equals(o)&&(n=!0)}},null,null,-1)}var e=!0,n=!1;CKEDITOR.dom.selection.setupEditorOptimization=function(t){t.on("selectionCheck",function(t){t.data&&!n&&t.data.optimizeInElementEnds(),n=!1}),t.on("contentDom",function(){var e=t.editable();e&&(e.attachListener(e,"keydown",function(t){this._.shiftPressed=t.data.$.shiftKey},this),e.attachListener(e,"keyup",function(t){this._.shiftPressed=t.data.$.shiftKey},this))})},CKEDITOR.dom.selection.prototype.optimizeInElementEnds=function(){var n,i=this.getRanges()[0],r=this.root.editor;if(this.root.editor._.shiftPressed||this.isFake||i.isCollapsed||i.startContainer.equals(i.endContainer))n=!1;else if(0===i.endOffset)n=!0;else{n=i.startContainer.type===CKEDITOR.NODE_TEXT;var o=i.endContainer.type===CKEDITOR.NODE_TEXT,a=n?i.startContainer.getLength():i.startContainer.getChildCount();n=i.startOffset===a||n^o}n&&(n=i.clone(),i.shrink(CKEDITOR.SHRINK_TEXT,!1,{skipBogus:!CKEDITOR.env.webkit}),e=!1,t(r,i,n),i.select(),e=!0)}}(),function(){function t(t,e){return n(t)?t=Math.round(e*(parseFloat(t)/100)):"string"==typeof t&&t.match(/^\d+$/gm)&&(t=parseInt(t,10)),t}function e(t,e){return n(t)?t=e*(parseFloat(t)/100):"string"==typeof t&&t.match(/^\d?\.\d+/gm)&&(t=parseFloat(t)),t}function n(t){return"string"==typeof t&&t.match(/^((\d*\.\d+)|(\d+))%{1}$/gm)}function i(t,e,n){return!isNaN(t)&&t>=e&&t<=n}function r(t){return 1==(t=t.toString(16)).length?"0"+t:t}CKEDITOR.tools.color=CKEDITOR.tools.createClass({$:function(t,e){this._.initialColorCode=t,this._.defaultValue=e,this._.parseInput(t)},proto:{getHex:function(){if(!this._.isValidColor)return this._.defaultValue;var t=this._.blendAlphaColor(this._.red,this._.green,this._.blue,this._.alpha);return this._.formatHexString(t[0],t[1],t[2])},getHexWithAlpha:function(){if(!this._.isValidColor)return this._.defaultValue;var t=Math.round(this._.alpha*CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE);return this._.formatHexString(this._.red,this._.green,this._.blue,t)},getRgb:function(){if(!this._.isValidColor)return this._.defaultValue;var t=this._.blendAlphaColor(this._.red,this._.green,this._.blue,this._.alpha);return this._.formatRgbString("rgb",t[0],t[1],t[2])},getRgba:function(){return this._.isValidColor?this._.formatRgbString("rgba",this._.red,this._.green,this._.blue,this._.alpha):this._.defaultValue},getHsl:function(){if(!this._.isValidColor)return this._.defaultValue;var t=this._.blendAlphaColor(this._.red,this._.green,this._.blue,this._.alpha);t=this._.rgbToHsl(t[0],t[1],t[2]);return this._.formatHslString("hsl",t[0],t[1],t[2])},getHsla:function(){if(!this._.isValidColor)return this._.defaultValue;var t=this._.rgbToHsl(this._.red,this._.green,this._.blue);return this._.formatHslString("hsla",t[0],t[1],t[2],this._.alpha)},getInitialValue:function(){return this._.initialColorCode}},_:{initialColorCode:"",isValidColor:!0,red:0,green:0,blue:0,alpha:1,blendAlphaColor:function(t,e,n,i){return CKEDITOR.tools.array.map([t,e,n],function(t){return Math.round(CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE-i*(CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE-t))})},formatHexString:function(t,e,n,i){return t="#"+r(t)+r(e)+r(n),void 0!==i&&(t+=r(i)),t.toUpperCase()},formatRgbString:function(t,e,n,i,r){return e=[e,n,i],void 0!==r&&e.push(r),t+"("+e.join(",")+")"},formatHslString:function(t,e,n,i,r){return t+"("+e+","+n+"%,"+i+"%"+(void 0!==r?","+r:"")+")"},parseInput:function(t){if("string"!=typeof t)this._.isValidColor=!1;else{t=CKEDITOR.tools.trim(t),(e=this._.matchStringToNamedColor(t))&&(t=e);var e=this._.extractColorChannelsFromHex(t),n=this._.extractColorChannelsFromRgba(t);t=this._.extractColorChannelsFromHsla(t),(t=e||n||t)?(this._.red=t[0],this._.green=t[1],this._.blue=t[2],this._.alpha=t[3]):this._.isValidColor=!1}},matchStringToNamedColor:function(t){return CKEDITOR.tools.color.namedColors[t.toLowerCase()]||null},extractColorChannelsFromHex:function(t){if(t.match(CKEDITOR.tools.color.hex3CharsRegExp)&&(t=this._.hex3ToHex6(t)),!t.match(CKEDITOR.tools.color.hex6CharsRegExp)&&!t.match(CKEDITOR.tools.color.hex8CharsRegExp))return null;var e=1;return(t=t.split(""))[7]&&t[8]&&(e=parseInt(t[7]+t[8],16),e/=CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE,e=Number(e.toFixed(1))),[parseInt(t[1]+t[2],16),parseInt(t[3]+t[4],16),parseInt(t[5]+t[6],16),e]},extractColorChannelsFromRgba:function(n){var i=this._.extractColorChannelsByPattern(n,CKEDITOR.tools.color.rgbRegExp);if(!i||(n=0===n.indexOf("rgba"))&&4!==i.length||!n&&3!==i.length)return null;var r=t(i[0],CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE),o=t(i[1],CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE),a=t(i[2],CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE),s=1;return n&&(s=e(i[3],CKEDITOR.tools.color.MAX_ALPHA_CHANNEL_VALUE)),this._.areColorChannelsValid(r,o,a,s)?[r,o,a,s]:null},extractColorChannelsFromHsla:function(n){var i=this._.extractColorChannelsByPattern(n,CKEDITOR.tools.color.hslRegExp);if(!i||(n=0===n.indexOf("hsla"))&&4!==i.length||!n&&3!==i.length)return null;var r=t(i[0],CKEDITOR.tools.color.MAX_HUE_CHANNEL_VALUE),o=e(i[1],CKEDITOR.tools.color.MAX_SATURATION_LIGHTNESS_CHANNEL_VALUE),a=e(i[2],CKEDITOR.tools.color.MAX_SATURATION_LIGHTNESS_CHANNEL_VALUE),s=1;r=this._.hslToRgb(r,o,a);return n&&(s=e(i[3],CKEDITOR.tools.color.MAX_ALPHA_CHANNEL_VALUE)),r.push(s),this._.areColorChannelsValid(r[0],r[1],r[2],r[3])?r:null},hex3ToHex6:function(t){return"#"+(t=t.split(""))[1]+t[1]+t[2]+t[2]+t[3]+t[3]},extractColorChannelsByPattern:function(t,e){var n=t.match(e);return n?(n=n[2].split(","),CKEDITOR.tools.array.map(n,function(t){return CKEDITOR.tools.trim(t)})):null},areColorChannelsValid:function(t,e,n,r){return i(t,0,CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)&&i(e,0,CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)&&i(n,0,CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)&&i(r,0,CKEDITOR.tools.color.MAX_ALPHA_CHANNEL_VALUE)},hslToRgb:function(t,e,n){var i=function(i){var r=(i+t/30)%12;return i=e*Math.min(n,1-n),r=Math.min(r-3,9-r,1),r=Math.max(-1,r),Math.round((n-i*r)*CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)};return[i(0),i(8),i(4)]},rgbToHsl:function(t,e,n){t/=CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE,e/=CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE;var i=n/CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE,r=Math.max(t,e,i),o=Math.min(t,e,i);n=r-o;var a=0;switch(r){case t:a=(e-i)/n%6;break;case e:a=(i-t)/n+2;break;case i:a=(t-e)/n+4}return t=0===n?0:60*a,e=(r+o)/2,r=0,1!==e&&0!==e&&(r=n/(1-Math.abs(2*e-1))),[t=Math.round(t),r=100*Math.round(r),100*e]}},statics:{MAX_RGB_CHANNEL_VALUE:255,MAX_ALPHA_CHANNEL_VALUE:1,MAX_HUE_CHANNEL_VALUE:360,MAX_SATURATION_LIGHTNESS_CHANNEL_VALUE:1,hex3CharsRegExp:/#([0-9a-f]{3}$)/gim,hex6CharsRegExp:/#([0-9a-f]{6}$)/gim,hex8CharsRegExp:/#([0-9a-f]{8}$)/gim,rgbRegExp:/(rgb[a]?)\(([.,\d\s%]*)\)/i,hslRegExp:/(hsl[a]?)\(([.,\d\s%]*)\)/i,namedColors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",windowtext:"windowtext",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}}}),CKEDITOR.tools.style.parse._colors=CKEDITOR.tools.color.namedColors}(),CKEDITOR.dom.comment=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createComment(t)),CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"\x3c!--"+this.$.nodeValue+"--\x3e"}}),function(){var t,e={},n={};for(t in CKEDITOR.dtd.$blockLimit)t in CKEDITOR.dtd.$list||(e[t]=1);for(t in CKEDITOR.dtd.$block)t in CKEDITOR.dtd.$blockLimit||t in CKEDITOR.dtd.$empty||(n[t]=1);CKEDITOR.dom.elementPath=function(t,i){var r,o=null,a=null,s=[],l=t;i=i||t.getDocument().getBody(),l||(l=i);do{if(l.type==CKEDITOR.NODE_ELEMENT){if(s.push(l),!this.lastElement&&(this.lastElement=l,l.is(CKEDITOR.dtd.$object)||"false"==l.getAttribute("contenteditable")))continue;if(l.equals(i))break;if(!a&&(r=l.getName(),"true"==l.getAttribute("contenteditable")?a=l:!o&&n[r]&&(o=l),e[r])){if(r=!o&&"div"==r){t:{for(var c=0,u=(r=l.getChildren()).count();c<u;c++){var d=r.getItem(c);if(d.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[d.getName()]){r=!0;break t}}r=!1}r=!r}r?o=l:a=l}}}while(l=l.getParent());a||(a=i),this.block=o,this.blockLimit=a,this.root=i,this.elements=s}}(),CKEDITOR.dom.elementPath.prototype={compare:function(t){var e=this.elements;if(!(t=t&&t.elements)||e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0},contains:function(t,e,n){var i,r=0;"string"==typeof t&&(i=function(e){return e.getName()==t}),t instanceof CKEDITOR.dom.element?i=function(e){return e.equals(t)}:CKEDITOR.tools.isArray(t)?i=function(e){return-1<CKEDITOR.tools.indexOf(t,e.getName())}:"function"==typeof t?i=t:"object"==typeof t&&(i=function(e){return e.getName()in t});var o=this.elements,a=o.length;for(e&&(n?r+=1:--a),n&&(o=Array.prototype.slice.call(o,0)).reverse();r<a;r++)if(i(o[r]))return o[r];return null},isContextFor:function(t){return!(t in CKEDITOR.dtd.$block)||!!(this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit).getDtd()[t]},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createTextNode(t)),this.$=t},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(t){this.$.nodeValue=t},isEmpty:function(t){var e=this.getText();return t&&(e=CKEDITOR.tools.trim(e)),!e||e===CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE},split:function(t){var e=this.$.parentNode,n=e.childNodes.length,i=this.getLength(),r=this.getDocument(),o=new CKEDITOR.dom.text(this.$.splitText(t),r);return e.childNodes.length==n&&(t>=i?(o=r.createText("")).insertAfter(this):((t=r.createText("")).insertAfter(o),t.remove())),o},substring:function(t,e){return"number"!=typeof e?this.$.nodeValue.substr(t):this.$.nodeValue.substring(t,e)}}),function(){function t(t,e,n){var i=t.serializable,r=e[n?"endContainer":"startContainer"],o=n?"endOffset":"startOffset",a=i?e.document.getById(t.startNode):t.startNode;return t=i?e.document.getById(t.endNode):t.endNode,r.equals(a.getPrevious())?(e.startOffset=e.startOffset-r.getLength()-t.getPrevious().getLength(),r=t.getNext()):r.equals(t.getPrevious())&&(e.startOffset-=r.getLength(),r=t.getNext()),r.equals(a.getParent())&&e[o]++,r.equals(t.getParent())&&e[o]++,e[n?"endContainer":"startContainer"]=r,e}CKEDITOR.dom.rangeList=function(t){return t instanceof CKEDITOR.dom.rangeList?t:(t?t instanceof CKEDITOR.dom.range&&(t=[t]):t=[],CKEDITOR.tools.extend(t,e))};var e={createIterator:function(){var t,e=this,n=CKEDITOR.dom.walker.bookmark(),i=[];return{getNextRange:function(r){var o=e[t=void 0===t?0:t+1];if(o&&1<e.length){if(!t)for(var a=e.length-1;0<=a;a--)i.unshift(e[a].createBookmark(!0));if(r)for(var s=0;e[t+s+1];){var l=o.document;for(r=0,a=l.getById(i[s].endNode),l=l.getById(i[s+1].startNode);;){if(a=a.getNextSourceNode(!1),l.equals(a))r=1;else if(n(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())continue;break}if(!r)break;s++}for(o.moveToBookmark(i.shift());s--;)(a=e[++t]).moveToBookmark(i.shift()),o.setEnd(a.endContainer,a.endOffset)}return o}}},createBookmarks:function(e){for(var n,i=[],r=0;r<this.length;r++){i.push(n=this[r].createBookmark(e,!0));for(var o=r+1;o<this.length;o++)this[o]=t(n,this[o]),this[o]=t(n,this[o],!0)}return i},createBookmarks2:function(t){for(var e=[],n=0;n<this.length;n++)e.push(this[n].createBookmark2(t));return e},moveToBookmarks:function(t){for(var e=0;e<this.length;e++)this[e].moveToBookmark(t[e])}}}(),function(){function t(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function e(e){var n=CKEDITOR.skin["ua_"+e],i=CKEDITOR.env;if(n){n=n.split(",").sort(function(t,e){return t>e?-1:1});for(var r,o=0;o<n.length;o++)if(r=n[o],i.ie&&(r.replace(/^ie/,"")==i.version||i.quirks&&"iequirks"==r)&&(r="ie"),i[r]){e+="_"+n[o];break}}return CKEDITOR.getUrl(t()+e+".css")}function n(t,n){o[t]||(CKEDITOR.document.appendStyleSheet(e(t)),o[t]=1),n&&n()}function i(t){var e=t.getById(a);return e||((e=t.getHead().append("style")).setAttribute("id",a),e.setAttribute("type","text/css")),e}function r(t,e,n){var i,r,o;if(CKEDITOR.env.webkit)for(e=e.split("}").slice(0,-1),r=0;r<e.length;r++)e[r]=e[r].split("{");for(var a=0;a<t.length;a++)if(CKEDITOR.env.webkit)for(r=0;r<e.length;r++){for(o=e[r][1],i=0;i<n.length;i++)o=o.replace(n[i][0],n[i][1]);t[a].$.sheet.addRule(e[r][0],o)}else{for(o=e,i=0;i<n.length;i++)o=o.replace(n[i][0],n[i][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?t[a].$.styleSheet.cssText+=o:t[a].$.innerHTML+=o}}var o={};CKEDITOR.skin={path:t,loadPart:function(e,i){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t()+"skin.js"),function(){n(e,i)}):n(e,i)},getPath:function(t){return CKEDITOR.getUrl(e(t))},icons:{},addIcon:function(t,e,n,i){t=t.toLowerCase(),this.icons[t]||(this.icons[t]={path:e,offset:n||0,bgsize:i||"16px"})},getIconStyle:function(t,e,n,i,r){var o;return t&&(t=t.toLowerCase(),e&&(o=this.icons[t+"-rtl"]),o||(o=this.icons[t])),t=n||o&&o.path||"",i=i||o&&o.offset,r=r||o&&o.bgsize||"16px",t&&(t=t.replace(/'/g,"\\'")),t&&"background-image:url('"+CKEDITOR.getUrl(t)+"');background-position:0 "+i+"px;background-size:"+r+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(t){var e=i(CKEDITOR.document);return(this.setUiColor=function(t){this.uiColor=t;var n=CKEDITOR.skin.chameleon,i="",o="";"function"==typeof n&&(i=n(this,"editor"),o=n(this,"panel")),r([e],i,t=[[l,t]]),r(s,o,t)}).call(this,t)}});var a="cke_ui_color",s=[],l=/\$color/g;CKEDITOR.on("instanceLoaded",function(t){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var e=t.editor;t=function(t){if(!(t=(t.data[0]||t.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument()).getById("cke_ui_color")){var n=i(t);s.push(n),e.on("destroy",function(){s=CKEDITOR.tools.array.filter(s,function(t){return n!==t})}),(t=e.getUiColor())&&r([n],CKEDITOR.skin.chameleon(e,"panel"),[[l,t]])}},e.on("panelShow",t),e.on("menuShow",t),e.config.uiColor&&e.setUiColor(e.config.uiColor)}})}(),function(){var t=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);t.appendTo(CKEDITOR.document.getHead());try{var e=t.getComputedStyle("border-top-color"),n=t.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!e||e!=n)}catch(t){CKEDITOR.env.hc=!1}if(t.remove(),CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded"),t=CKEDITOR._.pending)for(delete CKEDITOR._.pending,e=0;e<t.length;e++)CKEDITOR.editor.prototype.constructor.apply(t[e][0],t[e][1]),CKEDITOR.add(t[e][0])}(),CKEDITOR.skin.name="moono-lisa",CKEDITOR.skin.ua_editor="ie,iequirks,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie8",CKEDITOR.skin.chameleon=function(){var t=function(t,e){for(var n=t.match(/[^#]./g),i=0;3>i;i++){var r,o=i;r=parseInt(n[i],16),r=("0"+(0>e?0|r*(1+e):0|r+(255-r)*e).toString(16)).slice(-2),n[o]=r}return"#"+n.join("")},e={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};return function(n,i){var r=t(n.uiColor,.4);r={id:"."+n.id,defaultBorder:t(r,-.2),toolbarElementsBorder:t(r,-.25),defaultBackground:r,lightBackground:t(r,.8),darkBackground:t(r,-.15),ckeButtonOn:t(r,.4),ckeResizer:t(r,-.4),ckeColorauto:t(r,.8),dialogBody:t(r,.7),dialogTab:t(r,.65),dialogTabSelected:"#FFF",dialogTabSelectedBorder:"#FFF",elementsPathColor:t(r,-.6),menubuttonHover:t(r,.1),menubuttonIcon:t(r,.5),menubuttonIconHover:t(r,.3)};return e[i].output(r).replace(/\[/g,"{").replace(/\]/g,"}")}}(),CKEDITOR.plugins.add("dialogui",{onLoad:function(){var t=function(t){this._||(this._={}),this._.default=this._.initValue=t.default||"",this._.required=t.required||!1;for(var e=[this._],n=1;n<arguments.length;n++)e.push(arguments[n]);return e.push(!0),CKEDITOR.tools.extend.apply(CKEDITOR.tools,e),this._},e={build:function(t,e,n){return new CKEDITOR.ui.dialog.textInput(t,e,n)}},n={build:function(t,e,n){return new CKEDITOR.ui.dialog[e.type](t,e,n)}},i={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(t){this.setValue(this.getInitValue(),t)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._.default},getInitValue:function(){return this._.initValue}},r=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(t,e){this._.domOnChangeRegistered||(t.on("load",function(){this.getInputElement().on("change",function(){t.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",e)}},!0),o=/^on([A-Z]\w+)/,a=function(t){for(var e in t)(o.test(e)||"title"==e||"type"==e)&&delete t[e];return t},s=function(t){(t=t.data.getKeystroke())==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):t==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(e,n,i,r){if(!(4>arguments.length)){var o=t.call(this,n);o.labelId=CKEDITOR.tools.getNextId()+"_label",this._.children=[];var a={role:n.role||"presentation"};n.includeLabel&&(a["aria-labelledby"]=o.labelId),CKEDITOR.ui.dialog.uiElement.call(this,e,n,i,"div",null,a,function(){var t=[],i=n.required?" cke_required":"";return"horizontal"!=n.labelLayout?t.push('<label class="cke_dialog_ui_labeled_label'+i+'" ',' id="'+o.labelId+'"',o.inputId?' for="'+o.inputId+'"':"",(n.labelStyle?' style="'+n.labelStyle+'"':"")+">",n.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',n.controlStyle?' style="'+n.controlStyle+'"':"",' role="presentation">',r.call(this,e,n),"</div>"):(i={type:"hbox",widths:n.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+i+'" id="'+o.labelId+'" for="'+o.inputId+'"'+(n.labelStyle?' style="'+n.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(n.label)+"</label>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(n.controlStyle?' style="'+n.controlStyle+'"':"")+">"+r.call(this,e,n)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(e,i,t)),t.join("")})}},textInput:function(e,n,i){if(!(3>arguments.length)){t.call(this,n);var r=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",o={class:"cke_dialog_ui_input_"+n.type,id:r,type:n.type};n.validate&&(this.validate=n.validate),n.maxLength&&(o.maxlength=n.maxLength),n.size&&(o.size=n.size),n.inputStyle&&(o.style=n.inputStyle);var a=this,l=!1;e.on("load",function(){a.getInputElement().on("keydown",function(t){13==t.data.getKeystroke()&&(l=!0)}),a.getInputElement().on("keyup",function(t){13==t.data.getKeystroke()&&l&&(e.getButton("ok")&&setTimeout(function(){e.getButton("ok").click()},0),l=!1),a.bidi&&s.call(a,t)},null,null,1e3)}),CKEDITOR.ui.dialog.labeledElement.call(this,e,n,i,function(){var t=['<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'];for(var e in n.width&&t.push('style="width:'+n.width+'" '),t.push("><input "),o["aria-labelledby"]=this._.labelId,this._.required&&(o["aria-required"]=this._.required),o)t.push(e+'="'+o[e]+'" ');return t.push(" /></div>"),t.join("")})}},textarea:function(e,n,i){if(!(3>arguments.length)){t.call(this,n);var r=this,o=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",a={};n.validate&&(this.validate=n.validate),a.rows=n.rows||5,a.cols=n.cols||20,a.class="cke_dialog_ui_input_textarea "+(n.class||""),void 0!==n.inputStyle&&(a.style=n.inputStyle),n.dir&&(a.dir=n.dir),r.bidi&&e.on("load",function(){r.getInputElement().on("keyup",s)},r),CKEDITOR.ui.dialog.labeledElement.call(this,e,n,i,function(){a["aria-labelledby"]=this._.labelId,this._.required&&(a["aria-required"]=this._.required);var t,e=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',o,'" '];for(t in a)e.push(t+'="'+CKEDITOR.tools.htmlEncode(a[t])+'" ');return e.push(">",CKEDITOR.tools.htmlEncode(r._.default),"</textarea></div>"),e.join("")})}},checkbox:function(e,n,i){if(!(3>arguments.length)){var r=t.call(this,n,{default:!!n.default});n.validate&&(this.validate=n.validate),CKEDITOR.ui.dialog.uiElement.call(this,e,n,i,"span",null,null,function(){var t=CKEDITOR.tools.extend({},n,{id:n.id?n.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),i=[],o=CKEDITOR.tools.getNextId()+"_label",s={class:"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":o};return a(t),n.default&&(s.checked="checked"),void 0!==t.inputStyle&&(t.style=t.inputStyle),r.checkbox=new CKEDITOR.ui.dialog.uiElement(e,t,i,"input",null,s),i.push(' <label id="',o,'" for="',s.id,'"'+(n.labelStyle?' style="'+n.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(n.label),"</label>"),i.join("")})}},radio:function(e,n,i){if(!(3>arguments.length)){t.call(this,n),this._.default||(this._.default=this._.initValue=n.items[0][1]),n.validate&&(this.validate=n.validate);var r=[],o=this;n.role="radiogroup",n.includeLabel=!0,CKEDITOR.ui.dialog.labeledElement.call(this,e,n,i,function(){for(var t=[],i=[],s=(n.id?n.id:CKEDITOR.tools.getNextId())+"_radio",l=0;l<n.items.length;l++){var c=n.items[l],u=void 0!==c[2]?c[2]:c[0],d=void 0!==c[1]?c[1]:c[0],h=(f=CKEDITOR.tools.getNextId()+"_radio_input")+"_label",f=CKEDITOR.tools.extend({},n,{id:f,title:null,type:null},!0),p=(u=CKEDITOR.tools.extend({},f,{title:u},!0),{type:"radio",class:"cke_dialog_ui_radio_input",name:s,value:d,"aria-labelledby":h}),g=[];o._.default==d&&(p.checked="checked"),a(f),a(u),void 0!==f.inputStyle&&(f.style=f.inputStyle),f.keyboardFocusable=!0,r.push(new CKEDITOR.ui.dialog.uiElement(e,f,g,"input",null,p)),g.push(" "),new CKEDITOR.ui.dialog.uiElement(e,u,g,"label",null,{id:h,for:p.id},c[0]),t.push(g.join(""))}return new CKEDITOR.ui.dialog.hbox(e,r,t,i),i.join("")}),this._.children=r}},button:function(e,n,i){if(arguments.length){"function"==typeof n&&(n=n(e.getParentEditor())),t.call(this,n,{disabled:n.disabled||!1}),CKEDITOR.event.implementOn(this);var r=this;e.on("load",function(){var t=this.getElement();t.on("click",function(t){r.click(),t.data.preventDefault()}),t.on("keydown",function(t){t.data.getKeystroke()in{32:1}&&(r.click(),t.data.preventDefault())}),t.unselectable()},this);var o=CKEDITOR.tools.extend({},n);delete o.style;var a=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,e,o,i,"a",null,{style:n.style,href:"javascript:void(0)",title:n.label,hidefocus:"true",class:n.class,role:"button","aria-labelledby":a},'<span id="'+a+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(n.label)+"</span>")}},select:function(e,n,i){if(!(3>arguments.length)){var r=t.call(this,n);n.validate&&(this.validate=n.validate),r.inputId=CKEDITOR.tools.getNextId()+"_select",CKEDITOR.ui.dialog.labeledElement.call(this,e,n,i,function(){var t=CKEDITOR.tools.extend({},n,{id:n.id?n.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),i=[],o=[],s={id:r.inputId,class:"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};i.push('<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'),n.width&&i.push('style="width:'+n.width+'" '),i.push(">"),void 0!==n.size&&(s.size=n.size),void 0!==n.multiple&&(s.multiple=n.multiple),a(t);for(var l,c=0;c<n.items.length&&(l=n.items[c]);c++)o.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==l[1]?l[1]:l[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(l[0]));return void 0!==t.inputStyle&&(t.style=t.inputStyle),r.select=new CKEDITOR.ui.dialog.uiElement(e,t,i,"select",null,s,o.join("")),i.push("</div>"),i.join("")})}},file:function(e,n,i){if(!(3>arguments.length)){void 0===n.default&&(n.default="");var r=CKEDITOR.tools.extend(t.call(this,n),{definition:n,buttons:[]});n.validate&&(this.validate=n.validate),e.on("load",function(){CKEDITOR.document.getById(r.frameId).getParent().addClass("cke_dialog_ui_input_file")}),CKEDITOR.ui.dialog.labeledElement.call(this,e,n,i,function(){r.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var t=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',r.frameId,'" title="',n.label,'" src="javascript:void('];return t.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0"),t.push(')"></iframe>'),t.join("")})}},fileButton:function(e,n,i){var r=this;if(!(3>arguments.length)){t.call(this,n),n.validate&&(this.validate=n.validate);var o=CKEDITOR.tools.extend({},n),a=o.onClick;o.className=(o.className?o.className+" ":"")+"cke_dialog_ui_button",o.onClick=function(t){var i=n.for;!1!==(t=!!a&&a.call(this,t))&&("xhr"!==t&&e.getContentElement(i[0],i[1]).submit(),this.disable())},e.on("load",function(){e.getContentElement(n.for[0],n.for[1])._.buttons.push(r)}),CKEDITOR.ui.dialog.button.call(this,e,o,i)}},html:function(){var t=/^\s*<[\w:]+\s+([^>]*)?>/,e=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,n=/\/$/;return function(i,r,o){if(!(3>arguments.length)){var a=[],s=r.html;"<"!=s.charAt(0)&&(s="<span>"+s+"</span>");var l=r.focus;if(l){var c=this.focus;this.focus=function(){("function"==typeof l?l:c).call(this),this.fire("focus")},r.isFocusable&&(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,i,r,a,"span",null,null,""),a=a.join("").match(t),s=s.match(e)||["","",""],n.test(s[1])&&(s[1]=s[1].slice(0,-1),s[2]="/"+s[2]),o.push([s[1]," ",a[1]||"",s[2]].join(""))}}}(),fieldset:function(t,e,n,i,r){var o=r.label;this._={children:e},CKEDITOR.ui.dialog.uiElement.call(this,t,r,i,"fieldset",null,null,function(){var t=[];o&&t.push("<legend"+(r.labelStyle?' style="'+r.labelStyle+'"':"")+">"+o+"</legend>");for(var e=0;e<n.length;e++)t.push(n[e]);return t.join("")})}},!0),CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement,CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(t){var e=CKEDITOR.document.getById(this._.labelId);return 1>e.getChildCount()?new CKEDITOR.dom.text(t,CKEDITOR.document).appendTo(e):e.getChild(0).$.nodeValue=t,this},getLabel:function(){var t=CKEDITOR.document.getById(this._.labelId);return!t||1>t.getChildCount()?"":t.getChild(0).getText()},eventProcessors:r},!0),CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return!this._.disabled&&this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var t=this.getElement();t&&t.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(t,e){this.on("click",function(){e.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var t=this.selectParentTab();setTimeout(function(){var e=t.getInputElement();e&&e.$.focus()},0)},select:function(){var t=this.selectParentTab();setTimeout(function(){var e=t.getInputElement();e&&(e.$.focus(),e.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(t){if(this.bidi){var e=t&&t.charAt(0);(e="âª"==e?"ltr":"â«"==e?"rtl":null)&&(t=t.slice(1)),this.setDirectionMarker(e)}return t||(t=""),CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},getValue:function(){var t=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&t){var e=this.getDirectionMarker();e&&(t=("ltr"==e?"âª":"â«")+t)}return t},setDirectionMarker:function(t){var e=this.getInputElement();t?e.setAttributes({dir:t,"data-cke-dir-marker":t}):this.getDirectionMarker()&&e.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},i,!0),CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput,CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(t,e,n){var i=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),r=this.getInputElement().$;return i.$.text=t,i.$.value=null==e?t:e,null==n?CKEDITOR.env.ie?r.add(i.$):r.add(i.$,null):r.add(i.$,n),this},remove:function(t){return this.getInputElement().$.remove(t),this},clear:function(){for(var t=this.getInputElement().$;0<t.length;)t.remove(0);return this},keyboardFocusable:!0},i,!0),CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(t,e){this.getInputElement().$.checked=t,!e&&this.fire("change",{value:t})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(t,e){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?r.onChange.apply(this,arguments):(t.on("load",function(){var t=this._.checkbox.getElement();t.on("propertychange",function(e){"checked"==(e=e.data.$).propertyName&&this.fire("change",{value:t.$.checked})},this)},this),this.on("change",e),null)}},keyboardFocusable:!0},i,!0),CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(t,e){for(var n,i=this._.children,r=0;r<i.length&&(n=i[r]);r++)n.getElement().$.checked=n.getValue()==t;!e&&this.fire("change",{value:t})},getValue:function(){for(var t=this._.children,e=0;e<t.length;e++)if(t[e].getElement().$.checked)return t[e].getValue();return null},accessKeyUp:function(){var t,e=this._.children;for(t=0;t<e.length;t++)if(e[t].getElement().$.checked)return void e[t].getElement().focus();e[0].getElement().focus()},eventProcessors:{onChange:function(t,e){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?r.onChange.apply(this,arguments):(t.on("load",function(){for(var t=this._.children,e=this,n=0;n<t.length;n++)t[n].getElement().on("propertychange",function(t){"checked"==(t=t.data.$).propertyName&&this.$.checked&&e.fire("change",{value:this.getAttribute("value")})})},this),this.on("change",e),null)}}},i,!0),CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,i,{getInputElement:function(){var t=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<t.$.forms.length?new CKEDITOR.dom.element(t.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(t){var e,n,i=/^on([A-Z]\w+)/,r=function(t,e,n,i){t.on("formLoaded",function(){t.getInputElement().on(n,i,t)})};for(n in t)(e=n.match(i))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,t[n]):r(this,this._.dialog,e[1].toLowerCase(),t[n]));return this},reset:function(){function t(){n.$.open();var t="";i.size&&(t=i.size-(CKEDITOR.env.ie?7:0));var c=e.frameId+"_input";for(n.$.write(['<html dir="'+s+'" lang="'+l+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+s+'" lang="'+l+'" action="',CKEDITOR.tools.htmlEncode(i.action),'"><label id="',e.labelId,'" for="',c,'" style="display:none">',CKEDITOR.tools.htmlEncode(i.label),'</label><input style="width:100%" id="',c,'" aria-labelledby="',e.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(i.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(0<t?t:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+o+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+a+")}","<\/script>"].join("")),n.$.close(),t=0;t<r.length;t++)r[t].enable()}var e=this._,n=CKEDITOR.document.getById(e.frameId).getFrameDocument(),i=e.definition,r=e.buttons,o=this.formLoadedNumber,a=this.formUnloadNumber,s=e.dialog._.editor.lang.dir,l=e.dialog._.editor.langCode;o||(o=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),a=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(o),CKEDITOR.tools.removeFunction(a)})),CKEDITOR.env.gecko?setTimeout(t,500):t()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(t,e){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",e)}},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button,CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype),CKEDITOR.dialog.addUIElement("text",e),CKEDITOR.dialog.addUIElement("password",e),CKEDITOR.dialog.addUIElement("tel",e),CKEDITOR.dialog.addUIElement("textarea",n),CKEDITOR.dialog.addUIElement("checkbox",n),CKEDITOR.dialog.addUIElement("radio",n),CKEDITOR.dialog.addUIElement("button",n),CKEDITOR.dialog.addUIElement("select",n),CKEDITOR.dialog.addUIElement("file",n),CKEDITOR.dialog.addUIElement("fileButton",n),CKEDITOR.dialog.addUIElement("html",n),CKEDITOR.dialog.addUIElement("fieldset",{build:function(t,e,n){for(var i,r=e.children,o=[],a=[],s=0;s<r.length&&(i=r[s]);s++){var l=[];o.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(t,i,l))}return new CKEDITOR.ui.dialog[e.type](t,a,o,n,e)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function t(t){t._.tabBarMode=!0,t._.tabs[t._.currentTabId][0].focus(),t._.currentFocusIndex=-1}function e(){for(var t=this._.tabIdList.length,e=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+t,n=e-1;n>e-t;n--)if(this._.tabs[this._.tabIdList[n%t]][0].$.offsetHeight)return this._.tabIdList[n%t];return null}function n(t,e){for(var n=t.$.getElementsByTagName("input"),i=0,r=n.length;i<r;i++){var o=new CKEDITOR.dom.element(n[i]);"text"==o.getAttribute("type").toLowerCase()&&(e?(o.setAttribute("value",o.getCustomData("fake_value")||""),o.removeCustomData("fake_value")):(o.setCustomData("fake_value",o.getAttribute("value")),o.setAttribute("value","")))}}function i(t,e,n){this.element=e,this.focusIndex=n,this.tabIndex=0,this.isFocusable=function(){return!e.getAttribute("disabled")&&e.isVisible()},this.focus=function(){t._.currentFocusIndex=this.focusIndex,this.element.focus()},e.on("keydown",function(t){t.data.getKeystroke()in{32:1,13:1}&&this.fire("click")}),e.on("focus",function(){this.fire("mouseover")}),e.on("blur",function(){this.fire("mouseout")})}function r(t,e){this.dialog=t;for(var n,i=e.contents,r=0;n=i[r];r++)i[r]=n&&new o(t,n);CKEDITOR.tools.extend(this,e)}function o(t,e){this._={dialog:t},CKEDITOR.tools.extend(this,e)}function a(t){function e(e){var n=t.getSize(),l=t.parts.dialog.getParent().getClientSize(),c=e.data.$.screenX,u=e.data.$.screenY,d=c-i.x,h=u-i.y;i={x:c,y:u},r.x+=d,r.y+=h,c=r.x+s[3]<a?-s[3]:r.x-s[1]>l.width-n.width-a?l.width-n.width+("rtl"==o.lang.dir?0:s[1]):r.x,n=r.y+s[0]<a?-s[0]:r.y-s[2]>l.height-n.height-a?l.height-n.height+s[2]:r.y,c=Math.floor(c),n=Math.floor(n),t.move(c,n,1),e.data.preventDefault()}function n(){if(CKEDITOR.document.removeListener("mousemove",e),CKEDITOR.document.removeListener("mouseup",n),CKEDITOR.env.ie6Compat){var t=y.getChild(0).getFrameDocument();t.removeListener("mousemove",e),t.removeListener("mouseup",n)}}var i=null,r=null,o=t.getParentEditor(),a=o.config.dialog_magnetDistance,s=CKEDITOR.skin.margins||[0,0,0,0];void 0===a&&(a=20),t.parts.title.on("mousedown",function(o){if(!t._.moved){var a=t._.element;a.getFirst().setStyle("position","absolute"),a.removeStyle("display"),t._.moved=!0,t.layout()}i={x:o.data.$.screenX,y:o.data.$.screenY},CKEDITOR.document.on("mousemove",e),CKEDITOR.document.on("mouseup",n),r=t.getPosition(),CKEDITOR.env.ie6Compat&&((a=y.getChild(0).getFrameDocument()).on("mousemove",e),a.on("mouseup",n)),o.data.preventDefault()},t)}function s(t){function e(e){var n="rtl"==h.lang.dir,d=u.width,f=u.height,p=d+(e.data.$.screenX-c.x)*(n?-1:1)*(t._.moved?1:2),g=f+(e.data.$.screenY-c.y)*(t._.moved?1:2),m=t._.element.getFirst(),v=(m=n&&parseInt(m.getComputedStyle("right"),10),t.getPosition());v.x=v.x||0,v.y=v.y||0,v.y+g>s.height&&(g=s.height-v.y),(n?m:v.x)+p>s.width&&(p=s.width-(n?m:v.x)),g=Math.floor(g),p=Math.floor(p),r!=CKEDITOR.DIALOG_RESIZE_WIDTH&&r!=CKEDITOR.DIALOG_RESIZE_BOTH||(d=Math.max(i.minWidth||0,p-o)),r!=CKEDITOR.DIALOG_RESIZE_HEIGHT&&r!=CKEDITOR.DIALOG_RESIZE_BOTH||(f=Math.max(i.minHeight||0,g-a)),t.resize(d,f),t._.moved&&l(t,t._.position.x,t._.position.y),t._.moved||t.layout(),e.data.preventDefault()}function n(){if(CKEDITOR.document.removeListener("mouseup",n),CKEDITOR.document.removeListener("mousemove",e),d&&(d.remove(),d=null),CKEDITOR.env.ie6Compat){var t=y.getChild(0).getFrameDocument();t.removeListener("mouseup",n),t.removeListener("mousemove",e)}}var i=t.definition,r=i.resizable;if(r!=CKEDITOR.DIALOG_RESIZE_NONE){var o,a,s,c,u,d,h=t.getParentEditor(),f=CKEDITOR.tools.addFunction(function(i){function r(t){return t.isVisible()}u=t.getSize();var l=t.parts.contents,h=l.$.getElementsByTagName("iframe").length,f=!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks);h&&(d=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%; left:0; top:0;"></div>'),l.append(d)),a=u.height-t.parts.contents.getFirst(r).getSize("height",f),o=u.width-t.parts.contents.getFirst(r).getSize("width",1),c={x:i.screenX,y:i.screenY},s=CKEDITOR.document.getWindow().getViewPaneSize(),CKEDITOR.document.on("mousemove",e),CKEDITOR.document.on("mouseup",n),CKEDITOR.env.ie6Compat&&((l=y.getChild(0).getFrameDocument()).on("mousemove",e),l.on("mouseup",n)),i.preventDefault&&i.preventDefault()});t.on("load",function(){var e="";r==CKEDITOR.DIALOG_RESIZE_WIDTH?e=" cke_resizer_horizontal":r==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(e=" cke_resizer_vertical"),e=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+e+" cke_resizer_"+h.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(h.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+f+', event )">'+("ltr"==h.lang.dir?"â¢":"â£")+"</div>"),t.parts.footer.append(e,1)}),h.on("destroy",function(){CKEDITOR.tools.removeFunction(f)})}}function l(t,e,n){var i=t.parts.dialog.getParent().getClientSize(),r=t.getSize(),o=t._.viewportRatio,a=Math.max(i.width-r.width,0);i=Math.max(i.height-r.height,0);o.width=a?e/a:o.width,o.height=i?n/i:o.height,t._.viewportRatio=o}function c(t){t.data.preventDefault(1)}function u(t){var e=t.config,n=CKEDITOR.skinName||t.config.skin,i=e.dialog_backgroundCoverColor||("moono-lisa"==n?"black":"white"),r=(n=e.dialog_backgroundCoverOpacity,e.baseFloatZIndex),o=(e=CKEDITOR.tools.genKey(i,n,r),k[e]);CKEDITOR.document.getBody().addClass("cke_dialog_open"),o?o.show():(r=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",r,"; top: 0px; left: 0px; ","; width: 100%; height: 100%;",CKEDITOR.env.ie6Compat?"":"background-color: "+i,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&(i="<html><body style=\\'background-color:"+i+";\\'></body></html>",r.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),r.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+i+"' );document.close();")+"})())"),r.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),r.push("</div>"),(o=CKEDITOR.dom.element.createFromHtml(r.join(""))).setOpacity(void 0!==n?n:.5),o.on("keydown",c),o.on("keypress",c),o.on("keyup",c),o.appendTo(CKEDITOR.document.getBody()),k[e]=o),t.focusManager.add(o),y=o,CKEDITOR.env.mac&&CKEDITOR.env.webkit||o.focus()}function d(t){CKEDITOR.document.getBody().removeClass("cke_dialog_open"),y&&(t.focusManager.remove(y),y.hide())}function h(t){var e=t.data.$.ctrlKey||t.data.$.metaKey,n=t.data.$.altKey,i=t.data.$.shiftKey,r=String.fromCharCode(t.data.$.keyCode);(e=D[(e?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+r])&&e.length&&((e=e[e.length-1]).keydown&&e.keydown.call(e.uiElement,e.dialog,e.key),t.data.preventDefault())}function f(t){var e=t.data.$.ctrlKey||t.data.$.metaKey,n=t.data.$.altKey,i=t.data.$.shiftKey,r=String.fromCharCode(t.data.$.keyCode);(e=D[(e?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+r])&&e.length&&((e=e[e.length-1]).keyup&&(e.keyup.call(e.uiElement,e.dialog,e.key),t.data.preventDefault()))}function p(t,e,n,i,r){(D[n]||(D[n]=[])).push({uiElement:t,dialog:e,key:n,keyup:r||t.accessKeyUp,keydown:i||t.accessKeyDown})}function g(t,e){t._.accessKeyMap[e]&&t.selectPage(t._.accessKeyMap[e])}function m(){}var v,y,b=CKEDITOR.tools.cssLength,w=!1,E=!CKEDITOR.env.ie||CKEDITOR.env.edge,C='<div class="cke_reset_all cke_dialog_container {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" style="'+(E?"display:flex":"")+'" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="'+(E?"margin:auto":"position:absolute")+'" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(n,i){function o(t){var e=b._.focusList;if(t=t||0,!(1>e.length)){var n=b._.currentFocusIndex;b._.tabBarMode&&0>t&&(n=0);try{e[n].getInputElement().$.blur()}catch(t){}var i=n,r=1<b._.pageCount;do{if(i+=t,r&&!b._.tabBarMode&&(i==e.length||-1==i))return b._.tabBarMode=!0,b._.tabs[b._.currentTabId][0].focus(),void(b._.currentFocusIndex=-1);if((i=(i+e.length)%e.length)==n)break}while(t&&!e[i].isFocusable());e[i].focus(),"text"==e[i].type&&e[i].select()}}function l(i){if(b==CKEDITOR.dialog._.currentTop){var r=i.data.getKeystroke(),a="rtl"==n.lang.dir;if(u=d=0,9==r||r==CKEDITOR.SHIFT+9)o(r==CKEDITOR.SHIFT+9?-1:1),u=1;else if(r==CKEDITOR.ALT+121&&!b._.tabBarMode&&1<b.getPageCount())t(b),u=1;else if(-1!=CKEDITOR.tools.indexOf([37,38,39,40],r)&&b._.tabBarMode)r=-1!=CKEDITOR.tools.indexOf([a?39:37,38],r)?e.call(b):function(){for(var t=this._.tabIdList.length,e=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),n=e+1;n<e+t;n++)if(this._.tabs[this._.tabIdList[n%t]][0].$.offsetHeight)return this._.tabIdList[n%t];return null}.call(b),b.selectPage(r),b._.tabs[r][0].focus(),u=1;else if(13!=r&&32!=r||!b._.tabBarMode)if(13==r)(r=i.data.getTarget()).is("a","button","select","textarea")||r.is("input")&&"button"==r.$.type||((r=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(r.click,0,r),u=1),d=1;else{if(27!=r)return;(r=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(r.click,0,r):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),d=1}else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,o(1),u=1;c(i)}}function c(t){u?t.data.preventDefault(1):d&&t.data.stopPropagation()}var u,d,h=CKEDITOR.dialog._.dialogDefinitions[i],f=CKEDITOR.tools.clone(v),p=n.config.dialog_buttonsOrder||"OS",g=n.lang.dir,m={};if(("OS"==p&&CKEDITOR.env.mac||"rtl"==p&&"ltr"==g||"ltr"==p&&"rtl"==g)&&f.buttons.reverse(),h=CKEDITOR.tools.extend(h(n),f),h=new r(this,h=CKEDITOR.tools.clone(h)),f=function(t){var e=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",C).output({id:CKEDITOR.tools.getNextNumber(),editorId:t.id,langDir:t.lang.dir,langCode:t.langCode,editorDialogClass:"cke_editor_"+t.name.replace(/\./g,"\\.")+"_dialog",closeTitle:t.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),n=e.getChild([0,0,0,0,0]),i=n.getChild(0),r=n.getChild(1);return t.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(n),!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(t="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+t+'" tabIndex="-1"></iframe>').appendTo(n.getParent())),i.unselectable(),r.unselectable(),{element:e,parts:{dialog:e.getChild(0),title:i,close:r,tabs:n.getChild(2),contents:n.getChild([3,0,0,0]),footer:n.getChild([3,0,1,0])}}}(n),this._={editor:n,element:f.element,name:i,model:null,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},viewportRatio:{width:.5,height:.5},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=f.parts,CKEDITOR.tools.setTimeout(function(){n.fire("ariaWidget",this.parts.contents)},0,this),f={top:0,visibility:"hidden"},CKEDITOR.env.ie6Compat&&(f.position="absolute"),f["rtl"==g?"right":"left"]=0,this.parts.dialog.setStyles(f),CKEDITOR.event.call(this),this.definition=h=CKEDITOR.fire("dialogDefinition",{name:i,definition:h,dialog:this},n).definition,!("removeDialogTabs"in n._)&&n.config.removeDialogTabs){for(f=n.config.removeDialogTabs.split(";"),g=0;g<f.length;g++)if(2==(p=f[g].split(":")).length){var y=p[0];m[y]||(m[y]=[]),m[y].push(p[1])}n._.removeDialogTabs=m}if(n._.removeDialogTabs&&(m=n._.removeDialogTabs[i]))for(g=0;g<m.length;g++)h.removeContents(m[g]);h.onLoad&&this.on("load",h.onLoad),h.onShow&&this.on("show",h.onShow),h.onHide&&this.on("hide",h.onHide),h.onOk&&this.on("ok",function(t){n.fire("saveSnapshot"),setTimeout(function(){n.fire("saveSnapshot")},0),!1===h.onOk.call(this,t)&&(t.data.hide=!1)}),this.state=CKEDITOR.DIALOG_STATE_IDLE,h.onCancel&&this.on("cancel",function(t){!1===h.onCancel.call(this,t)&&(t.data.hide=!1)});var b=this,w=function(t){var e,n=b._.contents;for(e in n)for(var i in n[e])if(t.call(this,n[e][i]))return};this.on("ok",function(t){w(function(e){if(e.validate){var n=e.validate(this),i="string"==typeof n||!1===n;return i&&(t.data.hide=!1,t.stop()),function(t,e){var n=this.getInputElement();n&&(t?n.removeAttribute("aria-invalid"):n.setAttribute("aria-invalid",!0)),t||(this.select?this.select():this.focus()),e&&alert(e),this.fire("validated",{valid:t,msg:e})}.call(e,!i,"string"==typeof n?n:void 0),i}})},this,null,0),this.on("cancel",function(t){w(function(e){if(e.isChanged())return n.config.dialog_noConfirmCancel||confirm(n.lang.common.confirmCancel)||(t.data.hide=!1),!0})},this,null,0),this.parts.close.on("click",function(t){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),t.data.preventDefault()},this),this.changeFocus=o;var E=this._.element;for(n.focusManager.add(E,1),this.on("show",function(){E.on("keydown",l,this),CKEDITOR.env.gecko&&E.on("keypress",c,this)}),this.on("hide",function(){E.removeListener("keydown",l),CKEDITOR.env.gecko&&E.removeListener("keypress",c),w(function(t){(function(){var t=this.getInputElement();t&&t.removeAttribute("aria-invalid")}).apply(t)})}),this.on("iframeAdded",function(t){new CKEDITOR.dom.document(t.data.iframe.$.contentWindow.document).on("keydown",l,this,null,0)}),this.on("show",function(){!function(){var t=b._.focusList;t.sort(function(t,e){return t.tabIndex!=e.tabIndex?e.tabIndex-t.tabIndex:t.focusIndex-e.focusIndex});for(var e=t.length,n=0;n<e;n++)t[n].focusIndex=n}();var t=1<b._.pageCount;n.config.dialog_startupFocusTab&&t?(b._.tabBarMode=!0,b._.tabs[b._.currentTabId][0].focus(),b._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=t?-1:this._.focusList.length-1,h.onFocus?(t=h.onFocus.call(this))&&t.focus():o(1))},this,null,4294967295),CKEDITOR.env.ie6Compat&&this.on("load",function(){var t=this.getElement(),e=t.getFirst();e.remove(),e.appendTo(t)},this),a(this),s(this),new CKEDITOR.dom.text(h.title,CKEDITOR.document).appendTo(this.parts.title),g=0;g<h.contents.length;g++)(m=h.contents[g])&&this.addPage(m);for(this.parts.tabs.on("click",function(e){var n=e.data.getTarget();n.hasClass("cke_dialog_tab")&&(n=n.$.id,this.selectPage(n.substring(4,n.lastIndexOf("_"))),t(this),e.data.preventDefault())},this),g=[],m=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:h.buttons},g).getChild(),this.parts.footer.setHtml(g.join("")),g=0;g<m.length;g++)this._.buttons[m[g].id]=m[g]},CKEDITOR.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(t,e){if(!this._.contentSize||this._.contentSize.width!=t||this._.contentSize.height!=e){if(CKEDITOR.dialog.fire("resize",{dialog:this,width:t,height:e},this._.editor),this.fire("resize",{width:t,height:e},this._.editor),this.parts.contents.setStyles({width:t+"px",height:e+"px"}),"rtl"==this._.editor.lang.dir&&this._.position){var n=this.parts.dialog.getParent().getClientSize().width;this._.position.x=n-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)}this._.contentSize={width:t,height:e}}},getSize:function(){var t=this._.element.getFirst();return{width:t.$.offsetWidth||0,height:t.$.offsetHeight||0}},move:function(t,e,n){var i=this._.element.getFirst(),r="rtl"==this._.editor.lang.dir;CKEDITOR.env.ie&&i.setStyle("zoom","100%");var o=this.parts.dialog.getParent().getClientSize(),a=this.getSize(),s=this._.viewportRatio,c=Math.max(o.width-a.width,0);o=Math.max(o.height-a.height,0);this._.position&&this._.position.x==t&&this._.position.y==e?(t=Math.floor(c*s.width),e=Math.floor(o*s.height)):l(this,t,e),this._.position={x:t,y:e},r&&(t=c-t),(e={top:(0<e?e:0)+"px"})[r?"right":"left"]=(0<t?t:0)+"px",i.setStyles(e),n&&(this._.moved=1)},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var t=this._.element,e=this.definition,n=CKEDITOR.document.getBody(),i=this._.editor.config.baseFloatZIndex;for(var r in t.getParent()&&t.getParent().equals(n)?t.setStyle("display",E?"flex":"block"):t.appendTo(n),this.resize(this._.contentSize&&this._.contentSize.width||e.width||e.minWidth,this._.contentSize&&this._.contentSize.height||e.height||e.minHeight),this.reset(),null===this._.currentTabId&&this.selectPage(this.definition.contents[0].id),null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=i),this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10),this.getElement().setStyle("z-index",CKEDITOR.dialog._.currentZIndex),null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,u(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,(n=this._.parentDialog.getElement().getFirst()).$.style.zIndex-=Math.floor(i/2),this._.parentDialog.getElement().setStyle("z-index",n.$.style.zIndex),CKEDITOR.dialog._.currentTop=this),t.on("keydown",h),t.on("keyup",f),this._.hasFocus=!1,e.contents)if(e.contents[r]){t=e.contents[r],i=this._.tabs[t.id],n=t.requiredContent;var o=0;if(i){for(var a in this._.contents[t.id]){var s=this._.contents[t.id][a];"hbox"!=s.type&&"vbox"!=s.type&&s.getInputElement()&&(s.requiredContent&&!this._.editor.activeFilter.check(s.requiredContent)?s.disable():(s.enable(),o++))}!o||n&&!this._.editor.activeFilter.check(n)?i[0].addClass("cke_dialog_tab_disabled"):i[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout(),function(t){function e(){t.layout()}var n=CKEDITOR.document.getWindow();n.on("resize",e),t.on("hide",function(){n.removeListener("resize",e)})}(this),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),CKEDITOR.ui.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this._.parentDialog||this._.editor.focusManager.lock(),this.foreach(function(t){t.setInitValue&&t.setInitValue()})},100,this)},layout:function(){var t=this.parts.dialog;if(this._.moved||!E){var e,n=this.getSize(),i=CKEDITOR.document.getWindow().getViewPaneSize();this._.moved&&this._.position?(e=this._.position.x,n=this._.position.y):(e=(i.width-n.width)/2,n=(i.height-n.height)/2),CKEDITOR.env.ie6Compat||(t.setStyle("position","absolute"),t.removeStyle("margin")),e=Math.floor(e),n=Math.floor(n),this.move(e,n)}},foreach:function(t){for(var e in this._.contents)for(var n in this._.contents[e])t.call(this,this._.contents[e][n]);return this},reset:function(){var t=function(t){t.reset&&t.reset(1)};return function(){return this.foreach(t),this}}(),setupContent:function(){var t=arguments;this.foreach(function(e){e.setup&&e.setup.apply(e,t)})},commitContent:function(){var t=arguments;this.foreach(function(e){CKEDITOR.env.ie&&this._.currentFocusIndex==e.focusIndex&&e.getInputElement().$.blur(),e.commit&&e.commit.apply(e,t)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{}),this._.editor.fire("dialogHide",this),this.selectPage(this._.tabIdList[0]);var t=this._.element;for(t.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),function(t){for(var e in D){for(var n=D[e],i=n.length-1;0<=i;i--)n[i].dialog!=t&&n[i].uiElement!=t||n.splice(i,1);0===n.length&&delete D[e]}}(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var e=this._.parentDialog.getElement().getFirst();this._.parentDialog.getElement().removeStyle("z-index"),e.setStyle("z-index",parseInt(e.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else d(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null,t.removeListener("keydown",h),t.removeListener("keyup",f);var n=this._.editor;n.focus(),setTimeout(function(){n.focusManager.unlock(),CKEDITOR.env.iOS&&n.window.focus()},0)}delete this._.parentDialog,this.foreach(function(t){t.resetInitValue&&t.resetInitValue()}),this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(t){if(!t.requiredContent||this._.editor.filter.check(t.requiredContent)){for(var e=[],n=t.label?' title="'+CKEDITOR.tools.htmlEncode(t.label)+'"':"",i=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:t.elements,expand:!!t.expand,padding:t.padding,style:t.style||"width: 100%;"},e),r=this._.contents[t.id]={},o=i.getChild(),a=0;i=o.shift();)i.notAllowed||"hbox"==i.type||"vbox"==i.type||a++,r[i.id]=i,"function"==typeof i.getChild&&o.push.apply(o,i.getChild());a||(t.hidden=!0),(e=CKEDITOR.dom.element.createFromHtml(e.join(""))).setAttribute("role","tabpanel"),e.setStyle("min-height","100%"),i=CKEDITOR.env,r="cke_"+t.id+"_"+CKEDITOR.tools.getNextNumber(),n=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",n,t.hidden?' style="display:none"':"",' id="',r,'"',i.gecko&&!i.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',t.label,"</a>"].join("")),e.setAttribute("aria-labelledby",r),this._.tabs[t.id]=[n,e],this._.tabIdList.push(t.id),!t.hidden&&this._.pageCount++,this._.lastTab=n,this.updateStyle(),e.setAttribute("name",t.id),e.appendTo(this.parts.contents),n.unselectable(),this.parts.tabs.append(n),t.accessKey&&(p(this,this,"CTRL+"+t.accessKey,m,g),this._.accessKeyMap["CTRL+"+t.accessKey]=t.id)}},selectPage:function(t){if(this._.currentTabId!=t&&!this._.tabs[t][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:t,currentPage:this._.currentTabId})){for(var e in this._.tabs){var i=this._.tabs[e][0],r=this._.tabs[e][1];e!=t&&(i.removeClass("cke_dialog_tab_selected"),i.removeAttribute("aria-selected"),r.hide()),r.setAttribute("aria-hidden",e!=t)}var o=this._.tabs[t];o[0].addClass("cke_dialog_tab_selected"),o[0].setAttribute("aria-selected",!0),CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(n(o[1]),o[1].show(),setTimeout(function(){n(o[1],1)},0)):o[1].show(),this._.currentTabId=t,this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,t)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(t){var n=this._.tabs[t]&&this._.tabs[t][0];n&&1!=this._.pageCount&&n.isVisible()&&(t==this._.currentTabId&&this.selectPage(e.call(this)),n.hide(),this._.pageCount--,this.updateStyle())},showPage:function(t){(t=this._.tabs[t]&&this._.tabs[t][0])&&(t.show(),this._.pageCount++,this.updateStyle())},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(t,e){var n=this._.contents[t];return n&&n[e]},getValueOf:function(t,e){return this.getContentElement(t,e).getValue()},setValueOf:function(t,e,n){return this.getContentElement(t,e).setValue(n)},getButton:function(t){return this._.buttons[t]},click:function(t){return this._.buttons[t].click()},disableButton:function(t){return this._.buttons[t].disable()},enableButton:function(t){return this._.buttons[t].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(t,e){if(void 0===e)e=this._.focusList.length,this._.focusList.push(new i(this,t,e));else{this._.focusList.splice(e,0,new i(this,t,e));for(var n=e+1;n<this._.focusList.length;n++)this._.focusList[n].focusIndex++}},setState:function(t){if(this.state!=t){if(this.state=t,t==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var e=this.getParentEditor().lang.dir,n={attributes:{class:"cke_dialog_spinner"},styles:{float:"rtl"==e?"right":"left"}};n.styles["margin-"+("rtl"==e?"left":"right")]="8px",this.parts.spinner=CKEDITOR.document.createElement("div",n),this.parts.spinner.setHtml("&#8987;"),this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show(),this.getButton("ok").disable()}else t==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok").enable());this.fire("state",t)}},getModel:function(t){return this._.model?this._.model:this.definition.getModel?this.definition.getModel(t):null},setModel:function(t){this._.model=t},getMode:function(t){return this.definition.getMode?this.definition.getMode(t):!(t=this.getModel(t))||t instanceof CKEDITOR.dom.element&&!t.getParent()?CKEDITOR.dialog.CREATION_MODE:CKEDITOR.dialog.EDITING_MODE}},CKEDITOR.tools.extend(CKEDITOR.dialog,{CREATION_MODE:0,EDITING_MODE:1,add:function(t,e){this._.dialogDefinitions[t]&&"function"!=typeof e||(this._.dialogDefinitions[t]=e)},exists:function(t){return!!this._.dialogDefinitions[t]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(t,e,n){return!((t=t.config.removeDialogTabs)&&t.match(new RegExp("(?:^|;)"+e+":"+n+"(?:$|;)","i")))},okButton:function(){var t=function(t,e){return e=e||{},CKEDITOR.tools.extend({id:"ok",type:"button",label:t.lang.common.ok,class:"cke_dialog_ui_button_ok",onClick:function(t){!1!==(t=t.data.dialog).fire("ok",{hide:!0}).hide&&t.hide()}},e,!0)};return t.type="button",t.override=function(e){return CKEDITOR.tools.extend(function(n){return t(n,e)},{type:"button"},!0)},t}(),cancelButton:function(){var t=function(t,e){return e=e||{},CKEDITOR.tools.extend({id:"cancel",type:"button",label:t.lang.common.cancel,class:"cke_dialog_ui_button_cancel",onClick:function(t){!1!==(t=t.data.dialog).fire("cancel",{hide:!0}).hide&&t.hide()}},e,!0)};return t.type="button",t.override=function(e){return CKEDITOR.tools.extend(function(n){return t(n,e)},{type:"button"},!0)},t}(),addUIElement:function(t,e){this._.uiElementBuilders[t]=e}}),CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},CKEDITOR.event.implementOn(CKEDITOR.dialog),CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype),v={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]};var T=function(t,e,n){for(var i,r=0;i=t[r];r++)if(i.id==e||n&&i[n]&&(i=T(i[n],e,n)))return i;return null},_=function(t,e,n,i,r){if(n){for(var o,a=0;o=t[a];a++){if(o.id==n)return t.splice(a,0,e),e;if(i&&o[i]&&(o=_(o[i],e,n,i,!0)))return o}if(r)return null}return t.push(e),e},O=function(t,e,n){for(var i,r=0;i=t[r];r++){if(i.id==e)return t.splice(r,1);if(n&&i[n]&&(i=O(i[n],e,n)))return i}return null};r.prototype={getContents:function(t){return T(this.contents,t)},getButton:function(t){return T(this.buttons,t)},addContents:function(t,e){return _(this.contents,t,e)},addButton:function(t,e){return _(this.buttons,t,e)},removeContents:function(t){O(this.contents,t)},removeButton:function(t){O(this.buttons,t)}},o.prototype={get:function(t){return T(this.elements,t,"children")},add:function(t,e){return _(this.elements,t,e,"children")},remove:function(t){O(this.elements,t,"children")}};var k={},D={};CKEDITOR.ui.dialog={uiElement:function(t,e,n,i,r,o,a){if(!(4>arguments.length)){var s=(i.call?i(e):i)||"div",l=["<",s," "],c=(r&&r.call?r(e):r)||{},u=(o&&o.call?o(e):o)||{},d=(a&&a.call?a.call(this,t,e):a)||"",h=this.domId=u.id||CKEDITOR.tools.getNextId()+"_uiElement";e.requiredContent&&!t.getParentEditor().filter.check(e.requiredContent)&&(c.display="none",this.notAllowed=!0),u.id=h;var f={};e.type&&(f["cke_dialog_ui_"+e.type]=1),e.className&&(f[e.className]=1),e.disabled&&(f.cke_disabled=1);var g=u.class&&u.class.split?u.class.split(" "):[];for(h=0;h<g.length;h++)g[h]&&(f[g[h]]=1);for(h in g=[],f)g.push(h);for(h in u.class=g.join(" "),e.title&&(u.title=e.title),f=(e.style||"").split(";"),e.align&&(g=e.align,c["margin-left"]="left"==g?0:"auto",c["margin-right"]="right"==g?0:"auto"),c)f.push(h+":"+c[h]);for(e.hidden&&f.push("display:none"),h=f.length-1;0<=h;h--)""===f[h]&&f.splice(h,1);for(h in 0<f.length&&(u.style=(u.style?u.style+"; ":"")+f.join("; ")),u)l.push(h+'="'+CKEDITOR.tools.htmlEncode(u[h])+'" ');l.push(">",d,"</",s,">"),n.push(l.join("")),(this._||(this._={})).dialog=t,"boolean"==typeof e.isChanged&&(this.isChanged=function(){return e.isChanged}),"function"==typeof e.isChanged&&(this.isChanged=e.isChanged),"function"==typeof e.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(t){return function(n){t.call(this,e.setValue.call(this,n))}})),"function"==typeof e.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(t){return function(){return e.getValue.call(this,t.call(this))}})),CKEDITOR.event.implementOn(this),this.registerEvents(e),this.accessKeyUp&&this.accessKeyDown&&e.accessKey&&p(this,t,"CTRL+"+e.accessKey);var m=this;t.on("load",function(){var e=m.getInputElement();if(e){var n=m.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?"cke_dialog_ui_focused":"";e.on("focus",function(){t._.tabBarMode=!1,t._.hasFocus=!0,m.fire("focus"),n&&this.addClass(n)}),e.on("blur",function(){m.fire("blur"),n&&this.removeClass(n)})}}),CKEDITOR.tools.extend(this,e),this.keyboardFocusable&&(this.tabIndex=e.tabIndex||0,this.focusIndex=t._.focusList.push(this)-1,this.on("focus",function(){t._.currentFocusIndex=m.focusIndex}))}},hbox:function(t,e,n,i,r){if(!(4>arguments.length)){this._||(this._={});var o,a=this._.children=e,s=r&&r.widths||null,l=r&&r.height||null,c={role:"presentation"};r&&r.align&&(c.align=r.align),CKEDITOR.ui.dialog.uiElement.call(this,t,r||{type:"hbox"},i,"table",{},c,function(){var t=['<tbody><tr class="cke_dialog_ui_hbox">'];for(o=0;o<n.length;o++){var e="cke_dialog_ui_hbox_child",i=[];0===o&&(e="cke_dialog_ui_hbox_first"),o==n.length-1&&(e="cke_dialog_ui_hbox_last"),t.push('<td class="',e,'" role="presentation" '),s?s[o]&&i.push("width:"+b(s[o])):i.push("width:"+Math.floor(100/n.length)+"%"),l&&i.push("height:"+b(l)),r&&void 0!==r.padding&&i.push("padding:"+b(r.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&a[o].align&&i.push("text-align:"+a[o].align),0<i.length&&t.push('style="'+i.join("; ")+'" '),t.push(">",n[o],"</td>")}return t.push("</tr></tbody>"),t.join("")})}},vbox:function(t,e,n,i,r){if(!(3>arguments.length)){this._||(this._={});var o=this._.children=e,a=r&&r.width||null,s=r&&r.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,t,r||{type:"vbox"},i,"div",null,{role:"presentation"},function(){var e=['<table role="presentation" cellspacing="0" border="0" '];e.push('style="'),r&&r.expand&&e.push("height:100%;"),e.push("width:"+b(a||"100%"),";"),CKEDITOR.env.webkit&&e.push("float:none;"),e.push('"'),e.push('align="',CKEDITOR.tools.htmlEncode(r&&r.align||("ltr"==t.getParentEditor().lang.dir?"left":"right")),'" '),e.push("><tbody>");for(var i=0;i<n.length;i++){var l=[];e.push('<tr><td role="presentation" '),a&&l.push("width:"+b(a||"100%")),s?l.push("height:"+b(s[i])):r&&r.expand&&l.push("height:"+Math.floor(100/n.length)+"%"),r&&void 0!==r.padding&&l.push("padding:"+b(r.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&o[i].align&&l.push("text-align:"+o[i].align),0<l.length&&e.push('style="',l.join("; "),'" '),e.push(' class="cke_dialog_ui_vbox_child">',n[i],"</td></tr>")}return e.push("</tbody></table>"),e.join("")})}}},CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(t,e){return this.getInputElement().setValue(t),!e&&this.fire("change",{value:t}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var t=this.getInputElement();(t=t.getParent())&&-1==t.$.className.search("cke_dialog_page_contents"););return t?(t=t.getAttribute("name"),this._.dialog._.currentTabId!=t&&this._.dialog.selectPage(t),this):this},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(t){var e,n,i=/^on([A-Z]\w+)/,r=function(t,e,n,i){e.on("load",function(){t.getInputElement().on(n,i,t)})};for(n in t)(e=n.match(i))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,t[n]):r(this,this._.dialog,e[1].toLowerCase(),t[n]));return this},eventProcessors:{onLoad:function(t,e){t.on("load",e,this)},onShow:function(t,e){t.on("show",e,this)},onHide:function(t,e){t.on("hide",e,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var t=this.getElement();this.getInputElement().setAttribute("disabled","true"),t.addClass("cke_disabled")},enable:function(){var t=this.getElement();this.getInputElement().removeAttribute("disabled"),t.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return!(!this.isEnabled()||!this.isVisible())}},CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(t){return 1>arguments.length?this._.children.concat():(t.splice||(t=[t]),2>t.length?this._.children[t[0]]:this._.children[t[0]]&&this._.children[t[0]].getChild?this._.children[t[0]].getChild(t.slice(1,t.length)):null)}},!0),CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox,function(){var t={build:function(t,e,n){for(var i,r=e.children,o=[],a=[],s=0;s<r.length&&(i=r[s]);s++){var l=[];o.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(t,i,l))}return new CKEDITOR.ui.dialog[e.type](t,a,o,n,e)}};CKEDITOR.dialog.addUIElement("hbox",t),CKEDITOR.dialog.addUIElement("vbox",t)}(),CKEDITOR.dialogCommand=function(t,e){this.dialogName=t,CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.dialogCommand.prototype={exec:function(t){var e=this.tabId;t.openDialog(this.dialogName,function(t){e&&t.selectPage(e)})},canUndo:!1,editorFocus:1},function(){var t=/^([a]|[^a])+$/,e=/^\d*$/,n=/^\d*(?:\.\d+)?$/,i=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,r=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,o=/^(--|-?([a-zA-Z_]|\\))(\\|[a-zA-Z0-9-_])*\s*?:\s*?[^:;]+$/;CKEDITOR.VALIDATE_OR=1,CKEDITOR.VALIDATE_AND=2,CKEDITOR.dialog.validate={functions:function(){var t=arguments;return function(){var e,n,i=this&&this.getValue?this.getValue():t[0],r=CKEDITOR.VALIDATE_AND,o=[];for(n=0;n<t.length&&"function"==typeof t[n];n++)o.push(t[n]);n<t.length&&"string"==typeof t[n]&&(e=t[n],n++),n<t.length&&"number"==typeof t[n]&&(r=t[n]);var a=r==CKEDITOR.VALIDATE_AND;for(n=0;n<o.length;n++)a=r==CKEDITOR.VALIDATE_AND?a&&o[n](i):a||o[n](i);return!!a||e}},regex:function(t,e){return function(n){return n=this&&this.getValue?this.getValue():n,!!t.test(n)||e}},notEmpty:function(e){return this.regex(t,e)},integer:function(t){return this.regex(e,t)},number:function(t){return this.regex(n,t)},cssLength:function(t){return this.functions(function(t){return r.test(CKEDITOR.tools.trim(t))},t)},htmlLength:function(t){return this.functions(function(t){return i.test(CKEDITOR.tools.trim(t))},t)},inlineStyle:function(t){return this.functions(function(t){return""===(t=CKEDITOR.tools.trim(t).split(";"))[t.length-1]&&t.pop(),CKEDITOR.tools.array.every(t,function(t){return o.test(CKEDITOR.tools.trim(t))})},t)},equals:function(t,e){return this.functions(function(e){return e==t},e)},notEqual:function(t,e){return this.functions(function(e){return e!=t},e)}},CKEDITOR.on("instanceDestroyed",function(t){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var e;e=CKEDITOR.dialog._.currentTop;)e.hide();for(var n in k)k[n].remove();k={}}for(var i in t=t.editor._.storedDialogs)t[i].destroy()})}(),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(t,e,n){var i=null,r=CKEDITOR.dialog._.dialogDefinitions[t];if(null===CKEDITOR.dialog._.currentTop&&u(this),"function"==typeof r)r=this._.storedDialogs||(this._.storedDialogs={}),(i=r[t]||(r[t]=new CKEDITOR.dialog(this,t))).setModel(n),e&&e.call(i,i),i.show();else{if("failed"==r)throw d(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+t+'" failed when loading definition.');"string"==typeof r&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(r),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[t]&&(CKEDITOR.dialog._.dialogDefinitions[t]="failed"),this.openDialog(t,e,n)},this,0,1)}return CKEDITOR.skin.loadPart("dialog"),i&&i.once("hide",function(){i.setModel(null)},null,null,999),i}}),CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(t){w||(CKEDITOR.document.appendStyleSheet(this.path+"styles/dialog.css"),w=!0),t.on("doubleclick",function(e){e.data.dialog&&t.openDialog(e.data.dialog)},null,null,999)}})}(),CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(t){var e=this;t.addCommand("a11yHelp",{exec:function(){var n=t.langCode;n=e.availableLangs[n]?n:e.availableLangs[n.replace(/-.*/,"")]?n.replace(/-.*/,""):"en",CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e.path+"dialogs/lang/"+n+".js"),function(){t.lang.a11yhelp=e.langEntries[n],t.openDialog("a11yHelp")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1}),t.setKeystroke(CKEDITOR.ALT+48,"a11yHelp"),CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js"),t.on("ariaEditorHelpLabel",function(e){e.data.label=t.lang.common.editorHelp})}}),CKEDITOR.plugins.add("about",{requires:"dialog",init:function(t){var e=t.addCommand("about",new CKEDITOR.dialogCommand("about"));e.modes={wysiwyg:1,source:1},e.canUndo=!1,e.readOnly=1,t.ui.addButton&&t.ui.addButton("About",{label:t.lang.about.dlgTitle,command:"about",toolbar:"about"}),CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}}),CKEDITOR.plugins.add("basicstyles",{init:function(t){var e=0,n=function(n,r,o,a){if(a){a=new CKEDITOR.style(a);var s=i[o];s.unshift(a),t.attachStyleStateChange(a,function(e){!t.readOnly&&t.getCommand(o).setState(e)}),t.addCommand(o,new CKEDITOR.styleCommand(a,{contentForms:s})),t.ui.addButton&&t.ui.addButton(n,{label:r,command:o,toolbar:"basicstyles,"+(e+=10)})}},i={bold:["strong","b",["span",function(t){return"bold"==(t=t.styles["font-weight"])||700<=+t}]],italic:["em","i",["span",function(t){return"italic"==t.styles["font-style"]}]],underline:["u",["span",function(t){return"underline"==t.styles["text-decoration"]}]],strike:["s","strike",["span",function(t){return"line-through"==t.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},r=t.config,o=t.lang.basicstyles;n("Bold",o.bold,"bold",r.coreStyles_bold),n("Italic",o.italic,"italic",r.coreStyles_italic),n("Underline",o.underline,"underline",r.coreStyles_underline),n("Strike",o.strike,"strike",r.coreStyles_strike),n("Subscript",o.subscript,"subscript",r.coreStyles_subscript),n("Superscript",o.superscript,"superscript",r.coreStyles_superscript),t.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},function(){var t={exec:function(t){var e=t.getCommand("blockquote").state,n=t.getSelection(),i=n&&n.getRanges()[0];if(i){var r=n.createBookmarks();if(CKEDITOR.env.ie){var o,a=r[0].startNode,s=r[0].endNode;if(a&&"blockquote"==a.getParent().getName())for(o=a;o=o.getNext();)if(o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary()){a.move(o,!0);break}if(s&&"blockquote"==s.getParent().getName())for(o=s;o=o.getPrevious();)if(o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary()){s.move(o);break}}if((l=i.createIterator()).enlargeBr=t.config.enterMode!=CKEDITOR.ENTER_BR,e==CKEDITOR.TRISTATE_OFF){for(a=[];e=l.getNextParagraph();)a.push(e);for(1>a.length&&(e=t.document.createElement(t.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),s=r.shift(),i.insertNode(e),e.append(new CKEDITOR.dom.text("\ufeff",t.document)),i.moveToBookmark(s),i.selectNodeContents(e),i.collapse(!0),s=i.createBookmark(),a.push(e),r.unshift(s)),o=a[0].getParent(),i=[],s=0;s<a.length;s++)e=a[s],o=o.getCommonAncestor(e.getParent());for(e={table:1,tbody:1,tr:1,ol:1,ul:1};e[o.getName()];)o=o.getParent();for(s=null;0<a.length;){for(e=a.shift();!e.getParent().equals(o);)e=e.getParent();e.equals(s)||i.push(e),s=e}for(;0<i.length;)if("blockquote"==(e=i.shift()).getName()){for(s=new CKEDITOR.dom.documentFragment(t.document);e.getFirst();)s.append(e.getFirst().remove()),a.push(s.getLast());s.replace(e)}else a.push(e);for((i=t.document.createElement("blockquote")).insertBefore(a[0]);0<a.length;)e=a.shift(),i.append(e)}else if(e==CKEDITOR.TRISTATE_ON){for(s=[],o={};e=l.getNextParagraph();){for(a=i=null;e.getParent();){if("blockquote"==e.getParent().getName()){i=e.getParent(),a=e;break}e=e.getParent()}i&&a&&!a.getCustomData("blockquote_moveout")&&(s.push(a),CKEDITOR.dom.element.setMarker(o,a,"blockquote_moveout",!0))}for(CKEDITOR.dom.element.clearAllMarkers(o),e=[],a=[],o={};0<s.length;)i=(l=s.shift()).getParent(),l.getPrevious()?l.getNext()?(l.breakParent(l.getParent()),a.push(l.getNext())):l.remove().insertAfter(i):l.remove().insertBefore(i),i.getCustomData("blockquote_processed")||(a.push(i),CKEDITOR.dom.element.setMarker(o,i,"blockquote_processed",!0)),e.push(l);for(CKEDITOR.dom.element.clearAllMarkers(o),s=a.length-1;0<=s;s--){t:{for(var l=0,c=(o=i=a[s]).getChildCount(),u=void 0;l<c&&(u=o.getChild(l));l++)if(u.type==CKEDITOR.NODE_ELEMENT&&u.isBlockBoundary()){o=!1;break t}o=!0}o&&i.remove()}if(t.config.enterMode==CKEDITOR.ENTER_BR)for(i=!0;e.length;)if("div"==(l=e.shift()).getName()){for(s=new CKEDITOR.dom.documentFragment(t.document),!i||!l.getPrevious()||l.getPrevious().type==CKEDITOR.NODE_ELEMENT&&l.getPrevious().isBlockBoundary()||s.append(t.document.createElement("br")),i=l.getNext()&&!(l.getNext().type==CKEDITOR.NODE_ELEMENT&&l.getNext().isBlockBoundary());l.getFirst();)l.getFirst().remove().appendTo(s);i&&s.append(t.document.createElement("br")),s.replace(l),i=!1}}n.selectBookmarks(r),t.focus()}},refresh:function(t,e){this.setState(t.elementPath(e.block||e.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"};CKEDITOR.plugins.add("blockquote",{init:function(e){e.blockless||(e.addCommand("blockquote",t),e.ui.addButton&&e.ui.addButton("Blockquote",{label:e.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}})}(),function(){function t(t,e){CKEDITOR.tools.extend(this,e,{editor:t,id:"cke-"+CKEDITOR.tools.getUniqueId(),area:t._.notificationArea}),e.type||(this.type="info"),this.element=this._createElement(),t.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function e(t){var e=this;this.editor=t,this.notifications=[],this.element=this._createElement(),this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this),this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,this),t.on("destroy",function(){e._removeListeners(),e.element.remove()})}CKEDITOR.plugins.add("notification",{init:function(t){t._.notificationArea=new e(t),t.showNotification=function(e,n,i){var r,o;return"progress"==n?r=i:o=i,(e=new CKEDITOR.plugins.notification(t,{message:e,type:n,progress:r,duration:o})).show(),e},t.on("key",function(e){if(27==e.data.keyCode){var n=t._.notificationArea.notifications;n.length&&(function(t){var e=new CKEDITOR.dom.element("div");e.setStyles({position:"fixed","margin-left":"-9999px"}),e.setAttributes({"aria-live":"assertive","aria-atomic":"true"}),e.setText(t),CKEDITOR.document.getBody().append(e),setTimeout(function(){e.remove()},100)}(t.lang.notification.closed),n[n.length-1].hide(),e.cancel())}})}}),t.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(t){var e=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:t})&&(e=!1);var n=this.element,i=n.findOne(".cke_notification_message"),r=n.findOne(".cke_notification_progress"),o=t.type;n.removeAttribute("role"),t.progress&&"progress"!=this.type&&(o="progress"),o&&(n.removeClass(this._getClass()),n.removeAttribute("aria-label"),this.type=o,n.addClass(this._getClass()),n.setAttribute("aria-label",this.type),"progress"!=this.type||r?"progress"!=this.type&&r&&r.remove():(r=this._createProgressElement()).insertBefore(i)),void 0!==t.message&&(this.message=t.message,i.setHtml(this.message)),void 0!==t.progress&&(this.progress=t.progress,r&&r.setStyle("width",this._getPercentageProgress())),e&&t.important&&(n.setAttribute("role","alert"),this.isVisible()||this.area.add(this)),this.duration=t.duration,this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var t,e,n=this,i=this.editor.lang.common.close;return(t=new CKEDITOR.dom.element("div")).addClass("cke_notification"),t.addClass(this._getClass()),t.setAttributes({id:this.id,role:"alert","aria-label":this.type}),"progress"==this.type&&t.append(this._createProgressElement()),(e=new CKEDITOR.dom.element("p")).addClass("cke_notification_message"),e.setHtml(this.message),t.append(e),e=CKEDITOR.dom.element.createFromHtml('<a class="cke_notification_close" href="javascript:void(0)" title="'+i+'" role="button" tabindex="-1"><span class="cke_label">X</span></a>'),t.append(e),e.on("click",function(){n.editor.focus(),n.hide()}),t},_getClass:function(){return"progress"==this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var t=new CKEDITOR.dom.element("span");return t.addClass("cke_notification_progress"),t.setStyle("width",this._getPercentageProgress()),t},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var t,e=this;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),"number"==typeof this.duration?t=this.duration:"info"!=this.type&&"success"!=this.type||(t="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5e3),t&&(e._hideTimeoutId=setTimeout(function(){e.hide()},t))}},e.prototype={add:function(t){this.notifications.push(t),this.element.append(t.element),1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners()),this._layout()},remove:function(t){var e=CKEDITOR.tools.indexOf(this.notifications,t);0>e||(this.notifications.splice(e,1),t.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var t=this.editor,e=t.config,n=new CKEDITOR.dom.element("div");return n.addClass("cke_notifications_area"),n.setAttribute("id","cke_notifications_area_"+t.name),n.setStyle("z-index",e.baseFloatZIndex-2),n},_attachListeners:function(){var t=CKEDITOR.document.getWindow(),e=this.editor;t.on("scroll",this._uiBuffer.input),t.on("resize",this._uiBuffer.input),e.on("change",this._changeBuffer.input),e.on("floatingSpaceLayout",this._layout,this,null,20),e.on("blur",this._layout,this,null,20)},_removeListeners:function(){var t=CKEDITOR.document.getWindow(),e=this.editor;t.removeListener("scroll",this._uiBuffer.input),t.removeListener("resize",this._uiBuffer.input),e.removeListener("change",this._changeBuffer.input),e.removeListener("floatingSpaceLayout",this._layout),e.removeListener("blur",this._layout)},_layout:function(){function t(){r.setStyle("left",g(m+a.width-c-u))}var e,n,i,r=this.element,o=this.editor,a=o.ui.contentsElement.getClientRect(),s=o.ui.contentsElement.getDocumentPosition(),l=r.getClientRect(),c=this._notificationWidth,u=this._notificationMargin,d=(i=CKEDITOR.document.getWindow()).getScrollPosition(),h=i.getViewPaneSize(),f=CKEDITOR.document.getBody(),p=f.getDocumentPosition(),g=CKEDITOR.tools.cssLength;c&&u||(i=this.element.getChild(0),c=this._notificationWidth=i.getClientRect().width,u=this._notificationMargin=parseInt(i.getComputedStyle("margin-left"),10)+parseInt(i.getComputedStyle("margin-right"),10)),o.toolbar&&(n=(e=o.ui.space(o.config.toolbarLocation)).getClientRect()),e&&e.isVisible()&&n.bottom>a.top&&n.bottom<a.bottom-l.height?r.setStyles({position:"fixed",top:g(n.bottom)}):0<a.top?r.setStyles({position:"absolute",top:g(s.y)}):s.y+a.height-l.height>d.y?r.setStyles({position:"fixed",top:0}):r.setStyles({position:"absolute",top:g(s.y+a.height-l.height)});var m="fixed"==r.getStyle("position")?a.left:"static"!=f.getComputedStyle("position")?s.x-p.x:s.x;a.width<c+u?s.x+c+u>d.x+h.width?t():r.setStyle("left",g(m)):s.x+c+u>d.x+h.width?r.setStyle("left",g(m)):s.x+a.width/2+c/2+u>d.x+h.width?r.setStyle("left",g(m-s.x+d.x+h.width-c-u)):0>a.left+a.width-c-u?t():0>a.left+a.width/2-c/2?r.setStyle("left",g(m-s.x+d.x)):r.setStyle("left",g(m+a.width/2-c/2-u/2))}},CKEDITOR.plugins.notification=t}(),function(){var t='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-describedby="{id}_description" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');var e="";CKEDITOR.env.ie&&(e='return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)==CKEDITOR.MOUSE_BUTTON_LEFT&&');t=t+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" onclick="'+e+'CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}">&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span><span id="{id}_description" class="cke_button_label" aria-hidden="false">{ariaShortcutSpace}{ariaShortcut}</span>{arrowHtml}</a>';var n=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),i=CKEDITOR.addTemplate("button",t);CKEDITOR.plugins.add("button",{beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}}),CKEDITOR.UI_BUTTON="button",CKEDITOR.ui.button=function(t){CKEDITOR.tools.extend(this,t,{title:t.label,click:t.click||function(e){e.execCommand(t.command)}}),this._={}},CKEDITOR.ui.button.handler={create:function(t){return new CKEDITOR.ui.button(t)}},CKEDITOR.ui.button.prototype={render:function(t,e){function r(){var e=t.mode;e&&(e=this.modes[e]?void 0!==l[e]?l[e]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,e=t.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:e,this.setState(e),this.refresh&&this.refresh())}var o,a,s,l=null,c=CKEDITOR.env,u=this._.id=CKEDITOR.tools.getNextId(),d="",h=this.command;this._.editor=t;var f,p={id:u,button:this,editor:t,focus:function(){CKEDITOR.document.getById(u).focus()},execute:function(){this.button.click(t)},attach:function(t){this.button.attach(t)}},g=CKEDITOR.tools.addFunction(function(t){if(p.onkey)return t=new CKEDITOR.dom.event(t),!1!==p.onkey(p,t.getKeystroke())}),m=CKEDITOR.tools.addFunction(function(t){var e;return p.onfocus&&(e=!1!==p.onfocus(p,new CKEDITOR.dom.event(t))),e}),v=0;p.clickFn=o=CKEDITOR.tools.addFunction(function(){v&&(t.unlockSelection(1),v=0),p.execute(),c.iOS&&t.focus()}),this.modes?(l={},t.on("beforeModeUnload",function(){t.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(l[t.mode]=this._.state)},this),t.on("activeFilterChange",r,this),t.on("mode",r,this),!this.readOnly&&t.on("readOnly",r,this)):h&&(h=t.getCommand(h))&&(h.on("state",function(){this.setState(h.state)},this),d+=h.state==CKEDITOR.TRISTATE_ON?"on":h.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off"),this.directional&&t.on("contentDirChanged",function(e){var n=CKEDITOR.document.getById(this._.id),i=n.getFirst();(e=e.data)!=t.lang.dir?n.addClass("cke_"+e):n.removeClass("cke_ltr").removeClass("cke_rtl"),i.setAttribute("style",CKEDITOR.skin.getIconStyle(f,"rtl"==e,this.icon,this.iconOffset))},this),h?(a=t.getCommandKeystroke(h))&&(s=CKEDITOR.tools.keystrokeToString(t.lang.common.keyboard,a)):d+="off",a=this.name||this.command;var y=null,b=this.icon;return f=a,this.icon&&!/\./.test(this.icon)?(f=this.icon,b=null):(this.icon&&(y=this.icon),CKEDITOR.env.hidpi&&this.iconHiDpi&&(y=this.iconHiDpi)),y?(CKEDITOR.skin.addIcon(y,y),b=null):y=f,d={id:u,name:a,iconName:f,label:this.label,cls:(this.hasArrow?"cke_button_expandable ":"")+(this.className||""),state:d,ariaDisabled:"disabled"==d?"true":"false",title:this.title+(s?" ("+s.display+")":""),ariaShortcutSpace:s?"&nbsp;":"",ariaShortcut:s?t.lang.common.keyboardShortcut+" "+s.aria:"",titleJs:c.gecko&&!c.hc?"":(this.title||"").replace("'",""),hasArrow:"string"==typeof this.hasArrow&&this.hasArrow||(this.hasArrow?"true":"false"),keydownFn:g,focusFn:m,clickFn:o,style:CKEDITOR.skin.getIconStyle(y,"rtl"==t.lang.dir,b,this.iconOffset),arrowHtml:this.hasArrow?n.output():""},i.output(d,e),this.onRender&&this.onRender(),p},setState:function(t){if(this._.state==t)return!1;this._.state=t;var e=CKEDITOR.document.getById(this._.id);return!!e&&(e.setState(t,"cke_button"),e.setAttribute("aria-disabled",t==CKEDITOR.TRISTATE_DISABLED),this.hasArrow?e.setAttribute("aria-expanded",t==CKEDITOR.TRISTATE_ON):t===CKEDITOR.TRISTATE_ON?e.setAttribute("aria-pressed",!0):e.removeAttribute("aria-pressed"),!0)},getState:function(){return this._.state},toFeature:function(t){if(this._.feature)return this._.feature;var e=this;return this.allowedContent||this.requiredContent||!this.command||(e=t.getCommand(this.command)||e),this._.feature=e}},CKEDITOR.ui.prototype.addButton=function(t,e){this.add(t,CKEDITOR.UI_BUTTON,e)}}(),function(){function t(t){function n(e,n){if(n.length){e.items?e.items.push(t.ui.create("-")):e.items=[];for(var r;r=n.shift();)r="string"==typeof r?r:r.name,i&&-1!=CKEDITOR.tools.indexOf(i,r)||(r=t.ui.create(r))&&t.addFeature(r)&&e.items.push(r)}}var i=(i=t.config.removeButtons)&&i.split(","),r=t.config.toolbar;return"string"==typeof r&&(r=t.config["toolbar_"+r]),t.toolbar=r?function(t){var e,i,r,o=[];for(e=0;e<t.length;++e)r={},"/"==(i=t[e])?o.push(i):CKEDITOR.tools.isArray(i)?(n(r,CKEDITOR.tools.clone(i)),o.push(r)):i.items&&(n(r,CKEDITOR.tools.clone(i.items)),r.name=i.name,o.push(r));return o}(r):function(){for(var i=function(){var e,n,i,r={};for(e in t.ui.items)n=t.ui.items[e],i=(i=n.toolbar||"others").split(","),n=i[0],i=parseInt(i[1]||-1,10),r[n]||(r[n]=[]),r[n].push({name:e,order:i});for(n in r)r[n]=r[n].sort(function(t,e){return t.order==e.order?0:0>e.order?-1:0>t.order?1:t.order<e.order?-1:1});return r}(),r=CKEDITOR.tools.clone(t.config.toolbarGroups)||e(t),o=0;o<r.length;o++){var a=r[o];if("/"!=a){"string"==typeof a&&(a=r[o]={name:a});var s,l=a.groups;if(l)for(var c=0;c<l.length;c++)(s=i[s=l[c]])&&n(a,s);(s=i[a.name])&&n(a,s)}}return r}()}function e(t){return t._.toolbarGroups||(t._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var n=function(){this.toolbars=[],this.focusCommandExecuted=!1};n.prototype.focus=function(){for(var t,e=0;t=this.toolbars[e++];)for(var n,i=0;n=t.items[i++];)if(n.focus)return void n.focus()};var i={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(t){t.toolbox&&(t.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){t.toolbox.focus()},100):t.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(e){var r,o=function(t,n){var i,a=(s="rtl"==e.lang.dir)?37:39,s=s?39:37,l=void 0===(l=e.config.toolbarGroupCycling)||l;switch(n){case 9:case CKEDITOR.SHIFT+9:for(;!i||!i.items.length;)if((i=9==n?(i?i.next:t.toolbar.next)||e.toolbox.toolbars[0]:(i?i.previous:t.toolbar.previous)||e.toolbox.toolbars[e.toolbox.toolbars.length-1]).items.length)for(t=i.items[r?i.items.length-1:0];t&&!t.focus;)(t=r?t.previous:t.next)||(i=0);return t&&t.focus(),!1;case a:i=t;do{!(i=i.next)&&l&&(i=t.toolbar.items[0])}while(i&&!i.focus);return i?i.focus():o(t,9),!1;case 40:return t.button&&t.button.hasArrow?t.execute():o(t,40==n?a:s),!1;case s:case 38:i=t;do{!(i=i.previous)&&l&&(i=t.toolbar.items[t.toolbar.items.length-1])}while(i&&!i.focus);return i?i.focus():(r=1,o(t,CKEDITOR.SHIFT+9),r=0),!1;case 27:return e.focus(),!1;case 13:case 32:return t.execute(),!1}return!0};e.on("uiSpace",function(i){if(i.data.space==e.config.toolbarLocation){i.removeListener(),e.toolbox=new n;var r,a,s=['<span id="',l=CKEDITOR.tools.getNextId(),'" class="cke_voice_label">',e.lang.toolbar.toolbars,"</span>",'<span id="'+e.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',l,'" onmousedown="return false;">'],l=!1!==e.config.toolbarStartupExpanded;e.config.toolbarCanCollapse&&e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&s.push('<span class="cke_toolbox_main"'+(l?">":' style="display:none">'));for(var c=e.toolbox.toolbars,u=t(e),d=u.length,h=0;h<d;h++){var f,p,g,m=0,v=u[h],y="/"!==v&&("/"===u[h+1]||h==d-1);if(v)if(r&&(s.push("</span>"),a=r=0),"/"===v)s.push('<span class="cke_toolbar_break"></span>');else{g=v.items||v;for(var b=0;b<g.length;b++){var w,E=g[b];if(E){var C=function(t){t=t.render(e,s),0<(T=m.items.push(t)-1)&&(t.previous=m.items[T-1],t.previous.next=t),t.toolbar=m,t.onkey=o,t.onfocus=function(){e.toolbox.focusCommandExecuted||e.focus()}};if(E.type==CKEDITOR.UI_SEPARATOR)a=r&&E;else{if(w=!1!==E.canGroup,!m){f=CKEDITOR.tools.getNextId(),m={id:f,items:[]},p=v.name&&(e.lang.toolbar.toolbarGroups[v.name]||v.name),s.push('<span id="',f,'" class="cke_toolbar'+(y?' cke_toolbar_last"':'"'),p?' aria-labelledby="'+f+'_label"':"",' role="toolbar">'),p&&s.push('<span id="',f,'_label" class="cke_voice_label">',p,"</span>"),s.push('<span class="cke_toolbar_start"></span>');var T=c.push(m)-1;0<T&&(m.previous=c[T-1],m.previous.next=m)}w?r||(s.push('<span class="cke_toolgroup" role="presentation">'),r=1):r&&(s.push("</span>"),r=0),a&&(C(a),a=0),C(E)}}}r&&(s.push("</span>"),a=r=0),m&&s.push('<span class="cke_toolbar_end"></span></span>')}}if(e.config.toolbarCanCollapse&&s.push("</span>"),e.config.toolbarCanCollapse&&e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var _=CKEDITOR.tools.addFunction(function(){e.execCommand("toolbarCollapse")});e.on("destroy",function(){CKEDITOR.tools.removeFunction(_)}),e.addCommand("toolbarCollapse",{readOnly:1,exec:function(t){var e=t.ui.space("toolbar_collapser"),n=e.getPrevious(),i=t.ui.space("contents"),r=n.getParent(),o=parseInt(i.$.style.height,10),a=r.$.offsetHeight,s=e.hasClass("cke_toolbox_collapser_min");s?(n.show(),e.removeClass("cke_toolbox_collapser_min"),e.setAttribute("title",t.lang.toolbar.toolbarCollapse)):(n.hide(),e.addClass("cke_toolbox_collapser_min"),e.setAttribute("title",t.lang.toolbar.toolbarExpand)),e.getFirst().setText(s?"â²":"â"),i.setStyle("height",o-(r.$.offsetHeight-a)+"px"),t.fire("resize",{outerHeight:t.container.$.offsetHeight,contentsHeight:i.$.offsetHeight,outerWidth:t.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}}),e.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"),s.push('<a title="'+(l?e.lang.toolbar.toolbarCollapse:e.lang.toolbar.toolbarExpand)+'" id="'+e.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser'),l||s.push(" cke_toolbox_collapser_min"),s.push('" onclick="CKEDITOR.tools.callFunction('+_+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}s.push("</span>"),i.data.html+=s.join("")}}),e.on("destroy",function(){if(this.toolbox){var t,e,n,i,r=0;for(t=this.toolbox.toolbars;r<t.length;r++)for(n=t[r].items,e=0;e<n.length;e++)(i=n[e]).clickFn&&CKEDITOR.tools.removeFunction(i.clickFn),i.keyDownFn&&CKEDITOR.tools.removeFunction(i.keyDownFn)}}),e.on("uiReady",function(){var t=e.ui.space("toolbox");t&&e.focusManager.add(t,1)}),e.addCommand("toolbarFocus",i),e.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus"),e.ui.add("-",CKEDITOR.UI_SEPARATOR,{}),e.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(t,e){return e.push('<span class="cke_toolbar_separator" role="separator"></span>'),{}}}}})}}),CKEDITOR.ui.prototype.addToolbarGroup=function(t,n,i){var r=e(this.editor),o=0===n,a={name:t};if(i){if(i=CKEDITOR.tools.search(r,function(t){return t.name==i}))return!i.groups&&(i.groups=[]),n&&0<=(n=CKEDITOR.tools.indexOf(i.groups,n))?void i.groups.splice(n+1,0,t):void(o?i.groups.splice(0,0,t):i.groups.push(t));n=null}n&&(n=CKEDITOR.tools.indexOf(r,function(t){return t.name==n})),o?r.splice(0,0,t):"number"==typeof n?r.splice(n+1,0,a):r.push(t)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top",function(){function t(t,e,n){return e.type||(e.type="auto"),!(n&&!1===t.fire("beforePaste",e)||!e.dataValue&&e.dataTransfer.isEmpty())&&(e.dataValue||(e.dataValue=""),CKEDITOR.env.gecko&&"drop"==e.method&&t.toolbox&&t.once("afterPaste",function(){t.toolbox.focus()}),t.fire("paste",e))}function e(e){function n(){var t,n=e.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var i=function(t){e.getSelection().isCollapsed()||(e.readOnly&&"cut"==t.name||p.initPasteDataTransfer(t,e),t.data.preventDefault())};n.on("copy",i),n.on("cut",i),n.on("cut",function(){e.readOnly||e.extractSelectedHtml()},null,null,999)}n.on(p.mainPasteEvent,function(t){"beforepaste"==p.mainPasteEvent&&g||d(t)}),"beforepaste"==p.mainPasteEvent&&(n.on("paste",function(t){m||(o(),t.data.preventDefault(),d(t),s("paste"))}),n.on("contextmenu",a,null,null,0),n.on("beforepaste",function(t){!t.data||t.data.$.ctrlKey||t.data.$.shiftKey||a()},null,null,0)),n.on("beforecut",function(){!g&&l()}),n.attachListener(CKEDITOR.env.ie?n:e.document.getDocumentElement(),"mouseup",function(){t=setTimeout(h,0)}),e.on("destroy",function(){clearTimeout(t)}),n.on("keyup",h)}function i(t){return{type:t,canUndo:"cut"==t,startDisabled:!0,fakeKeystroke:"cut"==t?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){var t;"cut"==this.type&&l();var n=this.type;if(CKEDITOR.env.ie)t=s(n);else try{t=e.document.$.execCommand(n,!1,null)}catch(e){t=!1}return t||e.showNotification(e.lang.clipboard[this.type+"Error"]),t}}}function r(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(e,n){function i(n,i){i=void 0===i||i,n?(n.method="paste",n.dataTransfer||(n.dataTransfer=p.initPasteDataTransfer()),t(e,n,i)):o&&!e._.forcePasteDialog&&e.showNotification(l,"info",e.config.clipboard_notificationDuration),e._.forcePasteDialog=!1,e.fire("afterCommandExec",{name:"paste",command:r,returnValue:!!n})}var r=this,o=void 0===(n=null!=n?n:{}).notification||n.notification,a=n.type,s=CKEDITOR.tools.keystrokeToString(e.lang.common.keyboard,e.getCommandKeystroke(this)),l="string"==typeof o?o:e.lang.clipboard.pasteNotification.replace(/%1/,'<kbd aria-label="'+s.aria+'">'+s.display+"</kbd>");s="string"==typeof n?n:n.dataValue;a&&!0!==e.config.forcePasteAsPlainText&&"allow-word"!==e.config.forcePasteAsPlainText?e._.nextPasteType=a:delete e._.nextPasteType,"string"==typeof s?i({dataValue:s}):e.getClipboardData(i)}}}function o(){m=1,setTimeout(function(){m=0},100)}function a(){g=1,setTimeout(function(){g=0},10)}function s(t){var n=e.document,i=n.getBody(),r=!1,o=function(){r=!0};return i.on(t,o),7<CKEDITOR.env.version?n.$.execCommand(t):n.$.selection.createRange().execCommand(t),i.removeListener(t,o),r}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var t,n,i,r=e.getSelection();r.getType()==CKEDITOR.SELECTION_ELEMENT&&(t=r.getSelectedElement())&&(n=r.getRanges()[0],(i=e.document.createText("")).insertBefore(t),n.setStartBefore(i),n.setEndAfter(t),r.selectRanges([n]),setTimeout(function(){t.getParent()&&(i.remove(),r.selectElement(t))},0))}}function c(){if("paste"==p.mainPasteEvent)return e.fire("beforePaste",{type:"auto",method:"paste"}),!1;e.focus(),o();var t=e.focusManager;return t.lock(),e.editable().fire(p.mainPasteEvent)&&!s("paste")?(t.unlock(),!1):(t.unlock(),!0)}function u(t){if("wysiwyg"==e.mode)switch(t.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:t=e.editable(),o(),"paste"==p.mainPasteEvent&&t.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:e.fire("saveSnapshot"),setTimeout(function(){e.fire("saveSnapshot")},50)}}function d(n){var i={type:"auto",method:"paste",dataTransfer:p.initPasteDataTransfer(n)};i.dataTransfer.cacheData();var r=!1!==e.fire("beforePaste",i);r&&p.canClipboardApiBeTrusted(i.dataTransfer,e)?(n.data.preventDefault(),setTimeout(function(){t(e,i)},0)):function(t,n){var i,r=e.document,o=e.editable(),a=function(t){t.cancel()};if(!r.getById("cke_pastebin")){var s=e.getSelection(),l=s.createBookmarks();CKEDITOR.env.ie&&s.root.fire("selectionchange");var c=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!o.is("body")||CKEDITOR.env.ie?"div":"body",r);c.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var u=0;r=r.getWindow(),CKEDITOR.env.webkit?(o.append(c),c.addClass("cke_editable"),o.is("body")||(u=(u="static"!=o.getComputedStyle("position")?o:CKEDITOR.dom.element.get(o.$.offsetParent)).getDocumentPosition().y)):o.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(c),c.setStyles({position:"absolute",top:r.getScrollPosition().y-u+10+"px",width:"1px",height:Math.max(1,r.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0}),CKEDITOR.env.safari&&c.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text")),(u=c.getParent().isReadOnly())?(c.setOpacity(0),c.setAttribute("contenteditable",!0)):c.setStyle("ltr"==e.config.contentsLangDirection?"left":"right","-10000px"),e.on("selectionChange",a,null,null,0),(CKEDITOR.env.webkit||CKEDITOR.env.gecko)&&(i=o.once("blur",a,null,null,-100)),u&&c.focus(),(u=new CKEDITOR.dom.range(c)).selectNodeContents(c);var d=u.select();CKEDITOR.env.ie&&(i=o.once("blur",function(){e.lockSelection(d)}));var h=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){var t;CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=h),i&&i.removeListener(),CKEDITOR.env.ie&&o.focus(),s.selectBookmarks(l),c.remove(),CKEDITOR.env.webkit&&(t=c.getFirst())&&t.is&&t.hasClass("Apple-style-span")&&(c=t),e.removeListener("selectionChange",a),n(c.getHtml())},0)}}(0,function(n){i.dataValue=n.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,""),r&&t(e,i)})}function h(){if("wysiwyg"==e.mode){var t=f("paste");e.getCommand("cut").setState(f("cut")),e.getCommand("copy").setState(f("copy")),e.getCommand("paste").setState(t),e.fire("pasteState",t)}}function f(t){var n=(n=e.getSelection())&&n.getRanges()[0];return(e.readOnly||n&&n.checkReadOnly())&&t in{paste:1,cut:1}?CKEDITOR.TRISTATE_DISABLED:"paste"==t?CKEDITOR.TRISTATE_OFF:(n=(t=e.getSelection()).getRanges(),t.getType()==CKEDITOR.SELECTION_NONE||1==n.length&&n[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF)}var p=CKEDITOR.plugins.clipboard,g=0,m=0;!function(){if(e.on("key",u),e.on("contentDom",n),e.on("selectionChange",h),e.contextMenu){e.contextMenu.addListener(function(){return{cut:f("cut"),copy:f("copy"),paste:f("paste")}});var t=null;e.on("menuShow",function(){t&&(t.removeListener(),t=null);var n=e.contextMenu.findItemByCommandName("paste");n&&n.element&&(t=n.element.on("touchend",function(){e._.forcePasteDialog=!0}))})}e.ui.addButton&&e.once("instanceReady",function(){e._.pasteButtons&&CKEDITOR.tools.array.forEach(e._.pasteButtons,function(t){(t=e.ui.get(t))&&(t=CKEDITOR.document.getById(t._.id))&&t.on("touchend",function(){e._.forcePasteDialog=!0})})})}(),function(){function t(t,n,i,r,o){var a=e.lang.clipboard[n];e.addCommand(n,i),e.ui.addButton&&e.ui.addButton(t,{label:a,command:n,toolbar:"clipboard,"+r}),e.addMenuItems&&e.addMenuItem(n,{label:a,command:n,group:"clipboard",order:o})}t("Cut","cut",i("cut"),10,1),t("Copy","copy",i("copy"),20,4),t("Paste","paste",r(),30,8),e._.pasteButtons||(e._.pasteButtons=[]),e._.pasteButtons.push("Paste")}(),e.getClipboardData=function(t,n){function i(t){t.removeListener(),t.cancel(),n(t.data)}function r(t){t.removeListener(),t.cancel(),n({type:a,dataValue:t.data.dataValue,dataTransfer:t.data.dataTransfer,method:"paste"})}var o=!1,a="auto";n||(n=t,t=null),e.on("beforePaste",function(t){t.removeListener(),o=!0,a=t.data.type},null,null,1e3),e.on("paste",i,null,null,0),!1===c()&&(e.removeListener("paste",i),e._.forcePasteDialog&&o&&e.fire("pasteDialog")?(e.on("pasteDialogCommit",r),e.on("dialogHide",function(t){t.removeListener(),t.data.removeListener("pasteDialogCommit",r),t.data._.committed||n(null)})):n(null))}}function n(t,e){function n(t){return CKEDITOR.tools.repeat("</p><p>",~~(t/2))+(1==t%2?"<br>":"")}return(e=(e=e.replace(/(?!\u3000)\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>")).replace(/<\/?[A-Z]+>/g,function(t){return t.toLowerCase()})).match(/^[^<]$/)?e:(CKEDITOR.env.webkit&&-1<e.indexOf("<div>")&&((e=e.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>")).match(/<div>(<br>|)<\/div>/)&&(e="<p>"+e.replace(/(<div>(<br>|)<\/div>)+/g,function(t){return n(t.split("</div><div>").length+1)})+"</p>"),e=(e=e.replace(/<\/div><div>/g,"<br>")).replace(/<\/?div>/g,"")),CKEDITOR.env.gecko&&t.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(e=e.replace(/^<br><br>$/,"<br>")),-1<e.indexOf("<br><br>")&&(e="<p>"+e.replace(/(<br>){2,}/g,function(t){return n(t.length/4)})+"</p>")),function(t,e){return t.enterMode==CKEDITOR.ENTER_BR?e=e.replace(/(<\/p><p>)+/g,function(t){return CKEDITOR.tools.repeat("<br>",t.length/7*2)}).replace(/<\/?p>/g,""):t.enterMode==CKEDITOR.ENTER_DIV&&(e=e.replace(/<(\/)?p>/g,"<$1div>")),e}(t,e))}function i(t,e,n){e=CKEDITOR.htmlParser.fragment.fromHtml(e);var i=new CKEDITOR.htmlParser.basicWriter;return n.applyTo(e,!0,!1,t.activeEnterMode),e.writeHtml(i),i.getHtml()}function r(t){t.data.preventDefault(),t.data.$.dataTransfer.dropEffect="none"}function o(e){var n=CKEDITOR.plugins.clipboard;e.on("contentDom",function(){function i(n,i,r){i.select(),t(e,{dataTransfer:r,method:"drop"},1),r.sourceEditor.fire("saveSnapshot"),r.sourceEditor.editable().extractHtmlFromRange(n),r.sourceEditor.getSelection().selectRanges([n]),r.sourceEditor.fire("saveSnapshot")}function r(i,r){i.select(),t(e,{dataTransfer:r,method:"drop"},1),n.resetDragDataTransfer()}function o(t,n,i){var r={$:t.data.$,target:t.data.getTarget()};n&&(r.dragRange=n),i&&(r.dropRange=i),!1===e.fire(t.name,r)&&t.data.preventDefault()}function a(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t.getChildCount()}var s=e.editable(),l=CKEDITOR.plugins.clipboard.getDropTarget(e),c=e.ui.space("top"),u=e.ui.space("bottom");n.preventDefaultDropOnElement(c),n.preventDefaultDropOnElement(u),s.attachListener(l,"dragstart",o),s.attachListener(e,"dragstart",n.resetDragDataTransfer,n,null,1),s.attachListener(e,"dragstart",function(t){n.initDragDataTransfer(t,e)},null,null,2),s.attachListener(e,"dragstart",function(){var t=n.dragRange=e.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(n.dragStartContainerChildCount=t?a(t.startContainer):null,n.dragEndContainerChildCount=t?a(t.endContainer):null)},null,null,100),s.attachListener(l,"dragend",o),s.attachListener(e,"dragend",n.initDragDataTransfer,n,null,1),s.attachListener(e,"dragend",n.resetDragDataTransfer,n,null,100),s.attachListener(l,"dragover",function(t){if(CKEDITOR.env.edge)t.data.preventDefault();else{var e=t.data.getTarget();e&&e.is&&e.is("html")?t.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&t.data.$.dataTransfer.types.contains("Files")&&t.data.preventDefault()}}),s.attachListener(l,"drop",function(t){if(!t.data.$.defaultPrevented&&(t.data.preventDefault(),!e.readOnly)&&(!(i=t.data.getTarget()).isReadOnly()||i.type==CKEDITOR.NODE_ELEMENT&&i.is("html"))){var i=n.getRangeAtDropPosition(t,e),r=n.dragRange;i&&o(t,r,i)}},null,null,9999),s.attachListener(e,"drop",n.initDragDataTransfer,n,null,1),s.attachListener(e,"drop",function(t){if(t=t.data){var o=t.dropRange,a=t.dragRange,s=t.dataTransfer;s.getTransferType(e)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout(function(){n.internalDrop(a,o,s,e)},0):s.getTransferType(e)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?i(a,o,s):r(o,s)}},null,null,9999)})}var a;CKEDITOR.plugins.add("clipboard",{requires:"dialog,notification,toolbar",init:function(t){var r,a=function(t){function e(){var t,e={};for(t in CKEDITOR.dtd)"$"!=t.charAt(0)&&"div"!=t&&"span"!=t&&(e[t]=1);return e}var n={};return{get:function(i){return"plain-text"==i?n.plainText||(n.plainText=new CKEDITOR.filter(t,"br")):"semantic-content"==i?((i=n.semanticContent)||((i=new CKEDITOR.filter(t,{})).allow({$1:{elements:e(),attributes:!0,styles:!1,classes:!1}}),i=n.semanticContent=i),i):i?new CKEDITOR.filter(t,i):null}}}(t);if(t.config.forcePasteAsPlainText?r="plain-text":t.config.pasteFilter?r=t.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in t.config||(r="semantic-content"),t.pasteFilter=a.get(r),e(t),o(t),CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js")),CKEDITOR.env.gecko){var s,l=["image/png","image/jpeg","image/gif"];t.on("paste",function(e){var n=e.data,i=n.dataTransfer;if(!n.dataValue&&"paste"==n.method&&function(t){if(!t||s===t.id)return!1;var e=1===(e=t.getTypes()).length&&"Files"===e[0];return t=1===t.getFilesCount(),e&&t}(i)&&(i=i.getFile(0),-1!=CKEDITOR.tools.indexOf(l,i.type))){var r=new FileReader;r.addEventListener("load",function(){e.data.dataValue='<img src="'+r.result+'" />',t.fire("paste",e.data)},!1),r.addEventListener("abort",function(){t.fire("paste",e.data)},!1),r.addEventListener("error",function(){t.fire("paste",e.data)},!1),r.readAsDataURL(i),s=n.dataTransfer.id,e.stop()}},null,null,1)}t.on("paste",function(e){if(e.data.dataTransfer||(e.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer),!e.data.dataValue){var n=e.data.dataTransfer,i=n.getData("text/html");i?(e.data.dataValue=i,e.data.type="html"):(i=n.getData("text/plain"))&&(e.data.dataValue=t.editable().transformPlainTextToHtml(i),e.data.type="text")}},null,null,1),t.on("paste",function(t){var e=t.data.dataValue,n=CKEDITOR.dtd.$block;if(-1<e.indexOf("Apple-")&&(e=e.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=t.data.type&&(e=e.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(t,e){return e.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")})),-1<e.indexOf('<br class="Apple-interchange-newline">')&&(t.data.startsWithEOL=1,t.data.preSniffing="html",e=e.replace(/<br class="Apple-interchange-newline">/,"")),e=e.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")),e.match(/^<[^<]+cke_(editable|contents)/i)){var i,r,o=new CKEDITOR.dom.element("div");for(o.setHtml(e);1==o.getChildCount()&&(i=o.getFirst())&&i.type==CKEDITOR.NODE_ELEMENT&&(i.hasClass("cke_editable")||i.hasClass("cke_contents"));)o=r=i;r&&(e=r.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?e=e.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(e,i){return i.toLowerCase()in n?(t.data.preSniffing="html","<"+i):e}):CKEDITOR.env.webkit?e=e.replace(/<\/(\w+)><div><br><\/div>$/,function(e,i){return i in n?(t.data.endsWithEOL=1,"</"+i+">"):e}):CKEDITOR.env.gecko&&(e=e.replace(/(\s)<br>$/,"$1")),t.data.dataValue=e},null,null,3),t.on("paste",function(e){e=e.data;var r,o=t._.nextPasteType||e.type,s=e.dataValue,l=t.config.clipboard_defaultContentType||"html",c=e.dataTransfer.getTransferType(t)==CKEDITOR.DATA_TRANSFER_EXTERNAL,u=!0===t.config.forcePasteAsPlainText;r="html"==o||"html"==e.preSniffing?"html":function(t){if(CKEDITOR.env.webkit){if(!t.match(/^[^<]*$/g)&&!t.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!t.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!t.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else{if(!CKEDITOR.env.gecko)return"html";if(!t.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}return"htmlifiedtext"}(s),delete t._.nextPasteType,"htmlifiedtext"==r&&(s=n(t.config,s)),"text"==o&&"html"==r?s=i(t,s,a.get("plain-text")):(c&&t.pasteFilter&&!e.dontFilter||u)&&(s=i(t,s,t.pasteFilter)),e.startsWithEOL&&(s='<br data-cke-eol="1">'+s),e.endsWithEOL&&(s+='<br data-cke-eol="1">'),"auto"==o&&(o="html"==r||"html"==l?"html":"text"),e.type=o,e.dataValue=s,delete e.preSniffing,delete e.startsWithEOL,delete e.endsWithEOL},null,null,6),t.on("paste",function(e){(e=e.data).dataValue&&(t.insertHtml(e.dataValue,e.type,e.range),setTimeout(function(){t.fire("afterPaste")},0))},null,null,1e3),t.on("pasteDialog",function(e){setTimeout(function(){t.openDialog("paste",e.data)},0)})}}),CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:!(CKEDITOR.env.ie&&16>CKEDITOR.env.version||CKEDITOR.env.iOS&&605>CKEDITOR.env.version),isCustomDataTypesSupported:!CKEDITOR.env.ie||16<=CKEDITOR.env.version,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",addPasteButton:function(t,e,n){t.ui.addButton&&(t.ui.addButton(e,n),t._.pasteButtons||(t._.pasteButtons=[]),t._.pasteButtons.push(e))},canClipboardApiBeTrusted:function(t,e){return!!(t.getTransferType(e)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!t.isEmpty()||CKEDITOR.env.gecko&&(t.getData("text/html")||t.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS||CKEDITOR.env.iOS&&605<=CKEDITOR.env.version||CKEDITOR.env.edge&&16<=CKEDITOR.env.version)},getDropTarget:function(t){var e=t.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||e.isInline()?e:t.document},fixSplitNodesAfterDrop:function(t,e,n,i){function r(t,n,i){var r=t;if(r.type==CKEDITOR.NODE_TEXT&&(r=t.getParent()),r.equals(n)&&i!=n.getChildCount())return t=e.startContainer.getChild(e.startOffset-1),n=e.startContainer.getChild(e.startOffset),t&&t.type==CKEDITOR.NODE_TEXT&&n&&n.type==CKEDITOR.NODE_TEXT&&(i=t.getLength(),t.setText(t.getText()+n.getText()),n.remove(),e.setStart(t,i),e.collapse(!0)),!0}var o=e.startContainer;"number"==typeof i&&"number"==typeof n&&o.type==CKEDITOR.NODE_ELEMENT&&(r(t.startContainer,o,n)||r(t.endContainer,o,i))},isDropRangeAffectedByDragRange:function(t,e){var n=e.startContainer,i=e.endOffset;return!!(t.endContainer.equals(n)&&t.endOffset<=i||t.startContainer.getParent().equals(n)&&t.startContainer.getIndex()<i||t.endContainer.getParent().equals(n)&&t.endContainer.getIndex()<i)},internalDrop:function(e,n,i,r){var o,a,s=CKEDITOR.plugins.clipboard,l=r.editable();r.fire("saveSnapshot"),r.fire("lockSnapshot",{dontUpdate:1}),CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(e,n,s.dragStartContainerChildCount,s.dragEndContainerChildCount),(a=this.isDropRangeAffectedByDragRange(e,n))||(o=e.createBookmark(!1)),s=n.clone().createBookmark(!1),a&&(o=e.createBookmark(!1)),e=o.startNode,n=o.endNode,a=s.startNode,n&&e.getPosition(a)&CKEDITOR.POSITION_PRECEDING&&n.getPosition(a)&CKEDITOR.POSITION_FOLLOWING&&a.insertBefore(e),(e=r.createRange()).moveToBookmark(o),l.extractHtmlFromRange(e,1),n=r.createRange(),s.startNode.getCommonAncestor(l)||(s=r.getSelection().createBookmarks()[0]),n.moveToBookmark(s),t(r,{dataTransfer:i,method:"drop",range:n},1),r.fire("unlockSnapshot")},getRangeAtDropPosition:function(t,e){var n=t.data.$,i=n.clientX,r=n.clientY,o=e.getSelection(!0).getRanges()[0],a=e.createRange();if(t.data.testRange)return t.data.testRange;if(document.caretRangeFromPoint&&e.document.$.caretRangeFromPoint(i,r))n=e.document.$.caretRangeFromPoint(i,r),a.setStart(CKEDITOR.dom.node(n.startContainer),n.startOffset),a.collapse(!0);else if(n.rangeParent)a.setStart(CKEDITOR.dom.node(n.rangeParent),n.rangeOffset),a.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&o&&e.editable().hasFocus)return o;if(!document.body.createTextRange)return null;e.focus(),n=e.document.getBody().$.createTextRange();try{for(var s=!1,l=0;20>l&&!s;l++){if(!s)try{n.moveToPoint(i,r-l),s=!0}catch(t){}if(!s)try{n.moveToPoint(i,r+l),s=!0}catch(t){}}if(s){var c="cke-temp-"+(new Date).getTime();n.pasteHTML('<span id="'+c+'">â</span>');var u=e.document.getById(c);a.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START),u.remove()}else{var d=e.document.$.elementFromPoint(i,r),h=new CKEDITOR.dom.element(d);if(h.equals(e.editable())||"html"==h.getName())return o&&o.startContainer&&!o.startContainer.equals(e.editable())?o:null;i<h.getClientRect().left?a.setStartAt(h,CKEDITOR.POSITION_AFTER_START):a.setStartAt(h,CKEDITOR.POSITION_BEFORE_END),a.collapse(!0)}}catch(t){return null}}return a},initDragDataTransfer:function(t,e){var n=t.data.$?t.data.$.dataTransfer:null,i=new this.dataTransfer(n,e);"dragstart"===t.name&&i.storeId(),n?this.dragData&&i.id==this.dragData.id?i=this.dragData:this.dragData=i:this.dragData?i=this.dragData:this.dragData=i,t.data.dataTransfer=i},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(t,e){if(this.isCustomCopyCutSupported){if(t&&t.data&&t.data.$){var n=t.data.$.clipboardData,i=new this.dataTransfer(n,e);return"copy"!==t.name&&"cut"!==t.name||i.storeId(),this.copyCutData&&i.id==this.copyCutData.id?(i=this.copyCutData).$=n:this.copyCutData=i,i}return new this.dataTransfer(null,e)}return new this.dataTransfer(CKEDITOR.env.edge&&t&&t.data.$&&t.data.$.clipboardData||null,e)},preventDefaultDropOnElement:function(t){t&&t.on("dragover",r)}},a=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text",CKEDITOR.plugins.clipboard.dataTransfer=function(t,e){t&&(this.$=t),this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,fragmentRegExp:/\s*\x3c!--StartFragment--\x3e|\x3c!--EndFragment--\x3e\s*/g,data:{},files:[],nativeHtmlCache:"",normalizeType:function(t){return"text"==(t=t.toLowerCase())||"text/plain"==t?"Text":"url"==t?"URL":t}},this._.fallbackDataTransfer=new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this),this.id=this.getData(a),this.id||(this.id="Text"==a?"":"cke-"+CKEDITOR.tools.getUniqueId()),e&&(this.sourceEditor=e,this.setData("text/html",e.getSelectedHtml(1)),"Text"==a||this.getData("text/plain")||this.setData("text/plain",e.getSelection().getSelectedText()))},CKEDITOR.DATA_TRANSFER_INTERNAL=1,CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2,CKEDITOR.DATA_TRANSFER_EXTERNAL=3,CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(t,e){if(null==(i="text/html"==(t=this._.normalizeType(t))&&e?this._.nativeHtmlCache:this._.data[t])||""===i){if(this._.fallbackDataTransfer.isRequired())i=this._.fallbackDataTransfer.getData(t,e);else try{i=this.$.getData(t)||""}catch(t){i=""}"text/html"!=t||e||(i=this._stripHtml(i))}if("Text"==t&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==i.substring(0,7)&&(i=""),"string"==typeof i)var n=i.indexOf("</html>"),i=-1!==n?i.substring(0,n+7):i;return i},setData:function(t,e){if("text/html"==(t=this._.normalizeType(t))?(this._.data[t]=this._stripHtml(e),this._.nativeHtmlCache=e):this._.data[t]=e,CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==t||"Text"==t)if("Text"==a&&"Text"==t&&(this.id=e),this._.fallbackDataTransfer.isRequired())this._.fallbackDataTransfer.setData(t,e);else try{this.$.setData(t,e)}catch(t){}},storeId:function(){"Text"!==a&&this.setData(a,this.id)},getTransferType:function(t){return this.sourceEditor?this.sourceEditor==t?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function t(t){t=i._.normalizeType(t);var e=i.getData(t);"text/html"==t&&(i._.nativeHtmlCache=i.getData(t,!0),e=i._stripHtml(e)),e&&(i._.data[t]=e)}if(this.$){var e,n,i=this;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(e=0;e<this.$.types.length;e++)t(this.$.types[e])}else t("Text"),t("URL");if(n=this._getImageFromClipboard(),this.$&&this.$.files||n){if(this._.files=[],this.$.files&&this.$.files.length)for(e=0;e<this.$.files.length;e++)this._.files.push(this.$.files[e]);0===this._.files.length&&n&&this._.files.push(n)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(t){return this._.files.length?this._.files[t]:this.$&&this.$.files&&this.$.files.length?this.$.files[t]:0===t?this._getImageFromClipboard():void 0},isEmpty:function(){var t,e={};if(this.getFilesCount())return!1;if(CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(this._.data),function(t){e[t]=1}),this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var n=0;n<this.$.types.length;n++)e[this.$.types[n]]=1}else e.Text=1,e.URL=1;for(t in"Text"!=a&&(e[a]=0),e)if(e[t]&&""!==this.getData(t))return!1;return!0},getTypes:function(){return this.$&&this.$.types?[].slice.call(this.$.types):[]},_getImageFromClipboard:function(){var t;try{if(this.$&&this.$.items&&this.$.items[0]&&(t=this.$.items[0].getAsFile())&&t.type)return t}catch(t){}},_stripHtml:function(t){if(t&&t.length){t=t.replace(this._.metaRegExp,"");var e=this._.bodyRegExp.exec(t);e&&e.length&&(t=(t=e[1]).replace(this._.fragmentRegExp,""))}return t}},CKEDITOR.plugins.clipboard.fallbackDataTransfer=function(t){this._dataTransfer=t,this._customDataFallbackType="text/html"},CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported=null,CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes=[],CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype={isRequired:function(){var t=CKEDITOR.plugins.clipboard.fallbackDataTransfer,e=this._dataTransfer.$;if(null===t._isCustomMimeTypeSupported){if(!e)return!1;if(t._isCustomMimeTypeSupported=!1,CKEDITOR.env.edge&&17<=CKEDITOR.env.version)return!0;try{e.setData("cke/mimetypetest","cke test value"),t._isCustomMimeTypeSupported="cke test value"===e.getData("cke/mimetypetest"),e.clearData("cke/mimetypetest")}catch(t){}}return!t._isCustomMimeTypeSupported},getData:function(t,e){var n=this._getData(this._customDataFallbackType,!0);if(e)return n;n=this._extractDataComment(n);var i=null;return null!==(i=t===this._customDataFallbackType?n.content:n.data&&n.data[t]?n.data[t]:this._getData(t,!0))?i:""},setData:function(t,e){(r=t===this._customDataFallbackType)&&(e=this._applyDataComment(e,this._getFallbackTypeData()));var n=e,i=this._dataTransfer.$;try{i.setData(t,n),r&&(this._dataTransfer._.nativeHtmlCache=n)}catch(e){if(this._isUnsupportedMimeTypeError(e)){r=CKEDITOR.plugins.clipboard.fallbackDataTransfer,-1===CKEDITOR.tools.indexOf(r._customTypes,t)&&r._customTypes.push(t);var r=this._getFallbackTypeContent(),o=this._getFallbackTypeData();o[t]=n;try{n=this._applyDataComment(r,o),i.setData(this._customDataFallbackType,n),this._dataTransfer._.nativeHtmlCache=n}catch(t){n=""}}}return n},_getData:function(t,e){var n=this._dataTransfer._.data;if(!e&&n[t])return n[t];try{return this._dataTransfer.$.getData(t)}catch(t){return null}},_getFallbackTypeContent:function(){var t=this._dataTransfer._.data[this._customDataFallbackType];return t||(t=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).content),t},_getFallbackTypeData:function(){var t=CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes,e=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).data||{},n=this._dataTransfer._.data;return CKEDITOR.tools.array.forEach(t,function(t){void 0!==n[t]?e[t]=n[t]:void 0!==e[t]&&(e[t]=e[t])},this),e},_isUnsupportedMimeTypeError:function(t){return t.message&&-1!==t.message.search(/element not found/gi)},_extractDataComment:function(t){var e,n={data:null,content:t||""};t&&16<t.length&&((e=/\x3c!--cke-data:(.*?)--\x3e/g.exec(t))&&e[1]&&(n.data=JSON.parse(decodeURIComponent(e[1])),n.content=t.replace(e[0],"")));return n},_applyDataComment:function(t,e){var n="";return e&&CKEDITOR.tools.object.keys(e).length&&(n="\x3c!--cke-data:"+encodeURIComponent(JSON.stringify(e))+"--\x3e"),n+(t&&t.length?t:"")}}}(),CKEDITOR.config.clipboard_notificationDuration=1e4,function(){CKEDITOR.plugins.add("panel",{beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}}),CKEDITOR.UI_PANEL="panel",CKEDITOR.ui.panel=function(t,e){e&&CKEDITOR.tools.extend(this,e),CKEDITOR.tools.extend(this,{className:"",css:[]}),this.id=CKEDITOR.tools.getNextId(),this.document=t,this.isFramed=this.forceIFrame||this.css.length,this._={blocks:{}}},CKEDITOR.ui.panel.handler={create:function(t){return new CKEDITOR.ui.panel(t)}};var t=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),e=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),n=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(i,r){var o={editorId:i.id,id:this.id,langCode:i.langCode,dir:i.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":i.config.baseFloatZIndex+1};if(this.getHolderElement=function(){if(!(e=this._.holder)){if(this.isFramed){var t=(e=this.document.getById(this.id+"_frame")).getParent(),e=e.getFrameDocument();CKEDITOR.env.iOS&&t.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),t=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0,this.onLoad&&this.onLoad()},this)),e.write(n.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+t+");"},o))),e.getWindow().$.CKEDITOR=CKEDITOR,e.on("keydown",function(t){var e=t.data.getKeystroke(),n=this.document.getById(this.id).getAttribute("dir");("input"!==t.data.getTarget().getName()||37!==e&&39!==e)&&(this._.onKeyDown&&!1===this._.onKeyDown(e)?"input"===t.data.getTarget().getName()&&32===e||t.data.preventDefault():(27==e||e==("rtl"==n?39:37))&&this.onEscape&&!1===this.onEscape(e)&&t.data.preventDefault())},this),(e=e.getBody()).unselectable(),CKEDITOR.env.air&&CKEDITOR.tools.callFunction(t)}else e=this.document.getById(this.id);this._.holder=e}return e},this.isFramed){var a=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";o.frame=e.output({id:this.id+"_frame",src:a})}return a=t.output(o),r&&r.push(a),a},addBlock:function(t,e){return e=this._.blocks[t]=e instanceof CKEDITOR.ui.panel.block?e:new CKEDITOR.ui.panel.block(this.getHolderElement(),e),this._.currentBlock||this.showBlock(t),e},getBlock:function(t){return this._.blocks[t]},showBlock:function(t){t=this._.blocks[t];var e=this._.currentBlock,n=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");return e&&e.hide(),this._.currentBlock=t,CKEDITOR.fire("ariaWidget",n),t._.focusIndex=-1,this._.onKeyDown=t.onKeyDown&&CKEDITOR.tools.bind(t.onKeyDown,t),t.show(),t},destroy:function(){this.element&&this.element.remove()}},CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(t,e){this.element=t.append(t.getDocument().createElement("div",{attributes:{tabindex:-1,class:"cke_panel_block"},styles:{display:"none"}})),e&&CKEDITOR.tools.extend(this,e),this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]}),this.keys={},this._.focusIndex=-1,this.element.disableContextMenu()},_:{markItem:function(t){-1!=t&&(t=this._.getItems().getItem(this._.focusIndex=t),CKEDITOR.env.webkit&&t.getDocument().getWindow().focus(),t.focus(),this.onMark&&this.onMark(t))},markFirstDisplayed:function(t){for(var e,n,i=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&"none"==t.getStyle("display")},r=this._.getItems(),o=r.count()-1;0<=o;o--)if((e=r.getItem(o)).getAscendant(i)||(n=e,this._.focusIndex=o),"true"==e.getAttribute("aria-selected")){n=e,this._.focusIndex=o;break}n&&(t&&t(),CKEDITOR.env.webkit&&n.getDocument().getWindow().focus(),n.focus(),this.onMark&&this.onMark(n))},getItems:function(){return this.element.find("a,input")}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(t,e){switch(r=this.keys[t]){case"next":for(var n,i=this._.focusIndex,r=this._.getItems();n=r.getItem(++i);)if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=i,n.focus(!0);break}return!n&&!e&&(this._.focusIndex=-1,this.onKeyDown(t,1));case"prev":for(i=this._.focusIndex,r=this._.getItems();0<i&&(n=r.getItem(--i));){if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=i,n.focus(!0);break}n=null}return!n&&!e&&(this._.focusIndex=r.count(),this.onKeyDown(t,1));case"click":case"mouseup":return(n=0<=(i=this._.focusIndex)&&this._.getItems().getItem(i))&&n.fireEventHandler(r,{button:CKEDITOR.tools.normalizeMouseButton(CKEDITOR.MOUSE_BUTTON_LEFT,!0)}),!1}return!0}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),function(){function t(t,n,i,r,o){o=CKEDITOR.tools.genKey(n.getUniqueId(),i.getUniqueId(),t.lang.dir,t.uiColor||"",r.css||"",o||"");var a=e[o];return a||((a=e[o]=new CKEDITOR.ui.panel(n,r)).element=i.append(CKEDITOR.dom.element.createFromHtml(a.render(t),n)),a.element.setStyles({display:"none",position:"absolute"})),a}var e={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(e,n,i,r){function o(){c.hide()}i.forceIFrame=1,i.toolbarRelated&&e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(n=CKEDITOR.document.getById("cke_"+e.name));var a=n.getDocument(),s=(r=t(e,a,n,i,r||0)).element,l=s.getFirst(),c=this;s.disableContextMenu(),this.element=s,this._={editor:e,panel:r,parentElement:n,definition:i,document:a,iframe:l,children:[],dir:e.lang.dir,showBlockParams:null,markFirst:void 0===i.markFirst||i.markFirst},e.on("mode",o),e.on("resize",o),a.getWindow().on("resize",function(){this.reposition()},this)},proto:{addBlock:function(t,e){return this._.panel.addBlock(t,e)},addListBlock:function(t,e){return this._.panel.addListBlock(t,e)},getBlock:function(t){return this._.panel.getBlock(t)},showBlock:function(t,e,n,i,r,o){var a=this._.panel,s=a.showBlock(t);this._.showBlockParams=[].slice.call(arguments),this.allowBlur(!1);var l=this._.editor.editable();this._.returnFocus=l.hasFocus?l:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement),this._.hideTimeout=0;var c=this.element,u=(l=this._.iframe,l=CKEDITOR.env.ie&&!CKEDITOR.env.edge?l:new CKEDITOR.dom.window(l.$.contentWindow),c.getDocument()),d=this._.parentElement.getPositionedAncestor(),h=e.getDocumentPosition(u),f=(u=d?d.getDocumentPosition(u):{x:0,y:0},"rtl"==this._.dir),p=h.x+(i||0)-u.x,g=h.y+(r||0)-u.y;!f||1!=n&&4!=n?f||2!=n&&3!=n||(p+=e.$.offsetWidth-1):p+=e.$.offsetWidth,3!=n&&4!=n||(g+=e.$.offsetHeight-1),this._.panel._.offsetParentId=e.getId(),c.setStyles({top:g+"px",left:0,display:""}),c.setOpacity(0),c.getFirst().removeStyle("width"),this._.editor.focusManager.add(l),this._.blurSet||(CKEDITOR.event.useCapture=!0,l.on("blur",function(t){function e(){delete this._.returnFocus,this.hide()}this.allowBlur()&&t.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(e,0,this)):e.call(this))},this),l.on("focus",function(){this._.focused=!0,this.hideChild(),this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(l.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),l.on("touchend",function(){this._.hideTimeout=0,this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1),a.onEscape=CKEDITOR.tools.bind(function(t){if(this.onEscape&&!1===this.onEscape(t))return!1},this),CKEDITOR.tools.setTimeout(function(){var t=CKEDITOR.tools.bind(function(){if((n=c).removeStyle("width"),s.autoSize){var t=s.element.getDocument();t=(CKEDITOR.env.webkit||CKEDITOR.env.edge?s.element:t.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<t&&(t+=(n.$.offsetWidth||0)-(n.$.clientWidth||0)+3),n.setStyle("width",t+10+"px"),t=s.element.$.scrollHeight,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<t&&(t+=(n.$.offsetHeight||0)-(n.$.clientHeight||0)+3),n.setStyle("height",t+"px"),a._.currentBlock.element.setStyle("display","none").removeStyle("display")}else n.removeStyle("height");f&&(p-=c.$.offsetWidth),c.setStyle("left",p+"px");t=a.element.getWindow();var e,n=c.$.getBoundingClientRect(),i=(t=t.getViewPaneSize(),n.width||n.right-n.left),r=n.height||n.bottom-n.top,l=f?n.right:t.width-n.left,u=f?t.width-n.right:n.left;f?l<i&&(p=u>i?p+i:t.width>i?p-n.left:p-n.right+t.width):l<i&&(p=u>i?p-i:t.width>i?p-n.right+t.width:p-n.left),i=n.top,t.height-n.top<r&&(g=i>r?g-r:t.height>r?g-n.bottom+t.height:g-n.top),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&((t=n=c.$.offsetParent&&new CKEDITOR.dom.element(c.$.offsetParent))&&"html"==t.getName()&&(t=t.getDocument().getBody()),t&&"rtl"==t.getComputedStyle("direction")&&(p=CKEDITOR.env.ie8Compat?p-2*c.getDocument().getDocumentElement().$.scrollLeft:p-(n.$.scrollWidth-n.$.clientWidth))),(e=(n=c.getFirst()).getCustomData("activePanel"))&&e.onHide&&e.onHide.call(this,1),n.setCustomData("activePanel",this),c.setStyles({top:g+"px",left:p+"px"}),c.setOpacity(1),o&&o()},this);a.isLoaded?t():a.onLoad=t,CKEDITOR.tools.setTimeout(function(){var t=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus(),s.element.focus(),CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=t),this.allowBlur(!0),this._.markFirst&&(CKEDITOR.env.ie?CKEDITOR.tools.setTimeout(function(){s.markFirstDisplayed?s.markFirstDisplayed():s._.markFirstDisplayed()},0):s.markFirstDisplayed?s.markFirstDisplayed():s._.markFirstDisplayed()),this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this),this.visible=1,this.onShow&&this.onShow.call(this)},reposition:function(){var t=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,t))},focus:function(){if(CKEDITOR.env.webkit){var t=CKEDITOR.document.getActive();t&&!t.equals(this._.iframe)&&t.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var t=this._.iframe.getFrameDocument().getActive();t&&t.is("a")&&(this._.lastFocused=t)},hide:function(t){!this.visible||this.onHide&&!0===this.onHide.call(this)||(this.hideChild(),CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur(),this.element.setStyle("display","none"),this.visible=0,this.element.getFirst().removeCustomData("activePanel"),(t=t&&this._.returnFocus)&&(CKEDITOR.env.webkit&&t.type&&t.getWindow().$.focus(),t.focus()),delete this._.lastFocused,this._.showBlockParams=null,this._.editor.fire("panelHide",this))},allowBlur:function(t){var e=this._.panel;return void 0!==t&&(e.allowBlur=t),e.allowBlur},showAsChild:function(t,e,n,i,r,o){this._.activeChild==t&&t._.panel._.offsetParentId==n.getId()||(this.hideChild(),t.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=t,this._.focused=!1,t.showBlock(e,n,i,r,o),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){t.element.getChild(0).$.style.cssText+=""},100))},hideChild:function(t){var e=this._.activeChild;e&&(delete e.onHide,delete this._.activeChild,e.hide(),t&&this.focus())}}}),CKEDITOR.on("instanceDestroyed",function(){var t,n=CKEDITOR.tools.isEmpty(CKEDITOR.instances);for(t in e){var i=e[t];n?i.destroy():i.element.hide()}n&&(e={})})}(),CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(t){for(var e=t.config.menu_groups.split(","),n=t._.menuGroups={},i=t._.menuItems={},r=0;r<e.length;r++)n[e[r]]=r+1;t.addMenuGroup=function(t,e){n[t]=e||100},t.addMenuItem=function(t,e){n[e.group]&&(i[t]=new CKEDITOR.menuItem(this,t,e))},t.addMenuItems=function(t){for(var e in t)this.addMenuItem(e,t[e])},t.getMenuItem=function(t){return i[t]},t.removeMenuItem=function(t){delete i[t]}}}),function(){var t='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1" _cke_focus=1 hidefocus="true" role="{role}" aria-label="{attrLabel}" aria-describedby="{id}_description" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked} draggable="false"',e="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;" ondragstart="return false;"'),CKEDITOR.env.ie&&(e='return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)===CKEDITOR.MOUSE_BUTTON_LEFT&&');t=t+' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" onclick="'+e+'CKEDITOR.tools.callFunction({clickFn},{index}); return false;"><span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{shortcutHtml}{arrowHtml}</span></a><span id="{id}_description" class="cke_voice_label" aria-hidden="false">{ariaShortcut}</span></span>';var n=CKEDITOR.addTemplate("menuItem",t),i=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>'),r=CKEDITOR.addTemplate("menuShortcut",'<span class="cke_menubutton_label cke_menubutton_shortcut">{shortcut}</span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(t,e){e=this._.definition=e||{},this.id=CKEDITOR.tools.getNextId(),this.editor=t,this.items=[],this._.listeners=[],this._.level=e.level||1;var n=CKEDITOR.tools.extend({},e.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),i=n.block.attributes=n.attributes||{};!i.role&&(i.role="menu"),this._.panelDefinition=n},_:{onShow:function(){var t=this.editor.getSelection(),e=t&&t.getStartElement(),n=this.editor.elementPath(),i=this._.listeners;this.removeAll();for(var r=0;r<i.length;r++){var o=i[r](e,t,n);if(o)for(var a in o){var s=this.editor.getMenuItem(a);!s||s.command&&!this.editor.getCommand(s.command).state||(s.state=o[a],this.add(s))}}},onClick:function(t){this.hide(),t.onClick?t.onClick():t.command&&this.editor.execCommand(t.command)},onEscape:function(t){var e=this.parent;return e?e._.panel.hideChild(1):27==t&&this.hide(1),!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(t){var e=this._.subMenu,n=this.items[t];if(n=n.getItems&&n.getItems()){for(var i in e?e.removeAll():((e=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0))).parent=this,e._.onClick=CKEDITOR.tools.bind(this._.onClick,this)),n){var r=this.editor.getMenuItem(i);r&&(r.state=n[i],e.add(r))}var o=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(t));setTimeout(function(){e.show(o,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(t){t.order||(t.order=this.items.length),this.items.push(t)},removeAll:function(){this.items=[]},show:function(t,e,n,i){if(this.parent||(this._.onShow(),this.items.length)){e=e||("rtl"==this.editor.lang.dir?2:1);var r=this.items,o=this.editor,a=this._.panel,s=this._.element;if(!a)(a=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level)).onEscape=CKEDITOR.tools.bind(function(t){if(!1===this._.onEscape(t))return!1},this),a.onShow=function(){a._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")},a.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this),(s=a.addBlock(this.id,this._.panelDefinition.block)).autoSize=!0,(l=s.keys)[40]="next",l[9]="next",l[38]="prev",l[CKEDITOR.SHIFT+9]="prev",l["rtl"==o.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click",l[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(l[13]="mouseup"),(l=(s=this._.element=s.element).getDocument()).getBody().setStyle("overflow","hidden"),l.getElementsByTag("html").getItem(0).setStyle("overflow","hidden"),this._.itemOverFn=CKEDITOR.tools.addFunction(function(t){clearTimeout(this._.showSubTimeout),this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,o.config.menu_subMenuDelay||400,this,[t])},this),this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this),this._.itemClickFn=CKEDITOR.tools.addFunction(function(t){var e=this.items[t];e.state==CKEDITOR.TRISTATE_DISABLED?this.hide(1):e.getItems?this._.showSubMenu(t):this._.onClick(e)},this);!function(t){t.sort(function(t,e){return t.group<e.group?-1:t.group>e.group?1:t.order<e.order?-1:t.order>e.order?1:0})}(r);for(var l=['<div class="cke_menu'+((l=o.elementPath())&&l.direction()!=o.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],c=r.length,u=c&&r[0].group,d=0;d<c;d++){var h=r[d];u!=h.group&&(l.push('<div class="cke_menuseparator" role="separator"></div>'),u=h.group),h.render(this,d,l)}l.push("</div>"),s.setHtml(l.join("")),CKEDITOR.ui.fire("ready",this),this.parent?this.parent._.panel.showAsChild(a,this.id,t,e,n,i):a.showBlock(this.id,t,e,n,i),o.fire("menuShow",[a])}},addListener:function(t){this._.listeners.push(t)},hide:function(t){this._.onHide&&this._.onHide(),this._.panel&&this._.panel.hide(t)},findItemByCommandName:function(t){var e=CKEDITOR.tools.array.filter(this.items,function(e){return t===e.command});return e.length?{item:e=e[0],element:this._.element.findOne("."+e.className)}:null}}}),CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(t,e,n){CKEDITOR.tools.extend(this,n,{order:0,className:"cke_menubutton__"+e}),this.group=t._.menuGroups[this.group],this.editor=t,this.name=e},proto:{render:function(t,e,o){var a,s,l=t.id+String(e),c=void 0===this.state?CKEDITOR.TRISTATE_OFF:this.state,u="",d=this.editor,h=c==CKEDITOR.TRISTATE_ON?"on":c==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(u=' aria-checked="'+(c==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var f=this.getItems,p="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",g=this.name;this.icon&&!/\./.test(this.icon)&&(g=this.icon),this.command&&(a=d.getCommand(this.command),(a=d.getCommandKeystroke(a))&&(s=CKEDITOR.tools.keystrokeToString(d.lang.common.keyboard,a))),a=CKEDITOR.tools.htmlEncodeAttr(this.label),t={id:l,name:this.name,iconName:g,label:this.label,attrLabel:a,cls:this.className||"",state:h,hasPopup:f?"true":"false",disabled:c==CKEDITOR.TRISTATE_DISABLED,title:a+(s?" ("+s.display+")":""),ariaShortcut:s?d.lang.common.keyboardShortcut+" "+s.aria:"",href:"javascript:void('"+(a||"").replace("'")+"')",hoverFn:t._.itemOverFn,moveOutFn:t._.itemOutFn,clickFn:t._.itemClickFn,index:e,iconStyle:CKEDITOR.skin.getIconStyle(g,"rtl"==this.editor.lang.dir,g==this.icon?null:this.icon,this.iconOffset),shortcutHtml:s?r.output({shortcut:s.display}):"",arrowHtml:f?i.output({label:p}):"",role:this.role?this.role:"menuitem",ariaChecked:u},n.output(t,o)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(t){this.base.call(this,t,{panel:{css:t.config.contextmenu_contentsCss,className:"cke_menu_panel",attributes:{"aria-label":t.lang.contextmenu.options}}})},proto:{addTarget:function(t,e){function n(){r=!1}var i,r;if(t.on("contextmenu",function(t){t=t.data;var n=CKEDITOR.env.webkit?i:CKEDITOR.env.mac?t.$.metaKey:t.$.ctrlKey;if(!(e&&n||(t.preventDefault(),r))){if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){n=this.editor;(o=new CKEDITOR.dom.elementPath(t.getTarget(),n.editable()).contains(function(t){return t.hasAttribute("contenteditable")},!0))&&"false"==o.getAttribute("contenteditable")&&n.getSelection().fake(o)}var o=t.getTarget().getDocument(),a=t.getTarget().getDocument().getDocumentElement(),s=(n=!o.equals(CKEDITOR.document),o=o.getWindow().getScrollPosition(),n?t.$.clientX:t.$.pageX||o.x+t.$.clientX),l=n?t.$.clientY:t.$.pageY||o.y+t.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(a,null,s,l)},CKEDITOR.env.ie?200:0,this)}},this),CKEDITOR.env.webkit){var o=function(){i=0};t.on("keydown",function(t){i=CKEDITOR.env.mac?t.data.$.metaKey:t.data.$.ctrlKey}),t.on("keyup",o),t.on("contextmenu",o)}CKEDITOR.env.gecko&&!CKEDITOR.env.mac&&(t.on("keydown",function(t){t.data.$.shiftKey&&121===t.data.$.keyCode&&(r=!0)},null,null,0),t.on("keyup",n),t.on("contextmenu",n))},open:function(t,e,n,i){!1!==this.editor.config.enableContextMenu&&this.editor.getSelection().getType()!==CKEDITOR.SELECTION_NONE&&(this.editor.focus(),t=t||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(t,e,n,i))}}})},beforeInit:function(t){var e=t.contextMenu=new CKEDITOR.plugins.contextMenu(t);t.on("contentDom",function(){e.addTarget(t.editable(),!1!==t.config.browserContextMenuOnCtrl)}),t.addCommand("contextMenu",{exec:function(t){var e,n=0,i=0;(e=(e=(e=t.getSelection().getRanges())[e.length-1].getClientRects(t.editable().isInline()))[e.length-1])&&(n=e["rtl"===t.lang.dir?"left":"right"],i=e.bottom),t.contextMenu.open(t.document.getBody().getParent(),null,n,i)}}),t.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu"),t.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),function(){function t(t,n){function r(e){var n;(e=l.list[e]).equals(t.editable())||"true"==e.getAttribute("contenteditable")?((n=t.createRange()).selectNodeContents(e),n=n.select()):(n=t.getSelection()).selectElement(e),CKEDITOR.env.ie&&t.fire("selectionChange",{selection:n,path:new CKEDITOR.dom.elementPath(e)}),t.focus()}function o(){a&&a.setHtml('<span class="cke_path_empty">&nbsp;</span>'),delete l.list}var a,s=t.ui.spaceId("path"),l=t._.elementsPath,c=l.idBase;n.html+='<span id="'+s+'_label" class="cke_voice_label">'+t.lang.elementspath.eleLabel+'</span><span id="'+s+'" class="cke_path" role="group" aria-labelledby="'+s+'_label"><span class="cke_path_empty">&nbsp;</span></span>',t.on("uiReady",function(){var e=t.ui.space("path");e&&t.focusManager.add(e,1)}),l.onClick=r;var u=CKEDITOR.tools.addFunction(r),d=CKEDITOR.tools.addFunction(function(e,n){var i,o=l.idBase;switch(n=new CKEDITOR.dom.event(n),i="rtl"==t.lang.dir,n.getKeystroke()){case i?39:37:case 9:return(i=CKEDITOR.document.getById(o+(e+1)))||(i=CKEDITOR.document.getById(o+"0")),i.focus(),!1;case i?37:39:case CKEDITOR.SHIFT+9:return(i=CKEDITOR.document.getById(o+(e-1)))||(i=CKEDITOR.document.getById(o+(l.list.length-1))),i.focus(),!1;case 27:return t.focus(),!1;case 13:case 32:return r(e),!1}return!0});t.on("selectionChange",function(e){for(var n=[],r=l.list=[],o=[],h=l.filters,f=!0,p=e.data.path.elements,g=p.length;g--;){var m=p[g],v=0;e=m.data("cke-display-name")?m.data("cke-display-name"):m.data("cke-real-element-type")?m.data("cke-real-element-type"):m.getName(),(f=m.hasAttribute("contenteditable")?"true"==m.getAttribute("contenteditable"):f)||m.hasAttribute("contenteditable")||(v=1);for(var y=0;y<h.length;y++){var b=h[y](m,e);if(!1===b){v=1;break}e=b||e}v||(r.unshift(m),o.unshift(e))}for(r=r.length,h=0;h<r;h++)e=o[h],f=t.lang.elementspath.eleTitle.replace(/%1/,e),e=i.output({id:c+h,label:f,text:e,jsTitle:"javascript:void('"+e+"')",index:h,keyDownFn:d,clickFn:u}),n.unshift(e);a||(a=CKEDITOR.document.getById(s)),(o=a).setHtml(n.join("")+'<span class="cke_path_empty">&nbsp;</span>'),t.fire("elementsPathUpdate",{space:o})}),t.on("readOnly",o),t.on("contentDomUnload",o),t.addCommand("elementsPathFocus",e.toolbarFocus),t.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var e={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(t){(t=CKEDITOR.document.getById(t._.elementsPath.idBase+"0"))&&t.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},n="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(n+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(n+=' onblur="this.style.cssText = this.style.cssText;"');var i=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+n+' hidefocus="true"  draggable="false"  ondragstart="return false;" onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(e){e._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},e.on("uiSpace",function(n){"bottom"==n.data.space&&t(e,n.data)})}})}(),function(){function t(t,i){var r,o;i.on("refresh",function(t){var i,r=[e];for(i in t.data.states)r.push(t.data.states[i]);this.setState(CKEDITOR.tools.search(r,n)?n:e)},i,null,100),i.on("exec",function(e){r=t.getSelection(),o=r.createBookmarks(1),e.data||(e.data={}),e.data.done=!1},i,null,0),i.on("exec",function(){t.forceNextSelectionCheck(),r.selectBookmarks(o)},i,null,100)}var e=CKEDITOR.TRISTATE_DISABLED,n=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(e){var n=CKEDITOR.plugins.indent.genericDefinition;t(e,e.addCommand("indent",new n(!0))),t(e,e.addCommand("outdent",new n)),e.ui.addButton&&(e.ui.addButton("Indent",{label:e.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),e.ui.addButton("Outdent",{label:e.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"})),e.on("dirChanged",function(t){var n=e.createRange(),i=t.data.node;n.setStartBefore(i),n.setEndAfter(i);for(var r,o=new CKEDITOR.dom.walker(n);r=o.next();)if(r.type==CKEDITOR.NODE_ELEMENT)if(!r.equals(i)&&r.getDirection())n.setStartAfter(r),o=new CKEDITOR.dom.walker(n);else{var a=e.config.indentClasses;if(a)for(var s="ltr"==t.data.dir?["_rtl",""]:["","_rtl"],l=0;l<a.length;l++)r.hasClass(a[l]+s[0])&&(r.removeClass(a[l]+s[0]),r.addClass(a[l]+s[1]));a=r.getStyle("margin-right"),s=r.getStyle("margin-left"),a?r.setStyle("margin-left",a):r.removeStyle("margin-left"),s?r.setStyle("margin-right",s):r.removeStyle("margin-right")}})}}),CKEDITOR.plugins.indent={genericDefinition:function(t){this.isIndent=!!t,this.startDisabled=!this.isIndent},specificDefinition:function(t,e,n){this.name=e,this.editor=t,this.jobs={},this.enterBr=t.config.enterMode==CKEDITOR.ENTER_BR,this.isIndent=!!n,this.relatedGlobal=n?"indent":"outdent",this.indentKey=n?9:CKEDITOR.SHIFT+9,this.database={}},registerCommands:function(t,e){t.on("pluginsLoaded",function(){for(var t in e)!function(t,e){var n,i=t.getCommand(e.relatedGlobal);for(n in e.jobs)i.on("exec",function(i){i.data.done||(t.fire("lockSnapshot"),e.execJob(t,n)&&(i.data.done=!0),t.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(e.database))},this,null,n),i.on("refresh",function(i){i.data.states||(i.data.states={}),i.data.states[e.name+"@"+n]=e.refreshJob(t,n,i.data.path)},this,null,n);t.addFeature(e)}(this,e[t])})}},CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}},CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(t,n){var i=this.jobs[n];if(i.state!=e)return i.exec.call(this,t)},refreshJob:function(t,n,i){return n=this.jobs[n],t.activeFilter.checkFeature(this)?n.state=n.refresh.call(this,t,i):n.state=e,n.state},getContext:function(t){return t.contains(this.context)}}}(),function(){function t(t){function i(e){for(var i=r.startContainer,l=r.endContainer;i&&!i.getParent().equals(e);)i=i.getParent();for(;l&&!l.getParent().equals(e);)l=l.getParent();if(!i||!l)return!1;for(var c=[],u=!1;!u;)i.equals(l)&&(u=!0),c.push(i),i=i.getNext();if(1>c.length)return!1;for(i=e.getParents(!0),l=0;l<i.length;l++)if(i[l].getName&&s[i[l].getName()]){e=i[l];break}i=o.isIndent?1:-1,l=c[0],c=c[c.length-1];var d=(u=CKEDITOR.plugins.list.listToArray(e,a))[c.getCustomData("listarray_index")].indent;for(l=l.getCustomData("listarray_index");l<=c.getCustomData("listarray_index");l++)if(u[l].indent+=i,0<i){for(var h=u[l].parent,f=l-1;0<=f;f--)if(u[f].indent===i){h=u[f].parent;break}u[l].parent=new CKEDITOR.dom.element(h.getName(),h.getDocument())}for(l=c.getCustomData("listarray_index")+1;l<u.length&&u[l].indent>d;l++)u[l].indent+=i;var p;if((i=CKEDITOR.plugins.list.arrayToList(u,a,null,t.config.enterMode,e.getDirection()),!o.isIndent)&&((p=e.getParent())&&p.is("li"))){var g,m=[];for(l=(c=i.listNode.getChildren()).count()-1;0<=l;l--)(g=c.getItem(l))&&g.is&&g.is("li")&&m.push(g)}if(i&&i.listNode.replace(e),m&&m.length)for(l=0;l<m.length;l++){for(g=e=m[l];(g=g.getNext())&&g.is&&g.getName()in s;)CKEDITOR.env.needsNbspFiller&&!e.getFirst(n)&&e.append(r.document.createText("Â ")),e.append(g);e.insertAfter(p)}return i&&t.fire("contentDomInvalidated"),!0}for(var r,o=this,a=this.database,s=this.context,l=((l=t.getSelection())&&l.getRanges()).createIterator();r=l.getNextRange();){for(var c=r.getCommonAncestor();c&&(c.type!=CKEDITOR.NODE_ELEMENT||!s[c.getName()]);){if(t.editable().equals(c)){c=!1;break}c=c.getParent()}if(c||(c=r.startPath().contains(s))&&r.setEndAt(c,CKEDITOR.POSITION_BEFORE_END),!c){var u=r.getEnclosedNode();u&&u.type==CKEDITOR.NODE_ELEMENT&&u.getName()in s&&(r.setStartAt(u,CKEDITOR.POSITION_AFTER_START),r.setEndAt(u,CKEDITOR.POSITION_BEFORE_END),c=u)}if(c&&r.startContainer.type==CKEDITOR.NODE_ELEMENT&&r.startContainer.getName()in s&&((u=new CKEDITOR.dom.walker(r)).evaluator=e,r.startContainer=u.next()),c&&r.endContainer.type==CKEDITOR.NODE_ELEMENT&&r.endContainer.getName()in s&&((u=new CKEDITOR.dom.walker(r)).evaluator=e,r.endContainer=u.previous()),c)return i(c)}return 0}function e(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.is("li")}function n(t){return i(t)&&r(t)}var i=CKEDITOR.dom.walker.whitespaces(!0),r=CKEDITOR.dom.walker.bookmark(!1,!0),o=CKEDITOR.TRISTATE_DISABLED,a=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(e){function n(e){i.specificDefinition.apply(this,arguments),this.requiredContent=["ul","ol"],e.on("key",function(t){var n=e.elementPath();if("wysiwyg"==e.mode&&t.data.keyCode==this.indentKey&&n){var i=this.getContext(n);!i||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,n,i)||(e.execCommand(this.relatedGlobal),t.cancel())}},this),this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(t,e){var n=this.getContext(e),i=CKEDITOR.plugins.indentList.firstItemInPath(this.context,e,n);return n&&this.isIndent&&!i?a:o}:function(t,e){return!this.getContext(e)||this.isIndent?o:a},exec:CKEDITOR.tools.bind(t,this)}}var i=CKEDITOR.plugins.indent;i.registerCommands(e,{indentlist:new n(e,"indentlist",!0),outdentlist:new n(e,"outdentlist")}),CKEDITOR.tools.extend(n.prototype,i.specificDefinition.prototype,{context:{ol:1,ul:1}})}}),CKEDITOR.plugins.indentList={},CKEDITOR.plugins.indentList.firstItemInPath=function(t,n,i){var r=n.contains(e);return i||(i=n.contains(t)),i&&r&&r.equals(i.getFirst(e))}}(),function(){function t(t,e,n,i){for(var r=CKEDITOR.plugins.list.listToArray(e.root,n),o=[],a=0;a<e.contents.length;a++){(c=(c=e.contents[a]).getAscendant("li",!0))&&!c.getCustomData("list_item_processed")&&(o.push(c),CKEDITOR.dom.element.setMarker(n,c,"list_item_processed",!0))}var s,l,c=e.root.getDocument();for(a=0;a<o.length;a++){var u=o[a].getCustomData("listarray_index");(s=r[u].parent).is(this.type)||(l=c.createElement(this.type),s.copyAttributes(l,{start:1,type:1}),l.removeStyle("list-style-type"),r[u].parent=l)}var d;for(r=(n=CKEDITOR.plugins.list.arrayToList(r,n,null,t.config.enterMode)).listNode.getChildCount(),a=0;a<r&&(d=n.listNode.getChild(a));a++)d.getName()==this.type&&i.push(d);n.listNode.replace(e.root),t.fire("contentDomInvalidated")}function e(t,e,n){var i,r,o=e.contents,a=e.root.getDocument(),s=[];if(1==o.length&&o[0].equals(e.root)){var l=a.createElement("div");o[0].moveChildren&&o[0].moveChildren(l),o[0].append(l),o[0]=l}for(e=e.contents[0].getParent(),l=0;l<o.length;l++)e=e.getCommonAncestor(o[l].getParent());for(t=void 0===(t=t.config.useComputedState)||t,l=0;l<o.length;l++)for(var c,u=o[l];c=u.getParent();){if(c.equals(e)){s.push(u),!r&&u.getDirection()&&(r=1),u=u.getDirection(t),null!==i&&(i=i&&i!=u?null:u);break}u=c}if(!(1>s.length)){for(o=s[s.length-1].getNext(),l=a.createElement(this.type),n.push(l);s.length;)n=s.shift(),t=a.createElement("li"),(u=n).is("pre")||p.test(u.getName())||"false"==u.getAttribute("contenteditable")?n.appendTo(t):(n.copyAttributes(t),i&&n.getDirection()&&(t.removeStyle("direction"),t.removeAttribute("dir")),n.moveChildren(t),n.remove()),t.appendTo(l);i&&r&&l.setAttribute("dir",i),o?l.insertBefore(o):l.appendTo(e)}}function n(t,e,n){function i(n){!(l=u[n?"getFirst":"getLast"]())||l.is&&l.isBlockBoundary()||!(c=e.root[n?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||c.is&&c.isBlockBoundary({br:1})||t.document.createElement("br")[n?"insertBefore":"insertAfter"](l)}for(var r=CKEDITOR.plugins.list.listToArray(e.root,n),o=[],a=0;a<e.contents.length;a++){var s=e.contents[a];(s=s.getAscendant("li",!0))&&!s.getCustomData("list_item_processed")&&(o.push(s),CKEDITOR.dom.element.setMarker(n,s,"list_item_processed",!0))}for(s=null,a=0;a<o.length;a++)r[s=o[a].getCustomData("listarray_index")].indent=-1;for(a=s+1;a<r.length;a++)if(r[a].indent>r[a-1].indent+1){for(o=r[a-1].indent+1-r[a].indent,s=r[a].indent;r[a]&&r[a].indent>=s;)r[a].indent+=o,a++;a--}var l,c,u=CKEDITOR.plugins.list.arrayToList(r,n,null,t.config.enterMode,e.root.getAttribute("dir")).listNode;i(!0),i(),u.replace(e.root),t.fire("contentDomInvalidated")}function i(t,e){this.name=t,this.context=this.type=e,this.allowedContent=e+" li",this.requiredContent=e}function r(t,e,n,i){for(var r,o;r=t[i?"getLast":"getFirst"](g);)(o=r.getDirection(1))!==e.getDirection(1)&&r.setAttribute("dir",o),r.remove(),n?r[i?"insertBefore":"insertAfter"](n):e.append(r,i),n=r}function o(t){function e(e){var n=t[e?"getPrevious":"getNext"](h);n&&n.type==CKEDITOR.NODE_ELEMENT&&n.is(t.getName())&&(r(t,n,null,!e),t.remove(),t=n)}e(),e(1)}function a(t){return t.type==CKEDITOR.NODE_ELEMENT&&(t.getName()in CKEDITOR.dtd.$block||t.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[t.getName()]["#"]}function s(t,e,n){t.fire("saveSnapshot"),n.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var i=n.extractContents();e.trim(!1,!0);var a=e.createBookmark(),s=(c=new CKEDITOR.dom.elementPath(e.startContainer)).block,c=c.lastElement.getAscendant("li",1)||s,u=(d=new CKEDITOR.dom.elementPath(n.startContainer)).contains(CKEDITOR.dtd.$listItem),d=d.contains(CKEDITOR.dtd.$list);for(s?(s=s.getBogus())&&s.remove():d&&(s=d.getPrevious(h))&&f(s)&&s.remove(),(s=i.getLast())&&s.type==CKEDITOR.NODE_ELEMENT&&s.is("br")&&s.remove(),(s=e.startContainer.getChild(e.startOffset))?i.insertBefore(s):e.startContainer.append(i),u&&(i=l(u))&&(c.contains(u)?(r(i,u.getParent(),u),i.remove()):c.append(i));n.checkStartOfBlock()&&n.checkEndOfBlock()&&(i=(d=n.startPath()).block);)i.is("li")&&(c=i.getParent(),i.equals(c.getLast(h))&&i.equals(c.getFirst(h))&&(i=c)),n.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove();n=n.clone(),i=t.editable(),n.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(n)).evaluator=function(t){return h(t)&&!f(t)},(n=n.next())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in CKEDITOR.dtd.$list&&o(n),e.moveToBookmark(a),e.select(),t.fire("saveSnapshot")}function l(t){return(t=t.getLast(h))&&t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in c?t:null}var c={ol:1,ul:1},u=CKEDITOR.dom.walker.whitespaces(),d=CKEDITOR.dom.walker.bookmark(),h=function(t){return!(u(t)||d(t))},f=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(t,e,n,i,r){if(!c[t.getName()])return[];i||(i=0),n||(n=[]);for(var o=0,a=t.getChildCount();o<a;o++){var s=t.getChild(o);if(s.type==CKEDITOR.NODE_ELEMENT&&s.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(s,e,n,i+1),"li"==s.$.nodeName.toLowerCase()){var l={parent:t,indent:i,element:s,contents:[]};r?l.grandparent=r:(l.grandparent=t.getParent(),l.grandparent&&"li"==l.grandparent.$.nodeName.toLowerCase()&&(l.grandparent=l.grandparent.getParent())),e&&CKEDITOR.dom.element.setMarker(e,s,"listarray_index",n.length),n.push(l);for(var u,d=0,h=s.getChildCount();d<h;d++)(u=s.getChild(d)).type==CKEDITOR.NODE_ELEMENT&&c[u.getName()]?CKEDITOR.plugins.list.listToArray(u,e,n,i+1,l.grandparent):l.contents.push(u)}}return n},arrayToList:function(t,e,n,i,r){if(n||(n=0),!t||t.length<n+1)return null;for(var o,a,s,l=t[n].parent.getDocument(),u=new CKEDITOR.dom.documentFragment(l),f=null,p=n,g=Math.max(t[n].indent,0),m=null,v=i==CKEDITOR.ENTER_P?"p":"div";;){var y=t[p];if(o=y.grandparent,a=y.element.getDirection(1),y.indent==g){for(f&&t[p].parent.getName()==f.getName()||(f=t[p].parent.clone(!1,1),r&&f.setAttribute("dir",r),u.append(f)),m=f.append(y.element.clone(0,1)),a!=f.getDirection(1)&&m.setAttribute("dir",a),o=0;o<y.contents.length;o++)m.append(y.contents[o].clone(1,1));p++}else if(y.indent==Math.max(g,0)+1)y=t[p-1].element.getDirection(1),p=CKEDITOR.plugins.list.arrayToList(t,null,p,i,y!=a?a:null),!m.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=l.$.documentMode&&m.append(l.createText("Â ")),m.append(p.listNode),p=p.nextIndex;else{if(-1!=y.indent||n||!o)return null;c[o.getName()]?(m=y.element.clone(!1,!0),a!=o.getDirection(1)&&m.setAttribute("dir",a)):m=new CKEDITOR.dom.documentFragment(l);f=o.getDirection(1)!=a;var b,w,E=y.element,C=E.getAttribute("class"),T=E.getAttribute("style"),_=m.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(i!=CKEDITOR.ENTER_BR||f||T||C),O=y.contents.length;for(o=0;o<O;o++)if(b=y.contents[o],d(b)&&1<O)_?w=b.clone(1,1):m.append(b.clone(1,1));else if(b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary()){f&&!b.getDirection()&&b.setAttribute("dir",a),s=b;var k=E.getAttribute("style");k&&s.setAttribute("style",k.replace(/([^;])$/,"$1;")+(s.getAttribute("style")||"")),C&&b.addClass(C),s=null,w&&(m.append(w),w=null),m.append(b.clone(1,1))}else _?(s||(s=l.createElement(v),m.append(s),f&&s.setAttribute("dir",a)),T&&s.setAttribute("style",T),C&&s.setAttribute("class",C),w&&(s.append(w),w=null),s.append(b.clone(1,1))):m.append(b.clone(1,1));w&&((s||m).append(w),w=null),m.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&p!=t.length-1&&(CKEDITOR.env.needsBrFiller&&(a=m.getLast())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("br")&&a.remove(),(a=m.getLast(h))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$block)||m.append(l.createElement("br"))),"div"!=(a=m.$.nodeName.toLowerCase())&&"p"!=a||m.appendBogus(),u.append(m),f=null,p++}if(s=null,t.length<=p||Math.max(t[p].indent,0)<g)break}if(e)for(t=u.getFirst();t;){if(t.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(e,t),t.getName()in CKEDITOR.dtd.$listItem&&(l=r=i=void 0,i=(n=t).getDirection()))){for(r=n.getParent();r&&!(l=r.getDirection());)r=r.getParent();i==l&&n.removeAttribute("dir")}t=t.getNextSourceNode()}return{listNode:u,nextIndex:p}}};var p=/^h[1-6]$/,g=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);i.prototype={exec:function(i){function r(t){return c[t.root.getName()]&&!function(t,e){return CKEDITOR.tools.array.filter(t.getChildren().toArray(),function(t){return-1===CKEDITOR.tools.array.indexOf(e,t.type)}).length}(t.root,[CKEDITOR.NODE_COMMENT])}function a(t){var e=!0;return 0!==t.getChildCount()&&(t.forEach(function(t){if(t.type!==CKEDITOR.NODE_COMMENT)return e=!1},null,!0),e)}this.refresh(i,i.elementPath());var s=i.config,l=i.getSelection(),u=l&&l.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF)if((f=i.editable()).getFirst(h)){var d=1==u.length&&u[0];(s=d&&d.getEnclosedNode())&&s.is&&this.type==s.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else s.enterMode==CKEDITOR.ENTER_BR?f.appendBogus():u[0].fixBlock(1,s.enterMode==CKEDITOR.ENTER_P?"p":"div"),l.selectRanges(u);s=l.createBookmarks(!0);for(var f=[],p={},g=(u=u.createIterator(),0);(d=u.getNextRange())&&++g;){var m=d.getBoundaryNodes(),v=m.startNode,y=m.endNode;for(v.type==CKEDITOR.NODE_ELEMENT&&"td"==v.getName()&&d.setStartAt(m.startNode,CKEDITOR.POSITION_AFTER_START),y.type==CKEDITOR.NODE_ELEMENT&&"td"==y.getName()&&d.setEndAt(m.endNode,CKEDITOR.POSITION_BEFORE_END),(d=d.createIterator()).forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;m=d.getNextParagraph();)if(!m.getCustomData("list_block")&&!a(m)){CKEDITOR.dom.element.setMarker(p,m,"list_block",1);v=(w=i.elementPath(m)).elements,y=0;for(var b,w=w.blockLimit,E=v.length-1;0<=E&&(b=v[E]);E--)if(c[b.getName()]&&w.contains(b)){w.removeCustomData("list_group_object_"+g),(v=b.getCustomData("list_group_object"))?v.contents.push(m):(v={root:b,contents:[m]},f.push(v),CKEDITOR.dom.element.setMarker(p,b,"list_group_object",v)),y=1;break}y||((y=w).getCustomData("list_group_object_"+g)?y.getCustomData("list_group_object_"+g).contents.push(m):(v={root:y,contents:[m]},CKEDITOR.dom.element.setMarker(p,y,"list_group_object_"+g,v),f.push(v)))}}for(b=[];0<f.length;)v=f.shift(),this.state==CKEDITOR.TRISTATE_OFF?r(v)||(c[v.root.getName()]?t.call(this,i,v,p,b):e.call(this,i,v,b)):this.state==CKEDITOR.TRISTATE_ON&&c[v.root.getName()]&&!r(v)&&n.call(this,i,v,p);for(E=0;E<b.length;E++)o(b[E]);CKEDITOR.dom.element.clearAllMarkers(p),l.selectBookmarks(s),i.focus()},refresh:function(t,e){var n=e.contains(c,1),i=e.blockLimit||e.root;n&&i.contains(n)?this.setState(n.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(t){t.blockless||(t.addCommand("numberedlist",new i("numberedlist","ol")),t.addCommand("bulletedlist",new i("bulletedlist","ul")),t.ui.addButton&&(t.ui.addButton("NumberedList",{label:t.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),t.ui.addButton("BulletedList",{label:t.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),t.on("key",function(e){var n,i=e.data.domEvent.getKey();if("wysiwyg"==t.mode&&i in{8:1,46:1}){var r=t.getSelection().getRanges()[0],o=r&&r.startPath();if(r&&r.collapsed){var u,d=8==i,p=t.editable(),g=new CKEDITOR.dom.walker(r.clone());if(g.evaluator=function(t){return h(t)&&!f(t)},g.guard=function(t,e){return!(e&&t.type==CKEDITOR.NODE_ELEMENT&&t.is("table"))},i=r.clone(),d)if((u=o.contains(c))&&r.checkBoundaryOfElement(u,CKEDITOR.START)&&(u=u.getParent())&&u.is("li")&&(u=l(u))?(n=u,u=u.getPrevious(h),i.moveToPosition(u&&f(u)?u:n,CKEDITOR.POSITION_BEFORE_START)):(g.range.setStartAt(p,CKEDITOR.POSITION_AFTER_START),g.range.setEnd(r.startContainer,r.startOffset),(u=g.previous())&&u.type==CKEDITOR.NODE_ELEMENT&&(u.getName()in c||u.is("li"))&&(u.is("li")||(g.range.selectNodeContents(u),g.reset(),g.evaluator=a,u=g.previous()),n=u,i.moveToElementEditEnd(n),i.moveToPosition(i.endPath().block,CKEDITOR.POSITION_BEFORE_END))),n)s(t,i,r),e.cancel();else{var m=o.contains(c);m&&r.checkBoundaryOfElement(m,CKEDITOR.START)&&(n=m.getFirst(h),r.checkBoundaryOfElement(n,CKEDITOR.START)&&(u=m.getPrevious(h),l(n)?u&&(r.moveToElementEditEnd(u),r.select()):t.execCommand("outdent"),e.cancel()))}else if(n=o.contains("li")){if(g.range.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),d=(p=n.getLast(h))&&a(p)?p:n,o=0,(u=g.next())&&u.type==CKEDITOR.NODE_ELEMENT&&u.getName()in c&&u.equals(p)?(o=1,u=g.next()):r.checkBoundaryOfElement(d,CKEDITOR.END)&&(o=2),o&&u){if((r=r.clone()).moveToElementEditStart(u),1==o&&(i.optimize(),!i.startContainer.equals(n))){for(n=i.startContainer;n.is(CKEDITOR.dtd.$inline);)m=n,n=n.getParent();m&&i.moveToPosition(m,CKEDITOR.POSITION_AFTER_END)}2==o&&(i.moveToPosition(i.endPath().block,CKEDITOR.POSITION_BEFORE_END),r.endPath().block&&r.moveToPosition(r.endPath().block,CKEDITOR.POSITION_AFTER_START)),s(t,i,r),e.cancel()}}else g.range.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(u=g.next())&&u.type==CKEDITOR.NODE_ELEMENT&&u.is(c)&&(u=u.getFirst(h),o.block&&r.checkStartOfBlock()&&r.checkEndOfBlock()?(o.block.remove(),r.moveToElementEditStart(u),r.select()):l(u)?(r.moveToElementEditStart(u),r.select()):((r=r.clone()).moveToElementEditStart(u),s(t,i,r)),e.cancel());setTimeout(function(){t.selectionChange(1)})}}}))}})}(),function(){function t(t,e,n){if(n=t.config.forceEnterMode||n,"wysiwyg"==t.mode){e||(e=t.activeEnterMode);var o=t.elementPath();o&&!o.isContextFor("p")&&(e=CKEDITOR.ENTER_BR,n=1),t.fire("saveSnapshot"),e==CKEDITOR.ENTER_BR?i(t,e,null,n):r(t,e,null,n),t.fire("saveSnapshot")}}function e(t){for(var e=(t=t.getSelection().getRanges(!0)).length-1;0<e;e--)t[e].deleteContents();return t[0]}CKEDITOR.plugins.add("enterkey",{init:function(e){e.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(e){t(e)}}),e.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(e){t(e,e.activeShiftEnterMode,1)}}),e.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var n,i,r,o,a=CKEDITOR.dom.walker.whitespaces(),s=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(t,n,r,l){if(r=r||e(t)){var c,u=(r=function(t){var e=t.startContainer.getAscendant(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&"true"==t.getAttribute("contenteditable")},!0);return t.root.equals(e)?t:((e=new CKEDITOR.dom.range(e)).moveToRange(t),e)}(r)).document,d=r.checkStartOfBlock(),h=r.checkEndOfBlock(),f=t.elementPath(r.startContainer),p=f.block,g=n==CKEDITOR.ENTER_DIV?"div":"p";if(p&&d&&h){if((d=p.getParent()).is("li")&&1<d.getChildCount())return u=new CKEDITOR.dom.element("li"),c=t.createRange(),u.insertAfter(d),p.remove(),c.setStart(u,0),void t.getSelection().selectRanges([c]);if(p.is("li")||p.getParent().is("li")){p.is("li")||(d=(p=p.getParent()).getParent()),c=d.getParent(),r=!p.hasPrevious();var m=!p.hasNext(),v=(g=(l=t.getSelection()).createBookmarks(),p.getDirection(1)),y=(h=p.getAttribute("class"),p.getAttribute("style")),b=c.getDirection(1)!=v;if(t=t.enterMode!=CKEDITOR.ENTER_BR||b||y||h,c.is("li"))r||m?(r&&m&&d.remove(),p[m?"insertAfter":"insertBefore"](c)):p.breakParent(c);else{if(t)f.block.is("li")?(c=u.createElement(n==CKEDITOR.ENTER_P?"p":"div"),b&&c.setAttribute("dir",v),y&&c.setAttribute("style",y),h&&c.setAttribute("class",h),p.moveChildren(c)):c=f.block,r||m?c[r?"insertBefore":"insertAfter"](d):(p.breakParent(d),c.insertAfter(d));else if(p.appendBogus(!0),r||m)for(;u=p[r?"getFirst":"getLast"]();)u[r?"insertBefore":"insertAfter"](d);else for(p.breakParent(d);u=p.getLast();)u.insertAfter(d);p.remove()}return void l.selectBookmarks(g)}if(p&&p.getParent().is("blockquote"))return p.breakParent(p.getParent()),p.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||p.getPrevious().remove(),p.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||p.getNext().remove(),r.moveToElementEditStart(p),void r.select()}else if(p&&p.is("pre")&&!h)return void i(t,n,r,l);if(y=r.splitBlock(g)){if(t=y.previousBlock,p=y.nextBlock,d=y.wasStartOfBlock,h=y.wasEndOfBlock,p?(m=p.getParent()).is("li")&&(p.breakParent(m),p.move(p.getNext(),1)):t&&(m=t.getParent())&&m.is("li")&&(t.breakParent(m),m=t.getNext(),r.moveToElementEditStart(m),t.move(t.getPrevious())),d||h)if(function(t){var e;return t!==CKEDITOR.ENTER_BR&&-1!==CKEDITOR.tools.indexOf(["td","th"],f.lastElement.getName())&&1===f.lastElement.getChildCount()&&((e=(t=f.lastElement.getChild(0).clone(!0)).getBogus())&&e.remove(),!t.getText().length)}(n))r.moveToElementEditStart(r.getTouchedStartNode());else{if(t?(t.is("li")||!o.test(t.getName())&&!t.is("pre"))&&(c=t.clone()):p&&(c=p.clone()),c?l&&!c.is("li")&&c.renameNode(g):m&&m.is("li")?c=m:(c=u.createElement(g),t&&(v=t.getDirection())&&c.setAttribute("dir",v)),u=y.elementPath)for(n=0,l=u.elements.length;n<l&&(!(g=u.elements[n]).equals(u.block)&&!g.equals(u.blockLimit));n++)CKEDITOR.dtd.$removeEmpty[g.getName()]&&(g=g.clone(),c.moveChildren(g),c.append(g));c.appendBogus(),c.getParent()||r.insertNode(c),c.is("li")&&c.removeAttribute("value"),!CKEDITOR.env.ie||!d||h&&t.getChildCount()||(r.moveToElementEditStart(h?t:c),r.select()),r.moveToElementEditStart(d&&!h?p:c)}else p.is("li")&&((c=r.clone()).selectNodeContents(p),(c=new CKEDITOR.dom.walker(c)).evaluator=function(t){return!(s(t)||a(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in CKEDITOR.dtd.$inline&&!(t.getName()in CKEDITOR.dtd.$empty))},(m=c.next())&&m.type==CKEDITOR.NODE_ELEMENT&&m.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?u.createElement("br"):u.createText("Â ")).insertBefore(m)),p&&r.moveToElementEditStart(p);r.select(),r.scrollIntoView()}}},enterBr:function(t,n,i,a){if(i=i||e(t)){var s=i.document,l=i.checkEndOfBlock(),c=new CKEDITOR.dom.elementPath(t.getSelection().getStartElement()),u=c.block,d=u&&c.block.getName();a||"li"!=d?(!a&&l&&o.test(d)?(l=u.getDirection())?((s=s.createElement("div")).setAttribute("dir",l),s.insertAfter(u),i.setStart(s,0)):(s.createElement("br").insertAfter(u),CKEDITOR.env.gecko&&s.createText("").insertAfter(u),i.setStartAt(u.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(t="pre"==d&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?s.createText("\r"):s.createElement("br"),i.deleteContents(),i.insertNode(t),CKEDITOR.env.needsBrFiller?(s.createText("\ufeff").insertAfter(t),l&&(u||c.blockLimit).appendBogus(),t.getNext().$.nodeValue="",i.setStartAt(t.getNext(),CKEDITOR.POSITION_AFTER_START)):i.setStartAt(t,CKEDITOR.POSITION_AFTER_END)),i.collapse(!0),i.select(),i.scrollIntoView()):r(t,n,i,a)}}},n=CKEDITOR.plugins.enterkey,i=n.enterBr,r=n.enterBlock,o=/^h[1-6]$/}(),function(){function t(t,e){var n={},i=[],r={nbsp:"Â ",shy:"Â­",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'};if(t=(t=t.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(t,o){var a=e?"&"+o+";":r[o];return n[a]=e?r[o]:"&"+o+";",i.push(a),""})).replace(/,$/,""),!e&&t){t=t.split(",");var o,a=document.createElement("div");for(a.innerHTML="&"+t.join(";&")+";",o=a.innerHTML,a=null,a=0;a<o.length;a++){var s=o.charAt(a);n[s]="&"+t[a]+";",i.push(s)}}return n.regex=i.join(e?"|":""),n}CKEDITOR.plugins.add("entities",{afterInit:function(e){function n(t){return l[t]}function i(t){return"force"!=r.entities_processNumerical&&a[t]?a[t]:"&#"+t.charCodeAt(0)+";"}var r=e.config;if(e=(e=e.dataProcessor)&&e.htmlFilter){var o=[];!1!==r.basicEntities&&o.push("nbsp,gt,lt,amp"),r.entities&&(o.length&&o.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),r.entities_latin&&o.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),r.entities_greek&&o.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),r.entities_additional&&o.push(r.entities_additional));var a=t(o.join(",")),s=a.regex?"["+a.regex+"]":"a^";delete a.regex,r.entities&&r.entities_processNumerical&&(s="[^ -~]|"+s);s=new RegExp(s,"g");var l=t("nbsp,gt,lt,amp,shy",!0),c=new RegExp(l.regex,"g");e.addRules({text:function(t){return t.replace(c,n).replace(s,i)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39",CKEDITOR.plugins.add("popup"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(t,e,n,i){n=n||"70%","string"==typeof(e=e||"80%")&&1<e.length&&"%"==e.substr(e.length-1,1)&&(e=parseInt(window.screen.width*parseInt(e,10)/100,10)),"string"==typeof n&&1<n.length&&"%"==n.substr(n.length-1,1)&&(n=parseInt(window.screen.height*parseInt(n,10)/100,10)),640>e&&(e=640),420>n&&(n=420);var r=parseInt((window.screen.height-n)/2,10),o=parseInt((window.screen.width-e)/2,10);i=(i||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+e+",height="+n+",top="+r+",left="+o;var a=window.open("",null,i,!0);if(!a)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(" chrome/")&&(a.moveTo(o,r),a.resizeTo(e,n)),a.focus(),a.location.href=t}catch(e){window.open(t,null,i,!0)}return!0}}),function(){function t(t){this.editor=t,this.loaders=[]}function e(t,e,i){var r=t.config.fileTools_defaultFileName;this.editor=t,this.lang=t.lang,"string"==typeof e?(this.data=e,this.file=n(this.data),this.loaded=this.total=this.file.size):(this.data=null,this.file=e,this.total=this.file.size,this.loaded=0),i?this.fileName=i:this.file.name?this.fileName=this.file.name:(t=this.file.type.split("/"),r&&(t[0]=r),this.fileName=t.join(".")),this.uploaded=0,this.responseData=this.uploadTotal=null,this.status="created",this.abort=function(){this.changeStatus("abort")}}function n(t){var e=t.match(i)[1];t=t.replace(i,""),t=atob(t);var n,r,o,a,s=[];for(n=0;n<t.length;n+=512){for(r=t.slice(n,n+512),o=Array(r.length),a=0;a<r.length;a++)o[a]=r.charCodeAt(a);r=new Uint8Array(o),s.push(r)}return new Blob(s,{type:e})}CKEDITOR.plugins.add("filetools",{beforeInit:function(e){e.uploadRepository=new t(e),e.on("fileUploadRequest",function(t){var e=t.data.fileLoader;e.xhr.open("POST",e.uploadUrl,!0),t.data.requestData.upload={file:e.file,name:e.fileName}},null,null,5),e.on("fileUploadRequest",function(t){var n=t.data.fileLoader,i=new FormData;t=t.data.requestData;var r,o,a=e.config.fileTools_requestHeaders;for(o in t){var s=t[o];"object"==typeof s&&s.file?i.append(o,s.file,s.name):i.append(o,s)}if(i.append("ckCsrfToken",CKEDITOR.tools.getCsrfToken()),a)for(r in a)n.xhr.setRequestHeader(r,a[r]);n.xhr.send(i)},null,null,999),e.on("fileUploadResponse",function(t){var e=t.data.fileLoader,n=e.xhr,i=t.data;try{var r=JSON.parse(n.responseText);if(r.error&&r.error.message&&(i.message=r.error.message),r.uploaded)for(var o in r)i[o]=r[o];else t.cancel()}catch(r){i.message=e.lang.filetools.responseError,CKEDITOR.warn("filetools-response-error",{responseText:n.responseText}),t.cancel()}},null,null,999)}}),t.prototype={create:function(t,n,i){i=i||e;var r=this.loaders.length;return(t=new i(this.editor,t,n)).id=r,this.loaders[r]=t,this.fire("instanceCreated",t),t},isFinished:function(){for(var t=0;t<this.loaders.length;++t)if(!this.loaders[t].isFinished())return!1;return!0}},e.prototype={loadAndUpload:function(t,e){var n=this;this.once("loaded",function(i){i.cancel(),n.once("update",function(t){t.cancel()},null,null,0),n.upload(t,e)},null,null,0),this.load()},load:function(){var t=this,e=this.reader=new FileReader;t.changeStatus("loading"),this.abort=function(){t.reader.abort()},e.onabort=function(){t.changeStatus("abort")},e.onerror=function(){t.message=t.lang.filetools.loadError,t.changeStatus("error")},e.onprogress=function(e){t.loaded=e.loaded,t.update()},e.onload=function(){t.loaded=t.total,t.data=e.result,t.changeStatus("loaded")},e.readAsDataURL(this.file)},upload:function(t,e){var n=e||{};t?(this.uploadUrl=t,this.xhr=new XMLHttpRequest,this.attachRequestListeners(),this.editor.fire("fileUploadRequest",{fileLoader:this,requestData:n})&&this.changeStatus("uploading")):(this.message=this.lang.filetools.noUrlError,this.changeStatus("error"))},attachRequestListeners:function(){function t(){"error"!=n.status&&(n.message=n.lang.filetools.networkError,n.changeStatus("error"))}function e(){"abort"!=n.status&&n.changeStatus("abort")}var n=this,i=this.xhr;n.abort=function(){i.abort(),e()},i.onerror=t,i.onabort=e,i.upload?(i.upload.onprogress=function(t){t.lengthComputable&&(n.uploadTotal||(n.uploadTotal=t.total),n.uploaded=t.loaded,n.update())},i.upload.onerror=t,i.upload.onabort=e):(n.uploadTotal=n.total,n.update()),i.onload=function(){if(n.update(),"abort"!=n.status)if(n.uploaded=n.uploadTotal,200>i.status||299<i.status)n.message=n.lang.filetools["httpError"+i.status],n.message||(n.message=n.lang.filetools.httpError.replace("%1",i.status)),n.changeStatus("error");else{for(var t={fileLoader:n},e=["message","fileName","url"],r=n.editor.fire("fileUploadResponse",t),o=0;o<e.length;o++){var a=e[o];"string"==typeof t[a]&&(n[a]=t[a])}n.responseData=t,delete n.responseData.fileLoader,!1===r?n.changeStatus("error"):n.changeStatus("uploaded")}}},changeStatus:function(t){this.status=t,"error"!=t&&"abort"!=t&&"loaded"!=t&&"uploaded"!=t||(this.abort=function(){}),this.fire(t),this.update()},update:function(){this.fire("update")},isFinished:function(){return!!this.status.match(/^(?:loaded|uploaded|error|abort)$/)}},CKEDITOR.event.implementOn(t.prototype),CKEDITOR.event.implementOn(e.prototype);var i=/^data:(\S*?);base64,/;CKEDITOR.fileTools||(CKEDITOR.fileTools={}),CKEDITOR.tools.extend(CKEDITOR.fileTools,{uploadRepository:t,fileLoader:e,getUploadUrl:function(t,e){var n=CKEDITOR.tools.capitalize;return e&&t[e+"UploadUrl"]?t[e+"UploadUrl"]:t.uploadUrl?t.uploadUrl:e&&t["filebrowser"+n(e,1)+"UploadUrl"]?t["filebrowser"+n(e,1)+"UploadUrl"]+"&responseType=json":t.filebrowserUploadUrl?t.filebrowserUploadUrl+"&responseType=json":null},isTypeSupported:function(t,e){return!!t.type.match(e)},isFileUploadSupported:"function"==typeof FileReader&&"function"==typeof(new FileReader).readAsDataURL&&"function"==typeof FormData&&"function"==typeof(new FormData).append&&"function"==typeof XMLHttpRequest&&"function"==typeof Blob})}(),function(){function t(t,e){var n=[];if(!e)return t;for(var i in e)n.push(i+"="+encodeURIComponent(e[i]));return t+(-1!=t.indexOf("?")?"&":"?")+n.join("&")}function e(e){return!e.match(/command=QuickUpload/)||e.match(/(\?|&)responseType=json/)?e:t(e,{responseType:"json"})}function n(t){return(t+="").charAt(0).toUpperCase()+t.substr(1)}function i(){var e=(r=this.getDialog()).getParentEditor();e._.filebrowserSe=this;var i=e.config["filebrowser"+n(r.getName())+"WindowWidth"]||e.config.filebrowserWindowWidth||"80%",r=e.config["filebrowser"+n(r.getName())+"WindowHeight"]||e.config.filebrowserWindowHeight||"70%",o=this.filebrowser.params||{};o.CKEditor=e.name,o.CKEditorFuncNum=e._.filebrowserFn,o.langCode||(o.langCode=e.langCode),o=t(this.filebrowser.url,o),e.popup(o,i,r,e.config.filebrowserWindowFeatures||e.config.fileBrowserWindowFeatures)}function r(t){var e=new CKEDITOR.dom.element(t.$.form);e&&((t=e.$.elements.ckCsrfToken)?t=new CKEDITOR.dom.element(t):((t=new CKEDITOR.dom.element("input")).setAttributes({name:"ckCsrfToken",type:"hidden"}),e.append(t)),t.setAttribute("value",CKEDITOR.tools.getCsrfToken()))}function o(){var t=this.getDialog();return t.getParentEditor()._.filebrowserSe=this,!(!t.getContentElement(this.for[0],this.for[1]).getInputElement().$.value||!t.getContentElement(this.for[0],this.for[1]).getAction())}function a(e,n,i){var r=i.params||{};r.CKEditor=e.name,r.CKEditorFuncNum=e._.filebrowserFn,r.langCode||(r.langCode=e.langCode),n.action=t(i.url,r),n.filebrowser=i}function s(t,c,d,h){if(h&&h.length)for(var f,p=h.length;p--;)if("hbox"!=(f=h[p]).type&&"vbox"!=f.type&&"fieldset"!=f.type||s(t,c,d,f.children),f.filebrowser)if("string"==typeof f.filebrowser&&(f.filebrowser={action:"fileButton"==f.type?"QuickUpload":"Browse",target:f.filebrowser}),"Browse"==f.filebrowser.action){var g=f.filebrowser.url;void 0===g&&(void 0===(g=t.config["filebrowser"+n(c)+"BrowseUrl"])&&(g=t.config.filebrowserBrowseUrl)),g&&(f.onClick=i,f.filebrowser.url=g,f.hidden=!1)}else if("QuickUpload"==f.filebrowser.action&&f.for&&(void 0===(g=f.filebrowser.url)&&(void 0===(g=t.config["filebrowser"+n(c)+"UploadUrl"])&&(g=t.config.filebrowserUploadUrl)),g)){var m=f.onClick;f.onClick=function(n){var i=n.sender,a=i.getDialog().getContentElement(this.for[0],this.for[1]).getInputElement(),s=CKEDITOR.fileTools&&CKEDITOR.fileTools.isFileUploadSupported;return(!m||!1!==m.call(i,n))&&(!!o.call(i,n)&&("form"!==t.config.filebrowserUploadMethod&&s?((n=t.uploadRepository.create(a.$.files[0])).on("uploaded",function(t){var e=t.sender.responseData;u.call(t.sender.editor,e.url,e.message)}),n.on("error",l.bind(this)),n.on("abort",l.bind(this)),n.loadAndUpload(e(g)),"xhr"):(r(a),!0)))},f.filebrowser.url=g,f.hidden=!1,a(t,d.getContents(f.for[0]).get(f.for[1]),f.filebrowser)}}function l(t){var e={};try{e=JSON.parse(t.sender.xhr.response)||{}}catch(t){}this.enable(),alert(e.error?e.error.message:t.sender.message)}function c(t,e,n){if(-1!==n.indexOf(";")){n=n.split(";");for(var i=0;i<n.length;i++)if(c(t,e,n[i]))return!0;return!1}return(t=t.getContents(e).get(n).filebrowser)&&t.url}function u(t,e){var n=this._.filebrowserSe.getDialog(),i=this._.filebrowserSe.for,r=this._.filebrowserSe.filebrowser.onSelect;i&&n.getContentElement(i[0],i[1]).reset(),"function"==typeof e&&!1===e.call(this._.filebrowserSe)||r&&!1===r.call(this._.filebrowserSe,t,e)||("string"==typeof e&&e&&alert(e),t&&(n=(i=this._.filebrowserSe).getDialog(),i=i.filebrowser.target||null)&&(i=i.split(":"),(r=n.getContentElement(i[0],i[1]))&&(r.setValue(t),n.selectPage(i[0]))))}CKEDITOR.plugins.add("filebrowser",{requires:"popup,filetools",init:function(t){t._.filebrowserFn=CKEDITOR.tools.addFunction(u,t),t.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}}),CKEDITOR.on("dialogDefinition",function(t){if(t.editor.plugins.filebrowser)for(var e,n=t.data.definition,i=0;i<n.contents.length;++i)(e=n.contents[i])&&(s(t.editor,t.data.name,n,e.elements),e.hidden&&e.filebrowser&&(e.hidden=!c(n,e.id,e.filebrowser)))})}(),function(){var t=CKEDITOR.document.getWindow(),e=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(n){n.on("loaded",function(){!function(n){var i=n.config,r=n.fire("uiSpace",{space:"top",html:""}).html,o=function(){function r(t,n,i){s.setStyle(n,e(i)),s.setStyle("position",t)}function a(t){var e=c.getDocumentPosition();switch(t){case"top":r("absolute","top",e.y-f-m);break;case"pin":r("fixed","top",y);break;case"bottom":r("absolute","top",e.y+(d.height||d.bottom-d.top)+m)}l=t}var l,c,u,d,h,f,p,g=i.floatSpaceDockedOffsetX||0,m=i.floatSpaceDockedOffsetY||0,v=i.floatSpacePinnedOffsetX||0,y=i.floatSpacePinnedOffsetY||0;return function(r){if(c=n.editable()){var y=r&&"focus"==r.name;y&&s.show(),n.fire("floatingSpaceLayout",{show:y}),s.removeStyle("left"),s.removeStyle("right"),u=s.getClientRect(),d=c.getClientRect(),h=t.getViewPaneSize(),f=u.height,p="pageXOffset"in t.$?t.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft,l?(f+m<=d.top?a("top"):f+m>h.height-d.bottom?a("pin"):a("bottom"),r=h.width/2,r=i.floatSpacePreferRight?"right":0<d.left&&d.right<h.width&&d.width>u.width?"rtl"==i.contentsLangDirection?"right":"left":r-d.left>d.right-r?"left":"right",u.width>h.width?(r="left",y=0):(y="left"==r?0<d.left?d.left:0:d.right<h.width?h.width-d.right:0)+u.width>h.width&&(r="left"==r?"right":"left",y=0),s.setStyle(r,e(("pin"==l?v:g)+y+("pin"==l?0:"left"==r?p:-p)))):(l="pin",a("pin"),o(r))}}}();if(r){var a=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(n.title?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(n.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),s=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(a.output({content:r,id:n.id,langDir:n.lang.dir,langCode:n.langCode,name:n.name,style:"display:none;z-index:"+(i.baseFloatZIndex-1),topId:n.ui.spaceId("top"),voiceLabel:n.title}))),l=CKEDITOR.tools.eventsBuffer(500,o),c=CKEDITOR.tools.eventsBuffer(100,o);s.unselectable(),s.on("mousedown",function(t){(t=t.data).getTarget().hasAscendant("a",1)||t.preventDefault()}),n.on("focus",function(e){o(e),n.on("change",l.input),t.on("scroll",c.input),t.on("resize",c.input)}),n.on("blur",function(){s.hide(),n.removeListener("change",l.input),t.removeListener("scroll",c.input),t.removeListener("resize",c.input)}),n.on("destroy",function(){t.removeListener("scroll",c.input),t.removeListener("resize",c.input),s.clearCustomData(),s.remove()}),n.focusManager.hasFocus&&s.show(),n.focusManager.add(s,1)}}(this)},null,null,20)}})}(),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var t=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),e=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" draggable="false" ondragstart="return false;" href="javascript:void(\'{val}\')"  onclick="{onclick}CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),n=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" draggable="false" ondragstart="return false;" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),i=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(t,e){return this.addBlock(t,new CKEDITOR.ui.listBlock(this.getHolderElement(),e))},CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(t,e){var n=(e=e||{}).attributes||(e.attributes={});(this.multiSelect=!!e.multiSelect)&&(n["aria-multiselectable"]=!0),!n.role&&(n.role="listbox"),this.base.apply(this,arguments),this.element.setAttribute("role",n.role),(n=this.keys)[40]="next",n[9]="next",n[38]="prev",n[CKEDITOR.SHIFT+9]="prev",n[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(n[13]="mouseup"),this._.pendingHtml=[],this._.pendingList=[],this._.items={},this._.groups={}},_:{close:function(){if(this._.started){var e=t.output({items:this._.pendingList.join("")});this._.pendingList=[],this._.pendingHtml.push(e),delete this._.started}},getClick:function(){return this._.click||(this._.click=CKEDITOR.tools.addFunction(function(t){var e=this.toggle(t);this.onClick&&this.onClick(t,e)},this)),this._.click}},proto:{add:function(t,n,r){var o=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0),this._.items[t]=o,t={id:o,val:CKEDITOR.tools.htmlEncodeAttr(t).replace(i,"\\'"),onclick:CKEDITOR.env.ie?'return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)===CKEDITOR.MOUSE_BUTTON_LEFT&&':"",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(r||t),text:n||t},this._.pendingList.push(e.output(t))},startGroup:function(t){this._.close();var e=CKEDITOR.tools.getNextId();this._.groups[t]=e,this._.pendingHtml.push(n.output({id:e,label:t}))},commit:function(){this._.close(),this.element.appendHtml(this._.pendingHtml.join("")),delete this._.size,this._.pendingHtml=[]},toggle:function(t){var e=this.isMarked(t);return e?this.unmark(t):this.mark(t),!e},hideGroup:function(t){var e=(t=this.element.getDocument().getById(this._.groups[t]))&&t.getNext();t&&(t.setStyle("display","none"),e&&"ul"==e.getName()&&e.setStyle("display","none"))},hideItem:function(t){this.element.getDocument().getById(this._.items[t]).setStyle("display","none")},showAll:function(){var t,e=this._.items,n=this._.groups,i=this.element.getDocument();for(t in e)i.getById(e[t]).setStyle("display","");for(var r in n)t=(e=i.getById(n[r])).getNext(),e.setStyle("display",""),t&&"ul"==t.getName()&&t.setStyle("display","")},mark:function(t){this.multiSelect||this.unmarkAll(),t=this._.items[t];var e=this.element.getDocument().getById(t);e.addClass("cke_selected"),this.element.getDocument().getById(t+"_option").setAttribute("aria-selected",!0),this.onMark&&this.onMark(e)},markFirstDisplayed:function(){var t=this;this._.markFirstDisplayed(function(){t.multiSelect||t.unmarkAll()})},unmark:function(t){var e=this.element.getDocument();t=this._.items[t];var n=e.getById(t);n.removeClass("cke_selected"),e.getById(t+"_option").removeAttribute("aria-selected"),this.onUnmark&&this.onUnmark(n)},unmarkAll:function(){var t,e=this._.items,n=this.element.getDocument();for(t in e){var i=e[t];n.getById(i).removeClass("cke_selected"),n.getById(i+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(t){return this.element.getDocument().getById(this._.items[t]).hasClass("cke_selected")},focus:function(t){this._.focusIndex=-1;var e,n=this.element.getElementsByTag("a"),i=-1;if(t){for(e=this.element.getDocument().getById(this._.items[t]).getFirst();t=n.getItem(++i);)if(t.equals(e)){this._.focusIndex=i;break}}else this.element.focus();e&&setTimeout(function(){e.focus()},0)}}})}}),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var t='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="listbox"',e="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"'),CKEDITOR.env.ie&&(e='return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)==CKEDITOR.MOUSE_BUTTON_LEFT&&');t=t+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" onclick="'+e+'CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>";var n=CKEDITOR.addTemplate("combo",t);CKEDITOR.UI_RICHCOMBO="richcombo",CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(t){CKEDITOR.tools.extend(this,t,{canGroup:!1,title:t.label,modes:{wysiwyg:1},editorFocus:1}),t=this.panel||{},delete this.panel,this.id=CKEDITOR.tools.getNextNumber(),this.document=t.parent&&t.parent.getDocument()||CKEDITOR.document,t.className="cke_combopanel",t.block={multiSelect:t.multiSelect,attributes:t.attributes},t.toolbarRelated=!0,this._={panelDefinition:t,items:{},listeners:[]}},proto:{renderHtml:function(t){var e=[];return this.render(t,e),e.join("")},render:function(t,e){function i(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var e=this.modes[t.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;t.readOnly&&!this.readOnly&&(e=CKEDITOR.TRISTATE_DISABLED),this.setState(e),this.setValue(""),e!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var r,o,a=CKEDITOR.env,s="cke_"+this.id,l=CKEDITOR.tools.addFunction(function(e){o&&(t.unlockSelection(1),o=0),r.execute(e)},this),c=this;r={id:s,combo:this,focus:function(){CKEDITOR.document.getById(s).getChild(1).focus()},execute:function(e){var n=c._;if(n.state!=CKEDITOR.TRISTATE_DISABLED)if(c.createPanel(t),n.on)n.panel.hide();else{c.commit();var i=c.getValue();i?n.list.mark(i):n.list.unmarkAll(),n.panel.showBlock(c.id,new CKEDITOR.dom.element(e),4)}},clickFn:l},this._.listeners.push(t.on("activeFilterChange",i,this)),this._.listeners.push(t.on("mode",i,this)),this._.listeners.push(t.on("selectionChange",i,this)),!this.readOnly&&this._.listeners.push(t.on("readOnly",i,this));var u=CKEDITOR.tools.addFunction(function(t,e){var n=(t=new CKEDITOR.dom.event(t)).getKeystroke();switch(n){case 13:case 32:case 40:CKEDITOR.tools.callFunction(l,e);break;default:r.onkey(r,n)}t.preventDefault()}),d=CKEDITOR.tools.addFunction(function(){r.onfocus&&r.onfocus()});return o=0,r.keyDownFn=u,a={id:s,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:a.gecko&&!a.hc?"":(this.title||"").replace("'",""),keydownFn:u,focusFn:d,clickFn:l},n.output(a,e),this.onRender&&this.onRender(),r},createPanel:function(t){if(!this._.panel){var e=this._.panelDefinition,n=this._.panelDefinition.block,i=e.parent||CKEDITOR.document.getBody(),r="cke_combopanel__"+this.name,o=new CKEDITOR.ui.floatPanel(t,i,e),a=(e=o.addListBlock(this.id,n),this);o.onShow=function(){this.element.addClass(r),a.setState(CKEDITOR.TRISTATE_ON),a._.on=1,a.editorFocus&&!t.focusManager.hasFocus&&t.focus(),a.onOpen&&a.onOpen()},o.onHide=function(e){this.element.removeClass(r),a.setState(a.modes&&a.modes[t.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),a._.on=0,!e&&a.onClose&&a.onClose()},o.onEscape=function(){o.hide(1)},e.onClick=function(t,e){a.onClick&&a.onClick.call(a,t,e),o.hide()},this._.panel=o,this._.list=e,o.getBlock(this.id).onHide=function(){a._.on=0,a.setState(CKEDITOR.TRISTATE_OFF)},this.init&&this.init()}},setValue:function(t,e){this._.value=t;var n=this.document.getById("cke_"+this.id+"_text");n&&(t||e?n.removeClass("cke_combo_inlinelabel"):(e=this.label,n.addClass("cke_combo_inlinelabel")),n.setText(void 0!==e?e:t))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(t){this._.list.mark(t)},hideItem:function(t){this._.list.hideItem(t)},hideGroup:function(t){this._.list.hideGroup(t)},showAll:function(){this._.list.showAll()},add:function(t,e,n){this._.items[t]=n||t,this._.list.add(t,e,n)},startGroup:function(t){this._.list.startGroup(t)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this)),this._.committed=1},setState:function(t){if(this._.state!=t){var e=this.document.getById("cke_"+this.id),n=e.getElementsByTag("a").getItem(0);e.setState(t,"cke_combo"),t==CKEDITOR.TRISTATE_DISABLED?e.setAttribute("aria-disabled",!0):e.removeAttribute("aria-disabled"),n&&n.setAttribute("aria-expanded",t==CKEDITOR.TRISTATE_ON),this._.state=t}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))},destroy:function(){CKEDITOR.tools.array.forEach(this._.listeners,function(t){t.removeListener()}),this._.listeners=[]},select:function(t){if(!CKEDITOR.tools.isEmpty(this._.items))for(var e in this._.items)if(t({value:e,text:this._.items[e]})){this.setValue(e);break}}},statics:{handler:{create:function(t){return new CKEDITOR.ui.richCombo(t)}}}}),CKEDITOR.ui.prototype.addRichCombo=function(t,e){this.add(t,CKEDITOR.UI_RICHCOMBO,e)}}(),CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(t){if(!t.blockless){for(var e=t.config,n=t.lang.format,i=e.format_tags.split(";"),r={},o=0,a=[],s=0;s<i.length;s++){var l=i[s],c=new CKEDITOR.style(e["format_"+l]);t.filter.customConfig&&!t.filter.check(c)||(o++,r[l]=c,r[l]._.enterMode=t.config.enterMode,a.push(c))}0!==o&&t.ui.addRichCombo("Format",{label:n.label,title:n.panelTitle,toolbar:"styles,20",allowedContent:a,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(e.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){for(var t in this.startGroup(n.panelTitle),r){var e=n["tag_"+t];this.add(t,r[t].buildPreview(e),e)}},onClick:function(e){t.focus(),t.fire("saveSnapshot"),e=r[e];var n=t.elementPath();t.fire("stylesRemove",{type:CKEDITOR.STYLE_BLOCK}),e.checkActive(n,t)||t.applyStyle(e),setTimeout(function(){t.fire("saveSnapshot")},0)},onRender:function(){t.on("selectionChange",function(e){var n=this.getValue();for(var i in e=e.data.path,this.refresh(),r)if(r[i].checkActive(e,t))return void(i!=n&&this.setValue(i,t.lang.format["tag_"+i]));this.setValue("")},this)},onOpen:function(){for(var e in this.showAll(),r)t.activeFilter.check(r[e])||this.hideItem(e)},refresh:function(){var e=t.elementPath();if(e){if(e.isContextFor("p"))for(var n in r)if(t.activeFilter.check(r[n]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},function(){var t={canUndo:!1,exec:function(t){var e=t.document.createElement("hr");t.insertElement(e)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(e){e.blockless||(e.addCommand("horizontalrule",t),e.ui.addButton&&e.ui.addButton("HorizontalRule",{label:e.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})}(),CKEDITOR.plugins.add("htmlwriter",{init:function(t){var e=new CKEDITOR.htmlWriter;e.forceSimpleAmpersand=t.config.forceSimpleAmpersand,e.indentationChars="string"==typeof t.config.dataIndentationChars?t.config.dataIndentationChars:"\t",t.dataProcessor.writer=e}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base(),this.indentationChars="\t",this.selfClosingEnd=" />",this.lineBreakChars="\n",this.sortAttributes=1,this._.indent=0,this._.indentation="",this._.inPre=0,this._.rules={};var t,e=CKEDITOR.dtd;for(t in CKEDITOR.tools.extend({},e.$nonBodyContent,e.$block,e.$listItem,e.$tableContent))this.setRules(t,{indent:!e[t]["#"],breakBeforeOpen:1,breakBeforeClose:!e[t]["#"],breakAfterClose:1,needsSpace:t in e.$block&&!(t in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1}),this.setRules("title",{indent:0,breakAfterOpen:0}),this.setRules("style",{indent:0,breakBeforeClose:1}),this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(t){var e=this._.rules[t];this._.afterCloser&&e&&e.needsSpace&&this._.needsSpace&&this._.output.push("\n"),this._.indent?this.indentation():e&&e.breakBeforeOpen&&(this.lineBreak(),this.indentation()),this._.output.push("<",t),this._.afterCloser=0},openTagClose:function(t,e){var n=this._.rules[t];e?(this._.output.push(this.selfClosingEnd),n&&n.breakAfterClose&&(this._.needsSpace=n.needsSpace)):(this._.output.push(">"),n&&n.indent&&(this._.indentation+=this.indentationChars)),n&&n.breakAfterOpen&&this.lineBreak(),"pre"==t&&(this._.inPre=1)},attribute:function(t,e){"string"==typeof e&&(e=CKEDITOR.tools.htmlEncodeAttr(e),this.forceSimpleAmpersand&&(e=e.replace(/&amp;/g,"&"))),this._.output.push(" ",t,'="',e,'"')},closeTag:function(t){var e=this._.rules[t];e&&e.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length)),this._.indent?this.indentation():e&&e.breakBeforeClose&&(this.lineBreak(),this.indentation()),this._.output.push("</",t,">"),"pre"==t&&(this._.inPre=0),e&&e.breakAfterClose&&(this.lineBreak(),this._.needsSpace=e.needsSpace),this._.afterCloser=1},text:function(t){this._.indent&&(this.indentation(),!this._.inPre&&(t=CKEDITOR.tools.ltrim(t))),this._.output.push(t)},comment:function(t){this._.indent&&this.indentation(),this._.output.push("\x3c!--",t,"--\x3e")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars),this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation),this._.indent=0},reset:function(){this._.output=[],this._.indent=0,this._.indentation="",this._.afterCloser=0,this._.inPre=0,this._.needsSpace=0},setRules:function(t,e){var n=this._.rules[t];n?CKEDITOR.tools.extend(n,e,!0):this._.rules[t]=e}}}),function(){function t(t,e){if(e||(e=t.getSelection().getSelectedElement()),e&&e.is("img")&&!e.data("cke-realelement")&&!e.isReadOnly())return e}function e(t){var e=t.getStyle("float");return"inherit"!=e&&"none"!=e||(e=0),e||(e=t.getAttribute("align")),e}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(e){if(!e.plugins.detectConflict("image",["easyimage","image2"])){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var n="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(e,"image","advanced")&&(n="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"),e.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:n,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]})),e.ui.addButton&&e.ui.addButton("Image",{label:e.lang.common.image,command:"image",toolbar:"insert,10"}),e.on("doubleclick",function(t){var e=t.data.element;!e.is("img")||e.data("cke-realelement")||e.isReadOnly()||(t.data.dialog="image")}),e.addMenuItems&&e.addMenuItems({image:{label:e.lang.image.menu,command:"image",group:"image"}}),e.contextMenu&&e.contextMenu.addListener(function(n){if(t(e,n))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(n){function i(i){var r=n.getCommand("justify"+i);r&&("left"!=i&&"right"!=i||r.on("exec",function(r){var o=t(n);o&&(e(o)==i?(o.removeStyle("float"),i==e(o)&&o.removeAttribute("align")):o.setStyle("float",i),r.cancel())}),r.on("refresh",function(r){var o=t(n);o&&(o=e(o),this.setState(o==i?CKEDITOR.TRISTATE_ON:"right"==i||"left"==i?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),r.cancel())}))}n.plugins.image2||(i("left"),i("right"),i("center"),i("block"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function t(t,e){var n=i.exec(t),r=i.exec(e);if(n){if(!n[2]&&"px"==r[2])return r[1];if("px"==n[2]&&!r[2])return r[1]+"px"}return e}var e=CKEDITOR.htmlParser.cssStyle,n=CKEDITOR.tools.cssLength,i=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,r={elements:{$:function(n){var i=n.attributes;if((i=(i=(i=i&&i["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(i)))&&i.children[0])&&n.attributes["data-cke-resizable"]){var r=new e(n).rules;n=i.attributes;var o=r.width;r=r.height;o&&(n.width=t(n.width,o)),r&&(n.height=t(n.height,r))}return i}}};CKEDITOR.plugins.add("fakeobjects",{init:function(t){t.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(t){(t=(t=t.dataProcessor)&&t.htmlFilter)&&t.addRules(r,{applyToAll:!0})}}),CKEDITOR.editor.prototype.createFakeElement=function(t,i,r,o){var a=(a=this.lang.fakeobjects)[r]||a.unknown;return i={class:i,"data-cke-realelement":encodeURIComponent(t.getOuterHtml()),"data-cke-real-node-type":t.type,alt:a,title:a,align:t.getAttribute("align")||""},CKEDITOR.env.hc||(i.src=CKEDITOR.tools.transparentImageData),r&&(i["data-cke-real-element-type"]=r),o&&(i["data-cke-resizable"]=o,r=new e,o=t.getAttribute("width"),t=t.getAttribute("height"),o&&(r.rules.width=n(o)),t&&(r.rules.height=n(t)),r.populate(i)),this.document.createElement("img",{attributes:i})},CKEDITOR.editor.prototype.createFakeParserElement=function(t,i,r,o){var a,s=(s=this.lang.fakeobjects)[r]||s.unknown;return a=new CKEDITOR.htmlParser.basicWriter,t.writeHtml(a),a=a.getHtml(),i={class:i,"data-cke-realelement":encodeURIComponent(a),"data-cke-real-node-type":t.type,alt:s,title:s,align:t.attributes.align||""},CKEDITOR.env.hc||(i.src=CKEDITOR.tools.transparentImageData),r&&(i["data-cke-real-element-type"]=r),o&&(i["data-cke-resizable"]=o,o=t.attributes,t=new e,r=o.width,o=o.height,void 0!==r&&(t.rules.width=n(r)),void 0!==o&&(t.rules.height=n(o)),t.populate(i)),new CKEDITOR.htmlParser.element("img",i)},CKEDITOR.editor.prototype.restoreRealElement=function(e){if(e.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var n=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(e.data("cke-realelement")),this.document);if(e.data("cke-resizable")){var i=e.getStyle("width");e=e.getStyle("height"),i&&n.setAttribute("width",t(n.getAttribute("width"),i)),e&&n.setAttribute("height",t(n.getAttribute("height"),e))}return n}}(),function(){function t(t){return t.replace(/'/g,"\\$&")}function e(t){for(var e,n=t.length,i=[],r=0;r<n;r++)e=t.charCodeAt(r),i.push(e);return"String.fromCharCode("+i.join(",")+")"}function n(e,n){for(var i,r,o=(a=e.plugins.link).compiledProtectionFunction.params,a=[a.compiledProtectionFunction.name,"("],s=0;s<o.length;s++)r=n[i=o[s].toLowerCase()],0<s&&a.push(","),a.push("'",r?t(encodeURIComponent(n[i])):"","'");return a.push(")"),a.join("")}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function t(t){return n.replace(/%1/g,"rtl"==t?"right":"left").replace(/%2/g,"cke_contents_"+t)}var e="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",n=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+e+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+e+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(t("ltr")+t("rtl"))},init:function(t){var e="a[!href]";CKEDITOR.dialog.isTabEnabled(t,"link","advanced")&&(e=e.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)")),CKEDITOR.dialog.isTabEnabled(t,"link","target")&&(e=e.replace("]",",target,onclick]")),t.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:e,requiredContent:"a[href]"})),t.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"})),t.addCommand("unlink",new CKEDITOR.unlinkCommand),t.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand),t.setKeystroke(CKEDITOR.CTRL+76,"link"),t.setKeystroke(CKEDITOR.CTRL+75,"link"),t.ui.addButton&&(t.ui.addButton("Link",{label:t.lang.link.toolbar,command:"link",toolbar:"links,10"}),t.ui.addButton("Unlink",{label:t.lang.link.unlink,command:"unlink",toolbar:"links,20"}),t.ui.addButton("Anchor",{label:t.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"})),CKEDITOR.dialog.add("link",this.path+"dialogs/link.js"),CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js"),t.on("doubleclick",function(e){var n=e.data.element.getAscendant({a:1,img:1},!0);n&&!n.isReadOnly()&&(n.is("a")?(e.data.dialog=!n.getAttribute("name")||n.getAttribute("href")&&n.getChildCount()?"link":"anchor",e.data.link=n):CKEDITOR.plugins.link.tryRestoreFakeAnchor(t,n)&&(e.data.dialog="anchor"))},null,null,0),t.on("doubleclick",function(e){e.data.dialog in{link:1,anchor:1}&&e.data.link&&t.getSelection().selectElement(e.data.link)},null,null,20),t.addMenuItems&&t.addMenuItems({anchor:{label:t.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:t.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:t.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:t.lang.link.unlink,command:"unlink",group:"link",order:5}}),t.contextMenu&&t.contextMenu.addListener(function(e){if(!e||e.isReadOnly())return null;if(!(e=CKEDITOR.plugins.link.tryRestoreFakeAnchor(t,e))&&!(e=CKEDITOR.plugins.link.getSelectedLink(t)))return null;var n={};return e.getAttribute("href")&&e.getChildCount()&&(n={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF}),e&&e.hasAttribute("name")&&(n.anchor=n.removeAnchor=CKEDITOR.TRISTATE_OFF),n}),this.compiledProtectionFunction=function(t){var e;return(t=t.config.emailProtection||"")&&"encode"!=t&&(e={},t.replace(/^([^(]+)\(([^)]+)\)$/,function(t,n,i){e.name=n,e.params=[],i.replace(/[^,\s]+/g,function(t){e.params.push(t)})})),e}(t)},afterInit:function(t){t.dataProcessor.dataFilter.addRules({elements:{a:function(e){return e.attributes.name?e.children.length?null:t.createFakeParserElement(e,"cke_anchor","anchor"):null}}});var e=t._.elementsPath&&t._.elementsPath.filters;e&&e.push(function(e,n){if("a"==n&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(t,e)||e.getAttribute("name")&&(!e.getAttribute("href")||!e.getChildCount())))return"anchor"})}});var i=/^javascript:/,r=/^(?:mailto)(?:(?!\?(subject|body)=).)+/i,o=/subject=([^;?:@&=$,\/]*)/i,a=/body=([^;?:@&=$,\/]*)/i,s=/^#(.*)$/,l=/^((?:http|https|ftp|news):\/\/)?(.*)$/,c=/^(_(?:self|top|parent|blank))$/,u=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,d=/^javascript:([^(]+)\(([^)]+)\)$/,h=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,f=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,p=/^tel:(.*)$/,g={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType",class:"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(t,e){var n,i=t.getSelection(),r=i.getSelectedElement(),o=i.getRanges(),a=[];if(!e&&r&&r.is("a"))return r;for(r=0;r<o.length;r++)if((n=i.getRanges()[r]).shrink(CKEDITOR.SHRINK_ELEMENT,!0,{skipBogus:!0}),(n=t.elementPath(n.getCommonAncestor()).contains("a",1))&&e)a.push(n);else if(n)return n;return e?a:null},getEditorAnchors:function(t){for(var e,n=(i=(n=t.editable()).isInline()&&!t.plugins.divarea?t.document:n).getElementsByTag("a"),i=i.getElementsByTag("img"),r=[],o=0;e=n.getItem(o++);)(e.data("cke-saved-name")||e.hasAttribute("name"))&&r.push({name:e.data("cke-saved-name")||e.getAttribute("name"),id:e.getAttribute("id")});for(o=0;e=i.getItem(o++);)(e=this.tryRestoreFakeAnchor(t,e))&&r.push({name:e.getAttribute("name"),id:e.getAttribute("id")});return r},fakeAnchor:!0,tryRestoreFakeAnchor:function(t,e){if(e&&e.data("cke-real-element-type")&&"anchor"==e.data("cke-real-element-type")){var n=t.restoreRealElement(e);if(n.data("cke-saved-name"))return n}},parseLinkAttributes:function(t,e){var n,m=e&&(e.data("cke-saved-href")||e.getAttribute("href"))||"",v=t.plugins.link.compiledProtectionFunction,y=t.config.emailProtection,b={};if(m.match(i)&&("encode"==y?m=m.replace(u,function(t,e,n){return n=n||"","mailto:"+String.fromCharCode.apply(String,e.split(","))+n.replace(/\\'/g,"'")}):y&&m.replace(d,function(t,e,n){if(e==v.name){b.type="email",t=b.email={},e=/(^')|('$)/g;for(var i,r=(n=n.match(/[^,\s]+/g)).length,o=0;o<r;o++)i=decodeURIComponent(i=n[o].replace(e,"").replace(/\\'/g,"'")),t[v.params[o].toLowerCase()]=i;t.address=[t.name,t.domain].join("@")}})),!b.type)if(y=m.match(s))b.type="anchor",b.anchor={},b.anchor.name=b.anchor.id=y[1];else if(y=m.match(p))b.type="tel",b.tel=y[1];else if(y=m.match(r)){n=m.match(o);m=m.match(a);var w=b.email={};b.type="email",w.address=y[0].replace("mailto:",""),n&&(w.subject=decodeURIComponent(n[1])),m&&(w.body=decodeURIComponent(m[1]))}else m&&(n=m.match(l))&&(b.type="url",b.url={},b.url.protocol=n[1],b.url.url=n[2]);if(e){if(m=e.getAttribute("target"))b.target={type:m.match(c)?m:"frame",name:m};else if(m=(m=e.data("cke-pa-onclick")||e.getAttribute("onclick"))&&m.match(h))for(b.target={type:"popup",name:m[1]};y=f.exec(m[2]);)"yes"!=y[2]&&"1"!=y[2]||y[1]in{height:1,width:1,top:1,left:1}?isFinite(y[2])&&(b.target[y[1]]=y[2]):b.target[y[1]]=!0;null!==e.getAttribute("download")&&(b.download=!0);var E;m={};for(E in g)(y=e.getAttribute(E))&&(m[g[E]]=y);(E=e.data("cke-saved-name")||m.advName)&&(m.advName=E),CKEDITOR.tools.isEmpty(m)||(b.advanced=m)}return b},getLinkAttributes:function(i,r){var o=i.config.emailProtection||"",a={};switch(r.type){case"url":o=r.url&&void 0!==r.url.protocol?r.url.protocol:"http://";var s=r.url&&CKEDITOR.tools.trim(r.url.url)||"";a["data-cke-saved-href"]=0===s.indexOf("/")?s:o+s;break;case"anchor":o=r.anchor&&r.anchor.id,a["data-cke-saved-href"]="#"+(r.anchor&&r.anchor.name||o||"");break;case"email":s=(u=r.email).address;switch(o){case"":case"encode":var l=encodeURIComponent(u.subject||""),c=encodeURIComponent(u.body||""),u=[];l&&u.push("subject="+l),c&&u.push("body="+c),u=u.length?"?"+u.join("&"):"","encode"==o?(o=["javascript:void(location.href='mailto:'+",e(s)],u&&o.push("+'",t(u),"'"),o.push(")")):o=["mailto:",s,u];break;default:o=s.split("@",2),u.name=o[0],u.domain=o[1],o=["javascript:",n(i,u)]}a["data-cke-saved-href"]=o.join("");break;case"tel":a["data-cke-saved-href"]="tel:"+r.tel}if(r.target)if("popup"==r.target.type){o=["window.open(this.href, '",r.target.name||"","', '"];var d="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" ");for(s=d.length,l=function(t){r.target[t]&&d.push(t+"="+r.target[t])},u=0;u<s;u++)d[u]+=r.target[d[u]]?"=yes":"=no";l("width"),l("left"),l("height"),l("top"),o.push(d.join(","),"'); return false;"),a["data-cke-pa-onclick"]=o.join("")}else"notSet"!=r.target.type&&r.target.name&&(a.target=r.target.name);if(r.download&&(a.download=""),r.advanced){for(var h in g)(o=r.advanced[g[h]])&&(a[h]=o);a.name&&(a["data-cke-saved-name"]=a.name)}for(var f in a["data-cke-saved-href"]&&(a.href=a["data-cke-saved-href"]),h={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1,download:1},r.advanced&&CKEDITOR.tools.extend(h,g),a)delete h[f];return{set:a,removed:CKEDITOR.tools.object.keys(h)}},showDisplayTextForElement:function(t,e){var n=e.getSelection();return!(e.widgets&&e.widgets.focused||n&&1<n.getRanges().length)&&(!t||!t.getName||!t.is({img:1,table:1,tbody:1,thead:1,tfoot:1,input:1,select:1,textarea:1}))}},CKEDITOR.unlinkCommand=function(){},CKEDITOR.unlinkCommand.prototype={exec:function(t){if(CKEDITOR.env.ie){var e,n=t.getSelection().getRanges()[0],i=n.getPreviousEditableNode()&&n.getPreviousEditableNode().getAscendant("a",!0)||n.getNextEditableNode()&&n.getNextEditableNode().getAscendant("a",!0);n.collapsed&&i&&(e=n.createBookmark(),n.selectNodeContents(i),n.select())}i=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1}),t.removeStyle(i),e&&(n.moveToBookmark(e),n.select())},refresh:function(t,e){var n=e.lastElement&&e.lastElement.getAscendant("a",!0);n&&"a"==n.getName()&&n.getAttribute("href")&&n.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]",editorFocus:1},CKEDITOR.removeAnchorCommand=function(){},CKEDITOR.removeAnchorCommand.prototype={exec:function(t){var e,n=t.getSelection(),i=n.createBookmarks();n&&(e=n.getSelectedElement())&&(e.getChildCount()?e.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(t,e))?e.remove(1):(e=CKEDITOR.plugins.link.getSelectedLink(t))&&(e.hasAttribute("href")?(e.removeAttributes({name:1,"data-cke-saved-name":1}),e.removeClass("cke_anchor")):e.remove(1)),n.selectBookmarks(i)},requiredContent:"a[name]"},CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0,linkDefaultProtocol:"http://"})}(),function(){function t(t,e,n){return d(e)&&d(n)&&n.equals(e.getNext(function(t){return!(q(t)||Y(t)||h(t))}))}function e(t){this.upper=t[0],this.lower=t[1],this.set.apply(this,t.slice(2))}function n(t){var e=t.element;if(e&&d(e)&&(e=e.getAscendant(t.triggers,!0))&&t.editable.contains(e)){var n=a(e);if("true"==n.getAttribute("contenteditable"))return e;if(n.is(t.triggers))return n}return null}function i(t,e,n){return b(t,e),b(t,n),t=e.size.bottom,n=n.size.top,t&&n?0|(t+n)/2:t||n}function r(t,e,n){return e[n?"getPrevious":"getNext"](function(e){return e&&e.type==CKEDITOR.NODE_TEXT&&!q(e)||d(e)&&!h(e)&&!u(t,e)})}function o(t,e,n){return t>e&&t<n}function a(t,e){if(t.data("cke-editable"))return null;for(e||(t=t.getParent());t&&!t.data("cke-editable");){if(t.hasAttribute("contenteditable"))return t;t=t.getParent()}return null}function s(t){var e=t.doc,n=O('<span contenteditable="false" data-cke-magic-line="1" style="'+U+"position:absolute;border-top:1px dashed "+t.boxColor+'"></span>',e),i=CKEDITOR.getUrl(this.path+"images/"+(k.hidpi?"hidpi/":"")+"icon"+(t.rtl?"-rtl":"")+".png");for(T(n,{attach:function(){return this.wrap.getParent()||this.wrap.appendTo(t.editable,!0),this},lineChildren:[T(O('<span title="'+t.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',e),{base:U+"height:17px;width:17px;"+(t.rtl?"left":"right")+":17px;background:url("+i+") center no-repeat "+t.boxColor+";cursor:pointer;"+(k.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(k.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px; border-radius: 2px;","top:-17px; border-radius: 2px 2px 0px 0px;","top:-1px; border-radius: 0px 0px 2px 2px;"]}),T(O(V,e),{base:z+"left:0px;border-left-color:"+t.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),T(O(V,e),{base:z+"right:0px;border-right-color:"+t.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){return this.wrap.getParent()&&this.wrap.remove(),this},mouseNear:function(){b(t,this);var e=t.holdDistance,n=this.size;return!!(n&&o(t.mouse.y,n.top-e,n.bottom+e)&&o(t.mouse.x,n.left-e,n.right+e))},place:function(){var e=t.view,n=t.editable,i=t.trigger,r=i.upper,a=i.lower,s=r||a,l=s.getParent(),c={};for(var u in this.trigger=i,r&&b(t,r,!0),a&&b(t,a,!0),b(t,l,!0),t.inInlineMode&&w(t,!0),l.equals(n)?(c.left=e.scroll.x,c.right=-e.scroll.x,c.width=""):(c.left=s.size.left-s.size.margin.left+e.scroll.x-(t.inInlineMode?e.editable.left+e.editable.border.left:0),c.width=s.size.outerWidth+s.size.margin.left+s.size.margin.right+e.scroll.x,c.right=""),r&&a?c.top=r.size.margin.bottom===a.size.margin.top?0|r.size.bottom+r.size.margin.bottom/2:r.size.margin.bottom<a.size.margin.top?r.size.bottom+r.size.margin.bottom:r.size.bottom+r.size.margin.bottom-a.size.margin.top:r?a||(c.top=r.size.bottom+r.size.margin.bottom):c.top=a.size.top-a.size.margin.top,i.is(P)||o(c.top,e.scroll.y-15,e.scroll.y+5)?(c.top=t.inInlineMode?0:e.scroll.y,this.look(P)):i.is(M)||o(c.top,e.pane.bottom-5,e.pane.bottom+15)?(c.top=t.inInlineMode?e.editable.height+e.editable.padding.top+e.editable.padding.bottom:e.pane.bottom-1,this.look(M)):(t.inInlineMode&&(c.top-=e.editable.top+e.editable.border.top),this.look(L)),t.inInlineMode&&(c.top--,c.top+=e.editable.scroll.top,c.left+=e.editable.scroll.left),c)c[u]=CKEDITOR.tools.cssLength(c[u]);this.setStyles(c)},look:function(t){if(this.oldLook!=t){for(var e,n=this.lineChildren.length;n--;)(e=this.lineChildren[n]).setAttribute("style",e.base+e.looks[0|t/2]);this.oldLook=t}},wrap:new _("span",t.doc)}),e=n.lineChildren.length;e--;)n.lineChildren[e].appendTo(n);n.look(L),n.appendTo(n.wrap),n.unselectable(),n.lineChildren[0].on("mouseup",function(e){n.detach(),l(t,function(e){var n=t.line.trigger;e[n.is(S)?"insertBefore":"insertAfter"](n.is(S)?n.lower:n.upper)},!0),t.editor.focus(),k.ie||t.enterMode==CKEDITOR.ENTER_BR||t.hotNode.scrollIntoView(),e.data.preventDefault(!0)}),n.on("mousedown",function(t){t.data.preventDefault(!0)}),t.line=n}function l(t,e,n){var i,r=new CKEDITOR.dom.range(t.doc),o=t.editor;k.ie&&t.enterMode==CKEDITOR.ENTER_BR?i=t.doc.createText(K):(i=(i=a(t.element,!0))&&i.data("cke-enter-mode")||t.enterMode,(i=new _(I[i],t.doc)).is("br")||t.doc.createText(K).appendTo(i)),n&&o.fire("saveSnapshot"),e(i),r.moveToPosition(i,CKEDITOR.POSITION_AFTER_START),o.getSelection().selectRanges([r]),t.hotNode=i,n&&o.fire("saveSnapshot")}function c(t,e){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function i(n){var i=k.ie&&9>k.version?" ":K,r=t.hotNode&&t.hotNode.getText()==i&&t.element.equals(t.hotNode)&&t.lastCmdDirection===!!e;l(t,function(i){r&&t.hotNode&&t.hotNode.remove(),i[e?"insertAfter":"insertBefore"](n),i.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!e}),t.lastCmdDirection=!!e}),k.ie||t.enterMode==CKEDITOR.ENTER_BR||t.hotNode.scrollIntoView(),t.line.detach()}return function(o){var s,l;(o=(o=o.getSelection().getStartElement()).getAscendant($,1),g(t,o)||!o||o.equals(t.editable)||o.contains(t.editable))||((s=a(o))&&"false"==s.getAttribute("contenteditable")&&(o=s),t.element=o,d(s=r(t,o,!e))&&s.is(t.triggers)&&s.is(B)&&(!r(t,s,!e)||(l=r(t,s,!e))&&d(l)&&l.is(t.triggers))?i(s):d(l=n(t))&&(r(t,l,!e)?(o=r(t,l,!e))&&d(o)&&o.is(t.triggers)&&i(l):i(l)))}}()}}function u(t,e){if(!e||e.type!=CKEDITOR.NODE_ELEMENT||!e.$)return!1;var n=t.line;return n.wrap.equals(e)||n.wrap.contains(e)}function d(t){return t&&t.type==CKEDITOR.NODE_ELEMENT&&t.$}function h(t){return!!d(t)&&((e=f(t))||(d(t)?e=!(!(e={left:1,right:1,center:1})[t.getComputedStyle("float")]&&!e[t.getAttribute("align")]):e=!1),e);var e}function f(t){return!!{absolute:1,fixed:1}[t.getComputedStyle("position")]}function p(t,e){return d(e)?e.is(t.triggers):null}function g(t,e){if(!e)return!1;for(var n=e.getParents(1),i=n.length;i--;)for(var r=t.tabuList.length;r--;)if(n[i].hasAttribute(t.tabuList[r]))return!0;return!1}function m(t){var n=t.editable,i=t.mouse,r=t.view,a=t.triggerOffset;w(t);var s=i.y>(t.inInlineMode?r.editable.top+r.editable.height/2:Math.min(r.editable.height,r.pane.height)/2);return(n=n[s?"getLast":"getFirst"](function(t){return!(q(t)||Y(t))}))?(u(t,n)&&(n=t.line.wrap[s?"getPrevious":"getNext"](function(t){return!(q(t)||Y(t))})),d(n)&&!h(n)&&p(t,n)?(b(t,n),!s&&0<=n.size.top&&o(i.y,0,n.size.top+a)?(t=t.inInlineMode||0===r.scroll.y?P:L,new e([null,n,S,N,t])):s&&n.size.bottom<=r.pane.height&&o(i.y,n.size.bottom-a,r.pane.height)?(t=t.inInlineMode||o(n.size.bottom,r.pane.height-a,r.pane.height)?M:L,new e([n,null,R,N,t])):null):null):null}function v(t){var i=t.mouse,a=t.view,s=t.triggerOffset,l=n(t);if(!l)return null;b(t,l);s=Math.min(s,0|l.size.outerHeight/2);var c,u,f=[];if(o(i.y,l.size.top-1,l.size.top+s))u=!1;else{if(!o(i.y,l.size.bottom-s,l.size.bottom+1))return null;u=!0}if(h(l)||function(t,e,n){return!!(e=e[n?"getLast":"getFirst"](function(e){return t.isRelevant(e)&&!e.is(F)}))&&(b(t,e),n?e.size.top>t.mouse.y:e.size.bottom<t.mouse.y)}(t,l,u)||l.getParent().is(j))return null;var g=r(t,l,!u);if(g){if(g&&g.type==CKEDITOR.NODE_TEXT)return null;if(d(g)){if(h(g)||!p(t,g)||g.getParent().is(j))return null;f=[g,l][u?"reverse":"concat"]().concat([A,N])}}else l.equals(t.editable[u?"getLast":"getFirst"](t.isRelevant))?(w(t),u&&o(i.y,l.size.bottom-s,a.pane.height)&&o(l.size.bottom,a.pane.height-s,a.pane.height)?c=M:o(i.y,0,l.size.top+s)&&(c=P)):c=L,f=[null,l][u?"reverse":"concat"]().concat([u?R:S,N,c,l.equals(t.editable[u?"getLast":"getFirst"](t.isRelevant))?u?M:P:L]);return 0 in f?new e(f):null}function y(t,e,n,i){for(var r=e.getDocumentPosition(),o={},a={},s={},l={},c=X.length;c--;)o[X[c]]=parseInt(e.getComputedStyle.call(e,"border-"+X[c]+"-width"),10)||0,s[X[c]]=parseInt(e.getComputedStyle.call(e,"padding-"+X[c]),10)||0,a[X[c]]=parseInt(e.getComputedStyle.call(e,"margin-"+X[c]),10)||0;return n&&!i||E(t,i),l.top=r.y-(n?0:t.view.scroll.y),l.left=r.x-(n?0:t.view.scroll.x),l.outerWidth=e.$.offsetWidth,l.outerHeight=e.$.offsetHeight,l.height=l.outerHeight-(s.top+s.bottom+o.top+o.bottom),l.width=l.outerWidth-(s.left+s.right+o.left+o.right),l.bottom=l.top+l.outerHeight,l.right=l.left+l.outerWidth,t.inInlineMode&&(l.scroll={top:e.$.scrollTop,left:e.$.scrollLeft}),T({border:o,padding:s,margin:a,ignoreScroll:n},l,!0)}function b(t,e,n){if(!d(e))return e.size=null;if(e.size){if(e.size.ignoreScroll==n&&e.size.date>new Date-H)return null}else e.size={};return T(e.size,y(t,e,n),{date:+new Date},!0)}function w(t,e){t.view.editable=y(t,t.editable,e,!0)}function E(t,e){t.view||(t.view={});var n=t.view;if(!(!e&&n&&n.date>new Date-H)){n=(i=t.win).getScrollPosition();var i=i.getViewPaneSize();T(t.view,{scroll:{x:n.x,y:n.y,width:t.doc.$.documentElement.scrollWidth-i.width,height:t.doc.$.documentElement.scrollHeight-i.height},pane:{width:i.width,height:i.height,bottom:i.height+n.y},date:+new Date},!0)}}function C(t,n,i,r){for(var o=r,a=r,s=0,l=!1,c=!1,u=t.view.pane.height,d=t.mouse;d.y+s<u&&0<d.y-s&&(l||(l=n(o,r)),c||(c=n(a,r)),!l&&0<d.y-s&&(o=i(t,{x:d.x,y:d.y-s})),!c&&d.y+s<u&&(a=i(t,{x:d.x,y:d.y+s})),!l||!c);)s+=2;return new e([o,a,null,null])}CKEDITOR.plugins.add("magicline",{init:function(t){var i,o,a,p=t.config,b=p.magicline_triggerOffset||30,C={editor:t,enterMode:p.enterMode,triggerOffset:b,holdDistance:0|b*(p.magicline_holdDistance||.5),boxColor:p.magicline_color||"#ff0000",rtl:"rtl"==p.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(p.magicline_tabuList||[]),triggers:p.magicline_everywhere?$:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}};C.isRelevant=function(t){return d(t)&&!u(C,t)&&!h(t)},t.on("contentDom",function(){var d=t.editable(),h=t.document,b=t.window;T(C,{editable:d,inInlineMode:d.isInline(),doc:h,win:b,hotNode:null},!0),C.boundary=C.inInlineMode?C.editable:C.doc.getDocumentElement(),d.is(x.$inline)||(C.inInlineMode&&!f(d)&&d.setStyles({position:"relative",top:null,left:null}),s.call(this,C),E(C),d.attachListener(t,"beforeUndoImage",function(){C.line.detach()}),d.attachListener(t,"beforeGetData",function(){C.line.wrap.getParent()&&(C.line.detach(),t.once("getData",function(){C.line.attach()},null,null,1e3))},null,null,0),d.attachListener(C.inInlineMode?h:h.getWindow().getFrame(),"mouseout",function(e){if("wysiwyg"==t.mode)if(C.inInlineMode){var n=e.data.$.clientX;e=e.data.$.clientY,E(C),w(C,!0);var i=C.view.editable,r=C.view.scroll;n>i.left-r.x&&n<i.right-r.x&&e>i.top-r.y&&e<i.bottom-r.y||(clearTimeout(a),a=null,C.line.detach())}else clearTimeout(a),a=null,C.line.detach()}),d.attachListener(d,"keyup",function(){C.hiddenMode=0}),d.attachListener(d,"keydown",function(e){if("wysiwyg"==t.mode)switch(e.data.getKeystroke()){case 2228240:case 16:C.hiddenMode=1,C.line.detach()}}),d.attachListener(C.inInlineMode?d:h,"mousemove",function(e){if(o=!0,"wysiwyg"==t.mode&&!t.readOnly&&!a){var n={x:e.data.$.clientX,y:e.data.$.clientY};a=setTimeout(function(){C.mouse=n,a=C.trigger=null,E(C),o&&!C.hiddenMode&&t.focusManager.hasFocus&&!C.line.mouseNear()&&(C.element=W(C,!0))&&((C.trigger=m(C)||v(C)||G(C))&&!g(C,C.trigger.upper||C.trigger.lower)?C.line.attach().place():(C.trigger=null,C.line.detach()),o=!1)},30)}}),d.attachListener(b,"scroll",function(){"wysiwyg"==t.mode&&(C.line.detach(),k.webkit&&(C.hiddenMode=1,clearTimeout(i),i=setTimeout(function(){C.mouseDown||(C.hiddenMode=0)},50)))}),d.attachListener(D?h:b,"mousedown",function(){"wysiwyg"==t.mode&&(C.line.detach(),C.hiddenMode=1,C.mouseDown=1)}),d.attachListener(D?h:b,"mouseup",function(){C.hiddenMode=0,C.mouseDown=0}),t.addCommand("accessPreviousSpace",c(C)),t.addCommand("accessNextSpace",c(C,!0)),t.setKeystroke([[p.magicline_keystrokePrevious,"accessPreviousSpace"],[p.magicline_keystrokeNext,"accessNextSpace"]]),t.on("loadSnapshot",function(){var e,n,i,r;for(r in{p:1,br:1,div:1})for(i=(e=t.document.getElementsByTag(r)).count();i--;)if((n=e.getItem(i)).data("cke-magicline-hot"))return C.hotNode=n,void(C.lastCmdDirection="true"===n.data("cke-magicline-dir"))}),t._.magiclineBackdoor={accessFocusSpace:l,boxTrigger:e,isLine:u,getAscendantTrigger:n,getNonEmptyNeighbour:r,getSize:y,that:C,triggerEdge:v,triggerEditable:m,triggerExpand:G})},this)}});var T=CKEDITOR.tools.extend,_=CKEDITOR.dom.element,O=_.createFromHtml,k=CKEDITOR.env,D=CKEDITOR.env.ie&&9>CKEDITOR.env.version,x=CKEDITOR.dtd,I={},S=128,R=64,A=32,N=16,P=4,M=2,L=1,K="Â ",j=x.$listItem,F=x.$tableContent,B=T({},x.$nonEditable,x.$empty),$=x.$block,H=100,U="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",z=U+"border-color:transparent;display:block;border-style:solid;",V="<span>"+K+"</span>";I[CKEDITOR.ENTER_BR]="br",I[CKEDITOR.ENTER_P]="p",I[CKEDITOR.ENTER_DIV]="div",e.prototype={set:function(t,e,n){return this.properties=t+e+(n||L),this},is:function(t){return(this.properties&t)==t}};var W=function(){function t(t,e){var n=t.$.elementFromPoint(e.x,e.y);return n&&n.nodeType?new CKEDITOR.dom.element(n):null}return function(e,n,i){if(!e.mouse)return null;var r=e.doc,o=e.line.wrap,a=t(r,i=i||e.mouse);return n&&u(e,a)&&(o.hide(),a=t(r,i),o.show()),!a||a.type!=CKEDITOR.NODE_ELEMENT||!a.$||k.ie&&9>k.version&&!e.boundary.equals(a)&&!e.boundary.contains(a)?null:a}}(),q=CKEDITOR.dom.walker.whitespaces(),Y=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),G=function(){function e(e){var r,a,s;if(!d(f=e.element)||f.contains(e.editable)||f.isReadOnly())return null;if(t(0,r=(s=C(e,function(t,e){return!e.equals(t)},function(t,e){return W(t,!0,e)},f)).upper,a=s.lower))return s.set(A,8);if(r&&f.contains(r))for(;!r.getParent().equals(f);)r=r.getParent();else r=f.getFirst(function(t){return n(e,t)});if(a&&f.contains(a))for(;!a.getParent().equals(f);)a=a.getParent();else a=f.getLast(function(t){return n(e,t)});if(!r||!a)return null;if(b(e,r),b(e,a),!o(e.mouse.y,r.size.top,a.size.bottom))return null;for(var l,c,u,h,f=Number.MAX_VALUE;a&&!a.equals(r)&&(c=r.getNext(e.isRelevant));)(l=Math.abs(i(e,r,c)-e.mouse.y))<f&&(f=l,u=r,h=c),b(e,r=c);return u&&h&&o(e.mouse.y,u.size.top,h.size.bottom)?(s.upper=u,s.lower=h,s.set(A,8)):null}function n(t,e){return!(e&&e.type==CKEDITOR.NODE_TEXT||Y(e)||h(e)||u(t,e)||e.type==CKEDITOR.NODE_ELEMENT&&e.$&&e.is("br"))}return function(n){var i,r=e(n);if(i=r){i=r.upper;var o=r.lower;i=!(!i||!o||h(o)||h(i)||o.equals(i)||i.equals(o)||o.contains(i)||i.contains(o))&&!!(p(n,i)&&p(n,o)&&t(0,i,o))}return i?r:null}}(),X=["top","left","right","bottom"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function t(t){if(!t||t.type!=CKEDITOR.NODE_ELEMENT||"form"!=t.getName())return[];for(var e=[],n=["style","className"],i=0;i<n.length;i++){var r=t.$.elements.namedItem(n[i]);r&&(r=new CKEDITOR.dom.element(r),e.push([r,r.nextSibling]),r.remove())}return e}function e(t,e){if(t&&t.type==CKEDITOR.NODE_ELEMENT&&"form"==t.getName()&&0<e.length)for(var n=e.length-1;0<=n;n--){var i=e[n][0],r=e[n][1];r?i.insertBefore(r):i.appendTo(t)}}function n(n,i){var r=t(n),o={},a=n.$;return i||(o.class=a.className||"",a.className=""),o.inline=a.style.cssText||"",i||(a.style.cssText="position: static; overflow: visible"),e(r),o}function i(n,i){var r=t(n),o=n.$;"class"in i&&(o.className=i.class),"inline"in i&&(o.style.cssText=i.inline),e(r)}function r(t){if(!t.editable().isInline()){var e,n=CKEDITOR.instances;for(e in n){var i=n[e];"wysiwyg"!=i.mode||i.readOnly||((i=i.document.getBody()).setAttribute("contentEditable",!1),i.setAttribute("contentEditable",!0))}t.editable().hasFocus&&(t.toolbox.focus(),t.focus())}}CKEDITOR.plugins.add("maximize",{init:function(t){function e(){var e=u.getViewPaneSize();t.resize(e.width,e.height,null,!0)}if(t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var o,a,s,l=t.lang,c=CKEDITOR.document,u=c.getWindow(),d=CKEDITOR.TRISTATE_OFF;t.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var h=t.container.getFirst(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_inner")}),f=t.ui.space("contents");if("wysiwyg"==t.mode){var p=t.getSelection();o=p&&p.getRanges(),a=u.getScrollPosition()}else{var g=t.editable().$;o=!CKEDITOR.env.ie&&[g.selectionStart,g.selectionEnd],a=[g.scrollLeft,g.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){for(u.on("resize",e),s=u.getScrollPosition(),p=t.container;p=p.getParent();)p.setCustomData("maximize_saved_styles",n(p)),p.setStyle("z-index",t.config.baseFloatZIndex-5);f.setCustomData("maximize_saved_styles",n(f,!0)),h.setCustomData("maximize_saved_styles",n(h,!0)),f={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0},c.getDocumentElement().setStyles(f),!CKEDITOR.env.gecko&&c.getDocumentElement().setStyle("position","fixed"),CKEDITOR.env.gecko&&CKEDITOR.env.quirks||c.getBody().setStyles(f),CKEDITOR.env.ie?setTimeout(function(){u.$.scrollTo(0,0)},0):u.$.scrollTo(0,0),h.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute"),h.$.offsetLeft,h.setStyles({"z-index":t.config.baseFloatZIndex-5,left:"0px",top:"0px"}),h.addClass("cke_maximized"),e(),f=h.getDocumentPosition(),h.setStyles({left:-1*f.x+"px",top:-1*f.y+"px"}),CKEDITOR.env.gecko&&r(t)}else if(this.state==CKEDITOR.TRISTATE_ON){u.removeListener("resize",e);p=[f,h];for(var m=0;m<p.length;m++)i(p[m],p[m].getCustomData("maximize_saved_styles")),p[m].removeCustomData("maximize_saved_styles");for(p=t.container;p=p.getParent();)i(p,p.getCustomData("maximize_saved_styles")),p.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(function(){u.$.scrollTo(s.x,s.y)},0):u.$.scrollTo(s.x,s.y),h.removeClass("cke_maximized"),CKEDITOR.env.webkit&&(h.setStyle("display","inline"),setTimeout(function(){h.setStyle("display","block")},0)),t.fire("resize",{outerHeight:t.container.$.offsetHeight,contentsHeight:f.$.offsetHeight,outerWidth:t.container.$.offsetWidth})}this.toggleState(),(p=this.uiItems[0])&&(f=this.state==CKEDITOR.TRISTATE_OFF?l.maximize.maximize:l.maximize.minimize,(p=CKEDITOR.document.getById(p._.id)).getChild(1).setHtml(f),p.setAttribute("title",f),p.setAttribute("href",'javascript:void("'+f+'");')),"wysiwyg"==t.mode?o?(CKEDITOR.env.gecko&&r(t),t.getSelection().selectRanges(o),(g=t.getSelection().getStartElement())&&g.scrollIntoView(!0)):u.$.scrollTo(a.x,a.y):(o&&(g.selectionStart=o[0],g.selectionEnd=o[1]),g.scrollLeft=a[0],g.scrollTop=a[1]),o=a=null,d=this.state,t.fire("maximize",this.state)},canUndo:!1}),t.ui.addButton&&t.ui.addButton("Maximize",{label:l.maximize.maximize,command:"maximize",toolbar:"tools,10"}),t.on("mode",function(){var e=t.getCommand("maximize");e.setState(e.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:d)},null,null,100)}}})}(),CKEDITOR.plugins.add("xml",{}),CKEDITOR.xml=function(t){var e=null;if("object"==typeof t)e=t;else if(t=(t||"").replace(/&nbsp;/g,"Â "),"ActiveXObject"in window){try{e=new ActiveXObject("MSXML2.DOMDocument")}catch(t){try{e=new ActiveXObject("Microsoft.XmlDom")}catch(t){}}e&&(e.async=!1,e.resolveExternals=!1,e.validateOnParse=!1,e.loadXML(t))}else window.DOMParser&&(e=(new DOMParser).parseFromString(t,"text/xml"));this.baseXml=e},CKEDITOR.xml.prototype={selectSingleNode:function(t,e){var n=this.baseXml;if(e||(e=n)){if("selectSingleNode"in e)return e.selectSingleNode(t);if(n.evaluate)return(n=n.evaluate(t,e,null,9,null))&&n.singleNodeValue||null}return null},selectNodes:function(t,e){var n=this.baseXml,i=[];if(e||(e=n)){if("selectNodes"in e)return e.selectNodes(t);if(n.evaluate&&(n=n.evaluate(t,e,null,5,null)))for(var r;r=n.iterateNext();)i.push(r)}return i},getInnerXml:function(t,e){var n=this.selectSingleNode(t,e),i=[];if(n)for(n=n.firstChild;n;)n.xml?i.push(n.xml):window.XMLSerializer&&i.push((new XMLSerializer).serializeToString(n)),n=n.nextSibling;return i.length?i.join(""):null}},CKEDITOR.plugins.add("ajax",{requires:"xml"}),CKEDITOR.ajax=function(){function t(){if(!CKEDITOR.env.ie||"file:"!=location.protocol)try{return new XMLHttpRequest}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}return null}function e(t,e){if(4!=t.readyState||!(200<=t.status&&300>t.status||304==t.status||0===t.status||1223==t.status))return null;switch(e){case"text":return t.responseText;case"xml":var n=t.responseXML;return new CKEDITOR.xml(n&&n.firstChild?n:t.responseText);case"arraybuffer":return t.response;default:return null}}function n(n,i,r){var o=!!i,a=t();return a?(o&&"text"!==r&&"xml"!==r&&(a.responseType=r),a.open("GET",n,o),o&&(a.onreadystatechange=function(){4==a.readyState&&(i(e(a,r)),a=null)}),a.send(null),o?"":e(a,r)):null}function i(n,i,r,o,a){var s=t();if(!s)return null;s.open("POST",n,!0),s.onreadystatechange=function(){4==s.readyState&&(o&&o(e(s,a)),s=null)},s.setRequestHeader("Content-type",r||"application/x-www-form-urlencoded; charset=UTF-8"),s.send(i)}return{load:function(t,e,i){return n(t,e,i||"text")},post:function(t,e,n,r){return i(t,e,n,r,"text")},loadXml:function(t,e){return n(t,e,"xml")},loadText:function(t,e){return n(t,e,"text")},loadBinary:function(t,e){return n(t,e,"arraybuffer")}}}(),function(){function t(t,n){var i,r,o=0;if(!CKEDITOR.tools.array.isArray(t)||0===t.length)return!0;if(0<(i=CKEDITOR.tools.array.filter(t,function(t){return-1===CKEDITOR.tools.array.indexOf(e,t)})).length)for(r=0;r<i.length;r++)!function(t){CKEDITOR.scriptLoader.queue(t,function(r){r&&e.push(t),++o===i.length&&n()})}(i[r]);return 0===i.length}var e=[],n=CKEDITOR.tools.createClass({$:function(){this.handlers=[]},proto:{register:function(t){"number"!=typeof t.priority&&(t.priority=10),this.handlers.push(t)},addPasteListener:function(e){e.on("paste",function(n){var i=function(t,e){return CKEDITOR.tools.array.filter(t,function(t){return t.canHandle(e)}).sort(function(t,e){return t.priority===e.priority?0:t.priority-e.priority})}(this.handlers,n);if(0!==i.length){if(!t(function(t){var e=CKEDITOR.tools.array.reduce(t,function(t,e){return CKEDITOR.tools.array.isArray(e.filters)?t.concat(e.filters):t},[]);return CKEDITOR.tools.array.filter(e,function(t,n){return CKEDITOR.tools.array.indexOf(e,t)===n})}(i),function(){return e.fire("paste",n.data)}))return n.cancel();!function t(e,n){var i=e.shift();i&&i.handle(n,function(){t(e,n)})}(i,n)}},this,null,3)}}});CKEDITOR.plugins.add("pastetools",{requires:["clipboard","ajax"],beforeInit:function(t){t.pasteTools=new n,t.pasteTools.addPasteListener(t)}}),CKEDITOR.plugins.pastetools={filters:{},loadFilters:t,createFilter:function(t){var e=CKEDITOR.tools.array.isArray(t.rules)?t.rules:[t.rules],n=t.additionalTransforms;return function(t,i){var r,o=new CKEDITOR.htmlParser.basicWriter,a=new CKEDITOR.htmlParser.filter;return n&&(t=n(t,i)),CKEDITOR.tools.array.forEach(e,function(e){a.addRules(e(t,i,a))}),r=CKEDITOR.htmlParser.fragment.fromHtml(t),a.applyTo(r),r.writeHtml(o),o.getHtml()}},getClipboardData:function(t,e){var n;return CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"text/html"===e?(n=t.dataTransfer.getData(e,!0))||"text/html"!==e?n:t.dataValue:null},getConfigValue:function(t,e){if(t&&t.config){var n=CKEDITOR.tools,i=t.config,r=n.object.keys(i),o=["pasteTools_"+e,"pasteFromWord_"+e,"pasteFromWord"+n.capitalize(e,!0)];return i[o=n.array.find(o,function(t){return-1!==n.array.indexOf(r,t)})]}},getContentGeneratorName:function(t){if((t=/<meta\s+name=["']?generator["']?\s+content=["']?(\w+)/gi.exec(t))&&t.length)return 0===(t=t[1].toLowerCase()).indexOf("microsoft")?"microsoft":0===t.indexOf("libreoffice")?"libreoffice":"unknown"}},CKEDITOR.pasteFilters=CKEDITOR.plugins.pastetools.filters}(),CKEDITOR.plugins.add("pastefromgdocs",{requires:"pastetools",init:function(t){var e=CKEDITOR.plugins.getPath("pastetools"),n=this.path;t.pasteTools.register({filters:[CKEDITOR.getUrl(e+"filter/common.js"),CKEDITOR.getUrl(n+"filter/default.js")],canHandle:function(t){return/id=(\"|\')?docs\-internal\-guid\-/.test(t.data.dataValue)},handle:function(e,n){var i=e.data,r=CKEDITOR.plugins.pastetools.getClipboardData(i,"text/html");i.dontFilter=!0,i.dataValue=CKEDITOR.pasteFilters.gdocs(r,t),!0===t.config.forcePasteAsPlainText&&(i.type="text"),n()}})}}),CKEDITOR.plugins.add("pastefromlibreoffice",{requires:"pastetools",isSupportedEnvironment:function(){var t=CKEDITOR.env.ie&&11>=CKEDITOR.env.version;return!(CKEDITOR.env.webkit&&!CKEDITOR.env.chrome||t)},init:function(t){if(this.isSupportedEnvironment()){var e=CKEDITOR.plugins.getPath("pastetools"),n=this.path;t.pasteTools.register({priority:100,filters:[CKEDITOR.getUrl(e+"filter/common.js"),CKEDITOR.getUrl(e+"filter/image.js"),CKEDITOR.getUrl(n+"filter/default.js")],canHandle:function(t){return!!(t=(t=t.data).dataTransfer.getData("text/html",!0)||t.dataValue)&&"libreoffice"===CKEDITOR.plugins.pastetools.getContentGeneratorName(t)},handle:function(e,n){var i=e.data,r=i.dataValue||CKEDITOR.plugins.pastetools.getClipboardData(i,"text/html");i.dontFilter=!0,r=CKEDITOR.pasteFilters.image(r,t,CKEDITOR.plugins.pastetools.getClipboardData(i,"text/rtf")),i.dataValue=CKEDITOR.pasteFilters.libreoffice(r,t),!0===t.config.forcePasteAsPlainText&&(i.type="text"),n()}})}}}),CKEDITOR.plugins.add("pastefromword",{requires:"pastetools",init:function(t){var e=0,n=CKEDITOR.plugins.getPath("pastetools"),i=this.path,r=void 0===t.config.pasteFromWord_inlineImages||t.config.pasteFromWord_inlineImages;n=[CKEDITOR.getUrl(n+"filter/common.js"),CKEDITOR.getUrl(n+"filter/image.js"),CKEDITOR.getUrl(i+"filter/default.js")],t.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(t,n){e=1,t.execCommand("paste",{type:"html",notification:!n||void 0===n.notification||n.notification})}}),CKEDITOR.plugins.clipboard.addPasteButton(t,"PasteFromWord",{label:t.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"}),t.pasteTools.register({filters:t.config.pasteFromWordCleanupFile?[t.config.pasteFromWordCleanupFile]:n,canHandle:function(t){t=CKEDITOR.plugins.pastetools.getClipboardData(t.data,"text/html");var n=(n=CKEDITOR.plugins.pastetools.getContentGeneratorName(t))?"microsoft"===n:/(class="?Mso|style=["'][^"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/.test(t);return t&&(e||n)},handle:function(n,i){var o=n.data,a=CKEDITOR.plugins.pastetools.getClipboardData(o,"text/html"),s=CKEDITOR.plugins.pastetools.getClipboardData(o,"text/rtf");a={dataValue:a,dataTransfer:{"text/rtf":s}},(!1!==t.fire("pasteFromWord",a)||e)&&(o.dontFilter=!0,(e||!t.config.pasteFromWordPromptCleanup||confirm(t.lang.pastefromword.confirmCleanup))&&(a.dataValue=CKEDITOR.cleanWord(a.dataValue,t),CKEDITOR.plugins.clipboard.isCustomDataTypesSupported&&r&&CKEDITOR.pasteFilters.image&&(a.dataValue=CKEDITOR.pasteFilters.image(a.dataValue,t,s)),t.fire("afterPasteFromWord",a),o.dataValue=a.dataValue,!0===t.config.forcePasteAsPlainText?o.type="text":CKEDITOR.plugins.clipboard.isCustomCopyCutSupported||"allow-word"!==t.config.forcePasteAsPlainText||(o.type="html")),e=0,i())}})}}),function(){var t={canUndo:!1,async:!0,exec:function(t,e){var n=t.lang,i=CKEDITOR.tools.keystrokeToString(n.common.keyboard,t.getCommandKeystroke(CKEDITOR.env.ie?t.commands.paste:this)),r=e&&void 0!==e.notification?e.notification:!e||!e.from||"keystrokeHandler"===e.from&&CKEDITOR.env.ie;n=r&&"string"==typeof r?r:n.pastetext.pasteNotification.replace(/%1/,'<kbd aria-label="'+i.aria+'">'+i.display+"</kbd>");t.execCommand("paste",{type:"text",notification:!!r&&n})}};CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(e){var n=CKEDITOR.env.safari?CKEDITOR.CTRL+CKEDITOR.ALT+CKEDITOR.SHIFT+86:CKEDITOR.CTRL+CKEDITOR.SHIFT+86;e.addCommand("pastetext",t),e.setKeystroke(n,"pastetext"),CKEDITOR.plugins.clipboard.addPasteButton(e,"PasteText",{label:e.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"}),e.config.forcePasteAsPlainText&&e.on("beforePaste",function(t){"html"!=t.data.type&&(t.data.type="text")}),e.on("pasteState",function(t){e.getCommand("pastetext").setState(t.data)})}})}(),CKEDITOR.plugins.add("removeformat",{init:function(t){t.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat),t.ui.addButton&&t.ui.addButton("RemoveFormat",{label:t.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(t){for(var e,n=t._.removeFormatRegex||(t._.removeFormatRegex=new RegExp("^(?:"+t.config.removeFormatTags.replace(/,/g,"|")+")$","i")),i=t._.removeAttributes||(t._.removeAttributes=t.config.removeFormatAttributes.split(",")),r=CKEDITOR.plugins.removeformat.filter,o=t.getSelection().getRanges(),a=o.createIterator(),s=function(t){return t.type==CKEDITOR.NODE_ELEMENT};e=a.getNextRange();){e.enlarge(CKEDITOR.ENLARGE_INLINE);var l=e.createBookmark(),c=l.startNode,u=l.endNode,d=function(e){for(var i,o=t.elementPath(e),a=o.elements,s=1;(i=a[s])&&!i.equals(o.block)&&!i.equals(o.blockLimit);s++)n.test(i.getName())&&r(t,i)&&e.breakParent(i)};if(d(c),u)for(d(u),c=c.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);c&&!c.equals(u);)if(c.isReadOnly()){if(c.getPosition(u)&CKEDITOR.POSITION_CONTAINS)break;c=c.getNext(s)}else d=c.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==c.getName()&&c.data("cke-realelement")||!r(t,c)||(n.test(c.getName())?c.remove(1):(c.removeAttributes(i),t.fire("removeFormatCleanup",c))),c=d;e.moveToBookmark(l)}t.forceNextSelectionCheck(),t.getSelection().selectRanges(o)}}},filter:function(t,e){for(var n=t._.removeFormatFilters||[],i=0;i<n.length;i++)if(!1===n[i](e))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(t){this._.removeFormatFilters||(this._.removeFormatFilters=[]),this._.removeFormatFilters.push(t)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",CKEDITOR.plugins.add("resize",{init:function(t){function e(e){var n=s.width,r=s.height,l=n+(e.data.$.screenX-a.x)*("rtl"==o?-1:1);e=r+(e.data.$.screenY-a.y),c&&(n=Math.max(i.resize_minWidth,Math.min(l,i.resize_maxWidth))),u&&(r=Math.max(i.resize_minHeight,Math.min(e,i.resize_maxHeight))),t.resize(c?n:null,r)}function n(){CKEDITOR.document.removeListener("mousemove",e),CKEDITOR.document.removeListener("mouseup",n),t.document&&(t.document.removeListener("mousemove",e),t.document.removeListener("mouseup",n))}var i=t.config,r=t.ui.spaceId("resizer"),o=t.element?t.element.getDirection(1):"ltr";if(!i.resize_dir&&(i.resize_dir="vertical"),void 0===i.resize_maxWidth&&(i.resize_maxWidth=3e3),void 0===i.resize_maxHeight&&(i.resize_maxHeight=3e3),void 0===i.resize_minWidth&&(i.resize_minWidth=750),void 0===i.resize_minHeight&&(i.resize_minHeight=250),!1!==i.resize_enabled){var a,s,l=null,c=("both"==i.resize_dir||"horizontal"==i.resize_dir)&&i.resize_minWidth!=i.resize_maxWidth,u=("both"==i.resize_dir||"vertical"==i.resize_dir)&&i.resize_minHeight!=i.resize_maxHeight,d=CKEDITOR.tools.addFunction(function(r){l||(l=t.getResizable()),s={width:l.$.offsetWidth||0,height:l.$.offsetHeight||0},a={x:r.screenX,y:r.screenY},i.resize_minWidth>s.width&&(i.resize_minWidth=s.width),i.resize_minHeight>s.height&&(i.resize_minHeight=s.height),CKEDITOR.document.on("mousemove",e),CKEDITOR.document.on("mouseup",n),t.document&&(t.document.on("mousemove",e),t.document.on("mouseup",n)),r.preventDefault&&r.preventDefault()});t.on("destroy",function(){CKEDITOR.tools.removeFunction(d)}),t.on("uiSpace",function(e){if("bottom"==e.data.space){var n="";c&&!u&&(n=" cke_resizer_horizontal"),!c&&u&&(n=" cke_resizer_vertical");var i='<span id="'+r+'" class="cke_resizer'+n+" cke_resizer_"+o+'" title="'+CKEDITOR.tools.htmlEncode(t.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+d+', event)">'+("ltr"==o?"â¢":"â£")+"</span>";"ltr"==o&&"ltr"==n?e.data.html+=i:e.data.html=i+e.data.html}},t,null,100),t.on("maximize",function(e){t.ui.space("resizer")[e.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()})}}}),CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var t=function(t){var e=this._,n=e.menu;e.state!==CKEDITOR.TRISTATE_DISABLED&&(e.on&&n?n.hide():(e.previousState=e.state,n||((n=e.menu=new CKEDITOR.menu(t,{panel:{className:"cke_menu_panel",attributes:{"aria-label":t.lang.common.options}}})).onHide=CKEDITOR.tools.bind(function(){var n=this.command?t.getCommand(this.command).modes:this.modes;this.setState(!n||n[t.mode]?e.previousState:CKEDITOR.TRISTATE_DISABLED),e.on=0},this),this.onMenu&&n.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),e.on=1,setTimeout(function(){n.show(CKEDITOR.document.getById(e.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(e){delete e.panel,this.base(e),this.hasArrow="menu",this.click=t},statics:{handler:{create:function(t){return new CKEDITOR.ui.menuButton(t)}}}})},beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton",CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",onLoad:function(t){"moono-lisa"==(CKEDITOR.skinName||t.config.skin)&&CKEDITOR.document.appendStyleSheet(CKEDITOR.getUrl(this.path+"skins/"+CKEDITOR.skin.name+"/scayt.css")),CKEDITOR.document.appendStyleSheet(CKEDITOR.getUrl(this.path+"dialogs/dialog.css"));var e=!1;CKEDITOR.on("instanceLoaded",function(t){if(!e&&CKEDITOR.plugins.autocomplete){e=!0;var n=CKEDITOR.plugins.autocomplete.prototype.getModel;CKEDITOR.plugins.autocomplete.prototype.getModel=function(t){var e=this.editor;return(t=n.bind(this)(t)).on("change-isActive",function(t){t.data?e.fire("autocompletePanelShow"):e.fire("autocompletePanelHide")}),t}}})},init:function(t){var e=this,n=CKEDITOR.plugins.scayt;this.bindEvents(t),this.parseConfig(t),this.addRule(t),CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js")),this.addMenuItems(t);var i=t.lang.scayt,r=CKEDITOR.env;t.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:i.text_title,title:t.plugins.wsc?t.lang.wsc.title:i.text_title,modes:{wysiwyg:!(r.ie&&(8>r.version||r.quirks))},toolbar:"spellchecker,20",refresh:function(){var e=t.ui.instances.Scayt.getState();t.scayt&&(e=n.state.scayt[t.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),t.fire("scaytButtonState",e)},onRender:function(){var e=this;t.on("scaytButtonState",function(t){void 0!==typeof t.data&&e.setState(t.data)})},onMenu:function(){var e=t.scayt;t.getMenuItem("scaytToggle").label=t.lang.scayt[e&&n.state.scayt[t.name]?"btn_disable":"btn_enable"];var i={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:e?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:e?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:e?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:e?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:t.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};return t.config.scayt_uiTabs[0]||delete i.scaytOptions,t.config.scayt_uiTabs[1]||delete i.scaytLangs,t.config.scayt_uiTabs[2]||delete i.scaytDict,e&&!CKEDITOR.plugins.scayt.isNewUdSupported(e)&&(delete i.scaytDict,t.config.scayt_uiTabs[2]=0,CKEDITOR.plugins.scayt.alarmCompatibilityMessage()),i}}),t.contextMenu&&t.addMenuItems&&(t.contextMenu.addListener(function(n,i){var r,o,a=t.scayt;return a&&(o=a.getSelectionNode())&&(r=e.menuGenerator(t,o),a.showBanner("."+t.contextMenu._.definition.panel.className.split(" ").join(" ."))),r}),t.contextMenu._.onHide=CKEDITOR.tools.override(t.contextMenu._.onHide,function(e){return function(){var n=t.scayt;return n&&n.hideBanner(),e.apply(this)}}))},addMenuItems:function(t){var e=this,n=CKEDITOR.plugins.scayt;t.addMenuGroup("scaytButton");for(var i=t.config.scayt_contextMenuItemsOrder.split("|"),r=0;r<i.length;r++)i[r]="scayt_"+i[r];if((i=["grayt_description","grayt_suggest","grayt_control"].concat(i))&&i.length)for(r=0;r<i.length;r++)t.addMenuGroup(i[r],r-10);t.addCommand("scaytToggle",{exec:function(t){var e=t.scayt;n.state.scayt[t.name]=!n.state.scayt[t.name],!0===n.state.scayt[t.name]?e||n.createScayt(t):e&&n.destroy(t)}}),t.addCommand("scaytAbout",{exec:function(t){t.scayt.tabToOpen="about",n.openDialog(e.dialogName,t)}}),t.addCommand("scaytOptions",{exec:function(t){t.scayt.tabToOpen="options",n.openDialog(e.dialogName,t)}}),t.addCommand("scaytLangs",{exec:function(t){t.scayt.tabToOpen="langs",n.openDialog(e.dialogName,t)}}),t.addCommand("scaytDict",{exec:function(t){t.scayt.tabToOpen="dictionaries",n.openDialog(e.dialogName,t)}}),i={scaytToggle:{label:t.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:t.lang.scayt.btn_about,group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:t.lang.scayt.btn_options,group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:t.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:t.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}},t.plugins.wsc&&(i.WSC={label:t.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var e=CKEDITOR.plugins.scayt,n=t.scayt,i=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.container.getText():t.document.getBody().getText();(i=i.replace(/\s/g,""))?(n&&e.state.scayt[t.name]&&n.setMarkupPaused&&n.setMarkupPaused(!0),t.lockSelection(),t.execCommand("checkspell")):alert("Nothing to check!")}}),t.addMenuItems(i)},bindEvents:function(t){var e=CKEDITOR.plugins.scayt,n=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,i=function(){e.destroy(t)},r=function(){!e.state.scayt[t.name]||t.readOnly||t.scayt||e.createScayt(t)},o=function(){n?t.config.scayt_inlineModeImmediateMarkup?r():(t.on("blur",function(){setTimeout(i,0)}),t.on("focus",r),t.focusManager.hasFocus&&r()):r(),function(){var e=t.editable();e.attachListener(e,"focus",function(e){var i,o;if(CKEDITOR.plugins.scayt&&!t.scayt&&setTimeout(r,0),e=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[t.name]&&t.scayt,(n||e)&&t._.savedSelection){e=!(e=t._.savedSelection.getSelectedElement())&&t._.savedSelection.getRanges();for(var a=0;a<e.length;a++)"string"==typeof(o=e[a]).startContainer.$.nodeValue&&((i=o.startContainer.getText().length)<o.startOffset||i<o.endOffset)&&t.unlockSelection(!1)}},this,null,-10)}();var e=t.editable();e.attachListener(e,"mousedown",function(e){e=e.data.getTarget();var n=t.widgets&&t.widgets.getByElement(e);n&&(n.wrapper=e.getAscendant(function(t){return t.hasAttribute("data-cke-widget-wrapper")},!0))},this,null,-10)};t.on("contentDom",o),t.on("beforeCommandExec",function(n){var i=t.scayt,r=!1,o=!1,a=!0;n.data.name in e.options.disablingCommandExec&&"wysiwyg"==t.mode?i&&(e.destroy(t),t.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):"bold"!==n.data.name&&"italic"!==n.data.name&&"underline"!==n.data.name&&"strike"!==n.data.name&&"subscript"!==n.data.name&&"superscript"!==n.data.name&&"enter"!==n.data.name&&"cut"!==n.data.name&&"language"!==n.data.name||!i||("cut"===n.data.name&&(a=!1,o=!0),"language"===n.data.name&&(o=r=!0),t.fire("reloadMarkupScayt",{removeOptions:{removeInside:a,forceBookmark:o,language:r},timeout:0}))}),t.on("beforeSetMode",function(n){"source"==n.data&&((n=t.scayt)&&(e.destroy(t),t.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)),t.document&&t.document.getBody().removeAttribute("_jquid"))}),t.on("afterCommandExec",function(n){"wysiwyg"!=t.mode||"undo"!=n.data.name&&"redo"!=n.data.name||setTimeout(function(){e.reloadMarkup(t.scayt)},250)}),t.on("readOnly",function(n){var i;n&&(i=t.scayt,!0===n.editor.readOnly?i&&i.fire("removeMarkupInDocument",{}):i?e.reloadMarkup(i):"wysiwyg"==n.editor.mode&&!0===e.state.scayt[n.editor.name]&&(e.createScayt(t),n.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))}),t.on("beforeDestroy",i),t.on("setData",function(){i(),(t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||t.plugins.divarea)&&o()},this,null,50),t.on("reloadMarkupScayt",function(n){var i=n.data&&n.data.removeOptions,r=n.data&&n.data.timeout,o=n.data&&n.data.language,a=t.scayt;a&&setTimeout(function(){o&&(i.selectionNode=t.plugins.language.getCurrentLangElement(t),i.selectionNode=i.selectionNode&&i.selectionNode.$||null),a.removeMarkupInSelectionNode(i),e.reloadMarkup(a)},r||0)}),t.on("insertElement",function(){t.fire("reloadMarkupScayt",{removeOptions:{forceBookmark:!0}})},this,null,50),t.on("insertHtml",function(){t.scayt&&t.scayt.setFocused&&t.scayt.setFocused(!0),t.fire("reloadMarkupScayt")},this,null,50),t.on("insertText",function(){t.scayt&&t.scayt.setFocused&&t.scayt.setFocused(!0),t.fire("reloadMarkupScayt")},this,null,50),t.on("scaytDialogShown",function(e){e.data.selectPage(t.scayt.tabToOpen)}),t.on("autocompletePanelShow",function(e){(e=t.scayt)&&e.setMarkupPaused&&e.setMarkupPaused(!0)}),t.on("autocompletePanelHide",function(e){(e=t.scayt)&&e.setMarkupPaused&&e.setMarkupPaused(!1)})},parseConfig:function(t){if((i=CKEDITOR.plugins.scayt).replaceOldOptionsNames(t.config),"boolean"!=typeof t.config.scayt_autoStartup&&(t.config.scayt_autoStartup=!1),i.state.scayt[t.name]=t.config.scayt_autoStartup,"boolean"!=typeof t.config.grayt_autoStartup&&(t.config.grayt_autoStartup=!1),"boolean"!=typeof t.config.scayt_inlineModeImmediateMarkup&&(t.config.scayt_inlineModeImmediateMarkup=!1),i.state.grayt[t.name]=t.config.grayt_autoStartup,t.config.scayt_contextCommands||(t.config.scayt_contextCommands="ignoreall|add"),t.config.scayt_contextMenuItemsOrder||(t.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control"),t.config.scayt_sLang||(t.config.scayt_sLang="en_US"),(void 0===t.config.scayt_maxSuggestions||"number"!=typeof t.config.scayt_maxSuggestions||0>t.config.scayt_maxSuggestions)&&(t.config.scayt_maxSuggestions=3),(void 0===t.config.scayt_minWordLength||"number"!=typeof t.config.scayt_minWordLength||1>t.config.scayt_minWordLength)&&(t.config.scayt_minWordLength=3),void 0!==t.config.scayt_customDictionaryIds&&"string"==typeof t.config.scayt_customDictionaryIds||(t.config.scayt_customDictionaryIds=""),void 0!==t.config.scayt_userDictionaryName&&"string"==typeof t.config.scayt_userDictionaryName||(t.config.scayt_userDictionaryName=null),"string"==typeof t.config.scayt_uiTabs&&3===t.config.scayt_uiTabs.split(",").length){var e=[],n=[];t.config.scayt_uiTabs=t.config.scayt_uiTabs.split(","),CKEDITOR.tools.search(t.config.scayt_uiTabs,function(t){1===Number(t)||0===Number(t)?(n.push(!0),e.push(Number(t))):n.push(!1)}),null===CKEDITOR.tools.search(n,!1)?t.config.scayt_uiTabs=e:t.config.scayt_uiTabs=[1,1,1]}else t.config.scayt_uiTabs=[1,1,1];if("string"!=typeof t.config.scayt_serviceProtocol&&(t.config.scayt_serviceProtocol=null),"string"!=typeof t.config.scayt_serviceHost&&(t.config.scayt_serviceHost=null),"string"!=typeof t.config.scayt_servicePort&&(t.config.scayt_servicePort=null),"string"!=typeof t.config.scayt_servicePath&&(t.config.scayt_servicePath=null),t.config.scayt_moreSuggestions||(t.config.scayt_moreSuggestions="on"),"string"!=typeof t.config.scayt_customerId&&(t.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"),"string"!=typeof t.config.scayt_customPunctuation&&(t.config.scayt_customPunctuation="-"),"string"!=typeof t.config.scayt_srcUrl&&(i=-1!=(i=document.location.protocol).search(/https?:/)?i:"http:",t.config.scayt_srcUrl=i+"//svc.webspellchecker.net/spellcheck31/wscbundle/wscbundle.js"),"boolean"!=typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0),"boolean"!=typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0),CKEDITOR.config.scayt_handleUndoRedo=!!CKEDITOR.plugins.undo&&CKEDITOR.config.scayt_handleUndoRedo,t.config.scayt_ignoreAllCapsWords&&"boolean"!=typeof t.config.scayt_ignoreAllCapsWords&&(t.config.scayt_ignoreAllCapsWords=!1),t.config.scayt_ignoreDomainNames&&"boolean"!=typeof t.config.scayt_ignoreDomainNames&&(t.config.scayt_ignoreDomainNames=!1),t.config.scayt_ignoreWordsWithMixedCases&&"boolean"!=typeof t.config.scayt_ignoreWordsWithMixedCases&&(t.config.scayt_ignoreWordsWithMixedCases=!1),t.config.scayt_ignoreWordsWithNumbers&&"boolean"!=typeof t.config.scayt_ignoreWordsWithNumbers&&(t.config.scayt_ignoreWordsWithNumbers=!1),t.config.scayt_disableOptionsStorage){var i=CKEDITOR.tools.isArray(t.config.scayt_disableOptionsStorage)?t.config.scayt_disableOptionsStorage:"string"==typeof t.config.scayt_disableOptionsStorage?[t.config.scayt_disableOptionsStorage]:void 0,r="all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),o=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],a=CKEDITOR.tools.search,s=CKEDITOR.tools.indexOf;t.config.scayt_disableOptionsStorage=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],l=!!a(t,"options");if(!a(r,i)||l&&a(o,function(t){if("lang"===t)return!1}))return;if(a(o,i)&&o.splice(s(o,i),1),"all"===i||l&&a(t,"lang"))return[];"options"===i&&(o=["lang"])}return e.concat(o)}(i)}},addRule:function(t){var e=CKEDITOR.plugins.scayt,n=(r=t.dataProcessor)&&r.htmlFilter,i=t._.elementsPath&&t._.elementsPath.filters,r=r&&r.dataFilter,o=t.addRemoveFormatFilter;i&&i.push(function(n){if(t.scayt&&(n.hasAttribute(e.options.data_attribute_name)||n.hasAttribute(e.options.problem_grammar_data_attribute)))return!1}),r&&r.addRules({elements:{span:function(t){var n=t.hasClass(e.options.misspelled_word_class)&&t.attributes[e.options.data_attribute_name],i=t.hasClass(e.options.problem_grammar_class)&&t.attributes[e.options.problem_grammar_data_attribute];return e&&(n||i)&&delete t.name,t}}}),n&&n.addRules({elements:{span:function(t){var n=t.hasClass(e.options.misspelled_word_class)&&t.attributes[e.options.data_attribute_name],i=t.hasClass(e.options.problem_grammar_class)&&t.attributes[e.options.problem_grammar_data_attribute];return e&&(n||i)&&delete t.name,t}}}),o&&o.call(t,function(n){var i=!0;return t.scayt&&(n.hasAttribute(e.options.data_attribute_name)||n.hasAttribute(e.options.problem_grammar_data_attribute))&&(i=!1),i})},scaytMenuDefinition:function(t){var e=this,n=CKEDITOR.plugins.scayt;return{scayt:{scayt_ignore:{label:(t=t.scayt).getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(t){t.scayt.ignoreWord()}},scayt_ignoreall:{label:t.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(t){t.scayt.ignoreAllWords()}},scayt_add:{label:t.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(t){var e=t.scayt;setTimeout(function(){e.addWordToUserDictionary()},10)}},scayt_option:{label:t.getLocal("btn_options"),group:"scayt_control",order:4,exec:function(t){t.scayt.tabToOpen="options",n.openDialog(e.dialogName,t)},verification:function(t){return 1==t.config.scayt_uiTabs[0]}},scayt_language:{label:t.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(t){t.scayt.tabToOpen="langs",n.openDialog(e.dialogName,t)},verification:function(t){return 1==t.config.scayt_uiTabs[1]}},scayt_dictionary:{label:t.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(t){t.scayt.tabToOpen="dictionaries",n.openDialog(e.dialogName,t)},verification:function(t){return 1==t.config.scayt_uiTabs[2]}},scayt_about:{label:t.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(t){t.scayt.tabToOpen="about",n.openDialog(e.dialogName,t)}}},grayt:{grayt_problemdescription:{label:"Grammar problem description",group:"grayt_description",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(t){}},grayt_ignore:{label:t.getLocal("btn_ignore"),group:"grayt_control",order:2,exec:function(t){t.scayt.ignorePhrase()}},grayt_ignoreall:{label:t.getLocal("btn_ignoreAll"),group:"grayt_control",order:3,exec:function(t){t.scayt.ignoreAllPhrases()}}}}},buildSuggestionMenuItems:function(t,e,n){var i={},r={},o=n?"word":"phrase",a=n?"startGrammarCheck":"startSpellCheck",s=t.scayt;if(0<e.length&&"no_any_suggestions"!==e[0])if(n)for(n=0;n<e.length;n++){var l="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_");t.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],o,a)),n<t.config.scayt_maxSuggestions?(t.addMenuItem(l,{label:e[n],command:l,group:"scayt_suggest",order:n+1}),i[l]=CKEDITOR.TRISTATE_OFF):(t.addMenuItem(l,{label:e[n],command:l,group:"scayt_moresuggest",order:n+1}),r[l]=CKEDITOR.TRISTATE_OFF,"on"===t.config.scayt_moreSuggestions&&(t.addMenuItem("scayt_moresuggest",{label:s.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return r}}),i.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(n=0;n<e.length;n++)l="grayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_"),t.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],o,a)),t.addMenuItem(l,{label:e[n],command:l,group:"grayt_suggest",order:n+1}),i[l]=CKEDITOR.TRISTATE_OFF;else i.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,t.addCommand("no_scayt_suggest",{exec:function(){}}),t.addMenuItem("no_scayt_suggest",{label:s.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return i},menuGenerator:function(t,e){var n,i,r,o,a=t.scayt,s=this.scaytMenuDefinition(t),l={},c=t.config.scayt_contextCommands.split("|"),u=e.getAttribute(a.getLangAttribute())||a.getLang();if(i=a.isScaytNode(e),r=a.isGraytNode(e),i?(s=s.scayt,n=e.getAttribute(a.getScaytNodeAttributeName()),a.fire("getSuggestionsList",{lang:u,word:n}),l=this.buildSuggestionMenuItems(t,CKEDITOR.plugins.scayt.suggestions,i)):r&&(s=s.grayt,l=e.getAttribute(a.getGraytNodeAttributeName()),a.getGraytNodeRuleAttributeName?(n=e.getAttribute(a.getGraytNodeRuleAttributeName()),a.getProblemDescriptionText(l,n,u)):a.getProblemDescriptionText(l,u),o=a.getProblemDescriptionText(l,n,u),s.grayt_problemdescription&&o&&(o=o.replace(/([.!?])\s/g,"$1<br>"),s.grayt_problemdescription.label=o),a.fire("getGrammarSuggestionsList",{lang:u,phrase:l,rule:n}),l=this.buildSuggestionMenuItems(t,CKEDITOR.plugins.scayt.suggestions,i)),i&&"off"==t.config.scayt_contextCommands)return l;for(var d in s)i&&-1==CKEDITOR.tools.indexOf(c,d.replace("scayt_",""))&&"all"!=t.config.scayt_contextCommands||r&&"grayt_problemdescription"!==d&&-1==CKEDITOR.tools.indexOf(c,d.replace("grayt_",""))&&"all"!=t.config.scayt_contextCommands||(l[d]=void 0!==s[d].state?s[d].state:CKEDITOR.TRISTATE_OFF,"function"!=typeof s[d].verification||s[d].verification(t)||delete l[d],t.addCommand(d,{exec:s[d].exec}),t.addMenuItem(d,{label:t.lang.scayt[s[d].label]||s[d].label,command:d,group:s[d].group,order:s[d].order}));return l},createCommand:function(t,e,n){return{exec:function(i){i=i.scayt;var r={};r[e]=t,i.replaceSelectionNode(r),"startGrammarCheck"===n&&i.removeMarkupInSelectionNode({grammarOnly:!0}),i.fire(n)}}}}),CKEDITOR.plugins.scayt={charsToObserve:[{charName:"cke-fillingChar",charCode:function(){var t,e,n=CKEDITOR.version,i=[4,5,6],r=String.fromCharCode(8203),o=Array(8).join(r);if(!n)return r;n=n.split(".");for(var a=0;a<i.length;a++){if(t=i[a],(e=Number(n[a]))>t)return o;if(e<t)break}return r}()}],state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",misspelled_word_class:"scayt-misspell-word",problem_grammar_data_attribute:"data-grayt-phrase",problem_grammar_class:"gramm-problem"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},openDialog:function(t,e){var n=e.scayt;n.isAllModulesReady&&!1===n.isAllModulesReady()||(e.lockSelection(),e.openDialog(t))},alarmCompatibilityMessage:function(){5>this.warningCounter&&(console.warn("You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net."),this.warningCounter+=1)},isNewUdSupported:function(t){return!!t.getUserDictionary},reloadMarkup:function(t){var e;t&&(e=t.getScaytLangList(),t.reloadMarkup?t.reloadMarkup():(this.alarmCompatibilityMessage(),e&&e.ltr&&e.rtl&&t.fire("startSpellCheck, startGrammarCheck")))},replaceOldOptionsNames:function(t){for(var e in t)e in this.backCompatibilityMap&&(t[this.backCompatibilityMap[e]]=t[e],delete t[e])},createScayt:function(t){var e=this,n=CKEDITOR.plugins.scayt;this.loadScaytLibrary(t,function(t){function i(t){return new SCAYT.CKSCAYT(t,function(){},function(){})}var r;if(t.window&&(r="BODY"==t.editable().$.nodeName?t.window.getFrame():t.editable()),r){var o;r={lang:t.config.scayt_sLang,container:r.$,customDictionary:t.config.scayt_customDictionaryIds,userDictionaryName:t.config.scayt_userDictionaryName,localization:t.langCode,customer_id:t.config.scayt_customerId,customPunctuation:t.config.scayt_customPunctuation,debug:t.config.scayt_debug,data_attribute_name:e.options.data_attribute_name,misspelled_word_class:e.options.misspelled_word_class,problem_grammar_data_attribute:e.options.problem_grammar_data_attribute,problem_grammar_class:e.options.problem_grammar_class,"options-to-restore":t.config.scayt_disableOptionsStorage,focused:t.editable().hasFocus,ignoreElementsRegex:t.config.scayt_elementsToIgnore,ignoreGraytElementsRegex:t.config.grayt_elementsToIgnore,minWordLength:t.config.scayt_minWordLength,graytAutoStartup:t.config.grayt_autoStartup,charsToObserve:n.charsToObserve},t.config.scayt_serviceProtocol&&(r.service_protocol=t.config.scayt_serviceProtocol),t.config.scayt_serviceHost&&(r.service_host=t.config.scayt_serviceHost),t.config.scayt_servicePort&&(r.service_port=t.config.scayt_servicePort),t.config.scayt_servicePath&&(r.service_path=t.config.scayt_servicePath),"boolean"==typeof t.config.scayt_ignoreAllCapsWords&&(r["ignore-all-caps-words"]=t.config.scayt_ignoreAllCapsWords),"boolean"==typeof t.config.scayt_ignoreDomainNames&&(r["ignore-domain-names"]=t.config.scayt_ignoreDomainNames),"boolean"==typeof t.config.scayt_ignoreWordsWithMixedCases&&(r["ignore-words-with-mixed-cases"]=t.config.scayt_ignoreWordsWithMixedCases),"boolean"==typeof t.config.scayt_ignoreWordsWithNumbers&&(r["ignore-words-with-numbers"]=t.config.scayt_ignoreWordsWithNumbers);try{o=i(r)}catch(t){e.alarmCompatibilityMessage(),delete r.charsToObserve,o=i(r)}o.subscribe("suggestionListSend",function(t){for(var e={},n=[],i=0;i<t.suggestionList.length;i++)e["word_"+t.suggestionList[i]]||(e["word_"+t.suggestionList[i]]=t.suggestionList[i],n.push(t.suggestionList[i]));CKEDITOR.plugins.scayt.suggestions=n}),o.subscribe("selectionIsChanged",function(e){t.getSelection().isLocked&&"restoreSelection"!==e.action&&t.lockSelection(),"restoreSelection"===e.action&&t.selectionChange(!0)}),o.subscribe("graytStateChanged",function(e){n.state.grayt[t.name]=e.state}),o.addMarkupHandler&&o.addMarkupHandler(function(e){var n=t.editable(),i=n.getCustomData(e.charName);i&&(i.$=e.node,n.setCustomData(e.charName,i))}),t.scayt=o,t.fire("scaytButtonState",t.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else n.state.scayt[t.name]=!1})},destroy:function(t){t.scayt&&t.scayt.destroy(),delete t.scayt,t.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(t,e){var n,i=function(){CKEDITOR.fireOnce("scaytReady"),t.scayt||"function"==typeof e&&e(t)};void 0===window.SCAYT||"function"!=typeof window.SCAYT.CKSCAYT?(n=t.config.scayt_srcUrl,CKEDITOR.scriptLoader.load(n,function(t){t&&i()})):window.SCAYT&&"function"==typeof window.SCAYT.CKSCAYT&&i()}},CKEDITOR.on("dialogDefinition",function(t){var e=t.data.name;t=t.data.definition.dialog,"scaytDialog"!==e&&"checkspell"!==e&&(t.on("show",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,n=t.scayt;n&&e.state.scayt[t.name]&&n.setMarkupPaused&&n.setMarkupPaused(!0)}),t.on("hide",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,n=t.scayt;n&&e.state.scayt[t.name]&&n.setMarkupPaused&&n.setMarkupPaused(!1)})),"scaytDialog"===e&&t.on("cancel",function(t){return!1},this,null,-1),"checkspell"===e&&t.on("cancel",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,n=t.scayt;n&&e.state.scayt[t.name]&&n.setMarkupPaused&&n.setMarkupPaused(!1),t.unlockSelection()},this,null,-2),"link"===e&&t.on("ok",function(t){var e=t.sender&&t.sender.getParentEditor();e&&setTimeout(function(){e.fire("reloadMarkupScayt",{removeOptions:{removeInside:!0,forceBookmark:!0},timeout:0})},0)}),"replace"===e&&t.on("hide",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,n=t.scayt;t&&setTimeout(function(){n&&(n.fire("removeMarkupInDocument",{}),e.reloadMarkup(n))},0)})}),CKEDITOR.on("scaytReady",function(){!0===CKEDITOR.config.scayt_handleCheckDirty&&((t=CKEDITOR.editor.prototype).checkDirty=CKEDITOR.tools.override(t.checkDirty,function(t){return function(){var e=null,n=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(e="ready"==this.status){var i=n.removeMarkupFromString(this.getSnapshot());n=n.removeMarkupFromString(this._.previousValue),e=e&&n!==i}}else e=t.call(this);return e}}),t.resetDirty=CKEDITOR.tools.override(t.resetDirty,function(t){return function(){var e=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=e.removeMarkupFromString(this.getSnapshot()):t.call(this)}}));if(!0===CKEDITOR.config.scayt_handleUndoRedo){var t,e="function"==typeof(t=CKEDITOR.plugins.undo.Image.prototype).equalsContent?"equalsContent":"equals";t[e]=CKEDITOR.tools.override(t[e],function(t){return function(e){var n,i=e.editor.scayt,r=this.contents,o=e.contents;return CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[e.editor.name]&&e.editor.scayt&&(this.contents=i.removeMarkupFromString(r)||"",e.contents=i.removeMarkupFromString(o)||""),n=t.apply(this,arguments),this.contents=r,e.contents=o,n}})}}),function(){var t={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(t){this.toggleState(),this.refresh(t)},refresh:function(t){if(t.document){var e=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";t.editable()[e]("cke_show_borders")}}};CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var t;t=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,"cke_show_borders "),CKEDITOR.addCss(t)},init:function(e){var n=e.addCommand("showborders",t);n.canUndo=!1,!1!==e.config.startupShowBorders&&n.setState(CKEDITOR.TRISTATE_ON),e.on("mode",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(e)},null,null,100),e.on("contentDom",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(e)}),e.on("removeFormatCleanup",function(t){t=t.data,e.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&t.is("table")&&(!t.hasAttribute("border")||0>=parseInt(t.getAttribute("border"),10))&&t.addClass("cke_show_border")})},afterInit:function(t){var e=t.dataProcessor;t=e&&e.dataFilter,e=e&&e.htmlFilter,t&&t.addRules({elements:{table:function(t){var e=(t=t.attributes).class,n=parseInt(t.border,10);n&&!(0>=n)||e&&-1!=e.indexOf("cke_show_border")||(t.class=(e||"")+" cke_show_border")}}}),e&&e.addRules({elements:{table:function(t){var e=(t=t.attributes).class;e&&(t.class=e.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}}),CKEDITOR.on("dialogDefinition",function(t){var e=t.data.name;"table"!=e&&"tableProperties"!=e||((e=(t=t.data.definition).getContents("info").get("txtBorder")).commit=CKEDITOR.tools.override(e.commit,function(t){return function(e,n){t.apply(this,arguments);var i=parseInt(this.getValue(),10);n[!i||0>=i?"addClass":"removeClass"]("cke_show_border")}}),(t=(t=t.getContents("advanced"))&&t.get("advCSSClasses"))&&(t.setup=CKEDITOR.tools.override(t.setup,function(t){return function(){t.apply(this,arguments),this.setValue(this.getValue().replace(/cke_show_border/,""))}}),t.commit=CKEDITOR.tools.override(t.commit,function(t){return function(e,n){t.apply(this,arguments),parseInt(n.getAttribute("border"),10)||n.addClass("cke_show_border")}})))})}(),function(){CKEDITOR.plugins.add("sourcearea",{init:function(e){function n(){var t=r&&this.equals(CKEDITOR.document.getActive());this.hide(),this.setStyle("height",this.getParent().$.clientHeight+"px"),this.setStyle("width",this.getParent().$.clientWidth+"px"),this.show(),t&&this.focus()}if(e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var i=CKEDITOR.plugins.sourcearea;e.addMode("source",function(i){var r=e.ui.space("contents").getDocument().createElement("textarea");r.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",e.config.sourceAreaTabSize||4))),r.setAttribute("dir","ltr"),r.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu"),e.ui.space("contents").append(r),(r=e.editable(new t(e,r))).setData(e.getData(1)),CKEDITOR.env.ie&&(r.attachListener(e,"resize",n,r),r.attachListener(CKEDITOR.document.getWindow(),"resize",n,r),CKEDITOR.tools.setTimeout(n,0,r)),e.fire("ariaWidget",this),i()}),e.addCommand("source",i.commands.source),e.ui.addButton&&e.ui.addButton("Source",{label:e.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"}),e.on("mode",function(){e.getCommand("source").setState("source"==e.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var r=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var t=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(t){this.setValue(t),this.status="ready",this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(t){this[(t?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){t.baseProto.detach.call(this),this.clearCustomData(),this.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(t){"wysiwyg"==t.mode&&t.fire("saveSnapshot"),t.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED),t.setMode("source"==t.mode?"wysiwyg":"source")},canUndo:!1}}},CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(t){var e=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js"),t.addCommand("specialchar",{exec:function(){var n=t.langCode;n=e.availableLangs[n]?n:e.availableLangs[n.replace(/-.*/,"")]?n.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e.path+"dialogs/lang/"+n+".js"),function(){CKEDITOR.tools.extend(t.lang.specialchar,e.langEntries[n]),t.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:!1}),t.ui.addButton&&t.ui.addButton("SpecialChar",{label:t.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "),CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(t){var e=t.config,n=t.lang.stylescombo,i={},r=[],o=[];t.on("stylesSet",function(n){if(n=n.data.styles){for(var a,s,l,c=0,u=n.length;c<u;c++)a=n[c],t.blockless&&a.element in CKEDITOR.dtd.$block||"string"==typeof a.type&&!CKEDITOR.style.customHandlers[a.type]||(s=a.name,a=new CKEDITOR.style(a),t.filter.customConfig&&!t.filter.check(a))||(a._name=s,a._.enterMode=e.enterMode,a._.type=l=a.assignedTo||a.type,a._.weight=c+1e3*(l==CKEDITOR.STYLE_OBJECT?1:l==CKEDITOR.STYLE_BLOCK?2:3),i[s]=a,r.push(a),o.push(a));r.sort(function(t,e){return t._.weight-e._.weight})}}),t.on("stylesRemove",function(e){var n,r=void 0===(e=e.data&&e.data.type);for(n in i){var o=i[n];(r||o.type===e)&&t.removeStyle(o)}}),t.ui.addRichCombo("Styles",{label:n.label,title:n.panelTitle,toolbar:"styles,10",allowedContent:o,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(e.contentsCss),multiSelect:!0,attributes:{"aria-label":n.panelTitle}},init:function(){var t,e,i,o,a,s;for(a=0,s=r.length;a<s;a++)e=(t=r[a])._name,(o=t._.type)!=i&&(this.startGroup(n["panelTitle"+String(o)]),i=o),this.add(e,t.type==CKEDITOR.STYLE_OBJECT?e:t.buildPreview(),e);this.commit()},onClick:function(e){t.focus(),t.fire("saveSnapshot"),e=i[e];var n=t.elementPath();e.group&&e.removeStylesFromSameGroup(t)?t.applyStyle(e):t[e.checkActive(n,t)?"removeStyle":"applyStyle"](e),t.fire("saveSnapshot")},onRender:function(){t.on("selectionChange",function(e){for(var n,r=this.getValue(),o=0,a=(e=e.data.path.elements).length;o<a;o++)for(var s in n=e[o],i)if(i[s].checkElementRemovable(n,!0,t))return void(s!=r&&this.setValue(s));this.setValue("")},this)},onOpen:function(){var e=(e=t.getSelection()).getSelectedElement()||e.getStartElement()||t.editable(),r=(e=t.elementPath(e),[0,0,0,0]);for(var o in this.showAll(),this.unmarkAll(),i){var a=i[o],s=a._.type;a.checkApplicable(e,t,t.activeFilter)?r[s]++:this.hideItem(o),a.checkActive(e,t)&&this.mark(o)}r[CKEDITOR.STYLE_BLOCK]||this.hideGroup(n["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]),r[CKEDITOR.STYLE_INLINE]||this.hideGroup(n["panelTitle"+String(CKEDITOR.STYLE_INLINE)]),r[CKEDITOR.STYLE_OBJECT]||this.hideGroup(n["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var e=t.elementPath();if(e){for(var n in i)if(i[n].checkApplicable(e,t,t.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){i={},r=[]}})}}),function(){function t(t){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(e){if(e.editable().hasFocus){var n,i=e.getSelection();if(n=new CKEDITOR.dom.elementPath(i.getCommonAncestor(),i.root).contains({td:1,th:1},1)){i=e.createRange();if((o=CKEDITOR.tools.tryThese(function(){var e=n.getParent().$.cells[n.$.cellIndex+(t?-1:1)];return e.parentNode.parentNode,e},function(){var e;return(e=(e=n.getParent()).getAscendant("table").$.rows[e.$.rowIndex+(t?-1:1)]).cells[t?e.cells.length-1:0]}))||t){if(!o)return!0;o=new CKEDITOR.dom.element(o),i.moveToElementEditStart(o),i.checkStartOfBlock()&&i.checkEndOfBlock()||i.selectNodeContents(o)}else{for(var r=n.getAscendant("table").$,o=n.getParent().$.cells,a=(r=new CKEDITOR.dom.element(r.insertRow(-1),e.document),0),s=o.length;a<s;a++)r.append(new CKEDITOR.dom.element(o[a],e.document).clone(!1,!1)).appendBogus();i.moveToElementEditStart(r)}return i.select(!0),!0}}return!1}}}var e={editorFocus:!1,modes:{wysiwyg:1,source:1}},n={exec:function(t){t.container.focusNext(!0,t.tabIndex)}},i={exec:function(t){t.container.focusPrevious(!0,t.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(r){for(var o=!1!==r.config.enableTabKeyTools,a=r.config.tabSpaces||0,s="";a--;)s+="Â ";s&&r.on("key",function(t){9==t.data.keyCode&&(r.insertText(s),t.cancel())}),o&&r.on("key",function(t){(9==t.data.keyCode&&r.execCommand("selectNextCell")||t.data.keyCode==CKEDITOR.SHIFT+9&&r.execCommand("selectPreviousCell"))&&t.cancel()}),r.addCommand("blur",CKEDITOR.tools.extend(n,e)),r.addCommand("blurBack",CKEDITOR.tools.extend(i,e)),r.addCommand("selectNextCell",t()),r.addCommand("selectPreviousCell",t(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(t,e){var n,i,r,o,a,s,l=void 0===e?this.getTabIndex():e;if(0>=l)for(a=this.getNextSourceNode(t,CKEDITOR.NODE_ELEMENT);a;){if(a.isVisible()&&0===a.getTabIndex()){r=a;break}a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(a=this.getDocument().getBody().getFirst();a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!i&&a.equals(this)){if(i=!0,t){if(!(a=a.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else i&&!this.contains(a)&&(n=1);if(a.isVisible()&&!(0>(s=a.getTabIndex()))){if(n&&s==l){r=a;break}s>l&&(!r||!o||s<o)?(r=a,o=s):r||0!==s||(r=a,o=s)}}r&&r.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(t,e){for(var n,i,r,o,a=void 0===e?this.getTabIndex():e,s=0,l=this.getDocument().getBody().getLast();l=l.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!i&&l.equals(this)){if(i=!0,t){if(!(l=l.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else i&&!this.contains(l)&&(n=1);if(l.isVisible()&&!(0>(o=l.getTabIndex())))if(0>=a){if(n&&0===o){r=l;break}o>s&&(r=l,s=o)}else{if(n&&o==a){r=l;break}o<a&&(!r||o>s)&&(r=l,s=o)}}r&&r.focus()},CKEDITOR.plugins.add("table",{requires:"dialog",init:function(t){function e(t){return CKEDITOR.tools.extend(t||{},{contextSensitive:1,refresh:function(t,e){this.setState(e.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!t.blockless){var n=t.lang.table;t.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height,border-collapse}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];td{border*,background-color,vertical-align,width,height}[colspan,rowspan];"+(t.plugins.dialogadvtab?"table"+t.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"],["td: splitBorderShorthand"],[{element:"table",right:function(t){if(t.styles){var e;if(t.styles.border)e=CKEDITOR.tools.style.parse.border(t.styles.border);else if(CKEDITOR.env.ie&&8===CKEDITOR.env.version){var n=t.styles;n["border-left"]&&n["border-left"]===n["border-right"]&&n["border-right"]===n["border-top"]&&n["border-top"]===n["border-bottom"]&&(e=CKEDITOR.tools.style.parse.border(n["border-top"]))}e&&e.style&&"solid"===e.style&&e.width&&0!==parseFloat(e.width)&&(t.attributes.border=1),"collapse"==t.styles["border-collapse"]&&(t.attributes.cellspacing=0)}}}]]})),t.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",e())),t.addCommand("tableDelete",e({exec:function(t){var e=t.elementPath().contains("table",1);if(e){var n=e.getParent(),i=t.editable();1!=n.getChildCount()||n.is("td","th")||n.equals(i)||(e=n),(t=t.createRange()).moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e.remove(),t.select()}}})),t.ui.addButton&&t.ui.addButton("Table",{label:n.toolbar,command:"table",toolbar:"insert,30"}),CKEDITOR.dialog.add("table",this.path+"dialogs/table.js"),CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js"),t.addMenuItems&&t.addMenuItems({table:{label:n.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:n.deleteTable,command:"tableDelete",group:"table",order:1}}),t.on("doubleclick",function(t){t.data.element.is("table")&&(t.data.dialog="tableProperties")}),t.contextMenu&&t.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function t(t,e){function n(t){return!e||e.contains(t)&&t.getAscendant("table",!0).equals(e)}function i(t){0<r.length||t.type!=CKEDITOR.NODE_ELEMENT||!/^(?:td|th)$/.test(t.getName())||t.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(o,t,"selected_cell",!0),r.push(t))}var r=[],o={};if(!t)return r;for(var a=t.getRanges(),s=0;s<a.length;s++){var l,c;if((l=a[s]).collapsed)(l=l.getCommonAncestor().getAscendant({td:1,th:1},!0))&&n(l)&&r.push(l);else for((l=new CKEDITOR.dom.walker(l)).guard=i;c=l.next();)c.type==CKEDITOR.NODE_ELEMENT&&c.is(CKEDITOR.dtd.table)||(c=c.getAscendant({td:1,th:1},!0))&&!c.getCustomData("selected_cell")&&n(c)&&(CKEDITOR.dom.element.setMarker(o,c,"selected_cell",!0),r.push(c))}return CKEDITOR.dom.element.clearAllMarkers(o),r}function e(e,n){var i=(r=(s=p(e)?e:t(e))[0]).getAscendant("table"),r=r.getDocument(),o=(l=s[0].getParent()).$.rowIndex,a=(s=s[s.length-1]).getParent().$.rowIndex+s.$.rowSpan-1,s=new CKEDITOR.dom.element(i.$.rows[a]),l=(o=n?o:a,n?l:s);for(i=(s=CKEDITOR.tools.buildTableMap(i))[o],o=n?s[o-1]:s[o+1],s=s[0].length,r=r.createElement("tr"),a=0;i[a]&&a<s;a++){var c;1<i[a].rowSpan&&o&&i[a]==o[a]?(c=i[a]).rowSpan+=1:((c=new CKEDITOR.dom.element(i[a]).clone()).removeAttribute("rowSpan"),c.appendBogus(),r.append(c),c=c.$),a+=c.colSpan-1}return n?r.insertBefore(l):r.insertAfter(l),r}function n(e){if(e instanceof CKEDITOR.dom.selection){var i=e.getRanges(),r=(l=t(e))[0].getAscendant("table"),o=CKEDITOR.tools.buildTableMap(r),a=l[0].getParent().$.rowIndex,s=(l=l[l.length-1]).getParent().$.rowIndex+l.$.rowSpan-1,l=[];for(e.reset(),e=a;e<=s;e++){for(var c=o[e],u=new CKEDITOR.dom.element(r.$.rows[e]),d=0;d<c.length;d++){var h=new CKEDITOR.dom.element(c[d]),f=h.getParent().$.rowIndex;1==h.$.rowSpan?h.remove():(--h.$.rowSpan,f==e&&((f=o[e+1])[d-1]?h.insertAfter(new CKEDITOR.dom.element(f[d-1])):new CKEDITOR.dom.element(r.$.rows[e+1]).append(h,1))),d+=h.$.colSpan-1}l.push(u)}for(o=r.$.rows,i[0].moveToPosition(r,CKEDITOR.POSITION_BEFORE_START),a=new CKEDITOR.dom.element(o[s+1]||(0<a?o[a-1]:null)||r.$.parentNode),e=l.length;0<=e;e--)n(l[e]);return r.$.parentNode?a:(i[0].select(),null)}return e instanceof CKEDITOR.dom.element&&(1==(r=e.getAscendant("table")).$.rows.length?r.remove():e.remove()),null}function i(t){for(var e=t.getParent().$.cells,n=0,i=0;i<e.length;i++){var r=e[i];n=n+r.colSpan;if(r==t.$)break}return n-1}function r(t,e){for(var n=e?1/0:0,r=0;r<t.length;r++){var o=i(t[r]);(e?o<n:o>n)&&(n=o)}return n}function o(e,n){for(var i=(a=p(e)?e:t(e))[0].getAscendant("table"),o=r(a,1),a=r(a),s=n?o:a,l=CKEDITOR.tools.buildTableMap(i),c=(i=[],o=[],a=[],l.length),u=0;u<c;u++){var d=n?l[u][s-1]:l[u][s+1];i.push(l[u][s]),o.push(d)}for(u=0;u<c;u++)i[u]&&(1<i[u].colSpan&&o[u]==i[u]?(l=i[u]).colSpan+=1:((l=(s=new CKEDITOR.dom.element(i[u])).clone()).removeAttribute("colSpan"),l.appendBogus(),l[n?"insertBefore":"insertAfter"].call(l,s),a.push(l),l=l.$),u+=l.rowSpan-1);return a}function a(e){CKEDITOR.env.webkit&&!e.isFake&&(e=function(t){var e,n,i=t.getRanges();if(1!==i.length)return t;if((i=i[0]).collapsed||0!==i.endOffset)return t;if("td"!==(n=(e=i.endContainer).getName().toLowerCase())&&"th"!==n)return t;for((n=e.getPrevious())||(n=e.getParent().getPrevious().getLast());n.type!==CKEDITOR.NODE_TEXT&&"br"!==n.getName().toLowerCase();)if(!(n=n.getLast()))return t;return i.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),i.select()}(e));var n,i,r=e.getRanges(),o=(s=t(e))[0],a=s[s.length-1],s=o.getAscendant("table"),l=CKEDITOR.tools.buildTableMap(s),c=[];e.reset();var u=0;for(e=l.length;u<e;u++)for(var d=0,h=l[u].length;d<h;d++)void 0===n&&l[u][d]==o.$&&(n=d),l[u][d]==a.$&&(i=d);for(u=n;u<=i;u++)for(d=0;d<l.length;d++)a=l[d],o=new CKEDITOR.dom.element(s.$.rows[d]),(a=new CKEDITOR.dom.element(a[u])).$&&(1==a.$.colSpan?a.remove():--a.$.colSpan,d+=a.$.rowSpan-1,o.$.cells.length||c.push(o));return n=l[0].length-1>i?new CKEDITOR.dom.element(l[0][i+1]):n&&-1!==l[0][n-1].cellIndex?new CKEDITOR.dom.element(l[0][n-1]):new CKEDITOR.dom.element(s.$.parentNode),c.length==e&&(r[0].moveToPosition(s,CKEDITOR.POSITION_AFTER_END),r[0].select(),s.remove()),n}function s(t,e){var n=t.getStartElement().getAscendant({td:1,th:1},!0);if(n){var i=n.clone();i.appendBogus(),e?i.insertBefore(n):i.insertAfter(n)}}function l(e){if(e instanceof CKEDITOR.dom.selection){var n,i=e.getRanges(),r=t(e),o=r[0]&&r[0].getAscendant("table");t:{var a=0;n=r.length-1;for(var s,u,d={};s=r[a++];)CKEDITOR.dom.element.setMarker(d,s,"delete_cell",!0);for(a=0;s=r[a++];)if((u=s.getPrevious())&&!u.getCustomData("delete_cell")||(u=s.getNext())&&!u.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(d),n=u;break t}CKEDITOR.dom.element.clearAllMarkers(d),(a=(a=r[0].getParent()).getPrevious())?n=a.getLast():n=(a=(a=r[n].getParent()).getNext())?a.getChild(0):null}for(e.reset(),e=r.length-1;0<=e;e--)l(r[e]);n?c(n,!0):o&&(i[0].moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),i[0].select(),o.remove())}else e instanceof CKEDITOR.dom.element&&(1==(i=e.getParent()).getChildCount()?i.remove():e.remove())}function c(t,e){var n=t.getDocument(),i=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(i.focus(),n.focus()),(n=new CKEDITOR.dom.range(n))["moveToElementEdit"+(e?"End":"Start")](t)||(n.selectNodeContents(t),n.collapse(!e)),n.select(!0)}function u(t,e,n){if(t=t[e],void 0===n)return t;for(e=0;t&&e<t.length;e++){if(n.is&&t[e]==n.$)return e;if(e==n)return new CKEDITOR.dom.element(t[e])}return n.is?-1:null}function d(e,n,i){var r,o=t(e);if((n?1!=o.length:2>o.length)||(r=e.getCommonAncestor())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("table"))return!1;r=(e=o[0]).getAscendant("table");var a,s=CKEDITOR.tools.buildTableMap(r),l=s.length,c=s[0].length,d=e.getParent().$.rowIndex,h=u(s,d,e);if(n){var f;try{var p=parseInt(e.getAttribute("rowspan"),10)||1;a=parseInt(e.getAttribute("colspan"),10)||1,f=s["up"==n?d-p:"down"==n?d+p:d]["left"==n?h-a:"right"==n?h+a:h]}catch(t){return!1}if(!f||e.$==f)return!1;o["up"==n||"left"==n?"unshift":"push"](new CKEDITOR.dom.element(f))}n=e.getDocument();var g=d,m=(p=f=0,!i&&new CKEDITOR.dom.documentFragment(n)),v=0;for(n=0;n<o.length;n++){var y=(a=o[n]).getParent(),b=a.getFirst(),w=a.$.colSpan,E=a.$.rowSpan,C=u(s,y=y.$.rowIndex,a);v=v+w*E,p=Math.max(p,C-h+w);f=Math.max(f,y-d+E),i||((E=(w=a).getBogus())&&E.remove(),w.trim(),a.getChildren().count()&&(y==g||!b||b.isBlockBoundary&&b.isBlockBoundary({br:1})||(!(g=m.getLast(CKEDITOR.dom.walker.whitespaces(!0)))||g.is&&g.is("br")||m.append("br")),a.moveChildren(m)),n?a.remove():a.setHtml("")),g=y}if(i)return f*p==v;for(m.moveChildren(e),e.appendBogus(),p>=c?e.removeAttribute("rowSpan"):e.$.rowSpan=f,f>=l?e.removeAttribute("colSpan"):e.$.colSpan=p,n=(o=(i=new CKEDITOR.dom.nodeList(r.$.rows)).count())-1;0<=n;n--)(r=i.getItem(n)).$.cells.length||(r.remove(),o++);return e}function h(e,n){if(1<(i=t(e)).length)return!1;if(n)return!0;var i,r,o=(c=(i=i[0]).getParent()).getAscendant("table"),a=u(d=CKEDITOR.tools.buildTableMap(o),h=c.$.rowIndex,i);if(1<(l=i.$.rowSpan)){r=Math.ceil(l/2);for(var s,l=Math.floor(l/2),c=h+r,d=(o=new CKEDITOR.dom.element(o.$.rows[c]),u(d,c)),h=(c=i.clone(),0);h<d.length;h++){if((s=d[h]).parentNode==o.$&&h>a){c.insertBefore(new CKEDITOR.dom.element(s));break}s=null}s||o.append(c)}else for(l=r=1,(o=c.clone()).insertAfter(c),o.append(c=i.clone()),s=u(d,h),a=0;a<s.length;a++)s[a].rowSpan++;return c.appendBogus(),i.$.rowSpan=r,c.$.rowSpan=l,1==r&&i.removeAttribute("rowSpan"),1==l&&c.removeAttribute("rowSpan"),c}function f(e,n){if(1<(i=t(e)).length)return!1;if(n)return!0;var i,r=(i=i[0]).getParent(),o=r.getAscendant("table"),a=u(o=CKEDITOR.tools.buildTableMap(o),r.$.rowIndex,i);if(1<(s=i.$.colSpan))r=Math.ceil(s/2),s=Math.floor(s/2);else{for(var s=r=1,l=[],c=0;c<o.length;c++){var d=o[c];l.push(d[a]),1<d[a].rowSpan&&(c+=d[a].rowSpan-1)}for(o=0;o<l.length;o++)l[o].colSpan++}return(o=i.clone()).insertAfter(i),o.appendBogus(),i.$.colSpan=r,o.$.colSpan=s,1==r&&i.removeAttribute("colSpan"),1==s&&o.removeAttribute("colSpan"),o}var p=CKEDITOR.tools.isArray;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(i){function r(t){return CKEDITOR.tools.extend(t||{},{contextSensitive:1,refresh:function(t,e){this.setState(e.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function u(t,e){var n=i.addCommand(t,e);i.addFeature(n)}var p=i.lang.table,g=CKEDITOR.tools.style.parse,m="td{width} td{height} td{border-color} td{background-color} td{white-space} td{vertical-align} td{text-align} td[colspan] td[rowspan] th".split(" ");u("cellProperties",new CKEDITOR.dialogCommand("cellProperties",r({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:m,contentTransformations:[[{element:"td",left:function(t){return t.styles.background&&g.background(t.styles.background).color},right:function(t){t.styles["background-color"]=g.background(t.styles.background).color}},{element:"td",check:"td{vertical-align}",left:function(t){return t.attributes&&t.attributes.valign},right:function(t){t.styles["vertical-align"]=t.attributes.valign,delete t.attributes.valign}}],[{element:"tr",check:"td{height}",left:function(t){return t.styles&&t.styles.height},right:function(t){CKEDITOR.tools.array.forEach(t.children,function(e){e.name in{td:1,th:1}&&(e.attributes["cke-row-height"]=t.styles.height)}),delete t.styles.height}}],[{element:"td",check:"td{height}",left:function(t){return(t=t.attributes)&&t["cke-row-height"]},right:function(t){t.styles.height=t.attributes["cke-row-height"],delete t.attributes["cke-row-height"]}}]]}))),CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),u("rowDelete",r({requiredContent:"table",exec:function(t){(t=n(t=t.getSelection()))&&c(t)}})),u("rowInsertBefore",r({requiredContent:"table",exec:function(n){e(n=t(n=n.getSelection()),!0)}})),u("rowInsertAfter",r({requiredContent:"table",exec:function(n){e(n=t(n=n.getSelection()))}})),u("columnDelete",r({requiredContent:"table",exec:function(t){(t=a(t=t.getSelection()))&&c(t,!0)}})),u("columnInsertBefore",r({requiredContent:"table",exec:function(e){o(e=t(e=e.getSelection()),!0)}})),u("columnInsertAfter",r({requiredContent:"table",exec:function(e){o(e=t(e=e.getSelection()))}})),u("cellDelete",r({requiredContent:"table",exec:function(t){l(t=t.getSelection())}})),u("cellMerge",r({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(t,e){e.cell=d(t.getSelection()),c(e.cell,!0)}})),u("cellMergeRight",r({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(t,e){e.cell=d(t.getSelection(),"right"),c(e.cell,!0)}})),u("cellMergeDown",r({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(t,e){e.cell=d(t.getSelection(),"down"),c(e.cell,!0)}})),u("cellVerticalSplit",r({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(t){c(f(t.getSelection()))}})),u("cellHorizontalSplit",r({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(t){c(h(t.getSelection()))}})),u("cellInsertBefore",r({requiredContent:"table",exec:function(t){s(t=t.getSelection(),!0)}})),u("cellInsertAfter",r({requiredContent:"table",exec:function(t){s(t=t.getSelection())}})),i.addMenuItems&&i.addMenuItems({tablecell:{label:p.cell.menu,group:"tablecell",order:1,getItems:function(){var e=t(n=i.getSelection()),n={tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:d(n,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:d(n,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:d(n,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:f(n,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:h(n,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};return i.filter.check(m)&&(n.tablecell_properties=0<e.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),n}},tablecell_insertBefore:{label:p.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:p.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:p.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:p.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:p.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:p.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:p.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:p.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:p.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:p.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:p.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:p.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:p.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:p.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:p.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:p.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:p.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),i.contextMenu&&i.contextMenu.addListener(function(t,e,n){return(t=n.contains({td:1,th:1},1))&&!t.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getCellColIndex:i,insertRow:e,insertColumn:o,getSelectedCells:t},CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(t,e,n,i,r){t=t.$.rows,n=n||0,i="number"==typeof i?i:t.length-1,r="number"==typeof r?r:-1;var o=-1,a=[];for(e=e||0;e<=i;e++){!a[++o]&&(a[o]=[]);for(var s=-1,l=n;l<=(-1===r?t[e].cells.length-1:r);l++){if(!(u=t[e].cells[l]))break;for(s++;a[o][s];)s++;for(var c=isNaN(u.colSpan)?1:u.colSpan,u=isNaN(u.rowSpan)?1:u.rowSpan,d=0;d<u&&!(e+d>i);d++){a[o+d]||(a[o+d]=[]);for(var h=0;h<c;h++)a[o+d][s+h]=t[e].cells[l]}if(s+=c-1,-1!==r&&s>=r)break}}return a},function(){function t(t){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(t)}function e(t,e){var n,i,r=t.getAscendant("table"),o=e.getAscendant("table"),a=CKEDITOR.tools.buildTableMap(r),l=s(t),c=s(e),u=[],d={};for(r.contains(o)&&(c=s(e=e.getAscendant({td:1,th:1}))),l>c&&(r=l,l=c,c=r,r=t,t=e,e=r),r=0;r<a[l].length;r++)if(t.$===a[l][r]){n=r;break}for(r=0;r<a[c].length;r++)if(e.$===a[c][r]){i=r;break}for(n>i&&(r=n,n=i,i=r),r=l;r<=c;r++)for(l=n;l<=i;l++)(o=new CKEDITOR.dom.element(a[r][l])).$&&!o.getCustomData("selected_cell")&&(u.push(o),CKEDITOR.dom.element.setMarker(d,o,"selected_cell",!0));return CKEDITOR.dom.element.clearAllMarkers(d),u}function n(t,e){var n,i=t.editable().find(".cke_table-faked-selection"),r=t.editable().findOne("[data-cke-table-faked-selection-table]");for(t.fire("lockSnapshot"),t.editable().removeClass("cke_table-faked-selection-editor"),n=0;n<i.count();n++)i.getItem(n).removeClass("cke_table-faked-selection");r&&r.data("cke-table-faked-selection-table",!1),t.fire("unlockSnapshot"),e&&(y={active:!1},t.getSelection().isInTable()&&t.getSelection().reset())}function i(t,e){var n,i,r=[];for(i=0;i<e.length;i++)(n=t.createRange()).setStartBefore(e[i]),n.setEndAfter(e[i]),r.push(n);t.getSelection().selectRanges(r)}function r(t){var n=t.editable().find(".cke_table-faked-selection");1>n.count()||i(t,n=e(n.getItem(0),n.getItem(n.count()-1)))}function o(r,o,a){var s,l=p(r.getSelection(!0));if(o=o.is("table")?null:o,(s=y.active&&!y.first)&&!(s=o)&&(s=r.getSelection().getRanges(),s=!!(1<l.length||s[0]&&!s[0].collapsed)),s)y.first=o||l[0],y.dirty=!o&&1!==l.length;else if(y.active&&o&&y.first.getAscendant("table").equals(o.getAscendant("table"))){if(l=e(y.first,o),!y.dirty&&1===l.length&&!t(a.data.getTarget()))return n(r,"mouseup"===a.name);y.dirty=!0,y.last=o,i(r,l)}}function a(t){var e,i=(t=t.editor||t.sender.editor)&&t.getSelection(),r=i&&i.getRanges()||[],o=(o=r&&r[0].getEnclosedNode())&&o.type==CKEDITOR.NODE_ELEMENT&&o.is("img");if(i&&(n(t),i.isInTable()&&i.isFake))if(o)t.getSelection().reset();else if(!r[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored")){for(1===r.length&&r[0]._getTableElement()&&r[0]._getTableElement().is("table")&&(e=r[0]._getTableElement()),e=p(i,e),t.fire("lockSnapshot"),i=0;i<e.length;i++)e[i].addClass("cke_table-faked-selection");0<e.length&&(t.editable().addClass("cke_table-faked-selection-editor"),e[0].getAscendant("table").data("cke-table-faked-selection-table","")),t.fire("unlockSnapshot")}}function s(t){return t.getAscendant("tr",!0).$.rowIndex}function l(e){function i(t){return!t.getAscendant("table",!0)&&t.getDocument().equals(a.document)}if(e.data.getTarget().getName&&("mouseup"===e.name||!t(e.data.getTarget()))){var a=e.editor||e.listenerData.editor,s=a.getSelection(1),c=function(t){return(t=t.editable().findOne(".cke_table-faked-selection"))&&t.getAscendant("table")}(a),u=(d=e.data.getTarget())&&d.getAscendant({td:1,th:1},!0),d=d&&d.getAscendant("table",!0),h={table:1,thead:1,tbody:1,tfoot:1,tr:1,td:1,th:1};d&&d.hasAttribute("data-cke-tableselection-ignored")||(function(t,e,n,r){return!("mousedown"!==t.name||CKEDITOR.tools.getMouseButton(t)!==CKEDITOR.MOUSE_BUTTON_LEFT&&r)||((e=t.name===(CKEDITOR.env.gecko?"mousedown":"mouseup")&&!i(t.data.getTarget()))&&(e=!((t=t.data.getTarget().getAscendant({td:1,th:1},!0))&&t.hasClass("cke_table-faked-selection"))),e)}(e,s,0,d)&&n(a,!0),!y.active&&"mousedown"===e.name&&CKEDITOR.tools.getMouseButton(e)===CKEDITOR.MOUSE_BUTTON_LEFT&&d&&(y={active:!0},CKEDITOR.document.on("mouseup",l,null,{editor:a})),(u||d)&&o(a,u||d,e),"mouseup"===e.name&&(CKEDITOR.tools.getMouseButton(e)===CKEDITOR.MOUSE_BUTTON_LEFT&&(i(e.data.getTarget())||function(t,e){return!(!t||!e)&&(t.equals(e)||t.contains(e)||e.contains(t)||t.getCommonAncestor(e).is(h))}(c,d))&&r(a),y={active:!1},CKEDITOR.document.removeListener("mouseup",l)))}}function c(t){var e=t.data.getTarget().getAscendant("table",!0);e&&e.hasAttribute("data-cke-tableselection-ignored")||(e=t.data.getTarget().getAscendant({td:1,th:1},!0))&&!e.hasClass("cke_table-faked-selection")&&(t.cancel(),t.data.preventDefault())}function u(t){var e=t.editor||t.sender.editor,n=e.getSelection();n.isInTable()&&(n.getRanges()[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored")||function(t,e){var n,i,r,o,a=t.getSelection(),s=a.createBookmarks(),l=t.document,c=t.createRange(),u=l.getDocumentElement().$,d=CKEDITOR.env.ie&&9>CKEDITOR.env.version,h=t.blockless||CKEDITOR.env.ie?"span":"div";l.getById("cke_table_copybin")||(n=l.createElement(h),(i=l.createElement(h)).setAttributes({id:"cke_table_copybin","data-cke-temp":"1"}),n.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),n.setStyle("ltr"==t.config.contentsLangDirection?"left":"right","-5000px"),n.setHtml(t.getSelectedHtml(!0)),t.fire("lockSnapshot"),i.append(n),t.editable().append(i),o=t.on("selectionChange",function(t){t.cancel()},null,null,0),d&&(r=u.scrollTop),c.selectNodeContents(n),c.select(),d&&(u.scrollTop=r),setTimeout(function(){i.remove(),a.selectBookmarks(s),o.removeListener(),t.fire("unlockSnapshot"),e&&(t.extractSelectedHtml(),t.fire("saveSnapshot"))},100))}(e,"cut"===t.name))}function d(t){this._reset(),t&&this.setSelectedCells(t)}function h(t,e,n){t.on("beforeCommandExec",function(n){-1!==CKEDITOR.tools.array.indexOf(e,n.data.name)&&(n.data.selectedCells=p(t.getSelection()))}),t.on("afterCommandExec",function(i){-1!==CKEDITOR.tools.array.indexOf(e,i.data.name)&&n(t,i.data)})}var f,p,g,m,v,y={active:!1};d.prototype={},d.prototype._reset=function(){this.cells={first:null,last:null,all:[]},this.rows={first:null,last:null}},d.prototype.setSelectedCells=function(t){this._reset(),t=t.slice(0),this._arraySortByDOMOrder(t),this.cells.all=t,this.cells.first=t[0],this.cells.last=t[t.length-1],this.rows.first=t[0].getAscendant("tr"),this.rows.last=this.cells.last.getAscendant("tr")},d.prototype.getTableMap=function(){var t,e=g(this.cells.first);t:{var n,i=(t=this.cells.last).getAscendant("table"),r=s(t);i=CKEDITOR.tools.buildTableMap(i);for(n=0;n<i[r].length;n++)if(new CKEDITOR.dom.element(i[r][n]).equals(t)){t=n;break t}t=void 0}return CKEDITOR.tools.buildTableMap(this._getTable(),s(this.rows.first),e,s(this.rows.last),t)},d.prototype._getTable=function(){return this.rows.first.getAscendant("table")},d.prototype.insertRow=function(t,e,n){if(void 0===t)t=1;else if(0>=t)return;for(var i,r=this.cells.first.$.cellIndex,o=this.cells.last.$.cellIndex,a=n?[]:this.cells.all,s=0;s<t;s++)i=m(n?this.cells.all:a,e),i=CKEDITOR.tools.array.filter(i.find("td, th").toArray(),function(t){return!!n||t.$.cellIndex>=r&&t.$.cellIndex<=o}),a=e?i.concat(a):a.concat(i);this.setSelectedCells(a)},d.prototype.insertColumn=function(t){function e(t){return(t=s(t))>=i&&t<=r}if(void 0===t)t=1;else if(0>=t)return;for(var n=(o=this.cells).all,i=s(o.first),r=s(o.last),o=0;o<t;o++)n=n.concat(CKEDITOR.tools.array.filter(v(n),e));this.setSelectedCells(n)},d.prototype.emptyCells=function(t){t=t||this.cells.all;for(var e=0;e<t.length;e++)t[e].setHtml("")},d.prototype._arraySortByDOMOrder=function(t){t.sort(function(t,e){return t.getPosition(e)&CKEDITOR.POSITION_PRECEDING?-1:1})};var b={onPaste:function(t){function n(t){return Math.max.apply(null,CKEDITOR.tools.array.map(t,function(t){return t.length},0))}var r,o,a=t.editor,s=a.getSelection(),l=p(s),c=s.isInTable(!0)&&this.isBoundarySelection(s),u=this.findTableInPastedContent(a,t.data.dataValue);(function(t,e,n,i){var r=(t=t.getRanges()).length&&t[0]._getTableElement({table:1});return!(!e.length||r&&r.hasAttribute("data-cke-tableselection-ignored")||i&&!n)&&((e=!i)&&((e=t[0])?((e=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),e=(e=e.getEnclosedNode())&&e.is&&e.is(CKEDITOR.dtd.$tableContent)):e=void 0,e=!e),!e)})(s,l,u,c)&&(l=l[0].getAscendant("table"),r=new d(p(s,l)),a.once("afterPaste",function(){var t;if(o){t=new CKEDITOR.dom.element(o[0][0]);var n=o[o.length-1];t=e(t,new CKEDITOR.dom.element(n[n.length-1]))}else t=r.cells.all;i(a,t)}),u?(t.stop(),c?(r.insertRow(1,1===c,!0),s.selectElement(r.rows.first)):(r.emptyCells(),i(a,r.cells.all)),t=r.getTableMap(),o=CKEDITOR.tools.buildTableMap(u),r.insertRow(o.length-t.length),r.insertColumn(n(o)-n(t)),t=r.getTableMap(),this.pasteTable(r,t,o),a.fire("saveSnapshot"),setTimeout(function(){a.fire("afterPaste")},0)):(function(t){var e=a.createRange();e.selectNodeContents(t),e.select()}(r.cells.first),a.once("afterPaste",function(){a.fire("lockSnapshot"),r.emptyCells(r.cells.all.slice(1)),i(a,r.cells.all),a.fire("unlockSnapshot")})))},isBoundarySelection:function(t){var e=(t=t.getRanges()[0]).endContainer.getAscendant("tr",!0);if(e&&t.collapsed){if(t.checkBoundaryOfElement(e,CKEDITOR.START))return 1;if(t.checkBoundaryOfElement(e,CKEDITOR.END))return 2}return 0},findTableInPastedContent:function(t,e){var n=t.dataProcessor,i=new CKEDITOR.dom.element("body");return n||(n=new CKEDITOR.htmlDataProcessor(t)),i.setHtml(n.toHtml(e),{fixForBody:!1}),1<i.getChildCount()?null:i.findOne("table")},pasteTable:function(t,e,n){var i,r,o,a,s,l=g(t.cells.first),c=t._getTable(),u={};for(a=0;a<n.length;a++)for(r=new CKEDITOR.dom.element(c.$.rows[t.rows.first.$.rowIndex+a]),s=0;s<n[a].length;s++)o=new CKEDITOR.dom.element(n[a][s]),i=e[a]&&e[a][s]?new CKEDITOR.dom.element(e[a][s]):null,o&&!o.getCustomData("processed")?(i&&i.getParent()?o.replace(i):(0===s||n[a][s-1])&&((i=0!==s?new CKEDITOR.dom.element(n[a][s-1]):null)&&r.equals(i.getParent())?o.insertAfter(i):0<l?r.$.cells[l]?o.insertAfter(new CKEDITOR.dom.element(r.$.cells[l])):r.append(o):r.append(o,!0)),CKEDITOR.dom.element.setMarker(u,o,"processed",!0)):o.getCustomData("processed")&&i&&i.remove();CKEDITOR.dom.element.clearAllMarkers(u)}};CKEDITOR.plugins.tableselection={getCellsBetween:e,keyboardIntegration:function(t){function e(t){var e=t.getEnclosedNode();e&&"function"==typeof e.is&&e.is({td:1,th:1})?e.setText(""):t.deleteContents(),CKEDITOR.tools.array.forEach(t._find("td"),function(t){t.appendBogus()})}var n=t.editable();n.attachListener(n,"keydown",function(t){function n(e,n){if(!n.length)return null;var i=t.createRange(),o=CKEDITOR.dom.range.mergeRanges(n);CKEDITOR.tools.array.forEach(o,function(t){t.enlarge(CKEDITOR.ENLARGE_ELEMENT)});var a=(s=o[0].getBoundaryNodes()).startNode,s=s.endNode;if(a&&a.is&&a.is(r)){for(var l=a.getAscendant("table",!0),c=a.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,l),u=!1,d=function(t){return!a.contains(t)&&t.is&&t.is("td","th")};c&&!d(c);)c=c.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,l);return!c&&s&&s.is&&!s.is("table")&&s.getNext()&&(c=s.getNext().findOne("td, th"),u=!0),c?i["moveToElementEdit"+(u?"Start":"End")](c):(i.setStartBefore(a.getAscendant("table",!0)),i.collapse(!0)),o[0].deleteContents(),[i]}return a?(i.moveToElementEditablePosition(a),[i]):void 0}var i={37:1,38:1,39:1,40:1,8:1,46:1,13:1},r=CKEDITOR.tools.extend({table:1},CKEDITOR.dtd.$tableContent);return delete r.td,delete r.th,function(r){var o,a,s,l,c=r.data.getKey(),u=r.data.getKeystroke(),d=37===c||38==c;if(i[c]&&!t.readOnly&&(o=t.getSelection())&&o.isInTable()&&o.isFake)if(s=(a=o.getRanges())[0]._getTableElement(),l=a[a.length-1]._getTableElement(),(13!==c||t.plugins.enterkey)&&(r.data.preventDefault(),r.cancel()),36<c&&41>c)a[0].moveToElementEditablePosition(d?s:l,!d),o.selectRanges([a[0]]);else if(13!==c||13===u||u===CKEDITOR.SHIFT+13){for(r=0;r<a.length;r++)e(a[r]);(r=n(0,a))?a=r:a[0].moveToElementEditablePosition(s),o.selectRanges(a),13===c&&t.plugins.enterkey?(t.fire("lockSnapshot"),13===u?t.execCommand("enter"):t.execCommand("shiftEnter"),t.fire("unlockSnapshot"),t.fire("saveSnapshot")):13!==c&&t.fire("saveSnapshot")}}}(t),null,null,-1),n.attachListener(n,"keypress",function(n){var i,r=t.getSelection(),o=n.data.$.charCode||13===n.data.getKey();if(!t.readOnly&&r&&r.isInTable()&&r.isFake&&o&&!(n.data.getKeystroke()&CKEDITOR.CTRL)){for(o=(n=r.getRanges())[0].getEnclosedNode().getAscendant({td:1,th:1},!0),i=0;i<n.length;i++)e(n[i]);o&&(n[0].moveToElementEditablePosition(o),r.selectRanges([n[0]]))}},null,null,-1)}},CKEDITOR.plugins.add("tableselection",{requires:"clipboard,tabletools",isSupportedEnvironment:function(){return!(CKEDITOR.env.ie&&11>CKEDITOR.env.version)},onLoad:function(){f=CKEDITOR.plugins.tabletools,p=f.getSelectedCells,g=f.getCellColIndex,m=f.insertRow,v=f.insertColumn,CKEDITOR.document.appendStyleSheet(this.path+"styles/tableselection.css")},init:function(t){this.isSupportedEnvironment()&&(t.addContentsCss&&t.addContentsCss(this.path+"styles/tableselection.css"),t.on("contentDom",function(){var e=t.editable(),n=e.isInline()?e:t.document,i={editor:t};e.attachListener(n,"mousedown",l,null,i),e.attachListener(n,"mousemove",l,null,i),e.attachListener(n,"mouseup",l,null,i),e.attachListener(e,"dragstart",c),e.attachListener(t,"selectionCheck",a),CKEDITOR.plugins.tableselection.keyboardIntegration(t),CKEDITOR.plugins.clipboard&&!CKEDITOR.plugins.clipboard.isCustomCopyCutSupported&&(e.attachListener(e,"cut",u),e.attachListener(e,"copy",u))}),t.on("paste",b.onPaste,b),h(t,"rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter".split(" "),function(t,e){i(t,e.selectedCells)}),h(t,["cellMerge","cellMergeRight","cellMergeDown"],function(t,e){i(t,[e.commandData.cell])}),h(t,["cellDelete"],function(t){n(t,!0)}))}})}(),function(){var t=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],e={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(e){function i(t){a.enabled&&!1!==t.data.command.canUndo&&a.save()}function r(){a.enabled=!e.readOnly&&"wysiwyg"==e.mode,a.onChange()}var a=e.undoManager=new n(e),s=a.editingHandler=new o(a),l=e.addCommand("undo",{exec:function(){a.undo()&&(e.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),c=e.addCommand("redo",{exec:function(){a.redo()&&(e.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});e.setKeystroke([[t[0],"undo"],[t[1],"redo"],[t[2],"redo"]]),a.onChange=function(){l.setState(a.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),c.setState(a.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},e.on("beforeCommandExec",i),e.on("afterCommandExec",i),e.on("saveSnapshot",function(t){a.save(t.data&&t.data.contentOnly)}),e.on("contentDom",s.attachListeners,s),e.on("instanceReady",function(){e.fire("saveSnapshot")}),e.on("beforeModeUnload",function(){"wysiwyg"==e.mode&&a.save(!0)}),e.on("mode",r),e.on("readOnly",r),e.ui.addButton&&(e.ui.addButton("Undo",{label:e.lang.undo.undo,command:"undo",toolbar:"undo,10"}),e.ui.addButton("Redo",{label:e.lang.undo.redo,command:"redo",toolbar:"undo,20"})),e.resetUndo=function(){a.reset(),e.fire("saveSnapshot")},e.on("updateSnapshot",function(){a.currentImage&&a.update()}),e.on("lockSnapshot",function(t){t=t.data,a.lock(t&&t.dontUpdate,t&&t.forceUpdate)}),e.on("unlockSnapshot",a.unlock,a)}}),CKEDITOR.plugins.undo={};var n=CKEDITOR.plugins.undo.UndoManager=function(t){this.strokesRecorded=[0,0],this.locked=null,this.previousKeyGroup=-1,this.limit=t.config.undoStackSize||20,this.strokesLimit=25,this._filterRules=[],this.editor=t,this.reset(),CKEDITOR.env.ie&&this.addFilterRule(function(t){return t.replace(/\s+data-cke-expando=".*?"/g,"")})};n.prototype={type:function(t,e){var i=n.getKeyGroup(t),r=this.strokesRecorded[i]+1;e=e||r>=this.strokesLimit,this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange()),e?(r=0,this.editor.fire("saveSnapshot")):this.editor.fire("change"),this.strokesRecorded[i]=r,this.previousKeyGroup=i},keyGroupChanged:function(t){return n.getKeyGroup(t)!=this.previousKeyGroup},reset:function(){this.snapshots=[],this.index=-1,this.currentImage=null,this.hasRedo=this.hasUndo=!1,this.locked=null,this.resetType()},resetType:function(){this.strokesRecorded=[0,0],this.typing=!1,this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0),this.hasRedo=!!this.getNextImage(!1),this.resetType(),this.onChange()},save:function(t,e,n){var r=this.editor;if(this.locked||"ready"!=r.status||"wysiwyg"!=r.mode)return!1;var o=r.editable();if(!o||"ready"!=o.status)return!1;if(o=this.snapshots,e||(e=new i(r)),!1===e.contents)return!1;if(this.currentImage)if(e.equalsContent(this.currentImage)){if(t||e.equalsSelection(this.currentImage))return!1}else!1!==n&&r.fire("change");return o.splice(this.index+1,o.length-this.index-1),o.length==this.limit&&o.shift(),this.index=o.push(e)-1,this.currentImage=e,!1!==n&&this.refreshState(),!0},restoreImage:function(t){var e,n=this.editor;t.bookmarks&&(n.focus(),e=n.getSelection()),this.locked={level:999},this.editor.loadSnapshot(t.contents),t.bookmarks?e.selectBookmarks(t.bookmarks):CKEDITOR.env.ie&&((e=this.editor.document.getBody().$.createTextRange()).collapse(!0),e.select()),this.locked=null,this.index=t.index,this.currentImage=this.snapshots[this.index],this.update(),this.refreshState(),n.fire("change")},getNextImage:function(t){var e,n=this.snapshots,i=this.currentImage;if(i)if(t){for(e=this.index-1;0<=e;e--)if(t=n[e],!i.equalsContent(t))return t.index=e,t}else for(e=this.index+1;e<n.length;e++)if(t=n[e],!i.equalsContent(t))return t.index=e,t;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var t=this.getNextImage(!0);if(t)return this.restoreImage(t),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var t=this.getNextImage(!1);if(t)return this.restoreImage(t),!0}return!1},update:function(t){if(!this.locked){t||(t=new i(this.editor));for(var e=this.index,n=this.snapshots;0<e&&this.currentImage.equalsContent(n[e-1]);)--e;n.splice(e,this.index-e+1,t),this.index=e,this.currentImage=t}},updateSelection:function(t){if(!this.snapshots.length)return!1;var e=this.snapshots,n=e[e.length-1];return!(!n.equalsContent(t)||n.equalsSelection(t))&&(this.currentImage=e[e.length-1]=t,!0)},lock:function(t,e){if(this.locked)this.locked.level++;else if(t)this.locked={level:1};else{var n=null;if(e)n=!0;else{var r=new i(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(r)&&(n=r)}this.locked={update:n,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var t=this.locked.update;if(this.locked=null,!0===t)this.update();else if(t){var e=new i(this.editor,!0);t.equalsContent(e)||this.update()}}},addFilterRule:function(t){this._filterRules.push(t)}},n.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1},n.keyGroups={PRINTABLE:0,FUNCTIONAL:1},n.isNavigationKey=function(t){return!!n.navigationKeyCodes[t]},n.getKeyGroup=function(t){var i=n.keyGroups;return e[t]?i.FUNCTIONAL:i.PRINTABLE},n.getOppositeKeyGroup=function(t){var e=n.keyGroups;return t==e.FUNCTIONAL?e.PRINTABLE:e.FUNCTIONAL},n.ieFunctionalKeysBug=function(t){return CKEDITOR.env.ie&&n.getKeyGroup(t)==n.keyGroups.FUNCTIONAL};var i=CKEDITOR.plugins.undo.Image=function(t,e){this.editor=t,t.fire("beforeUndoImage");var n=t.getSnapshot();n&&(this.contents=function(t,e){return CKEDITOR.tools.array.reduce(e,function(t,e){return e(t)},t)}(n,t.undoManager._filterRules)),e||(this.bookmarks=(n=n&&t.getSelection())&&n.createBookmarks2(!0)),t.fire("afterUndoImage")},r=/\b(?:href|src|name)="[^"]*?"/gi;i.prototype={equalsContent:function(t){var e=this.contents;return t=t.contents,CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(e=e.replace(r,""),t=t.replace(r,"")),e==t},equalsSelection:function(t){var e=this.bookmarks;if(t=t.bookmarks,e||t){if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var i=e[n],r=t[n];if(i.startOffset!=r.startOffset||i.endOffset!=r.endOffset||!CKEDITOR.tools.arrayCompare(i.start,r.start)||!CKEDITOR.tools.arrayCompare(i.end,r.end))return!1}}return!0}};var o=CKEDITOR.plugins.undo.NativeEditingHandler=function(t){this.undoManager=t,this.ignoreInputEvent=!1,this.keyEventsStack=new a,this.lastKeydownImage=null};o.prototype={onKeydown:function(e){var r=e.data.getKey();229!==r&&(-1<CKEDITOR.tools.indexOf(t,e.data.getKeystroke())?e.data.preventDefault():(this.keyEventsStack.cleanUp(e),e=this.undoManager,this.keyEventsStack.getLast(r)||this.keyEventsStack.push(r),this.lastKeydownImage=new i(e.editor),(n.isNavigationKey(r)||this.undoManager.keyGroupChanged(r))&&(e.strokesRecorded[0]||e.strokesRecorded[1])&&(e.save(!1,this.lastKeydownImage,!1),e.resetType())))},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var t=this.keyEventsStack.getLast();t||(t=this.keyEventsStack.push(0)),this.keyEventsStack.increment(t.keyCode),this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(t.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(t){var e=this.undoManager;t=t.data.getKey();var r=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(t),n.ieFunctionalKeysBug(t)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new i(e.editor,!0))||(0<r?e.type(t):n.isNavigationKey(t)&&this.onNavigationKey(!0))},onNavigationKey:function(t){var e=this.undoManager;!t&&e.save(!0,null,!1)||e.updateSelection(new i(e.editor)),e.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:function(){this.ignoreInputEvent=!1},attachListeners:function(){var t=this.undoManager.editor,e=t.editable(),i=this;e.attachListener(e,"keydown",function(t){i.onKeydown(t),n.ieFunctionalKeysBug(t.data.getKey())&&i.onInput()},null,null,999),e.attachListener(e,CKEDITOR.env.ie?"keypress":"input",i.onInput,i,null,999),e.attachListener(e,"keyup",i.onKeyup,i,null,999),e.attachListener(e,"paste",i.ignoreInputEventListener,i,null,999),e.attachListener(e,"drop",i.ignoreInputEventListener,i,null,999),t.on("afterPaste",i.activateInputEventListener,i,null,999),e.attachListener(e.isInline()?e:t.document.getDocumentElement(),"click",function(){i.onNavigationKey()},null,null,999),e.attachListener(this.undoManager.editor,"blur",function(){i.keyEventsStack.remove(9)},null,null,999)}};var a=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};a.prototype={push:function(t){return t=this.stack.push({keyCode:t,inputs:0}),this.stack[t-1]},getLastIndex:function(t){if("number"!=typeof t)return this.stack.length-1;for(var e=this.stack.length;e--;)if(this.stack[e].keyCode==t)return e;return-1},getLast:function(t){return-1!=(t=this.getLastIndex(t))?this.stack[t]:null},increment:function(t){this.getLast(t).inputs++},remove:function(t){-1!=(t=this.getLastIndex(t))&&this.stack.splice(t,1)},resetInputs:function(t){if("number"==typeof t)this.getLast(t).inputs=0;else for(t=this.stack.length;t--;)this.stack[t].inputs=0},getTotalInputs:function(){for(var t=this.stack.length,e=0;t--;)e+=this.stack[t].inputs;return e},cleanUp:function(t){(t=t.data.$).ctrlKey||t.metaKey||this.remove(17),t.shiftKey||this.remove(16),t.altKey||this.remove(18)}}}(),function(){function t(t,e){CKEDITOR.tools.extend(this,{editor:t,editable:t.editable(),doc:t.document,win:t.window},e,!0),this.inline=this.editable.isInline(),this.inline||(this.frame=this.win.getFrame()),this.target=this[this.inline?"editable":"doc"]}function e(t,e){CKEDITOR.tools.extend(this,e,{editor:t},!0)}function n(t,e){var n=t.editable();CKEDITOR.tools.extend(this,{editor:t,editable:n,inline:n.isInline(),doc:t.document,win:t.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},e,!0),this.hidden={},this.visible={},this.inline||(this.frame=this.win.getFrame()),this.queryViewport();var i=CKEDITOR.tools.bind(this.queryViewport,this),a=CKEDITOR.tools.bind(this.hideVisible,this),s=CKEDITOR.tools.bind(this.removeAll,this);n.attachListener(this.winTop,"resize",i),n.attachListener(this.winTop,"scroll",i),n.attachListener(this.winTop,"resize",a),n.attachListener(this.win,"scroll",a),n.attachListener(this.inline?n:this.frame,"mouseout",function(t){var e=t.data.$.clientX;t=t.data.$.clientY,this.queryViewport(),(e<=this.rect.left||e>=this.rect.right||t<=this.rect.top||t>=this.rect.bottom)&&this.hideVisible(),(0>=e||e>=this.winTopPane.width||0>=t||t>=this.winTopPane.height)&&this.hideVisible()},this),n.attachListener(t,"resize",i),n.attachListener(t,"mode",s),t.on("destroy",s),this.lineTpl=new CKEDITOR.template('<div data-cke-lineutils-line="1" class="cke_reset_all" style="{lineStyle}"><span style="{tipLeftStyle}">&nbsp;</span><span style="{tipRightStyle}">&nbsp;</span></div>').output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},o,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},r,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},r,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}function i(t){var e;return(e=t&&t.type==CKEDITOR.NODE_ELEMENT)&&(e=!(a[t.getComputedStyle("float")]||a[t.getAttribute("align")])),e&&!s[t.getComputedStyle("position")]}CKEDITOR.plugins.add("lineutils"),CKEDITOR.LINEUTILS_BEFORE=1,CKEDITOR.LINEUTILS_AFTER=2,CKEDITOR.LINEUTILS_INSIDE=4,t.prototype={start:function(t){var e,n,i,r,o=this,a=this.editor,s=this.doc,l=CKEDITOR.tools.eventsBuffer(50,function(){a.readOnly||"wysiwyg"!=a.mode||(o.relations={},(n=s.$.elementFromPoint(i,r))&&n.nodeType&&(e=new CKEDITOR.dom.element(n),o.traverseSearch(e),isNaN(i+r)||o.pixelSearch(e,i,r),t&&t(o.relations,i,r)))});this.listener=this.editable.attachListener(this.target,"mousemove",function(t){i=t.data.$.clientX,r=t.data.$.clientY,l.input()}),this.editable.attachListener(this.inline?this.editable:this.frame,"mouseout",function(){l.reset()})},stop:function(){this.listener&&this.listener.removeListener()},getRange:function(){var t={};return t[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START,t[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END,t[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START,function(e){var n=this.editor.createRange();return n.moveToPosition(this.relations[e.uid].element,t[e.type]),n}}(),store:function(){function t(t,e,n){var i=t.getUniqueId();i in n?n[i].type|=e:n[i]={element:t,type:e}}return function(e,n){var r;n&CKEDITOR.LINEUTILS_AFTER&&i(r=e.getNext())&&r.isVisible()&&(t(r,CKEDITOR.LINEUTILS_BEFORE,this.relations),n^=CKEDITOR.LINEUTILS_AFTER),n&CKEDITOR.LINEUTILS_INSIDE&&i(r=e.getFirst())&&r.isVisible()&&(t(r,CKEDITOR.LINEUTILS_BEFORE,this.relations),n^=CKEDITOR.LINEUTILS_INSIDE),t(e,n,this.relations)}}(),traverseSearch:function(t){var e,n,r;do{if(!((r=t.$["data-cke-expando"])&&r in this.relations)){if(t.equals(this.editable))break;if(i(t))for(e in this.lookups)(n=this.lookups[e](t))&&this.store(t,n)}}while((!t||t.type!=CKEDITOR.NODE_ELEMENT||"true"!=t.getAttribute("contenteditable"))&&(t=t.getParent()))},pixelSearch:function(){function t(t,n,r,o,a){for(var s,l=0;a(r)&&(r+=o,25!=++l);)if(s=this.doc.$.elementFromPoint(n,r))if(s==t)l=0;else if(e(t,s)&&(l=0,i(s=new CKEDITOR.dom.element(s))))return s}var e=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(t,e){return t.contains(e)}:function(t,e){return!!(16&t.compareDocumentPosition(e))};return function(e,n,r){var o=this.win.getViewPaneSize().height,a=t.call(this,e.$,n,r,-1,function(t){return 0<t});if(n=t.call(this,e.$,n,r,1,function(t){return t<o}),a)for(this.traverseSearch(a);!a.getParent().equals(e);)a=a.getParent();if(n)for(this.traverseSearch(n);!n.getParent().equals(e);)n=n.getParent();for(;(a||n)&&(a&&(a=a.getNext(i)),a&&!a.equals(n))&&(this.traverseSearch(a),n&&(n=n.getPrevious(i)),n&&!n.equals(a));)this.traverseSearch(n)}}(),greedySearch:function(){this.relations={};for(var t,e,n,r=this.editable.getElementsByTag("*"),o=0;t=r.getItem(o++);)if(!t.equals(this.editable)&&t.type==CKEDITOR.NODE_ELEMENT&&(t.hasAttribute("contenteditable")||!t.isReadOnly())&&i(t)&&t.isVisible())for(n in this.lookups)(e=this.lookups[n](t))&&this.store(t,e);return this.relations}},e.prototype={locate:function(){function t(t,e){var n=t.element[e===CKEDITOR.LINEUTILS_BEFORE?"getPrevious":"getNext"]();return n&&i(n)?(t.siblingRect=n.getClientRect(),e==CKEDITOR.LINEUTILS_BEFORE?(t.siblingRect.bottom+t.elementRect.top)/2:(t.elementRect.bottom+t.siblingRect.top)/2):e==CKEDITOR.LINEUTILS_BEFORE?t.elementRect.top:t.elementRect.bottom}return function(e){var n;for(var i in this.locations={},e)(n=e[i]).elementRect=n.element.getClientRect(),n.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(i,CKEDITOR.LINEUTILS_BEFORE,t(n,CKEDITOR.LINEUTILS_BEFORE)),n.type&CKEDITOR.LINEUTILS_AFTER&&this.store(i,CKEDITOR.LINEUTILS_AFTER,t(n,CKEDITOR.LINEUTILS_AFTER)),n.type&CKEDITOR.LINEUTILS_INSIDE&&this.store(i,CKEDITOR.LINEUTILS_INSIDE,(n.elementRect.top+n.elementRect.bottom)/2);return this.locations}}(),sort:function(){var t,e,n,i;return function(r,o){for(var a in t=this.locations,e=[],t)for(var s in t[a])if(n=Math.abs(r-t[a][s]),e.length){for(i=0;i<e.length;i++)if(n<e[i].dist){e.splice(i,0,{uid:+a,type:s,dist:n});break}i==e.length&&e.push({uid:+a,type:s,dist:n})}else e.push({uid:+a,type:s,dist:n});return void 0!==o?e.slice(0,o):e}}(),store:function(t,e,n){this.locations[t]||(this.locations[t]={}),this.locations[t][e]=n}};var r={display:"block",width:"0px",height:"0px","border-color":"transparent","border-style":"solid",position:"absolute",top:"-6px"},o={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};n.prototype={removeAll:function(){for(var t in this.hidden)this.hidden[t].remove(),delete this.hidden[t];for(t in this.visible)this.visible[t].remove(),delete this.visible[t]},hideLine:function(t){var e=t.getUniqueId();t.hide(),this.hidden[e]=t,delete this.visible[e]},showLine:function(t){var e=t.getUniqueId();t.show(),this.visible[e]=t,delete this.hidden[e]},hideVisible:function(){for(var t in this.visible)this.hideLine(this.visible[t])},placeLine:function(t,e){var n,i,r;if(n=this.getStyle(t.uid,t.type)){for(r in this.visible)if(this.visible[r].getCustomData("hash")!==this.hash){i=this.visible[r];break}if(!i)for(r in this.hidden)if(this.hidden[r].getCustomData("hash")!==this.hash){this.showLine(i=this.hidden[r]);break}i||this.showLine(i=this.addLine()),i.setCustomData("hash",this.hash),this.visible[i.getUniqueId()]=i,i.setStyles(n),e&&e(i)}},getStyle:function(t,e){var n=this.relations[t],i=this.locations[t][e],r={};if(r.width=n.siblingRect?Math.max(n.siblingRect.width,n.elementRect.width):n.elementRect.width,r.top=this.inline?i+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+i,r.top-this.winTopScroll.y<this.rect.top||r.top-this.winTopScroll.y>this.rect.bottom)return!1;for(var o in this.inline?r.left=n.elementRect.left-this.rect.relativeX:(0<n.elementRect.left?r.left=this.rect.left+n.elementRect.left:(r.width+=n.elementRect.left,r.left=this.rect.left),0<(n=r.left+r.width-(this.rect.left+this.winPane.width))&&(r.width-=n)),r.left+=this.winTopScroll.x,r)r[o]=CKEDITOR.tools.cssLength(r[o]);return r},addLine:function(){var t=CKEDITOR.dom.element.createFromHtml(this.lineTpl);return t.appendTo(this.container),t},prepare:function(t,e){this.relations=t,this.locations=e,this.hash=Math.random()},cleanup:function(){var t,e;for(e in this.visible)(t=this.visible[e]).getCustomData("hash")!==this.hash&&this.hideLine(t)},queryViewport:function(){this.winPane=this.win.getViewPaneSize(),this.winTopScroll=this.winTop.getScrollPosition(),this.winTopPane=this.winTop.getViewPaneSize(),this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(t){t=t.getClientRect();var e=this.container.getDocumentPosition(),n=this.container.getComputedStyle("position");return t.relativeX=t.relativeY=0,"static"!=n&&(t.relativeY=e.y,t.relativeX=e.x,t.top-=t.relativeY,t.bottom-=t.relativeY,t.left-=t.relativeX,t.right-=t.relativeX),t}};var a={left:1,right:1,center:1},s={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:t,locator:e,liner:n}}(),function(){function t(t){return t.getName&&!t.hasAttribute("data-cke-temp")}CKEDITOR.plugins.add("widgetselection",{init:function(t){if(CKEDITOR.env.webkit){var e=CKEDITOR.plugins.widgetselection;t.on("contentDom",function(t){var n=(t=t.editor).editable();n.attachListener(n,"keydown",function(t){t.data.getKeystroke()==CKEDITOR.CTRL+65&&CKEDITOR.tools.setTimeout(function(){e.addFillers(n)||e.removeFillers(n)},0)},null,null,-1),t.on("selectionCheck",function(t){e.removeFillers(t.editor.editable())}),t.on("paste",function(t){t.data.dataValue=e.cleanPasteData(t.data.dataValue)}),"selectall"in t.plugins&&e.addSelectAllIntegration(t)})}}}),CKEDITOR.plugins.widgetselection={startFiller:null,endFiller:null,fillerAttribute:"data-cke-filler-webkit",fillerContent:"&nbsp;",fillerTagName:"div",addFillers:function(e){var n=e.editor;if(!this.isWholeContentSelected(e)&&0<e.getChildCount()){var i=e.getFirst(t),r=e.getLast(t);if(i&&i.type==CKEDITOR.NODE_ELEMENT&&!i.isEditable()&&(this.startFiller=this.createFiller(),e.append(this.startFiller,1)),r&&r.type==CKEDITOR.NODE_ELEMENT&&!r.isEditable()&&(this.endFiller=this.createFiller(!0),e.append(this.endFiller,0)),this.hasFiller(e))return(n=n.createRange()).selectNodeContents(e),n.select(),!0}return!1},removeFillers:function(t){if(this.hasFiller(t)&&!this.isWholeContentSelected(t)){var e=t.findOne(this.fillerTagName+"["+this.fillerAttribute+"=start]"),n=t.findOne(this.fillerTagName+"["+this.fillerAttribute+"=end]");this.startFiller&&e&&this.startFiller.equals(e)?this.removeFiller(this.startFiller,t):this.startFiller=e,this.endFiller&&n&&this.endFiller.equals(n)?this.removeFiller(this.endFiller,t):this.endFiller=n}},cleanPasteData:function(t){return t&&t.length&&(t=t.replace(this.createFillerRegex(),"").replace(this.createFillerRegex(!0),"")),t},isWholeContentSelected:function(t){var e=t.editor.getSelection().getRanges()[0];return!(!e||e&&e.collapsed)&&((e=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),!!(e&&t&&e.startContainer&&e.endContainer&&0===e.startOffset&&e.endOffset===t.getChildCount()&&e.startContainer.equals(t)&&e.endContainer.equals(t)))},hasFiller:function(t){return 0<t.find(this.fillerTagName+"["+this.fillerAttribute+"]").count()},createFiller:function(t){var e=new CKEDITOR.dom.element(this.fillerTagName);return e.setHtml(this.fillerContent),e.setAttribute(this.fillerAttribute,t?"end":"start"),e.setAttribute("data-cke-temp",1),e.setStyles({display:"block",width:0,height:0,padding:0,border:0,margin:0,position:"absolute",top:0,left:"-9999px",opacity:0,overflow:"hidden"}),e},removeFiller:function(t,e){if(t){var n,i,r=e.editor,o=e.editor.getSelection().getRanges()[0].startPath(),a=r.createRange();o.contains(t)&&(n=t.getHtml(),i=!0),o="start"==t.getAttribute(this.fillerAttribute),t.remove(),n&&0<n.length&&n!=this.fillerContent?(e.insertHtmlIntoRange(n,r.getSelection().getRanges()[0]),a.setStartAt(e.getChild(e.getChildCount()-1),CKEDITOR.POSITION_BEFORE_END),r.getSelection().selectRanges([a])):i&&(o?a.setStartAt(e.getFirst().getNext(),CKEDITOR.POSITION_AFTER_START):a.setEndAt(e.getLast().getPrevious(),CKEDITOR.POSITION_BEFORE_END),e.editor.getSelection().selectRanges([a]))}},createFillerRegex:function(t){var e=this.createFiller(t).getOuterHtml().replace(/style="[^"]*"/gi,'style="[^"]*"').replace(/>[^<]*</gi,">[^<]*<");return new RegExp((t?"":"^")+e+(t?"$":""))},addSelectAllIntegration:function(t){var e=this;t.editable().attachListener(t,"beforeCommandExec",function(n){var i=t.editable();"selectAll"==n.data.name&&i&&e.addFillers(i)},null,null,9999)}}}(),function(){function t(t){this.editor=t,this.registered={},this.instances={},this.selected=[],this.widgetHoldingFocusedEditable=this.focused=null,this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}},function(t){var n,i,r=t.editor;r.on("toHtml",function(i){var r,o=function(t){var n=[],i=t._.upcasts,r=t._.upcastCallbacks;return{toBeWrapped:n,iterator:function(t){var o,a,s,l,c;if("data-cke-widget-wrapper"in t.attributes)return(t=t.getFirst(e.isParserWidgetElement))&&n.push([t]),!1;if("data-widget"in t.attributes)return n.push([t]),!1;if(c=i.length){if(t.attributes["data-cke-widget-upcasted"])return!1;for(l=0,o=r.length;l<o;++l)if(!1===r[l](t))return;for(l=0;l<c;++l)if(o=i[l],s={},a=o[0](t,s))return a instanceof CKEDITOR.htmlParser.element&&(t=a),t.attributes["data-cke-widget-data"]=encodeURIComponent(JSON.stringify(s)),t.attributes["data-cke-widget-upcasted"]=1,n.push([t,o[1]]),!1}}}}(t);for(i.data.dataValue.forEach(o.iterator,CKEDITOR.NODE_ELEMENT,!0);r=o.toBeWrapped.pop();){var a=r[0],s=a.parent;s.type==CKEDITOR.NODE_ELEMENT&&s.attributes["data-cke-widget-wrapper"]&&s.replaceWith(a),t.wrapElement(r[0],r[1])}n=i.data.protectedWhitespaces?3==i.data.dataValue.children.length&&e.isParserWidgetWrapper(i.data.dataValue.children[1]):1==i.data.dataValue.children.length&&e.isParserWidgetWrapper(i.data.dataValue.children[0])},null,null,8),r.on("dataReady",function(){if(i)for(var n,o,a=r.editable().find(".cke_widget_wrapper"),s=0,l=a.count();s<l;++s)n=a.getItem(s),(o=n.getFirst(e.isDomWidgetElement)).type==CKEDITOR.NODE_ELEMENT&&o.data("widget")?(o.replace(n),t.wrapElement(o)):n.remove();i=0,t.destroyAll(!0),t.initOnAll()}),r.on("loadSnapshot",function(e){/data-cke-widget/.test(e.data)&&(i=1),t.destroyAll(!0)},null,null,9),r.on("paste",function(t){(t=t.data).dataValue=t.dataValue.replace(x,f),t.range&&(t=e.getNestedEditable(r.editable(),t.range.startContainer))&&(t=CKEDITOR.filter.instances[t.data("cke-filter")])&&r.setActiveFilter(t)}),r.on("afterInsertHtml",function(e){e.data.intoRange?t.checkWidgets({initOnlyNew:!0}):(r.fire("lockSnapshot"),t.checkWidgets({initOnlyNew:!0,focusInited:n}),r.fire("unlockSnapshot"))})}(this),function(t){var n=t.editor,i={};n.on("toDataFormat",function(n){var r=CKEDITOR.tools.getNextNumber(),o=[];n.data.downcastingSessionId=r,i[r]=o,n.data.dataValue.forEach(function(n){var i,r=n.attributes;if("data-cke-widget-white-space"in r){i=a(n);var l=s(n);i.parent.attributes["data-cke-white-space-first"]&&(i.value=i.value.replace(/^&nbsp;/g," ")),l.parent.attributes["data-cke-white-space-last"]&&(l.value=l.value.replace(/&nbsp;$/g," "))}if("data-cke-widget-id"in r)(r=t.instances[r["data-cke-widget-id"]])&&(i=n.getFirst(e.isParserWidgetElement),o.push({wrapper:n,element:i,widget:r,editables:{}}),"1"!=i.attributes["data-cke-widget-keep-attr"]&&delete i.attributes["data-widget"]);else if("data-cke-widget-editable"in r)return 0<o.length&&(o[o.length-1].editables[r["data-cke-widget-editable"]]=n),!1},CKEDITOR.NODE_ELEMENT,!0)},null,null,8),n.on("toDataFormat",function(t){if(t.data.downcastingSessionId)for(var e,n,r,o,a,s,l=i[t.data.downcastingSessionId];e=l.shift();){for(s in n=e.widget,r=e.element,o=n._.downcastFn&&n._.downcastFn.call(n,r),t.data.widgetsCopy&&n.getClipboardHtml&&(o=(o=CKEDITOR.htmlParser.fragment.fromHtml(n.getClipboardHtml())).children[0]),e.editables)delete(a=e.editables[s]).attributes.contenteditable,a.setHtml(n.editables[s].getData());o||(o=r),e.wrapper.replaceWith(o)}},null,null,13),n.on("contentDomUnload",function(){t.destroyAll(!0)})}(this),this.on("checkWidgets",r),this.editor.on("contentDomInvalidated",this.checkWidgets,this),function(t){function n(t){return t?t.type==CKEDITOR.NODE_TEXT?n(t.getParent()):o.widgets.getByElement(t):null}function r(){t.fire("checkSelection")}var o=t.editor;o.on("selectionCheck",r),o.on("contentDom",function(){o.editable().attachListener(o,"key",function(){setTimeout(r,10)})}),CKEDITOR.env.ie||t.on("checkSelection",function(){var t=o.getSelection();if(t&&(t=t.getRanges()[0])&&!t.collapsed){var e=n(t.startContainer),i=n(t.endContainer);!e&&i?(t.setEndBefore(i.wrapper),t.select()):e&&!i&&(t.setStartAfter(e.wrapper),t.select())}});t.on("checkSelection",t.checkSelection,t),o.on("selectionChange",function(n){var i=(n=e.getNestedEditable(o.editable(),n.data.selection.getStartElement()))&&t.getByElement(n),r=t.widgetHoldingFocusedEditable;r?r===i&&r.focusedEditable.equals(n)||(h(t,r,null),i&&n&&h(t,i,n)):i&&n&&h(t,i,n)}),o.on("dataReady",function(){p(t).commit()}),o.on("blur",function(){var e;(e=t.focused)&&i(t,e),(e=t.widgetHoldingFocusedEditable)&&h(t,e,null)})}(this),function(t){var n=t.editor;n.on("contentDom",function(){var i,r,o=n.editable(),a=o.isInline()?o:n.document;o.attachListener(a,"mousedown",function(o){var a=o.data.getTarget();i=a instanceof CKEDITOR.dom.element?t.getByElement(a):null,r=0,i&&(i.inline&&a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-drag-handler")?(r=1,t.focused!=i&&n.getSelection().removeAllRanges()):e.getNestedEditable(i.wrapper,a)?i=null:(o.data.preventDefault(),CKEDITOR.env.ie||i.focus()))}),o.attachListener(a,"mouseup",function(){r&&i&&i.wrapper&&(r=0,i.focus())}),CKEDITOR.env.ie&&o.attachListener(a,"mouseup",function(){setTimeout(function(){i&&i.wrapper&&o.contains(i.wrapper)&&(i.focus(),i=null)})})}),n.on("doubleclick",function(n){var i=t.getByElement(n.data.element);if(i&&!e.getNestedEditable(i.wrapper,n.data.element))return i.fire("doubleclick",{element:n.data.element})},null,null,1)}(this),function(t){t.editor.on("key",function(e){var n,i=t.focused,r=t.widgetHoldingFocusedEditable;return i?n=i.fire("key",{keyCode:e.data.keyCode}):r&&(i=e.data.keyCode,e=r.focusedEditable,i==CKEDITOR.CTRL+65?(i=e.getBogus(),(r=r.editor.createRange()).selectNodeContents(e),i&&r.setEndAt(i,CKEDITOR.POSITION_BEFORE_START),r.select(),n=!1):8==i||46==i?(n=r.editor.getSelection().getRanges(),r=n[0],n=!(1==n.length&&r.collapsed&&r.checkBoundaryOfElement(e,CKEDITOR[8==i?"START":"END"]))):n=void 0),n},null,null,1)}(this),function(t){var n=t.editor,i=CKEDITOR.plugins.lineutils;n.on("dragstart",function(i){var r=i.data.target;e.isDomDragHandler(r)&&(r=t.getByElement(r),i.data.dataTransfer.setData("cke/widget-id",r.id),n.focus(),r.focus())}),n.on("drop",function(e){var i=e.data.dataTransfer,r=i.getData("cke/widget-id"),o=i.getTransferType(n),i=n.createRange();""!==r&&o===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?e.cancel():o==CKEDITOR.DATA_TRANSFER_INTERNAL&&(""===r&&0<n.widgets.selected.length?e.data.dataTransfer.setData("text/html",E(n)):(r=t.instances[r])&&(i.setStartBefore(r.wrapper),i.setEndAfter(r.wrapper),e.data.dragRange=i,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,e.data.dataTransfer.setData("text/html",r.getClipboardHtml()),n.widgets.destroy(r,!0)))}),n.on("contentDom",function(){var r=n.editable();CKEDITOR.tools.extend(t,{finder:new i.finder(n,{lookups:{default:function(n){if(!n.is(CKEDITOR.dtd.$listItem)&&n.is(CKEDITOR.dtd.$block)&&!e.isDomNestedEditable(n)&&!t._.draggedWidget.wrapper.contains(n)){var i=e.getNestedEditable(r,n);if(i){if(n=t._.draggedWidget,t.getByElement(i)==n)return;if(i=CKEDITOR.filter.instances[i.data("cke-filter")],n=n.requiredContent,i&&n&&!i.check(n))return}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),locator:new i.locator(n),liner:new i.liner(n,{lineStyle:{cursor:"move !important","border-top-color":"#666"},tipLeftStyle:{"border-left-color":"#666"},tipRightStyle:{"border-right-color":"#666"}})},!0)})}(this),function(t){function e(e){1>t.selected.length||v(n,"cut"===e.name)}var n=t.editor;n.on("contentDom",function(){var t=n.editable();t.attachListener(t,"copy",e),t.attachListener(t,"cut",e)})}(this)}function e(t,n,i,r,o){var a=t.editor;CKEDITOR.tools.extend(this,r,{editor:a,id:n,inline:"span"==i.getParent().getName(),element:i,data:CKEDITOR.tools.extend({},"function"==typeof r.defaults?r.defaults():r.defaults),dataReady:!1,inited:!1,ready:!1,edit:e.prototype.edit,focusedEditable:null,definition:r,repository:t,draggable:!1!==r.draggable,_:{downcastFn:r.downcast&&"string"==typeof r.downcast?r.downcasts[r.downcast]:r.downcast}},!0),t.fire("instanceCreated",this),function(t,n){(function(t){(t.wrapper=t.element.getParent()).setAttribute("data-cke-widget-id",t.id)})(t),C(t),function(t){var e,n,i=t.editables;if(t.editables={},t.editables)for(e in i)n=i[e],t.initEditable(e,"string"==typeof n?{selector:n}:n)}(t),T(t),function(t){if(t.draggable){var n,i=t.editor,r=t.wrapper.getLast(e.isDomDragHandlerContainer);r?n=r.findOne("img"):((r=new CKEDITOR.dom.element("span",i.document)).setAttributes({class:"cke_reset cke_widget_drag_handler_container",style:"background:rgba(220,220,220,0.5);background-image:url("+i.plugins.widget.path+"images/handle.png);display:none;"}),(n=new CKEDITOR.dom.element("img",i.document)).setAttributes({class:"cke_reset cke_widget_drag_handler","data-cke-widget-drag-handler":"1",src:CKEDITOR.tools.transparentImageData,width:15,title:i.lang.widget.move,height:15,role:"presentation"}),t.inline&&n.setAttribute("draggable","true"),r.append(n),t.wrapper.append(r)),t.wrapper.on("dragover",function(t){t.data.preventDefault()}),t.wrapper.on("mouseenter",t.updateDragHandlerPosition,t),setTimeout(function(){t.on("data",t.updateDragHandlerPosition,t)},50),!t.inline&&(n.on("mousedown",O,t),CKEDITOR.env.ie&&9>CKEDITOR.env.version)&&n.on("dragstart",function(t){t.data.preventDefault(!0)}),t.dragHandlerContainer=r}}(t),function(t){var e=null;t.on("data",function(){var t,n=this.data.classes;if(e!=n){for(t in e)n&&n[t]||this.removeClass(t);for(t in n)this.addClass(t);e=n}})}(t),function(t){t.on("data",function(){if(t.wrapper){var e=this.getLabel?this.getLabel():this.editor.lang.widget.label.replace(/%1/,this.pathName||this.element.getName());t.wrapper.setAttribute("role","region"),t.wrapper.setAttribute("aria-label",e)}},null,null,9999)}(t),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&t.wrapper.on("dragstart",function(n){var i=n.data.getTarget();e.getNestedEditable(t,i)||t.inline&&e.isDomDragHandler(i)||n.data.preventDefault()});t.wrapper.removeClass("cke_widget_new"),t.element.addClass("cke_widget_element"),t.on("key",function(e){if(13==(e=e.data.keyCode))t.edit();else{if(e==CKEDITOR.CTRL+67||e==CKEDITOR.CTRL+88)return void v(t.editor,e==CKEDITOR.CTRL+88);if(e in I||CKEDITOR.CTRL&e||CKEDITOR.ALT&e)return}return!1},null,null,999),t.on("doubleclick",function(e){t.edit()&&e.cancel()}),n.data&&t.on("data",n.data);n.edit&&t.on("edit",n.edit)}(this,r),this.init&&this.init(),this.inited=!0,(t=this.element.data("cke-widget-data"))&&this.setData(JSON.parse(decodeURIComponent(t))),o&&this.setData(o),this.data.classes||this.setData("classes",this.getClasses()),this.dataReady=!0,k(this),this.fire("data",this.data),this.isInited()&&a.editable().contains(this.wrapper)&&(this.ready=!0,this.fire("ready"))}function n(t,e,n){CKEDITOR.dom.element.call(this,e.$),this.editor=t,this._={},e=this.filter=n.filter,CKEDITOR.dtd[this.getName()].p?(this.enterMode=e?e.getAllowedEnterMode(t.enterMode):t.enterMode,this.shiftEnterMode=e?e.getAllowedEnterMode(t.shiftEnterMode,!0):t.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function i(t,e){if(t.focused=null,e.isInited()){var n=e.editor.checkDirty();t.fire("widgetBlurred",{widget:e}),e.setFocused(!1),!n&&e.editor.resetDirty()}}function r(t){if(t=t.data,"wysiwyg"==this.editor.mode){var n,i,r,o,a=this.editor.editable(),s=this.instances;if(a){for(n in s)s[n].isReady()&&!a.contains(s[n].wrapper)&&this.destroy(s[n],!0);if(t&&t.initOnlyNew)s=this.initOnAll();else{var l=a.find(".cke_widget_wrapper");s=[];for(n=0,i=l.count();n<i;n++){if(r=l.getItem(n),o=!this.getByElement(r,!0)){t:{o=d;for(var c=r;c=c.getParent();)if(o(c)){o=!0;break t}o=!1}o=!o}o&&a.contains(r)&&(r.addClass("cke_widget_new"),s.push(this.initOn(r.getFirst(e.isDomWidgetElement))))}}t&&t.focusInited&&1==s.length&&s[0].focus()}}}function o(t){if(void 0!==t.attributes&&t.attributes["data-widget"]){var e=a(t),n=s(t),i=!1;e&&e.value&&e.value.match(/^\s/g)&&(e.parent.attributes["data-cke-white-space-first"]=1,e.value=e.value.replace(/^\s/g,"&nbsp;"),i=!0),n&&n.value&&n.value.match(/\s$/g)&&(n.parent.attributes["data-cke-white-space-last"]=1,n.value=n.value.replace(/\s$/g,"&nbsp;"),i=!0),i&&(t.attributes["data-cke-widget-white-space"]=1)}}function a(t){return t.find(function(t){return 3===t.type},!0).shift()}function s(t){return t.find(function(t){return 3===t.type},!0).pop()}function l(t,e,n){if(!n.allowedContent&&!n.disallowedContent)return null;var i=this._.filters[t];return i||(this._.filters[t]=i={}),(t=i[e])||(t=n.allowedContent?new CKEDITOR.filter(n.allowedContent):this.editor.filter.clone(),i[e]=t,n.disallowedContent&&t.disallow(n.disallowedContent)),t}function c(t,e){return{tabindex:-1,contenteditable:"false","data-cke-widget-wrapper":1,"data-cke-filter":"off",class:"cke_widget_wrapper cke_widget_new cke_widget_"+(t?"inline":"block")+(e?" cke_widget_"+e:"")}}function u(t,e){return"boolean"==typeof t.inline?t.inline:!!CKEDITOR.dtd.$inline[e]}function d(t){return t.hasAttribute("data-cke-temp")}function h(t,e,n,i){var r=t.editor;r.fire("lockSnapshot"),n?(i=n.data("cke-widget-editable"),i=e.editables[i],t.widgetHoldingFocusedEditable=e,e.focusedEditable=i,n.addClass("cke_widget_editable_focused"),i.filter&&r.setActiveFilter(i.filter),r.setActiveEnterMode(i.enterMode,i.shiftEnterMode)):(i||e.focusedEditable.removeClass("cke_widget_editable_focused"),e.focusedEditable=null,t.widgetHoldingFocusedEditable=null,r.setActiveFilter(null),r.setActiveEnterMode(null,null)),r.fire("unlockSnapshot")}function f(t,e){return CKEDITOR.tools.trim(e)}function p(t){var e=t.selected,n=[],r=e.slice(0),o=null;return{select:function(t){return 0>CKEDITOR.tools.indexOf(e,t)&&n.push(t),0<=(t=CKEDITOR.tools.indexOf(r,t))&&r.splice(t,1),this},focus:function(t){return o=t,this},commit:function(){var a,s,l=t.focused!==o;for(t.editor.fire("lockSnapshot"),l&&(a=t.focused)&&i(t,a);a=r.pop();)e.splice(CKEDITOR.tools.indexOf(e,a),1),a.isInited()&&(s=a.editor.checkDirty(),a.setSelected(!1),!s&&a.editor.resetDirty());for(l&&o&&(s=t.editor.checkDirty(),t.focused=o,t.fire("widgetFocused",{widget:o}),o.setFocused(!0),!s&&t.editor.resetDirty());a=n.pop();)e.push(a),a.setSelected(!0);t.editor.fire("unlockSnapshot")}}}function g(t,e,n){var i=0;e=y(e);var r,o=t.data.classes||{};if(e){for(o=CKEDITOR.tools.clone(o);r=e.pop();)n?o[r]||(i=o[r]=1):o[r]&&(delete o[r],i=1);i&&t.setData("classes",o)}}function m(t){t.cancel()}function v(t,e){var n,i,r,o=t.widgets.focused;S.hasCopyBin(t)||(i=new S(t,{beforeDestroy:function(){!e&&o&&o.focus(),r&&t.getSelection().selectBookmarks(r),n&&CKEDITOR.plugins.widgetselection.addFillers(t.editable())},afterDestroy:function(){e&&!t.readOnly&&(o?t.widgets.del(o):t.extractSelectedHtml(),t.fire("saveSnapshot"))}}),o||(n=CKEDITOR.env.webkit&&CKEDITOR.plugins.widgetselection.isWholeContentSelected(t.editable()),r=t.getSelection().createBookmarks(!0)),i.handle(E(t)))}function y(t){return(t=(t=t.getDefinition().attributes)&&t.class)?t.split(/\s+/):null}function b(){var t=CKEDITOR.document.getActive(),e=this.editor,n=e.editable();(n.isInline()?n:e.document.getWindow().getFrame()).equals(t)&&e.focusManager.focus(n)}function w(){CKEDITOR.env.gecko&&this.editor.unlockSelection(),CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function E(t){var e=t.getSelectedHtml(!0);return t.widgets.focused?t.widgets.focused.getClipboardHtml():(t.once("toDataFormat",function(t){t.data.widgetsCopy=!0},null,null,-1),t.dataProcessor.toDataFormat(e))}function C(t,e){if(t.partSelectors||(t.partSelectors=t.parts),t.parts){var n,i,r={};for(i in t.partSelectors)e||!t.parts[i]||"string"==typeof t.parts[i]?(n=t.wrapper.findOne(t.partSelectors[i]),r[i]=n):r[i]=t.parts[i];t.parts=r}}function T(t){if(!0===t.mask)!function(t){var e=t.wrapper.findOne(".cke_widget_mask");e||((e=new CKEDITOR.dom.element("img",t.editor.document)).setAttributes({src:CKEDITOR.tools.transparentImageData,class:"cke_reset cke_widget_mask"}),t.wrapper.append(e)),t.mask=e}(t);else if(t.mask){var e,n,i=new CKEDITOR.tools.buffers.throttle(250,_,t),r=CKEDITOR.env.gecko?300:0;if(t.on("focus",function(){i.input(),e=t.editor.on("change",i.input),n=t.on("blur",function(){e.removeListener(),n.removeListener()})}),t.editor.on("instanceReady",function(){setTimeout(function(){i.input()},r)}),t.editor.on("mode",function(){setTimeout(function(){i.input()},r)}),CKEDITOR.env.gecko){var o=t.element.find("img");CKEDITOR.tools.array.forEach(o.toArray(),function(t){t.on("load",function(){i.input()})})}for(var a in t.editables)t.editables[a].on("focus",function(){t.editor.on("change",i.input),n&&n.removeListener()}),t.editables[a].on("blur",function(){t.editor.removeListener("change",i.input)});i.input()}}function _(){if(this.wrapper){this.maskPart=this.maskPart||this.mask;var t,e=this.parts[this.maskPart];if(e&&"string"!=typeof e){(t=this.wrapper.findOne(".cke_widget_partial_mask"))||((t=new CKEDITOR.dom.element("img",this.editor.document)).setAttributes({src:CKEDITOR.tools.transparentImageData,class:"cke_reset cke_widget_partial_mask"}),this.wrapper.append(t)),this.mask=t;var n=t.$,i=e.$,r=!(n.offsetTop==i.offsetTop&&n.offsetLeft==i.offsetLeft);(n.offsetWidth!=i.offsetWidth||n.offsetHeight!=i.offsetHeight||r)&&(n=e.getParent(),i=CKEDITOR.plugins.widget.isDomWidget(n),t.setStyles({top:e.$.offsetTop+(i?0:n.$.offsetTop)+"px",left:e.$.offsetLeft+(i?0:n.$.offsetLeft)+"px",width:e.$.offsetWidth+"px",height:e.$.offsetHeight+"px"}))}}}function O(t){function e(){var e;for(h.reset();e=c.pop();)e.removeListener();var n=u;e=t.sender;var i=this.repository.finder,r=this.repository.liner,o=this.editor,a=this.editor.editable();CKEDITOR.tools.isEmpty(r.visible)||(n=i.getRange(n[0]),this.focus(),o.fire("drop",{dropRange:n,target:n.startContainer})),a.removeClass("cke_widget_dragging"),r.hideVisible(),o.fire("dragend",{target:e})}if(CKEDITOR.tools.getMouseButton(t)===CKEDITOR.MOUSE_BUTTON_LEFT){var n,i,r=this.repository.finder,o=this.repository.locator,a=this.repository.liner,s=this.editor,l=s.editable(),c=[],u=[];this.repository._.draggedWidget=this;var d=r.greedySearch(),h=CKEDITOR.tools.eventsBuffer(50,function(){n=o.locate(d),(u=o.sort(i,1)).length&&(a.prepare(d,n),a.placeLine(u[0]),a.cleanup())});l.addClass("cke_widget_dragging"),c.push(l.on("mousemove",function(t){i=t.data.$.clientY,h.input()})),s.fire("dragstart",{target:t.sender}),c.push(s.document.once("mouseup",e,this)),l.isInline()||c.push(CKEDITOR.document.once("mouseup",e,this))}}function k(t){t.element.data("cke-widget-data",encodeURIComponent(JSON.stringify(t.data)))}function D(){function t(){}function n(t,e,n){return!(!n||!this.checkElement(t))&&((t=n.widgets.getByElement(t,!0))&&t.checkStyleActive(this))}function i(t){function e(t,e,n){for(var i=t.length,r=0;r<i;){if(e.call(n,t[r],r,t))return t[r];r++}}function n(t){return function(e){return function t(e,n){var i=CKEDITOR.tools.object.keys(e),r=CKEDITOR.tools.object.keys(n);if(i.length!==r.length)return!1;for(var o in e)if(("object"!=typeof e[o]||"object"!=typeof n[o]||!t(e[o],n[o]))&&e[o]!==n[o])return!1;return!0}(t.getDefinition(),e.getDefinition())}}var i,o=t.widget;r[o]||(r[o]={});for(var a=0,s=t.group.length;a<s;a++)i=t.group[a],r[o][i]||(r[o][i]=[]),e(i=r[o][i],n(t))||i.push(t)}var r={};CKEDITOR.style.addCustomHandler({type:"widget",setup:function(t){this.widget=t.widget,(this.group="string"==typeof t.group?[t.group]:t.group)&&i(this)},apply:function(t){var e;t instanceof CKEDITOR.editor&&this.checkApplicable(t.elementPath(),t)&&(e=t.widgets.focused,this.group&&this.removeStylesFromSameGroup(t),e.applyStyle(this))},remove:function(t){t instanceof CKEDITOR.editor&&this.checkApplicable(t.elementPath(),t)&&t.widgets.focused.removeStyle(this)},removeStylesFromSameGroup:function(t){var e,n,i=!1;if(!(t instanceof CKEDITOR.editor))return!1;if(n=t.elementPath(),this.checkApplicable(n,t))for(var o=0,a=this.group.length;o<a;o++){e=r[this.widget][this.group[o]];for(var s=0;s<e.length;s++)e[s]!==this&&e[s].checkActive(n,t)&&(t.widgets.focused.removeStyle(e[s]),i=!0)}return i},checkActive:function(t,e){return this.checkElementMatch(t.lastElement,0,e)},checkApplicable:function(t,e){return e instanceof CKEDITOR.editor&&this.checkElement(t.lastElement)},checkElementMatch:n,checkElementRemovable:n,checkElement:function(t){return!!e.isDomWidgetWrapper(t)&&((t=t.getFirst(e.isDomWidgetElement))&&t.data("widget")==this.widget)},buildPreview:function(t){return t||this._.definition.name},toAllowedContentRules:function(t){if(!t)return null;var e,n={};return(t=t.widgets.registered[this.widget])?t.styleableElements?(e=this.getClassesArray())?(n[t.styleableElements]={classes:e,propertiesOnly:!0},n):null:t.styleToAllowedContentRules?t.styleToAllowedContentRules(this):null:null},getClassesArray:function(){var t=this._.definition.attributes&&this._.definition.attributes.class;return t?CKEDITOR.tools.trim(t).split(/\s+/):null},applyToRange:t,removeFromRange:t,applyToObject:t})}CKEDITOR.plugins.add("widget",{requires:"lineutils,clipboard,widgetselection",onLoad:function(){void 0!==CKEDITOR.document.$.querySelectorAll&&(CKEDITOR.addCss('.cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover>.cke_widget_element{outline:2px solid #ffd25c;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid #ffd25c}.cke_widget_wrapper.cke_widget_focused>.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #47a4f5}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:block;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover>.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}.cke_editable[contenteditable="false"] .cke_widget_drag_handler_container{display:none;}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_widget_partial_mask{position:absolute;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}'),D())},beforeInit:function(e){void 0!==CKEDITOR.document.$.querySelectorAll&&(e.widgets=new t(e))},afterInit:function(t){if(void 0!==CKEDITOR.document.$.querySelectorAll){var e,n,i,r=t.widgets.registered;for(n in r)(i=(e=r[n]).button)&&t.ui.addButton&&t.ui.addButton(CKEDITOR.tools.capitalize(e.name,!0),{label:i,command:e.name,toolbar:"insert,10"});!function(t){t.contextMenu&&t.contextMenu.addListener(function(e){if(e=t.widgets.getByElement(e,!0))return e.fire("contextMenu",{})})}(t),function(t){t&&t.addFilterRule(function(t){return t.replace(/\s*cke_widget_selected/g,"").replace(/\s*cke_widget_focused/g,"").replace(/<span[^>]*cke_widget_drag_handler_container[^>]*.*?<\/span>/gim,"")})}(t.undoManager)}}}),t.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(t,e){var n=this.editor;if((e=CKEDITOR.tools.prototypedCopy(e)).name=t,e._=e._||{},n.fire("widgetDefinition",e),e.template&&(e.template=new CKEDITOR.template(e.template)),function(t,e){t.addCommand(e.name,{exec:function(t,n){function i(){t.widgets.finalizeCreation(s)}if((o=t.widgets.focused)&&o.name==e.name)o.edit();else if(e.insert)e.insert({editor:t,commandData:n});else if(e.template){var r,o="function"==typeof e.defaults?e.defaults():e.defaults,a=(o=CKEDITOR.dom.element.createFromHtml(e.template.output(o),t.document),t.widgets.wrapElement(o,e.name)),s=new CKEDITOR.dom.documentFragment(a.getDocument());s.append(a),(r=t.widgets.initOn(o,e,n&&n.startupData))?(o=r.once("edit",function(e){e.data.dialog?r.once("dialog",function(e){var n,o;e=e.data,n=e.once("ok",i,null,null,20),o=e.once("cancel",function(e){e.data&&!1===e.data.hide||t.widgets.destroy(r,!0)}),e.once("hide",function(){n.removeListener(),o.removeListener()})}):i()},null,null,999),r.edit(),o.removeListener()):i()}},allowedContent:e.allowedContent,requiredContent:e.requiredContent,contentForms:e.contentForms,contentTransformations:e.contentTransformations})}(n,e),function(t,e){function n(e,n,i){var r=CKEDITOR.tools.getIndex(t._.upcasts,function(t){return t[2]>i});0>r&&(r=t._.upcasts.length),t._.upcasts.splice(r,0,[CKEDITOR.tools.bind(e,n),n.name,i])}var i=e.upcast,r=e.upcastPriority||10;i&&n("string"==typeof i?function(t,n){var i,r,o=e.upcast.split(",");for(r=0;r<o.length;r++)if((i=o[r])===t.name)return e.upcasts[i].call(this,t,n);return!1}:i,e,r)}(this,e),this.registered[t]=e,e.dialog&&n.plugins.dialog)var i=CKEDITOR.on("dialogDefinition",function(t){var r=(t=t.data.definition).dialog;t.getMode||r.getName()!==e.dialog||(t.getMode=function(){var t=r.getModel(n);return t&&t instanceof CKEDITOR.plugins.widget&&t.ready?CKEDITOR.dialog.EDITING_MODE:CKEDITOR.dialog.CREATION_MODE}),i.removeListener()});return e},addUpcastCallback:function(t){this._.upcastCallbacks.push(t)},checkSelection:function(){if(this.editor.getSelection()){var t,n=this.editor.getSelection(),i=n.getSelectedElement(),r=p(this);if(i&&(t=this.getByElement(i,!0)))return r.focus(t).select(t).commit();if(!(n=n.getRanges()[0])||n.collapsed)return r.commit();for((n=new CKEDITOR.dom.walker(n)).evaluator=e.isDomWidgetWrapper;i=n.next();)r.select(this.getByElement(i));r.commit()}},checkWidgets:function(t){this.fire("checkWidgets",CKEDITOR.tools.copy(t||{}))},del:function(t){if(this.focused===t){var e,n=t.editor,i=n.createRange();(e=i.moveToClosestEditablePosition(t.wrapper,!0))||(e=i.moveToClosestEditablePosition(t.wrapper,!1)),e&&n.getSelection().selectRanges([i])}t.wrapper.remove(),this.destroy(t,!0)},destroy:function(t,e){this.widgetHoldingFocusedEditable===t&&h(this,t,null,e),t.destroy(e),delete this.instances[t.id],this.fire("instanceDestroyed",t)},destroyAll:function(t,e){var n,i,r=this.instances;if(e&&!t){r=(i=e.find(".cke_widget_wrapper")).count();for(var o=0;o<r;++o)(n=this.getByElement(i.getItem(o),!0))&&this.destroy(n)}else for(i in r)n=r[i],this.destroy(n,t)},finalizeCreation:function(t){(t=t.getFirst())&&e.isDomWidgetWrapper(t)&&(this.editor.insertElement(t),(t=this.getByElement(t)).ready=!0,t.fire("ready"),t.focus())},getByElement:function(){function t(t){return t.is(e)&&t.data("cke-widget-id")}var e={div:1,span:1};return function(e,n){if(!e)return null;var i=t(e);if(!n&&!i){var r=this.editor.editable();do{e=e.getParent()}while(e&&!e.equals(r)&&!(i=t(e)))}return this.instances[i]||null}}(),initOn:function(t,n,i){if(n?"string"==typeof n&&(n=this.registered[n]):n=this.registered[t.data("widget")],!n)return null;var r=this.wrapElement(t,n.name);return r?r.hasClass("cke_widget_new")?(t=new e(this,this._.nextId++,t,n,i)).isInited()?this.instances[t.id]=t:null:this.getByElement(t):null},initOnAll:function(t){for(var n,i=[],r=(t=(t||this.editor.editable()).find(".cke_widget_new")).count();r--;)(n=this.initOn(t.getItem(r).getFirst(e.isDomWidgetElement)))&&i.push(n);return i},onWidget:function(t){var e=Array.prototype.slice.call(arguments);for(var n in e.shift(),this.instances){var i=this.instances[n];i.name==t&&i.on.apply(i,e)}this.on("instanceCreated",function(n){(n=n.data).name==t&&n.on.apply(n,e)})},parseElementClasses:function(t){if(!t)return null;t=CKEDITOR.tools.trim(t).split(/\s+/);for(var e,n={},i=0;e=t.pop();)-1==e.indexOf("cke_")&&(n[e]=i=1);return i?n:null},wrapElement:function(t,e){var n,i,r=null;if(t instanceof CKEDITOR.dom.element){if(e=e||t.data("widget"),!(n=this.registered[e]))return null;if((r=t.getParent())&&r.type==CKEDITOR.NODE_ELEMENT&&r.data("cke-widget-wrapper"))return r;t.hasAttribute("data-cke-widget-keep-attr")||t.data("cke-widget-keep-attr",t.data("widget")?1:0),t.data("widget",e),(i=u(n,t.getName()))&&o(t),(r=new CKEDITOR.dom.element(i?"span":"div",t.getDocument())).setAttributes(c(i,e)),r.data("cke-display-name",n.pathName?n.pathName:t.getName()),t.getParent(!0)&&r.replace(t),t.appendTo(r)}else if(t instanceof CKEDITOR.htmlParser.element){if(e=e||t.attributes["data-widget"],!(n=this.registered[e]))return null;if((r=t.parent)&&r.type==CKEDITOR.NODE_ELEMENT&&r.attributes["data-cke-widget-wrapper"])return r;var a;"data-cke-widget-keep-attr"in t.attributes||(t.attributes["data-cke-widget-keep-attr"]=t.attributes["data-widget"]?1:0),e&&(t.attributes["data-widget"]=e),(i=u(n,t.name))&&o(t),(r=new CKEDITOR.htmlParser.element(i?"span":"div",c(i,e))).attributes["data-cke-display-name"]=n.pathName?n.pathName:t.name,(n=t.parent)&&(a=t.getIndex(),t.remove()),r.add(t),n&&function t(e,n,i){if(e.type==CKEDITOR.NODE_ELEMENT&&(r=CKEDITOR.dtd[e.name])&&!r[i.name]){var r=e.split(n),o=e.parent;return n=r.getIndex(),e.children.length||(--n,e.remove()),r.children.length||r.remove(),t(o,n,i)}e.add(i,n)}(n,a,r)}return r},_tests_createEditableFilter:l},CKEDITOR.event.implementOn(t.prototype),e.prototype={addClass:function(t){this.element.addClass(t),this.wrapper.addClass(e.WRAPPER_CLASS_PREFIX+t)},applyStyle:function(t){g(this,t,1)},checkStyleActive:function(t){var e;if(!(t=y(t)))return!1;for(;e=t.pop();)if(!this.hasClass(e))return!1;return!0},destroy:function(t){if(this.fire("destroy"),this.editables)for(var e in this.editables)this.destroyEditable(e,t);t||("0"==this.element.data("cke-widget-keep-attr")&&this.element.removeAttribute("data-widget"),this.element.removeAttributes(["data-cke-widget-data","data-cke-widget-keep-attr"]),this.element.removeClass("cke_widget_element"),this.element.replace(this.wrapper)),this.wrapper=null},destroyEditable:function(t,e){var n=this.editables[t],i=!0;if(n.removeListener("focus",w),n.removeListener("blur",b),this.editor.focusManager.remove(n),n.filter){for(var r in this.repository.instances){var o=this.repository.instances[r];o.editables&&(o=o.editables[t])&&o!==n&&n.filter===o.filter&&(i=!1)}i&&(n.filter.destroy(),(i=this.repository._.filters[this.name])&&delete i[t])}e||(this.repository.destroyAll(!1,n),n.removeClass("cke_widget_editable"),n.removeClass("cke_widget_editable_focused"),n.removeAttributes(["contenteditable","data-cke-widget-editable","data-cke-enter-mode"])),delete this.editables[t]},edit:function(){var t={dialog:this.dialog},e=this;return!(!1===this.fire("edit",t)||!t.dialog)&&(this.editor.openDialog(t.dialog,function(t){var n,i;!1!==e.fire("dialog",t)&&(n=t.on("show",function(){t.setupContent(e)}),i=t.on("ok",function(){var n,i=e.on("data",function(t){n=1,t.cancel()},null,null,0);e.editor.fire("saveSnapshot"),t.commitContent(e),i.removeListener(),n&&(e.fire("data",e.data),e.editor.fire("saveSnapshot"))}),t.once("hide",function(){n.removeListener(),i.removeListener()}))},e),!0)},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute("class"))},getClipboardHtml:function(){var t=this.editor.createRange();return t.setStartBefore(this.wrapper),t.setEndAfter(this.wrapper),this.editor.editable().getHtmlFromRange(t).getHtml()},hasClass:function(t){return this.element.hasClass(t)},initEditable:function(t,e){var i=this._findOneNotNested(e.selector);return!(!i||!i.is(CKEDITOR.dtd.$editable))&&(i=new n(this.editor,i,{filter:l.call(this.repository,this.name,t,e)}),this.editables[t]=i,i.setAttributes({contenteditable:"true","data-cke-widget-editable":t,"data-cke-enter-mode":i.enterMode}),i.filter&&i.data("cke-filter",i.filter.id),i.addClass("cke_widget_editable"),i.removeClass("cke_widget_editable_focused"),e.pathName&&i.data("cke-display-name",e.pathName),this.editor.focusManager.add(i),i.on("focus",w,this),CKEDITOR.env.ie&&i.on("blur",b,this),i._.initialSetData=!0,i.setData(i.getHtml()),!0)},_findOneNotNested:function(t){t=this.wrapper.find(t);for(var n,i,r=0;r<t.count();r++)if(i=(n=t.getItem(r)).getAscendant(e.isDomWidgetWrapper),this.wrapper.equals(i))return n;return null},isInited:function(){return!(!this.wrapper||!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var t=this.editor.getSelection();if(t){var e=this.editor.checkDirty();t.fake(this.wrapper),!e&&this.editor.resetDirty()}this.editor.focus()},refreshMask:function(){T(this)},refreshParts:function(t){C(this,void 0===t||t)},removeClass:function(t){this.element.removeClass(t),this.wrapper.removeClass(e.WRAPPER_CLASS_PREFIX+t)},removeStyle:function(t){g(this,t,0)},setData:function(t,e){var n=this.data,i=0;if("string"==typeof t)n[t]!==e&&(n[t]=e,i=1);else{var r=t;for(t in r)n[t]!==r[t]&&(i=1,n[t]=r[t])}return i&&this.dataReady&&(k(this),this.fire("data",n)),this},setFocused:function(t){return this.wrapper[t?"addClass":"removeClass"]("cke_widget_focused"),this.fire(t?"focus":"blur"),this},setSelected:function(t){return this.wrapper[t?"addClass":"removeClass"]("cke_widget_selected"),this.fire(t?"select":"deselect"),this},updateDragHandlerPosition:function(){var t=this.editor,e=this.element.$,n=this._.dragHandlerOffset;e={x:e.offsetLeft,y:e.offsetTop-15};n&&e.x==n.x&&e.y==n.y||(n=t.checkDirty(),t.fire("lockSnapshot"),this.dragHandlerContainer.setStyles({top:e.y+"px",left:e.x+"px"}),this.dragHandlerContainer.removeStyle("display"),t.fire("unlockSnapshot"),!n&&t.resetDirty(),this._.dragHandlerOffset=e)}},CKEDITOR.event.implementOn(e.prototype),e.getNestedEditable=function(t,n){return!n||n.equals(t)?null:e.isDomNestedEditable(n)?n:e.getNestedEditable(t,n.getParent())},e.isDomDragHandler=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-drag-handler")},e.isDomDragHandlerContainer=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_widget_drag_handler_container")},e.isDomNestedEditable=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-editable")},e.isDomWidgetElement=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-widget")},e.isDomWidgetWrapper=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-wrapper")},e.isDomWidget=function(t){return!!t&&(this.isDomWidgetWrapper(t)||this.isDomWidgetElement(t))},e.isParserWidgetElement=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&!!t.attributes["data-widget"]},e.isParserWidgetWrapper=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&!!t.attributes["data-cke-widget-wrapper"]},e.WRAPPER_CLASS_PREFIX="cke_widget_wrapper_",n.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(t){this._.initialSetData||this.editor.widgets.destroyAll(!1,this),this._.initialSetData=!1,t=this.editor.dataProcessor.toDataFormat(t,{context:this.getName(),filter:this.filter,enterMode:this.enterMode}),t=this.editor.dataProcessor.toHtml(t,{context:this.getName(),filter:this.filter,enterMode:this.enterMode}),this.setHtml(t),this.editor.widgets.initOnAll(this)},getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),filter:this.filter,enterMode:this.enterMode})}});var x=/^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,I={37:1,38:1,39:1,40:1,8:1,46:1};I[CKEDITOR.SHIFT+121]=1;var S=CKEDITOR.tools.createClass({$:function(t,e){this._.createCopyBin(t,e),this._.createListeners(e)},_:{createCopyBin:function(t){var e=t.document,n=CKEDITOR.env.edge&&16<=CKEDITOR.env.version,i=!t.blockless&&!CKEDITOR.env.ie||n?"div":"span";n=e.createElement(i);(e=e.createElement(i)).setAttributes({id:"cke_copybin","data-cke-temp":"1"}),n.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),n.setStyle("ltr"==t.config.contentsLangDirection?"left":"right","-5000px"),this.editor=t,this.copyBin=n,this.container=e},createListeners:function(t){t&&(t.beforeDestroy&&(this.beforeDestroy=t.beforeDestroy),t.afterDestroy&&(this.afterDestroy=t.afterDestroy))}},proto:{handle:function(t){var e,n,i,r=this.copyBin,o=this.editor,a=this.container,s=CKEDITOR.env.ie&&9>CKEDITOR.env.version,l=o.document.getDocumentElement().$,c=o.createRange(),u=this,d=CKEDITOR.env.mac&&CKEDITOR.env.webkit,h=d?100:0,f=window.requestAnimationFrame&&!d?requestAnimationFrame:setTimeout;return r.setHtml('<span data-cke-copybin-start="1">â</span>'+t+'<span data-cke-copybin-end="1">â</span>'),o.fire("lockSnapshot"),a.append(r),o.editable().append(a),e=o.on("selectionChange",m,null,null,0),n=o.widgets.on("checkSelection",m,null,null,0),s&&(i=l.scrollTop),c.selectNodeContents(r),c.select(),s&&(l.scrollTop=i),new CKEDITOR.tools.promise(function(t){f(function(){u.beforeDestroy&&u.beforeDestroy(),a.remove(),e.removeListener(),n.removeListener(),o.fire("unlockSnapshot"),u.afterDestroy&&u.afterDestroy(),t()},h)})}},statics:{hasCopyBin:function(t){return!!S.getCopyBin(t)},getCopyBin:function(t){return t.document.getById("cke_copybin")}}});CKEDITOR.plugins.widget=e,e.repository=t,e.nestedEditable=n}(),function(){function t(t,e,n){this.editor=t,this.notification=null,this._message=new CKEDITOR.template(e),this._singularMessage=n?new CKEDITOR.template(n):null,this._tasks=[],this._doneTasks=this._doneWeights=this._totalWeights=0}function e(t){this._weight=t||1,this._doneWeight=0,this._isCanceled=!1}CKEDITOR.plugins.add("notificationaggregator",{requires:"notification"}),t.prototype={createTask:function(t){t=t||{};var e,n=!this.notification;return n&&(this.notification=this._createNotification()),(e=this._addTask(t)).on("updated",this._onTaskUpdate,this),e.on("done",this._onTaskDone,this),e.on("canceled",function(){this._removeTask(e)},this),this.update(),n&&this.notification.show(),e},update:function(){this._updateNotification(),this.isFinished()&&this.fire("finished")},getPercentage:function(){return 0===this.getTaskCount()?1:this._doneWeights/this._totalWeights},isFinished:function(){return this.getDoneTaskCount()===this.getTaskCount()},getTaskCount:function(){return this._tasks.length},getDoneTaskCount:function(){return this._doneTasks},_updateNotification:function(){this.notification.update({message:this._getNotificationMessage(),progress:this.getPercentage()})},_getNotificationMessage:function(){var t=this.getTaskCount(),e={current:this.getDoneTaskCount(),max:t,percentage:Math.round(100*this.getPercentage())};return(1==t&&this._singularMessage?this._singularMessage:this._message).output(e)},_createNotification:function(){return new CKEDITOR.plugins.notification(this.editor,{type:"progress"})},_addTask:function(t){return t=new e(t.weight),this._tasks.push(t),this._totalWeights+=t._weight,t},_removeTask:function(t){var e=CKEDITOR.tools.indexOf(this._tasks,t);-1!==e&&(t._doneWeight&&(this._doneWeights-=t._doneWeight),this._totalWeights-=t._weight,this._tasks.splice(e,1),this.update())},_onTaskUpdate:function(t){this._doneWeights+=t.data,this.update()},_onTaskDone:function(){this._doneTasks+=1,this.update()}},CKEDITOR.event.implementOn(t.prototype),e.prototype={done:function(){this.update(this._weight)},update:function(t){if(!this.isDone()&&!this.isCanceled()){var e=(t=Math.min(this._weight,t))-this._doneWeight;this._doneWeight=t,this.fire("updated",e),this.isDone()&&this.fire("done")}},cancel:function(){this.isDone()||this.isCanceled()||(this._isCanceled=!0,this.fire("canceled"))},isDone:function(){return this._weight===this._doneWeight},isCanceled:function(){return this._isCanceled}},CKEDITOR.event.implementOn(e.prototype),CKEDITOR.plugins.notificationAggregator=t,CKEDITOR.plugins.notificationAggregator.task=e}(),CKEDITOR.plugins.add("uploadwidget",{requires:"widget,clipboard,filetools,notificationaggregator",init:function(t){t.filter.allow("*[!data-widget,!data-cke-upload-id]")},isSupportedEnvironment:function(){return CKEDITOR.plugins.clipboard.isFileApiSupported}}),CKEDITOR.fileTools||(CKEDITOR.fileTools={}),CKEDITOR.tools.extend(CKEDITOR.fileTools,{addUploadWidget:function(t,e,n){var i=CKEDITOR.fileTools,r=t.uploadRepository,o=n.supportedTypes?10:20;n.fileToElement&&t.on("paste",function(n){n=n.data;var o,a,s=t.widgets.registered[e],l=n.dataTransfer,c=l.getFilesCount(),u=s.loadMethod||"loadAndUpload";if(!n.dataValue&&c)for(a=0;a<c;a++)if(o=l.getFile(a),!s.supportedTypes||i.isTypeSupported(o,s.supportedTypes)){var d=s.fileToElement(o);o=r.create(o,void 0,s.loaderType),d&&(o[u](s.uploadUrl,s.additionalRequestParameters),CKEDITOR.fileTools.markElement(d,e,o.id),"loadAndUpload"!=u&&"upload"!=u||s.skipNotifications||CKEDITOR.fileTools.bindNotifications(t,o),n.dataValue+=d.getOuterHtml())}},null,null,o),CKEDITOR.tools.extend(n,{downcast:function(){return new CKEDITOR.htmlParser.text("")},init:function(){var e,n,i=this,o=this.wrapper.findOne("[data-cke-upload-id]").data("cke-upload-id"),a=r.loaders[o],s=CKEDITOR.tools.capitalize;a.on("update",function(r){"abort"===a.status&&"function"==typeof i.onAbort&&i.onAbort(a),i.wrapper&&i.wrapper.getParent()?(t.fire("lockSnapshot"),r="on"+s(a.status),"abort"!==a.status&&"function"==typeof i[r]&&!1===i[r](a)||(n="cke_upload_"+a.status,i.wrapper&&n!=e&&(e&&i.wrapper.removeClass(e),i.wrapper.addClass(n),e=n),"error"!=a.status&&"abort"!=a.status||t.widgets.del(i)),t.fire("unlockSnapshot")):(CKEDITOR.instances[t.name]&&t.editable().find('[data-cke-upload-id="'+o+'"]').count()||a.abort(),r.removeListener())}),a.update()},replaceWith:function(e,n){if(""===e.trim())t.widgets.del(this);else{var i,r,o=this==t.widgets.focused,a=t.editable(),s=t.createRange();o||(r=t.getSelection().createBookmarks()),s.setStartBefore(this.wrapper),s.setEndAfter(this.wrapper),o&&(i=s.createBookmark()),a.insertHtmlIntoRange(e,s,n),t.widgets.checkWidgets({initOnlyNew:!0}),t.widgets.destroy(this,!0),o?(s.moveToBookmark(i),s.select()):t.getSelection().selectBookmarks(r)}},_getLoader:function(){var t=this.wrapper.findOne("[data-cke-upload-id]");return t?this.editor.uploadRepository.loaders[t.data("cke-upload-id")]:null}}),t.widgets.add(e,n)},markElement:function(t,e,n){t.setAttributes({"data-cke-upload-id":n,"data-widget":e})},bindNotifications:function(t,e){var n,i=null;e.on("update",function(){!i&&e.uploadTotal&&((n=t._.uploadWidgetNotificaionAggregator)&&!n.isFinished()||(n=t._.uploadWidgetNotificaionAggregator=new CKEDITOR.plugins.notificationAggregator(t,t.lang.uploadwidget.uploadMany,t.lang.uploadwidget.uploadOne)).once("finished",function(){var e=n.getTaskCount();0===e?n.notification.hide():n.notification.update({message:1==e?t.lang.uploadwidget.doneOne:t.lang.uploadwidget.doneMany.replace("%1",e),type:"success",important:1})}),i=n.createTask({weight:e.uploadTotal})),i&&"uploading"==e.status&&i.update(e.uploaded)}),e.on("uploaded",function(){i&&i.done()}),e.on("error",function(){i&&i.cancel(),t.showNotification(e.message,"warning")}),e.on("abort",function(){i&&i.cancel(),CKEDITOR.instances[t.name]&&t.showNotification(t.lang.uploadwidget.abort,"info")})}}),function(){function t(t){return 9>=t&&(t="0"+t),String(t)}function e(e){var i=[(i=new Date).getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds()];return n+=1,"image-"+CKEDITOR.tools.array.map(i,t).join("")+"-"+n+"."+e}var n=0;CKEDITOR.plugins.add("uploadimage",{requires:"uploadwidget",onLoad:function(){CKEDITOR.addCss(".cke_upload_uploading img{opacity: 0.3}")},isSupportedEnvironment:function(){return CKEDITOR.plugins.clipboard.isFileApiSupported},init:function(t){if(this.isSupportedEnvironment()){var n=CKEDITOR.fileTools,i=n.getUploadUrl(t.config,"image");i&&(n.addUploadWidget(t,"uploadimage",{supportedTypes:/image\/(jpeg|png|gif|bmp)/,uploadUrl:i,fileToElement:function(){var t=new CKEDITOR.dom.element("img");return t.setAttribute("src","data:image/gif;base64,R0lGODlhDgAOAIAAAAAAAP///yH5BAAAAAAALAAAAAAOAA4AAAIMhI+py+0Po5y02qsKADs="),t},parts:{img:"img"},onUploading:function(t){this.parts.img.setAttribute("src",t.data)},onUploaded:function(t){var e=this.parts.img.$;this.replaceWith('<img src="'+t.url+'" width="'+(t.responseData.width||e.naturalWidth)+'" height="'+(t.responseData.height||e.naturalHeight)+'">')}}),t.on("paste",function(r){if(r.data.dataValue.match(/<img[\s\S]+data:/i)){r=r.data;var o,a,s,l=document.implementation.createHTMLDocument("");for((l=new CKEDITOR.dom.element(l.body)).data("cke-editable",1),l.appendHtml(r.dataValue),o=l.find("img"),s=0;s<o.count();s++){var c=(a=o.getItem(s)).getAttribute("src"),u=c&&"data:"==c.substring(0,5),d=null===a.data("cke-realelement");u&&d&&!a.data("cke-upload-id")&&!a.isReadOnly(1)&&(u=(u=c.match(/image\/([a-z]+?);/i))&&u[1]||"jpg",(c=t.uploadRepository.create(c,e(u))).upload(i),n.markElement(a,"uploadimage",c.id),n.bindNotifications(t,c))}r.dataValue=l.getHtml()}}))}}})}(),function(){function t(t){function e(t){var e=!1;a.attachListener(a,"keydown",function(){var n=i.getBody().getElementsByTag(t);if(!e){for(var r=0;r<n.count();r++)n.getItem(r).setCustomData("retain",!0);e=!0}},null,null,1),a.attachListener(a,"keyup",function(){var n=i.getElementsByTag(t);e&&(1==n.count()&&!n.getItem(0).getCustomData("retain")&&CKEDITOR.tools.isEmpty(n.getItem(0).getAttributes())&&n.getItem(0).remove(1),e=!1)})}var n=this.editor;if(n&&!n.isDetached()){var i=t.document,r=i.body,o=i.getElementById("cke_actscrpt");o&&o.parentNode.removeChild(o),(o=i.getElementById("cke_shimscrpt"))&&o.parentNode.removeChild(o),(o=i.getElementById("cke_basetagscrpt"))&&o.parentNode.removeChild(o),r.contentEditable=!0,CKEDITOR.env.ie&&(r.hideFocus=!0,r.disabled=!0,r.removeAttribute("disabled")),delete this._.isLoadingData,this.$=r,i=new CKEDITOR.dom.document(i),this.setup(),this.fixInitialSelection();var a=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&i.getDocumentElement().addClass(i.$.compatMode),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&n.enterMode!=CKEDITOR.ENTER_P?e("p"):CKEDITOR.env.edge&&15>CKEDITOR.env.version&&n.enterMode!=CKEDITOR.ENTER_DIV&&e("div"),(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)&&i.getDocumentElement().on("mousedown",function(t){t.data.getTarget().is("html")&&setTimeout(function(){n.editable().focus()})}),function(t){function e(t){t.returnValue=!1}if(CKEDITOR.env.gecko)try{var n=t.document.$;n.execCommand("enableObjectResizing",!1,!t.config.disableObjectResizing),n.execCommand("enableInlineTableEditing",!1,!t.config.disableNativeTableHandles)}catch(i){}else CKEDITOR.env.ie&&11>CKEDITOR.env.version&&t.config.disableObjectResizing&&t.editable().attachListener(t,"selectionChange",function(){var n=t.getSelection().getSelectedElement();n&&(i&&(i.detachEvent("onresizestart",e),i=null),n.$.attachEvent("onresizestart",e),i=n.$)});var i}(n);try{n.document.$.execCommand("2D-position",!1,!0)}catch(t){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==n.document.$.compatMode)&&this.attachListener(this,"keydown",function(t){var e=t.data.getKeystroke();if(33==e||34==e)if(CKEDITOR.env.ie)setTimeout(function(){n.getSelection().scrollIntoView()},0);else if(n.window.$.innerHeight>this.$.offsetHeight){var i=n.createRange();i[33==e?"moveToElementEditStart":"moveToElementEditEnd"](this),i.select(),t.data.preventDefault()}}),CKEDITOR.env.ie&&this.attachListener(i,"blur",function(){try{i.$.selection.empty()}catch(t){}}),CKEDITOR.env.iOS&&this.attachListener(i,"touchend",function(){t.focus()}),(r=n.document.getElementsByTag("title").getItem(0)).data("cke-title",r.getText()),CKEDITOR.env.ie&&(n.document.$.title=this._.docTitle),CKEDITOR.tools.setTimeout(function(){"unloaded"==this.status&&(this.status="ready"),n.fire("contentDom"),this._.isPendingFocus&&(n.focus(),this._.isPendingFocus=!1),setTimeout(function(){n.fire("dataReady")},0)},0,this)}}var e;CKEDITOR.plugins.add("wysiwygarea",{init:function(t){t.config.fullPage&&t.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"}),t.addMode("wysiwyg",function(n){function i(i){i&&i.removeListener(),t.isDestroyed()||t.isDetached()||(t.editable(new e(t,o.$.contentWindow.document.body)),t.setData(t.getData(1),n))}var r="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",o=(r=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent(r)+"}())":"",CKEDITOR.dom.element.createFromHtml('<iframe src="'+r+'" frameBorder="0"></iframe>'));o.setStyles({width:"100%",height:"100%"}),o.addClass("cke_wysiwyg_frame").addClass("cke_reset"),(r=t.ui.space("contents")).append(o);var a=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;a&&o.on("load",i);var s=t.title,l=t.fire("ariaEditorHelpLabel",{}).label;if(s&&(CKEDITOR.env.ie&&l&&(s+=", "+l),o.setAttribute("title",s)),l){s=CKEDITOR.tools.getNextId();var c=CKEDITOR.dom.element.createFromHtml('<span id="'+s+'" class="cke_voice_label">'+l+"</span>");r.append(c,1),o.setAttribute("aria-describedby",s)}t.on("beforeModeUnload",function(t){t.removeListener(),c&&c.remove()}),o.setAttributes({tabIndex:t.tabIndex,allowTransparency:"true"}),!a&&i(),t.fire("ariaWidget",o)})}}),CKEDITOR.editor.prototype.addContentsCss=function(t){var e=this.config,n=e.contentsCss;CKEDITOR.tools.isArray(n)||(e.contentsCss=n?[n]:[]),e.contentsCss.push(t)},e=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments),this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(e){CKEDITOR.tools.setTimeout(t,0,this,e)},this),this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(t,e){var n=this.editor;if(e)this.setHtml(t),this.fixInitialSelection(),n.fire("dataReady");else{this._.isLoadingData=!0,n._.dataStore={id:1};var i=n.config,r=i.fullPage,o=i.docType,a=CKEDITOR.tools.buildStyleHtml(function(){var t=[];if(8<=CKEDITOR.document.$.documentMode){t.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var e,n=[];for(e in CKEDITOR.dtd.$removeEmpty)n.push("html.CSS1Compat "+e+"[contenteditable=false]");t.push(n.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(t.push("html{height:100% !important}"),t.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));return t.push("html{cursor:text;*cursor:auto}"),t.push("img,input,textarea{cursor:default}"),t.join("\n")}()).replace(/<style>/,'<style data-cke-temp="1">');r||(a+=CKEDITOR.tools.buildStyleHtml(n.config.contentsCss));var s=i.baseHref?'<base href="'+i.baseHref+'" data-cke-temp="1" />':"";r&&(t=t.replace(/<!DOCTYPE[^>]*>/i,function(t){return n.docType=o=t,""}).replace(/<\?xml\s[^\?]*\?>/i,function(t){return n.xmlDeclaration=t,""})),t=n.dataProcessor.toHtml(t),r?(/<body[\s|>]/.test(t)||(t="<body>"+t),/<html[\s|>]/.test(t)||(t="<html>"+t+"</html>"),/<head[\s|>]/.test(t)?/<title[\s|>]/.test(t)||(t=t.replace(/<head[^>]*>/,"$&<title></title>")):t=t.replace(/<html[^>]*>/,"$&<head><title></title></head>"),s&&(t=t.replace(/<head[^>]*?>/,"$&"+s)),t=t.replace(/<\/head\s*>/,a+"$&"),t=o+t):t=i.docType+'<html dir="'+i.contentsLangDirection+'" lang="'+(i.contentsLanguage||n.langCode)+'"><head><title>'+this._.docTitle+"</title>"+s+a+"</head><body"+(i.bodyId?' id="'+i.bodyId+'"':"")+(i.bodyClass?' class="'+i.bodyClass+'"':"")+">"+t+"</body></html>",CKEDITOR.env.gecko&&(t=t.replace(/<body/,'<body contenteditable="true" '),2e4>CKEDITOR.env.version&&(t=t.replace(/<body[^>]*>/,"$&\x3c!-- cke-content-start --\x3e"))),i='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"<\/script>",CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(i+='<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)<\/script>'),s&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(i+='<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;<\/script>'),t=t.replace(/(?=\s*<\/(:?head)>)/,i),this.clearCustomData(),this.clearListeners(),n.fire("contentDomUnload");var l=this.getDocument();try{l.write(t)}catch(e){setTimeout(function(){l.write(t)},0)}}},getData:function(t){if(t)return this.getHtml();var e=(t=this.editor).config,n=(o=e.fullPage)&&t.docType,i=o&&t.xmlDeclaration,r=this.getDocument(),o=o?r.getDocumentElement().getOuterHtml():r.getBody().getHtml();return CKEDITOR.env.gecko&&e.enterMode!=CKEDITOR.ENTER_BR&&(o=o.replace(/<br>(?=\s*(:?$|<\/body>))/,"")),o=t.dataProcessor.toDataFormat(o),i&&(o=i+"\n"+o),n&&(o=n+"\n"+o),o},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:e.baseProto.focus.call(this)},detach:function(){var t=(n=this.editor).document,n=n.container.findOne("iframe.cke_wysiwyg_frame");e.baseProto.detach.call(this),this.clearCustomData(this._.expandoNumber),t.getDocumentElement().clearCustomData(),CKEDITOR.tools.removeFunction(this._.frameLoadedHandler),n&&(n.clearCustomData(),(t=n.removeCustomData("onResize"))&&t.removeListener(),n.isDetached()||n.remove())}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.config.plugins="dialogui,dialog,a11yhelp,about,basicstyles,blockquote,notification,button,toolbar,clipboard,panel,floatpanel,menu,contextmenu,elementspath,indent,indentlist,list,enterkey,entities,popup,filetools,filebrowser,floatingspace,listblock,richcombo,format,horizontalrule,htmlwriter,image,fakeobjects,link,magicline,maximize,xml,ajax,pastetools,pastefromgdocs,pastefromlibreoffice,pastefromword,pastetext,removeformat,resize,menubutton,scayt,showborders,sourcearea,specialchar,stylescombo,tab,table,tabletools,tableselection,undo,lineutils,widgetselection,widget,notificationaggregator,uploadwidget,uploadimage,wysiwygarea",CKEDITOR.config.skin="moono-lisa",function(){var t=function(t,e){var n=CKEDITOR.getUrl("plugins/"+e);t=t.split(",");for(var i=0;i<t.length;i++)CKEDITOR.skin.icons[t[i]]={path:n,offset:-t[++i],bgsize:t[++i]}};CKEDITOR.env.hidpi?t("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,codesnippet,384,,bgcolor,408,,textcolor,432,,copyformatting,456,,creatediv,480,,docprops-rtl,504,,docprops,528,,easyimagealigncenter,552,,easyimagealignleft,576,,easyimagealignright,600,,easyimagealt,624,,easyimagefull,648,,easyimageside,672,,easyimageupload,696,,embed,720,,embedsemantic,744,,emojipanel,768,,exportpdf,792,,find-rtl,816,,find,840,,replace,864,,flash,888,,button,912,,checkbox,936,,form,960,,hiddenfield,984,,imagebutton,1008,,radio,1032,,select-rtl,1056,,select,1080,,textarea-rtl,1104,,textarea,1128,,textfield-rtl,1152,,textfield,1176,,horizontalrule,1200,,iframe,1224,,image,1248,,indent-rtl,1272,,indent,1296,,outdent-rtl,1320,,outdent,1344,,justifyblock,1368,,justifycenter,1392,,justifyleft,1416,,justifyright,1440,,language,1464,,anchor-rtl,1488,,anchor,1512,,link,1536,,unlink,1560,,bulletedlist-rtl,1584,,bulletedlist,1608,,numberedlist-rtl,1632,,numberedlist,1656,,mathjax,1680,,maximize,1704,,newpage-rtl,1728,,newpage,1752,,pagebreak-rtl,1776,,pagebreak,1800,,pastefromword-rtl,1824,,pastefromword,1848,,pastetext-rtl,1872,,pastetext,1896,,placeholder,1920,,preview-rtl,1944,,preview,1968,,print,1992,,removeformat,2016,,save,2040,,scayt,2064,,selectall,2088,,showblocks-rtl,2112,,showblocks,2136,,smiley,2160,,source-rtl,2184,,source,2208,,sourcedialog-rtl,2232,,sourcedialog,2256,,specialchar,2280,,table,2304,,templates-rtl,2328,,templates,2352,,uicolor,2376,,redo-rtl,2400,,redo,2424,,undo-rtl,2448,,undo,2472,,simplebox,4992,auto,spellchecker,2520,","icons_hidpi.png"):t("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,codesnippet,384,auto,bgcolor,408,auto,textcolor,432,auto,copyformatting,456,auto,creatediv,480,auto,docprops-rtl,504,auto,docprops,528,auto,easyimagealigncenter,552,auto,easyimagealignleft,576,auto,easyimagealignright,600,auto,easyimagealt,624,auto,easyimagefull,648,auto,easyimageside,672,auto,easyimageupload,696,auto,embed,720,auto,embedsemantic,744,auto,emojipanel,768,auto,exportpdf,792,auto,find-rtl,816,auto,find,840,auto,replace,864,auto,flash,888,auto,button,912,auto,checkbox,936,auto,form,960,auto,hiddenfield,984,auto,imagebutton,1008,auto,radio,1032,auto,select-rtl,1056,auto,select,1080,auto,textarea-rtl,1104,auto,textarea,1128,auto,textfield-rtl,1152,auto,textfield,1176,auto,horizontalrule,1200,auto,iframe,1224,auto,image,1248,auto,indent-rtl,1272,auto,indent,1296,auto,outdent-rtl,1320,auto,outdent,1344,auto,justifyblock,1368,auto,justifycenter,1392,auto,justifyleft,1416,auto,justifyright,1440,auto,language,1464,auto,anchor-rtl,1488,auto,anchor,1512,auto,link,1536,auto,unlink,1560,auto,bulletedlist-rtl,1584,auto,bulletedlist,1608,auto,numberedlist-rtl,1632,auto,numberedlist,1656,auto,mathjax,1680,auto,maximize,1704,auto,newpage-rtl,1728,auto,newpage,1752,auto,pagebreak-rtl,1776,auto,pagebreak,1800,auto,pastefromword-rtl,1824,auto,pastefromword,1848,auto,pastetext-rtl,1872,auto,pastetext,1896,auto,placeholder,1920,auto,preview-rtl,1944,auto,preview,1968,auto,print,1992,auto,removeformat,2016,auto,save,2040,auto,scayt,2064,auto,selectall,2088,auto,showblocks-rtl,2112,auto,showblocks,2136,auto,smiley,2160,auto,source-rtl,2184,auto,source,2208,auto,sourcedialog-rtl,2232,auto,sourcedialog,2256,auto,specialchar,2280,auto,table,2304,auto,templates-rtl,2328,auto,templates,2352,auto,uicolor,2376,auto,redo-rtl,2400,auto,redo,2424,auto,undo-rtl,2448,auto,undo,2472,auto,simplebox,2496,auto,spellchecker,2520,auto","icons.png")}())}(),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.grapesjs=e():t.grapesjs=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=94)}([function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return En}),n.d(e,"VERSION",function(){return r.e}),n.d(e,"restArguments",function(){return o}),n.d(e,"isObject",function(){return a}),n.d(e,"isNull",function(){return s}),n.d(e,"isUndefined",function(){return l}),n.d(e,"isBoolean",function(){return c}),n.d(e,"isElement",function(){return u}),n.d(e,"isString",function(){return h}),n.d(e,"isNumber",function(){return f}),n.d(e,"isDate",function(){return p}),n.d(e,"isRegExp",function(){return g}),n.d(e,"isError",function(){return m}),n.d(e,"isSymbol",function(){return v}),n.d(e,"isArrayBuffer",function(){return y}),n.d(e,"isDataView",function(){return k}),n.d(e,"isArray",function(){return D}),n.d(e,"isFunction",function(){return E}),n.d(e,"isArguments",function(){return S}),n.d(e,"isFinite",function(){return R}),n.d(e,"isNaN",function(){return A}),n.d(e,"isTypedArray",function(){return F}),n.d(e,"isEmpty",function(){return U}),n.d(e,"isMatch",function(){return z}),n.d(e,"isEqual",function(){return Y}),n.d(e,"isMap",function(){return it}),n.d(e,"isWeakMap",function(){return rt}),n.d(e,"isSet",function(){return ot}),n.d(e,"isWeakSet",function(){return at}),n.d(e,"keys",function(){return H}),n.d(e,"allKeys",function(){return G}),n.d(e,"values",function(){return st}),n.d(e,"pairs",function(){return lt}),n.d(e,"invert",function(){return ct}),n.d(e,"functions",function(){return ut}),n.d(e,"methods",function(){return ut}),n.d(e,"extend",function(){return ht}),n.d(e,"extendOwn",function(){return ft}),n.d(e,"assign",function(){return ft}),n.d(e,"defaults",function(){return pt}),n.d(e,"create",function(){return mt}),n.d(e,"clone",function(){return vt}),n.d(e,"tap",function(){return yt}),n.d(e,"get",function(){return Ct}),n.d(e,"has",function(){return Tt}),n.d(e,"mapObject",function(){return Rt}),n.d(e,"identity",function(){return _t}),n.d(e,"constant",function(){return N}),n.d(e,"noop",function(){return At}),n.d(e,"toPath",function(){return bt}),n.d(e,"property",function(){return kt}),n.d(e,"propertyOf",function(){return Nt}),n.d(e,"matcher",function(){return Ot}),n.d(e,"matches",function(){return Ot}),n.d(e,"times",function(){return Pt}),n.d(e,"random",function(){return Mt}),n.d(e,"now",function(){return Lt}),n.d(e,"escape",function(){return Ft}),n.d(e,"unescape",function(){return Bt}),n.d(e,"templateSettings",function(){return $t}),n.d(e,"template",function(){return Wt}),n.d(e,"result",function(){return qt}),n.d(e,"uniqueId",function(){return Gt}),n.d(e,"chain",function(){return Xt}),n.d(e,"iteratee",function(){return It}),n.d(e,"partial",function(){return Qt}),n.d(e,"bind",function(){return te}),n.d(e,"bindAll",function(){return ie}),n.d(e,"memoize",function(){return re}),n.d(e,"delay",function(){return oe}),n.d(e,"defer",function(){return ae}),n.d(e,"throttle",function(){return se}),n.d(e,"debounce",function(){return le}),n.d(e,"wrap",function(){return ce}),n.d(e,"negate",function(){return ue}),n.d(e,"compose",function(){return de}),n.d(e,"after",function(){return he}),n.d(e,"before",function(){return fe}),n.d(e,"once",function(){return pe}),n.d(e,"findKey",function(){return ge}),n.d(e,"findIndex",function(){return ve}),n.d(e,"findLastIndex",function(){return ye}),n.d(e,"sortedIndex",function(){return be}),n.d(e,"indexOf",function(){return Ee}),n.d(e,"lastIndexOf",function(){return Ce}),n.d(e,"find",function(){return Te}),n.d(e,"detect",function(){return Te}),n.d(e,"findWhere",function(){return _e}),n.d(e,"each",function(){return Oe}),n.d(e,"forEach",function(){return Oe}),n.d(e,"map",function(){return ke}),n.d(e,"collect",function(){return ke}),n.d(e,"reduce",function(){return xe}),n.d(e,"foldl",function(){return xe}),n.d(e,"inject",function(){return xe}),n.d(e,"reduceRight",function(){return Ie}),n.d(e,"foldr",function(){return Ie}),n.d(e,"filter",function(){return Se}),n.d(e,"select",function(){return Se}),n.d(e,"reject",function(){return Re}),n.d(e,"every",function(){return Ae}),n.d(e,"all",function(){return Ae}),n.d(e,"some",function(){return Ne}),n.d(e,"any",function(){return Ne}),n.d(e,"contains",function(){return Pe}),n.d(e,"includes",function(){return Pe}),n.d(e,"include",function(){return Pe}),n.d(e,"invoke",function(){return Me}),n.d(e,"pluck",function(){return Le}),n.d(e,"where",function(){return Ke}),n.d(e,"max",function(){return je}),n.d(e,"min",function(){return Fe}),n.d(e,"shuffle",function(){return $e}),n.d(e,"sample",function(){return Be}),n.d(e,"sortBy",function(){return He}),n.d(e,"groupBy",function(){return ze}),n.d(e,"indexBy",function(){return Ve}),n.d(e,"countBy",function(){return We}),n.d(e,"partition",function(){return qe}),n.d(e,"toArray",function(){return Ge}),n.d(e,"size",function(){return Xe}),n.d(e,"pick",function(){return Je}),n.d(e,"omit",function(){return Qe}),n.d(e,"first",function(){return en}),n.d(e,"head",function(){return en}),n.d(e,"take",function(){return en}),n.d(e,"initial",function(){return tn}),n.d(e,"last",function(){return rn}),n.d(e,"rest",function(){return nn}),n.d(e,"tail",function(){return nn}),n.d(e,"drop",function(){return nn}),n.d(e,"compact",function(){return on}),n.d(e,"flatten",function(){return an}),n.d(e,"without",function(){return ln}),n.d(e,"uniq",function(){return cn}),n.d(e,"unique",function(){return cn}),n.d(e,"union",function(){return un}),n.d(e,"intersection",function(){return dn}),n.d(e,"difference",function(){return sn}),n.d(e,"unzip",function(){return hn}),n.d(e,"transpose",function(){return hn}),n.d(e,"zip",function(){return fn}),n.d(e,"object",function(){return pn}),n.d(e,"range",function(){return gn}),n.d(e,"chunk",function(){return mn}),n.d(e,"mixin",function(){return yn});var i={};n.r(i),n.d(i,"VERSION",function(){return r.e}),n.d(i,"restArguments",function(){return o}),n.d(i,"isObject",function(){return a}),n.d(i,"isNull",function(){return s}),n.d(i,"isUndefined",function(){return l}),n.d(i,"isBoolean",function(){return c}),n.d(i,"isElement",function(){return u}),n.d(i,"isString",function(){return h}),n.d(i,"isNumber",function(){return f}),n.d(i,"isDate",function(){return p}),n.d(i,"isRegExp",function(){return g}),n.d(i,"isError",function(){return m}),n.d(i,"isSymbol",function(){return v}),n.d(i,"isArrayBuffer",function(){return y}),n.d(i,"isDataView",function(){return k}),n.d(i,"isArray",function(){return D}),n.d(i,"isFunction",function(){return E}),n.d(i,"isArguments",function(){return S}),n.d(i,"isFinite",function(){return R}),n.d(i,"isNaN",function(){return A}),n.d(i,"isTypedArray",function(){return F}),n.d(i,"isEmpty",function(){return U}),n.d(i,"isMatch",function(){return z}),n.d(i,"isEqual",function(){return Y}),n.d(i,"isMap",function(){return it}),n.d(i,"isWeakMap",function(){return rt}),n.d(i,"isSet",function(){return ot}),n.d(i,"isWeakSet",function(){return at}),n.d(i,"keys",function(){return H}),n.d(i,"allKeys",function(){return G}),n.d(i,"values",function(){return st}),n.d(i,"pairs",function(){return lt}),n.d(i,"invert",function(){return ct}),n.d(i,"functions",function(){return ut}),n.d(i,"methods",function(){return ut}),n.d(i,"extend",function(){return ht}),n.d(i,"extendOwn",function(){return ft}),n.d(i,"assign",function(){return ft}),n.d(i,"defaults",function(){return pt}),n.d(i,"create",function(){return mt}),n.d(i,"clone",function(){return vt}),n.d(i,"tap",function(){return yt}),n.d(i,"get",function(){return Ct}),n.d(i,"has",function(){return Tt}),n.d(i,"mapObject",function(){return Rt}),n.d(i,"identity",function(){return _t}),n.d(i,"constant",function(){return N}),n.d(i,"noop",function(){return At}),n.d(i,"toPath",function(){return bt}),n.d(i,"property",function(){return kt}),n.d(i,"propertyOf",function(){return Nt}),n.d(i,"matcher",function(){return Ot}),n.d(i,"matches",function(){return Ot}),n.d(i,"times",function(){return Pt}),n.d(i,"random",function(){return Mt}),n.d(i,"now",function(){return Lt}),n.d(i,"escape",function(){return Ft}),n.d(i,"unescape",function(){return Bt}),n.d(i,"templateSettings",function(){return $t}),n.d(i,"template",function(){return Wt}),n.d(i,"result",function(){return qt}),n.d(i,"uniqueId",function(){return Gt}),n.d(i,"chain",function(){return Xt}),n.d(i,"iteratee",function(){return It}),n.d(i,"partial",function(){return Qt}),n.d(i,"bind",function(){return te}),n.d(i,"bindAll",function(){return ie}),n.d(i,"memoize",function(){return re}),n.d(i,"delay",function(){return oe}),n.d(i,"defer",function(){return ae}),n.d(i,"throttle",function(){return se}),n.d(i,"debounce",function(){return le}),n.d(i,"wrap",function(){return ce}),n.d(i,"negate",function(){return ue}),n.d(i,"compose",function(){return de}),n.d(i,"after",function(){return he}),n.d(i,"before",function(){return fe}),n.d(i,"once",function(){return pe}),n.d(i,"findKey",function(){return ge}),n.d(i,"findIndex",function(){return ve}),n.d(i,"findLastIndex",function(){return ye}),n.d(i,"sortedIndex",function(){return be}),n.d(i,"indexOf",function(){return Ee}),n.d(i,"lastIndexOf",function(){return Ce}),n.d(i,"find",function(){return Te}),n.d(i,"detect",function(){return Te}),n.d(i,"findWhere",function(){return _e}),n.d(i,"each",function(){return Oe}),n.d(i,"forEach",function(){return Oe}),n.d(i,"map",function(){return ke}),n.d(i,"collect",function(){return ke}),n.d(i,"reduce",function(){return xe}),n.d(i,"foldl",function(){return xe}),n.d(i,"inject",function(){return xe}),n.d(i,"reduceRight",function(){return Ie}),n.d(i,"foldr",function(){return Ie}),n.d(i,"filter",function(){return Se}),n.d(i,"select",function(){return Se}),n.d(i,"reject",function(){return Re}),n.d(i,"every",function(){return Ae}),n.d(i,"all",function(){return Ae}),n.d(i,"some",function(){return Ne}),n.d(i,"any",function(){return Ne}),n.d(i,"contains",function(){return Pe}),n.d(i,"includes",function(){return Pe}),n.d(i,"include",function(){return Pe}),n.d(i,"invoke",function(){return Me}),n.d(i,"pluck",function(){return Le}),n.d(i,"where",function(){return Ke}),n.d(i,"max",function(){return je}),n.d(i,"min",function(){return Fe}),n.d(i,"shuffle",function(){return $e}),n.d(i,"sample",function(){return Be}),n.d(i,"sortBy",function(){return He}),n.d(i,"groupBy",function(){return ze}),n.d(i,"indexBy",function(){return Ve}),n.d(i,"countBy",function(){return We}),n.d(i,"partition",function(){return qe}),n.d(i,"toArray",function(){return Ge}),n.d(i,"size",function(){return Xe}),n.d(i,"pick",function(){return Je}),n.d(i,"omit",function(){return Qe}),n.d(i,"first",function(){return en}),n.d(i,"head",function(){return en}),n.d(i,"take",function(){return en}),n.d(i,"initial",function(){return tn}),n.d(i,"last",function(){return rn}),n.d(i,"rest",function(){return nn}),n.d(i,"tail",function(){return nn}),n.d(i,"drop",function(){return nn}),n.d(i,"compact",function(){return on}),n.d(i,"flatten",function(){return an}),n.d(i,"without",function(){return ln}),n.d(i,"uniq",function(){return cn}),n.d(i,"unique",function(){return cn}),n.d(i,"union",function(){return un}),n.d(i,"intersection",function(){return dn}),n.d(i,"difference",function(){return sn}),n.d(i,"unzip",function(){return hn}),n.d(i,"transpose",function(){return hn}),n.d(i,"zip",function(){return fn}),n.d(i,"object",function(){return pn}),n.d(i,"range",function(){return gn}),n.d(i,"chunk",function(){return mn}),n.d(i,"mixin",function(){return yn}),n.d(i,"default",function(){return bn});var r=n(4);function o(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var o=Array(e+1);for(r=0;r<e;r++)o[r]=arguments[r];return o[e]=i,t.apply(this,o)}}function a(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function s(t){return null===t}function l(t){return void 0===t}function c(t){return!0===t||!1===t||"[object Boolean]"===r.t.call(t)}function u(t){return!(!t||1!==t.nodeType)}function d(t){var e="[object "+t+"]";return function(t){return r.t.call(t)===e}}var h=d("String"),f=d("Number"),p=d("Date"),g=d("RegExp"),m=d("Error"),v=d("Symbol"),y=d("ArrayBuffer"),b=d("Function"),w=r.p.document&&r.p.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof w&&(b=function(t){return"function"==typeof t||!1});var E=b,C=d("Object"),T=r.s&&C(new DataView(new ArrayBuffer(8))),_="undefined"!=typeof Map&&C(new Map),O=d("DataView"),k=T?function(t){return null!=t&&E(t.getInt8)&&y(t.buffer)}:O,D=r.k||d("Array");function x(t,e){return null!=t&&r.i.call(t,e)}var I=d("Arguments");!function(){I(arguments)||(I=function(t){return x(t,"callee")})}();var S=I;function R(t){return!v(t)&&Object(r.f)(t)&&!isNaN(parseFloat(t))}function A(t){return f(t)&&Object(r.g)(t)}function N(t){return function(){return t}}function P(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=r.b}}function M(t){return function(e){return null==e?void 0:e[t]}}var L=M("byteLength"),K=P(L),j=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,F=r.r?function(t){return r.l?Object(r.l)(t)&&!k(t):K(t)&&j.test(r.t.call(t))}:N(!1),B=M("length");function $(t,e){e=function(t){for(var e={},n=t.length,i=0;i<n;++i)e[t[i]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=r.n.length,i=t.constructor,o=E(i)&&i.prototype||r.c,a="constructor";for(x(t,a)&&!e.contains(a)&&e.push(a);n--;)(a=r.n[n])in t&&t[a]!==o[a]&&!e.contains(a)&&e.push(a)}function H(t){if(!a(t))return[];if(r.m)return Object(r.m)(t);var e=[];for(var n in t)x(t,n)&&e.push(n);return r.h&&$(t,e),e}function U(t){if(null==t)return!0;var e=B(t);return"number"==typeof e&&(D(t)||h(t)||S(t))?0===e:0===B(H(t))}function z(t,e){var n=H(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var a=n[o];if(e[a]!==r[a]||!(a in r))return!1}return!0}function V(t){return t instanceof V?t:this instanceof V?void(this._wrapped=t):new V(t)}function W(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,L(t))}V.VERSION=r.e,V.prototype.value=function(){return this._wrapped},V.prototype.valueOf=V.prototype.toJSON=V.prototype.value,V.prototype.toString=function(){return String(this._wrapped)};var q="[object DataView]";function Y(t,e){return function t(e,n,i,o){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var a=typeof e;return("function"===a||"object"===a||"object"==typeof n)&&function e(n,i,o,a){n instanceof V&&(n=n._wrapped),i instanceof V&&(i=i._wrapped);var s=r.t.call(n);if(s!==r.t.call(i))return!1;if(T&&"[object Object]"==s&&k(n)){if(!k(i))return!1;s=q}switch(s){case"[object RegExp]":case"[object String]":return""+n==""+i;case"[object Number]":return+n!=+n?+i!=+i:0==+n?1/+n==1/i:+n==+i;case"[object Date]":case"[object Boolean]":return+n==+i;case"[object Symbol]":return r.d.valueOf.call(n)===r.d.valueOf.call(i);case"[object ArrayBuffer]":case q:return e(W(n),W(i),o,a)}var l="[object Array]"===s;if(!l&&F(n)){if(L(n)!==L(i))return!1;if(n.buffer===i.buffer&&n.byteOffset===i.byteOffset)return!0;l=!0}if(!l){if("object"!=typeof n||"object"!=typeof i)return!1;var c=n.constructor,u=i.constructor;if(c!==u&&!(E(c)&&c instanceof c&&E(u)&&u instanceof u)&&"constructor"in n&&"constructor"in i)return!1}a=a||[];for(var d=(o=o||[]).length;d--;)if(o[d]===n)return a[d]===i;if(o.push(n),a.push(i),l){if((d=n.length)!==i.length)return!1;for(;d--;)if(!t(n[d],i[d],o,a))return!1}else{var h,f=H(n);if(d=f.length,H(i).length!==d)return!1;for(;d--;)if(!x(i,h=f[d])||!t(n[h],i[h],o,a))return!1}return o.pop(),a.pop(),!0}(e,n,i,o)}(t,e)}function G(t){if(!a(t))return[];var e=[];for(var n in t)e.push(n);return r.h&&$(t,e),e}function X(t){var e=B(t);return function(n){if(null==n)return!1;var i=G(n);if(B(i))return!1;for(var r=0;r<e;r++)if(!E(n[t[r]]))return!1;return t!==et||!E(n[Z])}}var Z="forEach",J=["clear","delete"],Q=["get","has","set"],tt=J.concat(Z,Q),et=J.concat(Q),nt=["add"].concat(J,Z,"has"),it=_?X(tt):d("Map"),rt=_?X(et):d("WeakMap"),ot=_?X(nt):d("Set"),at=d("WeakSet");function st(t){for(var e=H(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i}function lt(t){for(var e=H(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i}function ct(t){for(var e={},n=H(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e}function ut(t){var e=[];for(var n in t)E(t[n])&&e.push(n);return e.sort()}function dt(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=t(o),s=a.length,l=0;l<s;l++){var c=a[l];e&&void 0!==n[c]||(n[c]=o[c])}return n}}var ht=dt(G),ft=dt(H),pt=dt(G,!0);function gt(t){if(!a(t))return{};if(r.j)return Object(r.j)(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function mt(t,e){var n=gt(t);return e&&ft(n,e),n}function vt(t){return a(t)?D(t)?t.slice():ht({},t):t}function yt(t,e){return e(t),t}function bt(t){return D(t)?t:[t]}function wt(t){return V.toPath(t)}function Et(t,e){for(var n=e.length,i=0;i<n;i++){if(null==t)return;t=t[e[i]]}return n?t:void 0}function Ct(t,e,n){var i=Et(t,wt(e));return l(i)?n:i}function Tt(t,e){for(var n=(e=wt(e)).length,i=0;i<n;i++){var r=e[i];if(!x(t,r))return!1;t=t[r]}return!!n}function _t(t){return t}function Ot(t){return t=ft({},t),function(e){return z(e,t)}}function kt(t){return t=wt(t),function(e){return Et(e,t)}}function Dt(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}}function xt(t,e,n){return null==t?_t:E(t)?Dt(t,e,n):a(t)&&!D(t)?Ot(t):kt(t)}function It(t,e){return xt(t,e,1/0)}function St(t,e,n){return V.iteratee!==It?V.iteratee(t,e):xt(t,e,n)}function Rt(t,e,n){e=St(e,n);for(var i=H(t),r=i.length,o={},a=0;a<r;a++){var s=i[a];o[s]=e(t[s],s,t)}return o}function At(){}function Nt(t){return null==t?At:function(e){return Ct(t,e)}}function Pt(t,e,n){var i=Array(Math.max(0,t));e=Dt(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i}function Mt(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}V.toPath=bt,V.iteratee=It;var Lt=Date.now||function(){return(new Date).getTime()};function Kt(t){var e=function(e){return t[e]},n="(?:"+H(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}}var jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ft=Kt(jt),Bt=Kt(ct(jt)),$t=V.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ht=/(.)^/,Ut={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},zt=/\\|'|\r|\n|\u2028|\u2029/g;function Vt(t){return"\\"+Ut[t]}function Wt(t,e,n){!e&&n&&(e=n),e=pt({},e,V.templateSettings);var i,r=RegExp([(e.escape||Ht).source,(e.interpolate||Ht).source,(e.evaluate||Ht).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(r,function(e,n,i,r,s){return a+=t.slice(o,s).replace(zt,Vt),o=s+e.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(a+="';\n"+r+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(e.variable||"obj","_",a)}catch(t){throw t.source=a,t}var s=function(t){return i.call(this,t,V)},l=e.variable||"obj";return s.source="function("+l+"){\n"+a+"}",s}function qt(t,e,n){var i=(e=wt(e)).length;if(!i)return E(n)?n.call(t):n;for(var r=0;r<i;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=n,r=i),t=E(o)?o.call(t):o}return t}var Yt=0;function Gt(t){var e=++Yt+"";return t?t+e:e}function Xt(t){var e=V(t);return e._chain=!0,e}function Zt(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=gt(t.prototype),s=t.apply(o,r);return a(s)?s:o}var Jt=o(function(t,e){var n=Jt.placeholder,i=function(){for(var r=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[r++]:e[s];for(;r<arguments.length;)a.push(arguments[r++]);return Zt(t,i,this,this,a)};return i});Jt.placeholder=V;var Qt=Jt,te=o(function(t,e,n){if(!E(t))throw new TypeError("Bind must be called on a function");var i=o(function(r){return Zt(t,i,e,this,n.concat(r))});return i}),ee=P(B);function ne(t,e,n,i){if(i=i||[],e||0===e){if(e<=0)return i.concat(t)}else e=1/0;for(var r=i.length,o=0,a=B(t);o<a;o++){var s=t[o];if(ee(s)&&(D(s)||S(s)))if(e>1)ne(s,e-1,n,i),r=i.length;else for(var l=0,c=s.length;l<c;)i[r++]=s[l++];else n||(i[r++]=s)}return i}var ie=o(function(t,e){var n=(e=ne(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=te(t[i],t)}return t});function re(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return x(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n}var oe=o(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),ae=Qt(oe,V,1);function se(t,e,n){var i,r,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Lt(),i=null,a=t.apply(r,o),i||(r=o=null)},c=function(){var c=Lt();s||!1!==n.leading||(s=c);var u=e-(c-s);return r=this,o=arguments,u<=0||u>e?(i&&(clearTimeout(i),i=null),s=c,a=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,u)),a};return c.cancel=function(){clearTimeout(i),s=0,i=r=o=null},c}function le(t,e,n){var i,r,a=function(e,n){i=null,n&&(r=t.apply(e,n))},s=o(function(o){if(i&&clearTimeout(i),n){var s=!i;i=setTimeout(a,e),s&&(r=t.apply(this,o))}else i=oe(a,e,this,o);return r});return s.cancel=function(){clearTimeout(i),i=null},s}function ce(t,e){return Qt(e,t)}function ue(t){return function(){return!t.apply(this,arguments)}}function de(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}}function he(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function fe(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var pe=Qt(fe,2);function ge(t,e,n){e=St(e,n);for(var i,r=H(t),o=0,a=r.length;o<a;o++)if(e(t[i=r[o]],i,t))return i}function me(t){return function(e,n,i){n=St(n,i);for(var r=B(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}var ve=me(1),ye=me(-1);function be(t,e,n,i){for(var r=(n=St(n,i,1))(e),o=0,a=B(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<r?o=s+1:a=s}return o}function we(t,e,n){return function(i,o,a){var s=0,l=B(i);if("number"==typeof a)t>0?s=a>=0?a:Math.max(a+l,s):l=a>=0?Math.min(a+1,l):a+l+1;else if(n&&a&&l)return i[a=n(i,o)]===o?a:-1;if(o!=o)return(a=e(r.q.call(i,s,l),A))>=0?a+s:-1;for(a=t>0?s:l-1;a>=0&&a<l;a+=t)if(i[a]===o)return a;return-1}}var Ee=we(1,ve,be),Ce=we(-1,ye);function Te(t,e,n){var i=(ee(t)?ve:ge)(t,e,n);if(void 0!==i&&-1!==i)return t[i]}function _e(t,e){return Te(t,Ot(e))}function Oe(t,e,n){var i,r;if(e=Dt(e,n),ee(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=H(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t}function ke(t,e,n){e=St(e,n);for(var i=!ee(t)&&H(t),r=(i||t).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=e(t[s],s,t)}return o}function De(t){var e=function(e,n,i,r){var o=!ee(e)&&H(e),a=(o||e).length,s=t>0?0:a-1;for(r||(i=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var l=o?o[s]:s;i=n(i,e[l],l,e)}return i};return function(t,n,i,r){var o=arguments.length>=3;return e(t,Dt(n,r,4),i,o)}}var xe=De(1),Ie=De(-1);function Se(t,e,n){var i=[];return e=St(e,n),Oe(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i}function Re(t,e,n){return Se(t,ue(St(e)),n)}function Ae(t,e,n){e=St(e,n);for(var i=!ee(t)&&H(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(!e(t[a],a,t))return!1}return!0}function Ne(t,e,n){e=St(e,n);for(var i=!ee(t)&&H(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(e(t[a],a,t))return!0}return!1}function Pe(t,e,n,i){return ee(t)||(t=st(t)),("number"!=typeof n||i)&&(n=0),Ee(t,e,n)>=0}var Me=o(function(t,e,n){var i,r;return E(e)?r=e:(e=wt(e),i=e.slice(0,-1),e=e[e.length-1]),ke(t,function(t){var o=r;if(!o){if(i&&i.length&&(t=Et(t,i)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)})});function Le(t,e){return ke(t,kt(e))}function Ke(t,e){return Se(t,Ot(e))}function je(t,e,n){var i,r,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,l=(t=ee(t)?t:st(t)).length;s<l;s++)null!=(i=t[s])&&i>o&&(o=i);else e=St(e,n),Oe(t,function(t,n,i){((r=e(t,n,i))>a||r===-1/0&&o===-1/0)&&(o=t,a=r)});return o}function Fe(t,e,n){var i,r,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,l=(t=ee(t)?t:st(t)).length;s<l;s++)null!=(i=t[s])&&i<o&&(o=i);else e=St(e,n),Oe(t,function(t,n,i){((r=e(t,n,i))<a||r===1/0&&o===1/0)&&(o=t,a=r)});return o}function Be(t,e,n){if(null==e||n)return ee(t)||(t=st(t)),t[Mt(t.length-1)];var i=ee(t)?vt(t):st(t),r=B(i);e=Math.max(Math.min(e,r),0);for(var o=r-1,a=0;a<e;a++){var s=Mt(a,o),l=i[a];i[a]=i[s],i[s]=l}return i.slice(0,e)}function $e(t){return Be(t,1/0)}function He(t,e,n){var i=0;return e=St(e,n),Le(ke(t,function(t,n,r){return{value:t,index:i++,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")}function Ue(t,e){return function(n,i,r){var o=e?[[],[]]:{};return i=St(i,r),Oe(n,function(e,r){var a=i(e,r,n);t(o,e,a)}),o}}var ze=Ue(function(t,e,n){x(t,n)?t[n].push(e):t[n]=[e]}),Ve=Ue(function(t,e,n){t[n]=e}),We=Ue(function(t,e,n){x(t,n)?t[n]++:t[n]=1}),qe=Ue(function(t,e,n){t[n?0:1].push(e)},!0),Ye=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ge(t){return t?D(t)?r.q.call(t):h(t)?t.match(Ye):ee(t)?ke(t,_t):st(t):[]}function Xe(t){return null==t?0:ee(t)?t.length:H(t).length}function Ze(t,e,n){return e in n}var Je=o(function(t,e){var n={},i=e[0];if(null==t)return n;E(i)?(e.length>1&&(i=Dt(i,e[1])),e=G(t)):(i=Ze,e=ne(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var a=e[r],s=t[a];i(s,a,t)&&(n[a]=s)}return n}),Qe=o(function(t,e){var n,i=e[0];return E(i)?(i=ue(i),e.length>1&&(n=e[1])):(e=ke(ne(e,!1,!1),String),i=function(t,n){return!Pe(e,n)}),Je(t,i,n)});function tn(t,e,n){return r.q.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function en(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:tn(t,t.length-e)}function nn(t,e,n){return r.q.call(t,null==e||n?1:e)}function rn(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:nn(t,Math.max(0,t.length-e))}function on(t){return Se(t,Boolean)}function an(t,e){return ne(t,e,!1)}var sn=o(function(t,e){return e=ne(e,!0,!0),Se(t,function(t){return!Pe(e,t)})}),ln=o(function(t,e){return sn(t,e)});function cn(t,e,n,i){c(e)||(i=n,n=e,e=!1),null!=n&&(n=St(n,i));for(var r=[],o=[],a=0,s=B(t);a<s;a++){var l=t[a],u=n?n(l,a,t):l;e&&!n?(a&&o===u||r.push(l),o=u):n?Pe(o,u)||(o.push(u),r.push(l)):Pe(r,l)||r.push(l)}return r}var un=o(function(t){return cn(ne(t,!0,!0))});function dn(t){for(var e=[],n=arguments.length,i=0,r=B(t);i<r;i++){var o=t[i];if(!Pe(e,o)){var a;for(a=1;a<n&&Pe(arguments[a],o);a++);a===n&&e.push(o)}}return e}function hn(t){for(var e=t&&je(t,B).length||0,n=Array(e),i=0;i<e;i++)n[i]=Le(t,i);return n}var fn=o(hn);function pn(t,e){for(var n={},i=0,r=B(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n}function gn(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r}function mn(t,e){if(null==e||e<1)return[];for(var n=[],i=0,o=t.length;i<o;)n.push(r.q.call(t,i,i+=e));return n}function vn(t,e){return t._chain?V(e).chain():e}function yn(t){return Oe(ut(t),function(e){var n=V[e]=t[e];V.prototype[e]=function(){var t=[this._wrapped];return r.o.apply(t,arguments),vn(this,n.apply(V,t))}}),V}Oe(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r.a[t];V.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),vn(this,n)}}),Oe(["concat","join","slice"],function(t){var e=r.a[t];V.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),vn(this,t)}});var bn=V,wn=yn(i);wn._=wn;var En=wn},function(t,e,n){(function(i){var r,o,a;a="object"==typeof self&&self.self===self&&self||"object"==typeof i&&i.global===i&&i,r=[n(0),n(11),e],void 0===(o=function(t,e,n){a.Backbone=function(t,e,n,i){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.3.3",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,i){n.each(e,function(e,r){n[r]&&(t.prototype[r]=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],s(t,this),r)};case 4:return function(t,r,o){return n[e](this[i],s(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}}(e,r,i))})},s=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?l(t):n.isString(t)?function(e){return e.get(t)}:t},l=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},u=/\s+/,d=function(t,e,i,r,o){var a,s=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(a=n.keys(i);s<a.length;s++)e=d(t,e,a[s],i[a[s]],o)}else if(i&&u.test(i))for(a=i.split(u);s<a.length;s++)e=t(e,a[s],r,o);else e=t(e,i,r,o);return e};c.on=function(t,e,n){return h(this,t,e,n)};var h=function(t,e,n,i,r){return t._events=d(f,t._events||{},e,n,{context:i,ctx:t,listening:r}),r&&((t._listeners||(t._listeners={}))[r.id]=r),t};c.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[r];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[r]={obj:t,objId:r,id:s,listeningTo:o,count:0}}return h(t,e,i,this,a),this};var f=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,a=i.ctx,s=i.listening;s&&s.count++,r.push({callback:n,context:o,ctx:o||a,listening:s})}return t};c.off=function(t,e,n){return this._events?(this._events=d(p,this._events,t,e,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),a=0;a<o.length;a++){var s=r[o[a]];if(!s)break;s.obj.off(e,i,this)}return this};var p=function(t,e,i,r){if(t){var o,a=0,s=r.context,l=r.listeners;if(e||i||s){for(var c=e?[e]:n.keys(t);a<c.length;a++){var u=t[e=c[a]];if(!u)break;for(var d=[],h=0;h<u.length;h++){var f=u[h];i&&i!==f.callback&&i!==f.callback._callback||s&&s!==f.context?d.push(f):(o=f.listening)&&0==--o.count&&(delete l[o.id],delete o.listeningTo[o.objId])}d.length?t[e]=d:delete t[e]}return t}for(var p=n.keys(l);a<p.length;a++)delete l[(o=l[p[a]]).id],delete o.listeningTo[o.objId]}};c.once=function(t,e,i){var r=d(g,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==i&&(e=void 0),this.on(r,e,i)},c.listenToOnce=function(t,e,i){var r=d(g,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var g=function(t,e,i,r){if(i){var o=t[e]=n.once(function(){r(e,o),i.apply(this,arguments)});o._callback=i}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return d(m,this._events,t,void 0,n),this};var m=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&v(r,i),o&&v(o,[e].concat(i))}return t},v=function(t,e){var n,i=-1,r=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a,s);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};c.bind=c.on,c.unbind=c.off,n.extend(e,c);var y=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{});var r=n.result(this,"defaults");i=n.defaults(n.extend({},r,i),r),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,a=i.silent,s=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,u=this.changed,d=this._previousAttributes;for(var h in r)e=r[h],n.isEqual(c[h],e)||s.push(h),n.isEqual(d[h],e)?delete u[h]:u[h]=e,o?delete c[h]:c[h]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!a){s.length&&(this._pending=i);for(var f=0;f<s.length;f++)this.trigger("change:"+s[f],this,c[s[f]],i)}if(l)return this;if(!a)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var o=t[r];n.isEqual(e[r],o)||(i[r]=o)}return!!n.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;if(!e.set(r,t))return!1;i&&i.call(t.context,e,n,t),e.trigger("sync",e,n,t)},K(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e;var o=(i=n.extend({validate:!0,parse:!0},i)).wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var a=this,s=i.success,l=this.attributes;i.success=function(t){a.attributes=l;var e=i.parse?a.parse(t,i):t;if(o&&(e=n.extend({},r,e)),e&&!a.set(e,i))return!1;s&&s.call(i.context,a,t,i),a.trigger("sync",a,t,i)},K(this,i),r&&o&&(this.attributes=n.extend({},l,r));var c=this.isNew()?"create":i.patch?"patch":"update";"patch"!==c||i.attrs||(i.attrs=r);var u=this.sync(c,this,i);return this.attributes=l,u},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(K(this,t),a=this.sync("delete",this,t)),r||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||L();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}}),a(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},E={add:!0,remove:!1},C=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var i,r=Array(t.length-n),o=e.length;for(i=0;i<r.length;i++)r[i]=t[i+n];for(i=0;i<o;i++)t[i+n]=e[i];for(i=0;i<r.length;i++)t[i+o+n]=r[i]};n.extend(b.prototype,c,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,E))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),i?r[0]:r},set:function(t,e){if(null!=t){(e=n.extend({},w,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var o,a,s=[],l=[],c=[],u=[],d={},h=e.add,f=e.merge,p=e.remove,g=!1,m=this.comparator&&null==r&&!1!==e.sort,v=n.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){o=t[a];var y=this.get(o);if(y){if(f&&o!==y){var b=this._isModel(o)?o.attributes:o;e.parse&&(b=y.parse(b,e)),y.set(b,e),c.push(y),m&&!g&&(g=y.hasChanged(v))}d[y.cid]||(d[y.cid]=!0,s.push(y)),t[a]=y}else h&&(o=t[a]=this._prepareModel(o,e))&&(l.push(o),this._addReference(o,e),d[o.cid]=!0,s.push(o))}if(p){for(a=0;a<this.length;a++)d[(o=this.models[a]).cid]||u.push(o);u.length&&this._removeModels(u,e)}var E=!1,T=!m&&h&&p;if(s.length&&T?(E=this.length!==s.length||n.some(this.models,function(t,e){return t!==s[e]}),this.models.length=0,C(this.models,s,0),this.length=this.models.length):l.length&&(m&&(g=!0),C(this.models,l,null==r?this.length:r),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(a=0;a<l.length;a++)null!=r&&(e.index=r+a),(o=l[a]).trigger("add",o,this,e);(g||E)&&this.trigger("sort",this,e),(l.length||u.length||c.length)&&(e.changes={added:l,removed:u,merged:c},this.trigger("update",this,e))}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},K(this,t),this.sync("read",this,t)},create:function(t,e){var i=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?n.clone(e):{}).collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,delete this._byId[r.cid];var a=this.modelId(r.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=o,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return n},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}}),a(b,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var T=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,O)),this._ensureElement(),this.initialize.apply(this,arguments)},_=/^(\S+)\s*(.*)$/,O=["model","collection","el","id","attributes","className","tagName","events"];n.extend(T.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(_);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var o=k[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=n.result(i,"url")||L()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||r.emulateJSON||(a.processData=!1);var l=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,l&&l.call(r.context,t,e,n)};var c=r.xhr=e.ajax(n.extend(a,r));return i.trigger("request",i,c,r),c};var k={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var D=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},x=/\((.*?)\)/g,I=/(\(\?)?:\w+/g,S=/\*\w+/g,R=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(D.prototype,c,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,function(n){var a=o._extractParameters(t,n);!1!==o.execute(r,a,i)&&(o.trigger.apply(o,["route:"+i].concat(a)),o.trigger("route",i,a),e.history.trigger("route",o,i,a))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(R,"\\$&").replace(x,"(?:$1)?").replace(I,function(t,e){return e?t:"([^/?]+)"}).replace(S,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var A=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,P=/^\/+|\/+$/g,M=/#.*$/;A.started=!1,n.extend(A.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(N,"")},start:function(t){if(A.started)throw new Error("Backbone.history has already been started");if(A.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(P,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!A.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(M,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new A,y.extend=b.extend=D.extend=T.extend=A.extend=function(t,e){var i,r=this;return i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e),i.prototype=n.create(r.prototype,t),i.prototype.constructor=i,i.__super__=r.prototype,i};var L=function(){throw new Error('A "url" property or function must be specified')},K=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e}(a,n,t,e)}.apply(e,r))||(t.exports=o)}).call(this,n(26))},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";n.d(e,"r",function(){return E}),n.d(e,"w",function(){return h}),n.d(e,"v",function(){return f}),n.d(e,"k",function(){return y}),n.d(e,"t",function(){return c}),n.d(e,"g",function(){return C}),n.d(e,"d",function(){return T}),n.d(e,"b",function(){return m}),n.d(e,"s",function(){return w}),n.d(e,"f",function(){return k}),n.d(e,"o",function(){return D}),n.d(e,"n",function(){return x}),n.d(e,"e",function(){return b}),n.d(e,"y",function(){return d}),n.d(e,"u",function(){return v}),n.d(e,"h",function(){return _}),n.d(e,"i",function(){return p}),n.d(e,"c",function(){return R}),n.d(e,"j",function(){return P}),n.d(e,"x",function(){return M}),n.d(e,"a",function(){return u}),n.d(e,"p",function(){return I}),n.d(e,"m",function(){return S}),n.d(e,"l",function(){return A}),n.d(e,"q",function(){return N});var i=n(8),r=n.n(i),o=n(7),a=n.n(o),s=n(0),l=window.Element.prototype,c=l.matches||l.webkitMatchesSelector||l.mozMatchesSelector||l.msMatchesSelector,u=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(s.isArray)(e)?a()(e):[e];if(i.length){var r=i.shift();if(r&&(!n.unique||!document.querySelector('link[href="'.concat(r,'"]')))){var o=document.head,l=document.createElement("link");l.href=r,l.rel="stylesheet",n.prepand?o.insertBefore(l,o.firstChild):o.appendChild(l)}t(i)}},d=function(t,e){var n={},i=Object(s.keys)(e);for(var r in t)if(t.hasOwnProperty(r)){var o=t[r],a=e[r];i.indexOf(r)>=0?o!==a&&(n[r]=a):n[r]=null}for(var l in e)e.hasOwnProperty(l)&&Object(s.isUndefined)(t[l])&&(n[l]=e[l]);return n},h=function(t,e,n){e=e.split(/\s+/),t=t instanceof Array?t:[t];for(var i=function(i){t.forEach(function(t){return t.addEventListener(e[i],n)})},r=0;r<e.length;++r)i(r)},f=function(t,e,n){e=e.split(/\s+/),t=t instanceof Array?t:[t];for(var i=function(i){t.forEach(function(t){return t.removeEventListener(e[i],n)})},r=0;r<e.length;++r)i(r)},p=function(t){return t.replace(parseFloat(t),"")},g=function(t){return t[0].toUpperCase()+t.toLowerCase().slice(1)},m=function(t){var e=t.split("-").filter(String);return e[0].toLowerCase()+e.slice(1).map(g)},v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0;if(isNaN(t))return n;if(t=parseFloat(t),Math.floor(t)!==t){var r=e.toString().split(".")[1];i=r?r.length:0}return i?parseFloat(t.toFixed(i)):t},y=function(t){return"draggable"in document.createElement("i")&&(t?t.get("Config").nativeDnD:1)},b=function(t){return Object(s.isElement)(t)||w(t)?t:t&&t.getEl?t.getEl():void 0},w=function(t){return t&&3===t.nodeType},E=function(t){return t&&!w(t)&&!function(t){return t&&8===t.nodeType}(t)},C=function(t,e){var n=t;return Object(s.isElement)(t)&&(n=e(t).data("model")),n},T=function(t){var e,n={top:0,left:0,width:0,height:0};if(!t)return n;if(w(t)){var i=document.createRange();i.selectNode(t),e=i.getBoundingClientRect(),i.detach()}return e||(t.getBoundingClientRect?t.getBoundingClientRect():n)},_=function(t){return t.touches&&t.touches[0]?t.touches[0]:t},O=function(t){return t.which||t.keyCode},k=function(t){return String.fromCharCode(O(t))},D=function(t){return 27===O(t)},x=function(t){return 13===O(t)},I=function(t){return null!==t&&!Array.isArray(t)&&"object"===r()(t)},S=function(t){return Object.keys(t).length<=0},R=function(t){return t&&t.charAt(0).toUpperCase()+t.substring(1)},A=function(t){return t&&t.toHTML},N=function(t){return t&&t.toCSS},P=function(t){return t.__gjsv},M=function(t,e){t.__gjsv=e}},function(t,e,n){"use strict";(function(t){n.d(e,"e",function(){return i}),n.d(e,"p",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"o",function(){return l}),n.d(e,"q",function(){return c}),n.d(e,"t",function(){return u}),n.d(e,"i",function(){return d}),n.d(e,"r",function(){return h}),n.d(e,"s",function(){return f}),n.d(e,"k",function(){return p}),n.d(e,"m",function(){return g}),n.d(e,"j",function(){return m}),n.d(e,"l",function(){return v}),n.d(e,"g",function(){return y}),n.d(e,"f",function(){return b}),n.d(e,"h",function(){return w}),n.d(e,"n",function(){return E}),n.d(e,"b",function(){return C});var i="1.12.0",r="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||Function("return this")()||{},o=Array.prototype,a=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,l=o.push,c=o.slice,u=a.toString,d=a.hasOwnProperty,h="undefined"!=typeof ArrayBuffer,f="undefined"!=typeof DataView,p=Array.isArray,g=Object.keys,m=Object.create,v=h&&ArrayBuffer.isView,y=isNaN,b=isFinite,w=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],C=Math.pow(2,53)-1}).call(this,n(26))},function(t,e,n){"use strict";n.d(e,"b",function(){return _});var i=n(8),r=n.n(i),o=n(7),a=n.n(o),s=n(2),l=n.n(s),c=n(0),u=n(3),d=n(23),h=n(1),f=n.n(h),p=n(21),g=n(10),m=n(12);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){l()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var b=f.a.Model.extend({defaults:{type:"text",label:"",name:"",min:"",max:"",unit:"",step:1,value:"",target:"",default:"",placeholder:"",changeProp:0,options:[]},initialize:function(){var t=this.get("target"),e=this.get("name"),n=this.get("changeProp");if(!this.get("id")&&this.set("id",e),t){this.target=t,this.unset("target");var i=n?"change:".concat(e):"change:attributes:".concat(e);this.listenTo(t,i,this.targetUpdated)}},props:function(){return this.attributes},targetUpdated:function(){var t=this.getTargetValue();this.set({value:t},{fromTarget:1})},getTargetValue:function(){var t,e=this.get("name"),n=this.target;return t=this.get("changeProp")?n.get(e):n.getAttributes()[e],Object(c.isUndefined)(t)?"":t},setTargetValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.target,i=this.get("name");if(!Object(c.isUndefined)(t)){var r=t;if("false"===t?r=!1:"true"===t&&(r=!0),this.get("changeProp"))n.set(i,r,e);else{var o=y({},n.get("attributes"));o[i]=r,n.set("attributes",o,e)}}},setValueFromInput:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={value:t};this.set(i,y(y({},n),{},{avoidStore:1})),e&&(this.set("value","",n),this.set(i,n))},getInitValue:function(){var t,e=this.target,n=this.get("name");if(e){var i=e.get("attributes");t=this.get("changeProp")?e.get(n):i[n]}return t||this.get("value")||this.get("default")}}),w=f.a.Collection.extend({model:b,initialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.em=e.em||"",this.listenTo(this,"add",this.handleAdd),this.listenTo(this,"reset",this.handleReset)},handleReset:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).previousModels;(void 0===e?[]:e).forEach(function(t){return t.trigger("remove")})},handleAdd:function(t){var e=this.target;e&&(t.target=e)},setTarget:function(t){this.target=t},add:function(t,e){var n=this.em;if(Object(c.isString)(t)||Object(c.isArray)(t)){var i=n&&n.get&&n.get("TraitManager"),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{build:function(e){var n=[];"string"==typeof e&&(e=[e]);for(var i=0;i<e.length;i++){var r={},o=e[i];switch(r.name=o,o){case"target":r.type="select",r.default=!1,r.options=t.optionsTarget}n.push(r)}return n}}}(i&&i.getConfig());Object(c.isString)(t)&&(t=[t]);for(var o=0,a=t.length;o<a;o++){var s=t[o],l=Object(c.isString)(s)?r.build(s)[0]:s;l.target=this.target,t[o]=l}}return f.a.Collection.prototype.add.apply(this,[t,e])}});function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach(function(e){l()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var T=function(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},_="component:drag",O="__symbols",k="__symbol",D=f.a.Model.extend(d.a).extend({defaults:{tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",classes:"",script:"","script-props":"","script-export":"",attributes:"",traits:["id","title"],propagate:"",dmode:"",toolbar:null},init:function(){},updated:function(t,e,n){},removed:function(){},initialize:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(c.bindAll)(this,"__upSymbProps","__upSymbCls","__upSymbComps");var i=n.em,r=this.parent(),o=r&&r.attributes;if(o&&o.propagate){var a={},s=o.propagate;s.forEach(function(t){return a[t]=r.get(t)}),a.propagate=s,a=C(C({},a),e),this.set(a)}var l=this.get("propagate");l&&this.set("propagate",Object(c.isArray)(l)?l:[l]),n&&n.config&&n.config.voidElements.indexOf(this.get("tagName"))>=0&&this.set("void",!0),n.em=i,this.opt=n,this.em=i,this.frame=n.frame,this.config=n.config||{},this.set("attributes",C(C({},this.defaults.attributes||{}),this.get("attributes")||{})),this.ccid=D.createId(this,n),this.initClasses(),this.initTraits(),this.initComponents(),this.initToolbar(),this.initScriptProps(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.on("change:toolbar",this.__emitUpdateTlb),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(e){var n="add remove ".concat("components"!==e?"change":"");t.listenTo(t.get(e),n.trim(),function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.emitUpdate.apply(t,[e].concat(i))})}),n.temporary||(this.init(),this.__isSymbolOrInst()&&this.__initSymb(),i&&i.trigger("component:create",this))},__emitUpdateTlb:function(){this.emitUpdate("toolbar")},is:function(t){return!(this.get("type")!=t)},props:function(){return this.attributes},index:function(){var t=this.collection;return t&&t.indexOf(this)},setDragMode:function(t){return this.set("dmode",t)},find:function(t){var e=[],n=this.view.$el.find(t);return n.each(function(t){var i=n.eq(t).data("model");i&&e.push(i)}),e},findType:function(t){var e=[];return function n(i){return i.forEach(function(i){i.is(t)&&e.push(i),n(i.components())})}(this.components()),e},closest:function(t){var e=this.view.$el.closest(t);return e.length&&e.data("model")},closestType:function(t){for(var e=this.parent();e&&!e.is(t);)e=e.parent();return e},contains:function(t){var e=!1;if(!t)return e;return function n(i){!e&&i.forEach(function(i){i===t&&(e=!0),!e&&n(i.components())})}(this.components()),e},tagUpdated:function(){var t=this.collection,e=t.indexOf(this);t.remove(this),t.add(this,{at:e})},replaceWith:function(t){var e=this.collection,n=e.indexOf(this);return e.remove(this),e.add(t,{at:n})},attrUpdated:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.get("attributes"),o=r.class;o&&this.setClass(o),delete r.class;var a=r.style;a&&this.setStyle(a),delete r.style;var s=C({},this.previous("attributes")),l=Object(u.y)(s,this.get("attributes"));Object(c.keys)(l).forEach(function(t){return n.trigger("change:attributes:".concat(t),n,l[t],i)})},setAttributes:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.set("attributes",C({},t),e),this},addAttributes:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setAttributes(C(C({},this.getAttributes({noClass:1})),t),e)},removeAttributes:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(t)?t:[t],i=this.getAttributes();return n.map(function(t){return delete i[t]}),this.setAttributes(i,e)},getStyle:function(){var t=this.em;if(t&&t.getConfig("avoidInlineStyle")){var e=t.get("state"),n=t.get("CssComposer").getIdRule(this.getId(),{state:e});if(this.rule=n,n)return n.getStyle()}return d.a.getStyle.call(this)},setStyle:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.em,r=this.opt;if(i&&i.getConfig("avoidInlineStyle")&&!r.temporary){var o=this.get("style")||{};e=C(C({},e=Object(c.isString)(e)?this.parseStyle(e):e),o);var a=i.get("state"),s=i.get("CssComposer"),l=this.getStyle();this.rule=s.setIdRule(this.getId(),e,C(C({},n),{},{state:a}));var h=Object(u.y)(l,e);this.set("style","",{silent:1}),Object(c.keys)(h).forEach(function(e){return t.trigger("change:style:".concat(e))})}else e=d.a.setStyle.apply(this,arguments);return e},getAttributes:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.em,i=[],r=C({},this.get("attributes")),o=n&&n.get("SelectorManager"),a=this.getId();return e.noClass||(this.get("classes").forEach(function(t){return i.push(Object(c.isString)(t)?t:t.get("name"))}),i.length&&(r.class=i.join(" "))),Object(c.has)(r,"id")||(function(t){return t&&t.getConfig("avoidInlineStyle")}(n)?t=o&&o.get(a,o.Selector.TYPE_ID):Object(c.isEmpty)(this.getStyle())||(t=1),t&&(r.id=this.getId())),r},addClass:function(t){var e=this.em.get("SelectorManager").addClass(t);return this.get("classes").add(e)},setClass:function(t){return this.get("classes").reset(),this.addClass(t)},removeClass:function(t){var e=[];t=Object(c.isArray)(t)?t:[t];var n=this.get("classes"),i=g.a.TYPE_CLASS;return t.forEach(function(t){t.split(" ").forEach(function(t){var r=n.where({name:t,type:i})[0];r&&e.push(n.remove(r))})}),e},getClasses:function(){var t=this.getAttributes().class;return t?t.split(" "):[]},__logSymbol:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.__getSymbol(),r=this.__getSymbols();(i||r)&&this.em.log(t,{model:this,toUp:e,context:"symbols",opts:n})},__initSymb:function(){this.__symbReady||(this.on("change",this.__upSymbProps),this.__symbReady=1)},__isSymbol:function(){return Object(c.isArray)(this.get(O))},__isSymbolOrInst:function(){return!(!this.__isSymbol()&&!this.get(k))},__isSymbolTop:function(){var t=this.parent();return this.__isSymbolOrInst()&&(!t||t&&!t.__isSymbol()&&!t.__getSymbol())},__getAllById:function(){var t=this.em;return t?t.get("DomComponents").allById():{}},__getSymbol:function(){var t=this.get(k);if(t&&Object(c.isString)(t)){var e=this.__getAllById()[t];e?(t=e,this.set(k,e)):t=0}return t},__getSymbols:function(){var t=this,e=this.get(O);return e&&Object(c.isArray)(e)&&(e.forEach(function(n,i){n&&Object(c.isString)(n)&&(e[i]=t.__getAllById()[n])}),e=e.filter(function(t){return t&&!Object(c.isString)(t)})),e},__getSymbToUp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.em,n=e&&e.get("symbols"),i=t.fromInstance,r=this.__getSymbols()||[],o=this.__getSymbol(),a=o&&!i?[o]:r.filter(function(t){return t.collection||t.prevColl});return i&&(a=a.filter(function(t){return t!==i})),n?a:[]},__getSymbTop:function(t){for(var e=this,n=this.parent(t);n&&(n.__isSymbol()||n.__getSymbol());)e=n,n=n.parent(t);return e},__upSymbProps:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.changedAttributes(),r=i.attributes||{};if(delete i.status,delete i.open,delete i[O],delete i[k],delete i.attributes,delete r.id,Object(u.m)(r)||(i.attributes=r),!Object(u.m)(i)){var o=this.__getSymbToUp(n);this.__logSymbol("props",o,{opts:n,changed:i}),o.forEach(function(t){return t.set(i,C({fromInstance:e},n))})}},__upSymbCls:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.__getSymbToUp();this.__logSymbol("classes",r,{opts:i}),r.forEach(function(t){t.set("classes",n.get("classes"),{fromInstance:n})})},__upSymbComps:function(t,e,n){var i=this,r={fromInstance:(n||e||{}).fromInstance},o=t.opt.temporary;if(n){if(n.add){var s=[],l=!!this.__getSymbols(),c=this.__getSymbToUp(r);if(c.length){var u=t.__getSymbol();s=(u?u.__getSymbols():t.__getSymbols())||[],(s=a()(s)).push(u||t)}!o&&this.__logSymbol("add",c,{opts:n,addedInstances:s.map(function(t){return t.cid}),added:t.cid}),c.forEach(function(e){var r=e.__getSymbTop(),o=s.filter(function(t){var e=t.__getSymbTop({prev:1});return r&&e&&e===r})[0]||t.clone({symbol:1,symbolInv:l});e.append(o,C({fromInstance:i},n))})}else if(!t.__isSymbolTop()){var d=t.__getSymbToUp(r);!o&&this.__logSymbol("remove",d,{opts:n,removed:t.cid}),d.forEach(function(e){var o=C({fromInstance:t},n);if(e.__isSymbolTop()&&e.__getSymbols()){var a=e.__getSymbToUp(C({fromInstance:t},r));i.__logSymbol("remove-inst",a,{opts:n,symbol:e}),a.forEach(function(t){t.remove(o)})}else e.remove(o)})}}else{var h=this.__getSymbToUp(r);this.__logSymbol("reset",h),h.forEach(function(n){var r=t.models.map(function(t){return t.clone({symbol:1})});n.components().reset(r,C({fromInstance:i},e))})}},initClasses:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.get("attributes").class||[],r=[this,"change:classes",this.initClasses],o=this.get("classes")||i,a=Object(c.isString)(o)?o.split(" "):o;this.stopListening.apply(this,r);var s=this.normalizeClasses(a),l=new m.a([]);return this.set("classes",l,n),l.add(s),l.on("add remove reset",this.__upSymbCls),this.listenTo.apply(this,r),this},initComponents:function(){var t=[this,"change:components",this.initComponents];this.stopListening.apply(this,t);var e=new p.a(null,this.opt);e.parent=this;var n=this.get("components"),i=!this.opt.avoidChildren;return this.set("components",e),i&&e.add(Object(c.isFunction)(n)?n(this):n,this.opt),e.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,t),this},initTraits:function(t){var e=this.em,n=[this,"change:traits",this.initTraits];this.stopListening.apply(this,n),this.loadTraits();var i=C({},this.get("attributes")),r=this.get("traits");return r.each(function(t){if(!t.get("changeProp")){var e=t.get("name"),n=t.getInitValue();e&&n&&(i[e]=n)}}),r.length&&this.set("attributes",i),this.listenTo.apply(this,n),t&&e&&e.trigger("component:toggled"),this},initScriptProps:function(){if(!this.opt.temporary){var t="script-props",e=["change:".concat(t),this.initScriptProps];this.off.apply(this,e);var n=this.previous(t)||[],i=this.get(t)||[],r=n.map(function(t){return"change:".concat(t)}).join(" "),o=i.map(function(t){return"change:".concat(t)}).join(" ");r&&this.off(r,this.__scriptPropsChange),o&&this.on(o,this.__scriptPropsChange),this.on.apply(this,e)}},__scriptPropsChange:function(t,e){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).avoidStore||this.trigger("rerender")},append:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(Object(c.isArray)(t)?t:[t]).map(function(t){return Object(c.isString)(t)||t.collection&&t.collection.remove(t,{temporary:1}),t}),i=this.components().add(n,e);return Object(c.isArray)(i)?i:[i]},components:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.get("components");return Object(c.isUndefined)(t)?n:(n.reset(null,e),t&&this.append(t,e))},empty:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.components().reset(null,t),this},parent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.collection||t.prev&&this.prevColl;return e&&e.parent},scriptUpdated:function(){this.set("scriptUpdated",1)},initToolbar:function(){var t=this.em,e=t&&t.getConfig("stylePrefix")||"";if(!this.get("toolbar")){var n=[];this.collection&&n.push({attributes:{class:"fa fa-arrow-up"},command:function(t){return t.runCommand("core:component-exit",{force:1})}}),this.get("draggable")&&n.push({attributes:{class:"fa fa-arrows ".concat(e,"no-touch-actions"),draggable:!0},command:"tlb-move"}),this.get("copyable")&&n.push({attributes:{class:"fa fa-clone"},command:"tlb-clone"}),this.get("removable")&&n.push({attributes:{class:"fa fa-trash-o"},command:"tlb-delete"}),this.set("toolbar",n)}},loadTraits:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=t||this.get("traits"),!((t=Object(c.isFunction)(t)?t(this):t)instanceof w)){var n=new w([],this.opt);n.setTarget(this),t.length&&(t.forEach(function(t){return t.attributes&&delete t.attributes.value}),n.add(t)),this.set("traits",n,e)}return this},getTrait:function(t){return this.get("traits").filter(function(e){return e.get("id")===t||e.get("name")===t})[0]},updateTrait:function(t,e){var n=this.em,i=this.getTrait(t);return i&&i.set(e),n&&n.trigger("component:toggled"),this},getTraitIndex:function(t){var e=this.getTrait(t);return e?this.get("traits").indexOf(e):-1},removeTrait:function(t){var e=this,n=this.em,i=(Object(c.isArray)(t)?t:[t]).map(function(t){return e.getTrait(t)}),r=this.get("traits").remove(i);return n&&n.trigger("component:toggled"),r},addTrait:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.em,i=this.get("traits").add(t,e);return n&&n.trigger("component:toggled"),i},normalizeClasses:function(t){var e=[],n=this.em,i=n&&n.get("SelectorManager");if(i)return t.models?a()(t.models):(t.forEach(function(t){return e.push(i.add(t))}),e)},clone:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.em,n=C({},this.attributes),i=C({},this.opt),r=this.getId(),o=e&&e.get("CssComposer");n.attributes=C({},n.attributes),delete n.attributes.id,n.components=[],n.classes=[],n.traits=[],this.__isSymbolTop()&&(t.symbol=1),this.get("components").each(function(e,i){n.components[i]=e.clone(C(C({},t),{},{_inner:1}))}),this.get("traits").each(function(t,e){n.traits[e]=t.clone()}),this.get("classes").each(function(t,e){n.classes[e]=t.get("name")}),n.status="",i.collection=null;var a=new this.constructor(n,i),s="#".concat(a.getId());(o?o.getRules("#".concat(r)):[]).forEach(function(t){var e=t.clone();e.set("selectors",[s]),o.getAll().add(e)}),a.unset(O);var l=this.__getSymbol(),c=this.__getSymbols();t.symbol||!l&&!c?l?(l.get(O).push(a),a.__initSymb()):t.symbol&&(this.__isSymbol()?(this.get(O).push(a),a.set(k,this),a.__initSymb()):t.symbolInv?(this.set(O,[a]),a.set(k,this),[this,a].map(function(t){return t.__initSymb()})):(a.set(O,[this]),[this,a].map(function(t){return t.__initSymb()}),this.set(k,a))):(a.unset(k),a.unset(O));var u="component:clone";return e&&e.trigger(u,a),this.trigger(u,a),a},getName:function(){var t=this.em,e=this.attributes,n=e.type,i=e.tagName,r=this.get("name"),o="div"==i,a=n||(o?"box":i),s=!n&&i&&!o&&i,l="domComponents.names.",c=r&&t&&t.t("".concat(l).concat(r)),d=s&&t&&t.t("".concat(l).concat(s)),h=t&&(t.t("".concat(l).concat(n))||t.t("".concat(l).concat(i)));return this.get("custom-name")||c||r||d||Object(u.c)(s)||h||Object(u.c)(a)},getIcon:function(){var t=this.get("icon");return t?t+" ":""},toHTML:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,n=[],i=t.tag||e.get("tagName"),r=e.get("void"),o=t.attributes,a=this.getAttrToHTML();for(var s in delete t.tag,o&&(Object(c.isFunction)(o)?a=o(e,a)||{}:Object(c.isObject)(o)&&(a=o)),a){var l=a[s],u=Object(c.isString)(l)?l.replace(/"/g,"&quot;"):l;Object(c.isUndefined)(u)||(Object(c.isBoolean)(u)?u&&n.push(s):n.push("".concat(s,'="').concat(u,'"')))}var d=e.get("components"),h=d.length?"":e.get("content"),f=n.length?" ".concat(n.join(" ")):"",p="<".concat(i).concat(f).concat(r?"/":"",">").concat(h);return d.forEach(function(e){return p+=e.toHTML(t)}),!r&&(p+="</".concat(i,">")),p},getAttrToHTML:function(){var t=this.getAttributes();return delete t.style,t},toJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=f.a.Model.prototype.toJSON.call(this,t);return e.attributes=this.getAttributes(),delete e.attributes.class,delete e.toolbar,delete e.traits,delete e.status,delete e.open,t.keepSymbols||(e[O]&&(e[O]=this.__getSymbToUp().map(function(t){return t.getId()})),e[k]&&!Object(c.isString)(e[k])&&(e[k]=e[k].getId())),this.em.getConfig("avoidDefaults")&&this.getChangedProps(e),e},getChangedProps:function(t){var e=t||f.a.Model.prototype.toJSON.apply(this),n=Object(c.result)(this,"defaults");return Object(c.forEach)(n,function(t,n){-1===["type"].indexOf(n)&&e[n]===t&&delete e[n]}),Object(c.isEmpty)(e.type)&&delete e.type,Object(c.forEach)(["attributes","style"],function(t){Object(c.isEmpty)(n[t])&&Object(c.isEmpty)(e[t])&&delete e[t]}),Object(c.forEach)(["classes","components"],function(t){(!e[t]||Object(c.isEmpty)(n[t])&&!e[t].length)&&delete e[t]}),e},getId:function(){return(this.get("attributes")||{}).id||this.ccid||this.cid},setId:function(t,e){var n=C({},this.get("attributes"));return n.id=t,this.set("attributes",n,e),this},getEl:function(t){var e=this.getView(t);return e&&e.el},getView:function(t){var e=this.view,n=this.views;return t&&(e=n.filter(function(e){return e._getFrame()===t.view})[0]),e},getCurrentView:function(){var t=(this.em.get("currentFrame")||{}).model;return this.getView(t)},__getScriptProps:function(){var t=this.props();return(this.get("script-props")||[]).reduce(function(e,n){return e[n]=t[n],e},{})},getScriptString:function(t){var e=this,n=t||this.get("script");if(!n)return n;if(this.get("script-props"))n=n.toString().trim();else{if("function"==typeof n){var i=n.toString().trim();n=(i=i.replace(/^function[\s\w]*\(\)\s?\{/,"").replace(/\}$/,"")).trim()}var o=this.em.getConfig(),a=T(o.tagVarStart||"{[ "),s=T(o.tagVarEnd||" ]}"),l=new RegExp("".concat(a,"([\\w\\d-]*)").concat(s),"g");n=n.replace(l,function(t,n){e.scriptUpdated();var i=e.attributes[n]||"";return Object(c.isArray)(i)||"object"==r()(i)?JSON.stringify(i):i})}return n},emitUpdate:function(t){for(var e=this.em,n="component:update"+(t?":".concat(t):""),i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];t&&this.updated.apply(this,[t,t&&this.get(t),t&&this.previous(t)].concat(r)),this.trigger.apply(this,[n].concat(r)),e&&e.trigger.apply(e,[n,this].concat(r))},onAll:function(t){return Object(c.isFunction)(t)&&(t(this),this.components().forEach(function(e){return e.onAll(t)})),this},remove:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.em,i=this.collection,r=function(){return i&&i.remove(t,e)},o=C({},e);return[this,n].map(function(e){return e.trigger("component:remove:before",t,r,o)}),!o.abort&&r(),this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.remove({temporary:1}),t&&t.append(this,e),this},resetId:function(){var t=this.em,e=this.getId();if(e){var n=D.createId(this);this.setId(n);var i=t&&t.get("CssComposer").getIdRule(e),r=i&&i.get("selectors").at(0);return r&&r.set("name",n),this}},_getStyleRule:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id,e=this.em,n=t||this.getId();return e&&e.get("CssComposer").getIdRule(n)},_getStyleSelector:function(t){var e=this._getStyleRule(t);return e&&e.get("selectors").at(0)},_idUpdated:function(t,e){if(!(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).idUpdate){var n=this.ccid,i=(this.get("attributes")||{}).id,r=(this.previous("attributes")||{}).id||n,o=D.getList(this);if(o[i]||!i&&r)return this.setId(r,{idUpdate:1});delete o[r],o[i]=this,this.ccid=i;var a=this._getStyleSelector({id:r});a&&a.set({name:i,label:i})}}},{isComponent:function(t){return{tagName:t.tagName?t.tagName.toLowerCase():""}},ensureInList:function(t){var e=D.getList(t),n=t.getId(),i=e[n];if(i){if(i!==t){var r=D.getIncrementId(n,e);t.setId(r),e[r]=t}}else e[n]=t;t.components().forEach(function(t){return D.ensureInList(t)})},createId:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=D.getList(t),r=t.get("attributes").id;return r?(e=D.getIncrementId(r,i,n),t.setId(e)):e=D.getNewId(i),i[e]=t,e},getNewId:function(t){for(var e=Object.keys(t).length.toString().length+2,n=(Math.random()+1.1).toString(36).slice(-e),i="i".concat(n);t[i];)i=D.getNewId(t);return i},getIncrementId:function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).keepIds,i=1,r=t;if((void 0===n?[]:n).indexOf(t)<0)for(;e[r];)i++,r="".concat(t,"-").concat(i);return r},getList:function(t){var e=t.opt&&t.opt.domc;return e?e.componentsById:{}},checkId:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=Object(c.isArray)(t)?t:[t],o=i.keepIds,a=void 0===o?[]:o;r.forEach(function(t){var r=t.attributes,o=void 0===r?{}:r,s=t.components,l=o.id;if(l&&n[l]&&a.indexOf(l)<0){var u=D.getIncrementId(l,n);o.id=u,Object(c.isArray)(e)&&e.forEach(function(t){var e=t.selectors;e.forEach(function(t,n){t==="#".concat(l)&&(e[n]="#".concat(u))})})}s&&D.checkId(s,e,n,i)})}});e.a=D},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),o=n(1),a=n.n(o),s=n(0),l=n(21),c=n(35),u=n(12),d=n(9),h=n(3);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e.default=a.a.View.extend({className:function(){return this.getClasses()},tagName:function(){return this.model.get("tagName")},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.model,n=t.config||{},i=n.em,r=e.opt||{},o=this.$el,a=this.el;n.draggableComponents,this.opts=t,this.modelOpt=r,this.config=n,this.em=i||"",this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.attr=e.get("attributes"),this.classe=this.attr.class||[],this.listenTo(e,"change:style",this.updateStyle),this.listenTo(e,"change:attributes change:_innertext",this.renderAttributes),this.listenTo(e,"change:highlightable",this.updateHighlight),this.listenTo(e,"change:status",this.updateStatus),this.listenTo(e,"change:script rerender",this.reset),this.listenTo(e,"change:content",this.updateContent),this.listenTo(e,"change",this.handleChange),this.listenTo(e,"active",this.onActive),this.listenTo(e,"disable",this.onDisable),o.data("model",e),Object(h.x)(a,this),e.view=this,this._getFrame()&&e.views.push(this),this.initClasses(),this.initComponents({avoidRender:1}),this.events=p(p({},this.events),this.__isDraggable()&&{dragstart:"handleDragStart"}),this.delegateEvents(),!r.temporary&&this.init(this._clbObj())},__isDraggable:function(){var t=this.model,e=this.config,n=t.attributes,i=n._innertext,r=n.draggable;return e.draggableComponents&&r&&!i},_clbObj:function(){var t=this.em,e=this.model,n=this.el;return{editor:t&&t.getEditor(),model:e,el:n}},init:function(){},removed:function(){},onActive:function(){},onDisable:function(){},remove:function(){var t=this;a.a.View.prototype.remove.apply(t,arguments);var e=t.model,n=(t._getFrame()||{}).model;e.components().forEach(function(t){var e=t.getView(n);e&&e.remove()});var i=e.views;return i.splice(i.indexOf(t),1),t.removed(t._clbObj()),t.$el.data({model:"",collection:"",view:""}),delete t.model,delete t.$el,delete t.el.__gjsv,delete t.childrenView,delete t.scriptContainer,delete t.opts,t},handleDragStart:function(t){t.preventDefault(),t.stopPropagation(),this.em.get("Commands").run("tlb-move",{target:this.model,event:t})},initClasses:function(){var t=this.model,e="change:classes",n=t.get("classes");n instanceof u.a&&(this.stopListening(t,e,this.initClasses),this.listenTo(t,e,this.initClasses),this.listenTo(n,"add remove change",this.updateClasses),n.length&&this.importClasses())},initComponents:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.model,n=this.$el,i=this.childrenView,r=e.get("components"),o=[e,"change:components",this.initComponents];r instanceof l.a&&(n.data("collection",r),i&&i.remove(),this.stopListening.apply(this,o),!t.avoidRender&&this.renderChildren(),this.listenTo.apply(this,o))},handleChange:function(){var t=this.model,e=Object(s.keys)(t.changed);if(1!==e.length||"status"!==e[0])for(var n in t.emitUpdate(),t.changed)t.emitUpdate(n)},importClasses:function(){var t=this.config.em.get("SelectorManager");t&&this.model.get("classes").each(function(e){t.add(e.get("name"))})},updateStatus:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(this.em,this.el),n=this.model.get("status"),i=(this.pfx,this.ppfx),r="".concat(i,"selected"),o="".concat(r,"-parent"),a="".concat(i,"freezed"),s="".concat(i,"hovered"),l=[r,o,a,s];this.$el.removeClass(l.join(" "));var c=e.getAttribute("class")||"",u="";switch(n){case"selected":u="".concat(c," ").concat(r);break;case"selected-parent":u="".concat(c," ").concat(o);break;case"freezed":u="".concat(c," ").concat(a);break;case"freezed-selected":u="".concat(c," ").concat(a," ").concat(r);break;case"hovered":u=t.avoidHover?"":"".concat(c," ").concat(s)}(u=u.trim())&&e.setAttribute("class",u)},updateHighlight:function(){var t=this.model.get("highlightable");this.setAttribute("data-highlightable",t?1:"")},updateStyle:function(){var t=this.model,e=this.em,n=this.el;if(e&&e.getConfig("avoidInlineStyle")){var i=t.getStyle(),r=Object(s.isEmpty)(i);!r&&t.setStyle(i),t.get("_innertext")&&r?n.removeAttribute("id"):n.id=t.getId()}else this.setAttribute("style",t.styleToString())},updateClasses:function(){var t=this.model.get("classes").pluck("name").join(" ");this.setAttribute("class",t),this.updateStatus()},setAttribute:function(t,e){var n=this.$el;e?n.attr(t,e):n.removeAttr(t)},getClasses:function(){return this.model.getClasses().join(" ")},updateAttributes:function(){var t=[],e=this.model,n=this.$el,i=this.el,r=(this.config,e.attributes),o=r.highlightable,a=r.textable,l=p(p(p({"data-gjs-type":r.type||"default"},this.__isDraggable()?{draggable:!0}:{}),o?{"data-highlightable":1}:{}),a?{contenteditable:"false","data-gjs-textable":"true"}:{});Object(s.each)(i.attributes,function(e){return t.push(e.nodeName)}),t.forEach(function(t){return n.removeAttr(t)});var c=p(p({},l),e.getAttributes());Object(s.keys)(c).forEach(function(t){return!1===c[t]&&delete c[t]}),n.attr(c),this.updateStyle()},updateContent:function(){var t=this.model.get("content"),e=this.model.components().length;this.getChildrenContainer().innerHTML=e?"":t},prevDef:function(t){t.preventDefault()},updateScript:function(){var t=this.model,e=this.em;t.get("script")&&e&&e.get("Canvas").getCanvasView().updateScript(this)},getChildrenContainer:function(){var t=this.el;return"function"==typeof this.getChildrenSelector?t=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,t},getOffsetRect:function(){var t={},e=this.el,n=0,i=0;return function r(o){var a=o.offsetParent;a?(n+=a.offsetTop,i+=a.offsetLeft,r(a)):(t.top=e.offsetTop+n,t.left=e.offsetLeft+i,t.bottom=t.top+e.offsetHeight,t.right=t.left+e.offsetWidth)}(e),t},isInViewport:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).rect,e=this.el.ownerDocument,n=e.body,i=e.defaultView.frameElement,r=t||this.getOffsetRect(),o=r.top,a=r.left,s=this._getFrame().getOffsetRect();return o>=s.scrollTop&&a>=s.scrollLeft&&o<=s.scrollBottom&&a<=i.offsetWidth+n.scrollLeft},scrollIntoView:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.getOffsetRect();if(!this.isInViewport({rect:e})||t.force){var n=this.el;"smooth"!==t.behavior?n.ownerDocument.defaultView.scrollTo(0,e.top):n.scrollIntoView(p({behavior:"smooth",block:"nearest"},t))}},reset:function(){var t=this.el;this.el="",this._ensureElement(),this._setData(),Object(d.j)(t,this.el),this.render()},_setData:function(){var t=this.model,e=t.components();this.$el.data({model:t,collection:e,view:this})},_getFrame:function(){return this.config.frameView},renderChildren:function(){this.updateContent();var t=this.getChildrenContainer(),e=this.childrenView||new c.a({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});e.render(t),this.childrenView=e;for(var n=Array.prototype.slice.call(e.el.childNodes),i=0,r=n.length;i<r;i++)t.appendChild(n.shift())},renderAttributes:function(){this.updateAttributes(),this.updateClasses(),this.onAttrUpdate()},onAttrUpdate:function(){},render:function(){return this.renderAttributes(),this.modelOpt.temporary||(this.renderChildren(),this.updateScript(),Object(h.x)(this.el,this),this.postRender()),this},postRender:function(){var t=this.em,e=this.model;this.modelOpt.temporary||(this.onRender(this._clbObj()),t&&t.trigger("component:mount",e))},onRender:function(){}})},function(t,e,n){var i=n(74),r=n(75),o=n(43),a=n(76);t.exports=function(t){return i(t)||r(t)||o(t)||a()}},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e,n){"use strict";n.d(e,"i",function(){return r}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return a}),n.d(e,"f",function(){return s}),n.d(e,"j",function(){return l}),n.d(e,"b",function(){return c}),n.d(e,"a",function(){return u}),n.d(e,"e",function(){return d}),n.d(e,"d",function(){return h}),n.d(e,"c",function(){return f});var i=n(0),r="transitionend oTransitionEnd transitionend webkitTransitionEnd",o=function(t){return t&&9===t.nodeType},a=function(t){return t&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},s=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},l=function(t,e){t.parentNode.replaceChild(e,t)},c=function(t,e,n){var r=t.childNodes,o=r.length,a=Object(i.isUndefined)(n)?o:n;Object(i.isString)(e)&&(t.insertAdjacentHTML("beforeEnd",e),e=t.lastChild,t.removeChild(e)),a>=o?t.appendChild(e):t.insertBefore(e,r[a])},u=function(t,e){return c(t,e)},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=document.createElement(t);return e&&Object(i.each)(e,function(t,e){return r.setAttribute(e,t)}),n&&(Object(i.isString)(n)?r.innerHTML=n:r.appendChild(n)),r},h=function(t,e){var n;try{n=new window[e](t.type,t)}catch(t){(n=document.createEvent(e)).initEvent(t.type,!0,!0)}return n.keyCodeVal=t.keyCode,n._parentEvent=t,["keyCode","which"].forEach(function(t){Object.defineProperty(n,t,{get:function(){return this.keyCodeVal}})}),n},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(Array.isArray(e)?e:[e]).forEach(function(e){var n=e.tag||"div",r=e.attributes||{},o=document.createElement(n);Object(i.each)(r,function(t,e){o.setAttribute(e,t)}),t.appendChild(o)})}},function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=n(0),a=r.a.Model,s=a.extend({idAttribute:"name",defaults:{name:"",label:"",type:1,active:!0,private:!1,protected:!1},initialize:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).config,n=void 0===e?{}:e,i=this.get("name"),r=this.get("label");i?r||this.set("label",i):this.set("name",r);var o=this.get("name"),a=n.escapeName,l=a?a(o):s.escapeName(o);this.set("name",l),this.em=n.em},isId:function(){return 2===this.get("type")},isClass:function(){return 1===this.get("type")},getFullName:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).escape,e=this.get("name"),n="";switch(this.get("type")){case 1:n=".";break;case 2:n="#"}return n+(t?t(e):e)},toJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.em,n=a.prototype.toJSON.call(this,[t]),i=Object(o.result)(this,"defaults");if(e&&e.getConfig("avoidDefaults")){Object(o.forEach)(i,function(t,e){n[e]===t&&delete n[e]}),n.label===n.name&&delete n.label;var r=Object(o.keys)(n).length;1===r&&n.name&&(n=n.name),2===r&&n.name&&n.type&&(n=this.getFullName())}return n}},{TYPE_CLASS:1,TYPE_ID:2,escapeName:function(t){return"".concat(t).trim().replace(/([^a-z0-9\w-\:]+)/gi,"-")}});e.a=s},function(t,e,n){"use strict";n.r(e);var i=document,r=window,o=Array.prototype,a=o.filter,s=o.indexOf,l=o.map,c=o.push,u=o.reverse,d=o.slice,h=o.splice,f=/^#[\w-]*$/,p=/^\.[\w-]*$/,g=/<.+>/,m=/^\w+$/;function v(t,e){return void 0===e&&(e=i),p.test(t)?e.getElementsByClassName(t.slice(1)):m.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t)}function y(t,e){if(void 0===e&&(e=i),t){if(t.__cash)return t;var n=t;if(x(t)){if(e.__cash&&(e=e[0]),!(n=f.test(t)?e.getElementById(t.slice(1)):g.test(t)?ht(t):v(t,e)))return}else if(D(t))return this.ready(t);(n.nodeType||n===r)&&(n=[n]),this.length=n.length;for(var o=0,a=this.length;o<a;o++)this[o]=n[o]}}function b(t,e){return new y(t,e)}var w=b.fn=b.prototype=y.prototype={constructor:b,__cash:!0,length:0,splice:h};w.get=function(t){return void 0===t?d.call(this):this[t<0?t+this.length:t]},w.eq=function(t){return b(this.get(t))},w.first=function(){return this.eq(0)},w.last=function(){return this.eq(-1)},w.map=function(t){return b(l.call(this,function(e,n){return t.call(e,n,e)}))},w.slice=function(){return b(d.apply(this,arguments))};var E=/(?:^\w|[A-Z]|\b\w)/g,C=/[\s-_]+/g;function T(t){return t.replace(E,function(t,e){return t[e?"toUpperCase":"toLowerCase"]()}).replace(C,"")}function _(t,e){for(var n=0,i=t.length;n<i&&!1!==e.call(t[n],t[n],n,t);n++);}b.camelCase=T,b.each=_,w.each=function(t){return _(this,function(e,n){return t.call(e,n,e)}),this},w.removeProp=function(t){return this.each(function(e,n){delete n[t]})},b.extend=w.extend=function(t){void 0===t&&(t=this);for(var e=arguments,n=e.length,i=n<2?0:1;i<n;i++)for(var r in e[i])t[r]=e[i][r];return t};var O=1;function k(t,e){var n=t&&(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector);return!!n&&n.call(t,e)}function D(t){return"function"==typeof t}function x(t){return"string"==typeof t}function I(t){return!isNaN(parseFloat(t))&&isFinite(t)}b.guid=O,b.matches=k,b.isFunction=D,b.isString=x,b.isNumeric=I;var S=Array.isArray;function R(t){return x(t)?function(e,n){return k(n,t)}:t.__cash?function(e,n){return t.is(n)}:function(t,e,n){return e===n}}b.isArray=S,w.prop=function(t,e){if(t){if(x(t))return arguments.length<2?this[0]&&this[0][t]:this.each(function(n,i){i[t]=e});for(var n in t)this.prop(n,t[n]);return this}},w.filter=function(t){if(!t)return b();var e=D(t)?t:R(t);return b(a.call(this,function(n,i){return e.call(n,i,n,t)}))};var A=/\S+/g;function N(t){return x(t)&&t.match(A)||[]}function P(t){return t.filter(function(t,e,n){return n.indexOf(t)===e})}function M(t,e,n){if(1===t.nodeType){var i=r.getComputedStyle(t,null);return e?n?i.getPropertyValue(e):i[e]:i}}function L(t,e){return parseInt(M(t,e),10)||0}w.hasClass=function(t){var e=N(t),n=!1;return e.length&&this.each(function(t,i){return!(n=i.classList.contains(e[0]))}),n},w.removeAttr=function(t){var e=N(t);return e.length?this.each(function(t,n){_(e,function(t){n.removeAttribute(t)})}):this},w.attr=function(t,e){if(t){if(x(t)){if(arguments.length<2){if(!this[0])return;var n=this[0].getAttribute(t);return null===n?void 0:n}return null===e?this.removeAttr(t):this.each(function(n,i){i.setAttribute(t,e)})}for(var i in t)this.attr(i,t[i]);return this}},w.toggleClass=function(t,e){var n=N(t),i=void 0!==e;return n.length?this.each(function(t,r){_(n,function(t){i?e?r.classList.add(t):r.classList.remove(t):r.classList.toggle(t)})}):this},w.addClass=function(t){return this.toggleClass(t,!0)},w.removeClass=function(t){return arguments.length?this.toggleClass(t,!1):this.attr("class","")},b.unique=P,w.add=function(t,e){return b(P(this.get().concat(b(t,e).get())))};var K=/^--/;function j(t){return K.test(t)}var F={},B=i.createElement("div").style,$=["webkit","moz","ms","o"];function H(t,e){if(void 0===e&&(e=j(t)),e)return t;if(!F[t]){var n=T(t),i=""+n.charAt(0).toUpperCase()+n.slice(1);_((n+" "+$.join(i+" ")+i).split(" "),function(e){if(e in B)return F[t]=e,!1})}return F[t]}b.prefixedProp=H;var U={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function z(t,e,n){return void 0===n&&(n=j(t)),n||U[t]||!I(e)?e:e+"px"}w.css=function(t,e){if(x(t)){var n=j(t);return t=H(t,n),arguments.length<2?this[0]&&M(this[0],t,n):t?(e=z(t,e,n),this.each(function(i,r){1===r.nodeType&&(n?r.style.setProperty(t,e):r.style[t]=e)})):this}for(var i in t)this.css(i,t[i]);return this};var V="__cashData",W=/^data-(.*)/;function q(t){return t[V]=t[V]||{}}function Y(t,e){var n=q(t);if(e){if(!(e in n)){var i=t.dataset?t.dataset[e]||t.dataset[T(e)]:b(t).attr("data-"+e);if(void 0!==i){try{i=JSON.parse(i)}catch(t){}n[e]=i}}return n[e]}return n}function G(t,e){return L(t,"border"+(e?"Left":"Top")+"Width")+L(t,"padding"+(e?"Left":"Top"))+L(t,"padding"+(e?"Right":"Bottom"))+L(t,"border"+(e?"Right":"Bottom")+"Width")}function X(t,e){for(var n=0,i=e.length;n<i;n++)if(t.indexOf(e[n])<0)return!1;return!0}function Z(t,e,n){_(t[n],function(t){t[0];var i=t[1];e.removeEventListener(n,i)}),delete t[n]}b.hasData=function(t){return V in t},w.data=function(t,e){var n=this;if(!t){if(!this[0])return;return _(this[0].attributes,function(t){var e=t.name.match(W);e&&n.data(e[1])}),Y(this[0])}if(x(t))return void 0===e?this[0]&&Y(this[0],t):this.each(function(n,i){return function(t,e,n){q(i)[e]=n}(0,t,e)});for(var i in t)this.data(i,t[i]);return this},w.removeData=function(t){return this.each(function(e,n){return function(t,e){void 0===e?delete t[V]:delete q(t)[e]}(n,t)})},_(["Width","Height"],function(t){w["inner"+t]=function(){if(this[0])return this[0]===r?r["inner"+t]:this[0]["client"+t]}}),_(["width","height"],function(t,e){w[t]=function(n){return this[0]?arguments.length?(n=parseInt(n,10),this.each(function(i,r){if(1===r.nodeType){var o=M(r,"boxSizing");r.style[t]=z(t,n+("border-box"===o?G(r,!e):0))}})):this[0]===r?this[0][T("outer-"+t)]:this[0].getBoundingClientRect()[t]-G(this[0],!e):void 0===n?void 0:this}}),_(["Width","Height"],function(t,e){w["outer"+t]=function(n){if(this[0])return this[0]===r?r["outer"+t]:this[0]["offset"+t]+(n?L(this[0],"margin"+(e?"Top":"Left"))+L(this[0],"margin"+(e?"Bottom":"Right")):0)}});var J="__cashEvents",Q=".";function tt(t){return t[J]=t[J]||{}}function et(t){var e=t.split(Q);return[e[0],e.slice(1).sort()]}function nt(t,e,n,i){var r=tt(t);if(e){var o=r[e];if(!o)return;i&&(i.guid=i.guid||O++),r[e]=o.filter(function(r){var o=r[0],a=r[1];if(i&&a.guid!==i.guid||!X(o,n))return!0;t.removeEventListener(e,a)})}else if(n&&n.length)for(e in r)nt(t,e,n,i);else for(e in r)Z(r,t,e)}w.off=function(t,e){var n=this;return void 0===t?this.each(function(t,e){return nt(e)}):_(N(t),function(t){var i=et(t),r=i[0],o=i[1];n.each(function(t,n){return nt(n,r,o,e)})}),this},w.on=function(t,e,n,i){var r=this;if(!x(t)){for(var o in t)this.on(o,e,t[o]);return this}return D(e)&&(n=e,e=!1),_(N(t),function(t){var o=et(t),a=o[0],s=o[1];r.each(function(t,r){var o=function t(o){if(!o.namespace||X(s,o.namespace.split(Q))){var l=r;if(e){for(var c=o.target;!k(c,e);){if(c===r)return;if(!(c=c.parentNode))return}l=c}o.namespace=o.namespace||"";var u=n.call(l,o,o.data);i&&nt(r,a,s,t),!1===u&&(o.preventDefault(),o.stopPropagation())}};o.guid=n.guid=n.guid||O++,function(t,e,n,i){i.guid=i.guid||O++;var r=tt(t);r[e]=r[e]||[],r[e].push([n,i]),t.addEventListener(e,i)}(r,a,s,o)})}),this},w.one=function(t,e,n){return this.on(t,e,n,!0)},w.ready=function(t){var e=function(){return t(b)};return"loading"!==i.readyState?setTimeout(e):i.addEventListener("DOMContentLoaded",e),this},w.trigger=function(t,e){var n=t;if(x(t)){var r=et(t),o=r[0],a=r[1];(n=i.createEvent("HTMLEvents")).initEvent(o,!0,!0),n.namespace=a.join(Q)}return n.data=e,this.each(function(t,e){e.dispatchEvent(n)})};var it=/select-one/i,rt=/select-multiple/i;function ot(t){var e=t.type;return it.test(e)?function(t){return t.selectedIndex<0?null:t.options[t.selectedIndex].value}(t):rt.test(e)?function(t){var e=[];return _(t.options,function(t){!t.selected||t.disabled||t.parentNode.disabled||e.push(t.value)}),e}(t):t.value}var at=/%20/g,st=/file|reset|submit|button|image/i,lt=/radio|checkbox/i;w.serialize=function(){var t="";return this.each(function(e,n){_(n.elements||[n],function(e){if(!e.disabled&&e.name&&"FIELDSET"!==e.tagName&&!st.test(e.type)&&(!lt.test(e.type)||e.checked)){var n=ot(e);void 0!==n&&_(S(n)?n:[n],function(n){t+=function(t,e){return"&"+encodeURIComponent(t)+"="+encodeURIComponent(e).replace(at,"+")}(e.name,n)})}})}),t.substr(1)},w.val=function(t){return void 0===t?this[0]&&ot(this[0]):this.each(function(e,n){var i=rt.test(n.type),r=null===t?i?[]:"":t;i&&S(r)?_(n.options,function(t){t.selected=r.indexOf(t.value)>=0}):n.value=r})},w.clone=function(){return this.map(function(t,e){return e.cloneNode(!0)})},w.detach=function(){return this.each(function(t,e){e.parentNode&&e.parentNode.removeChild(e)})};var ct,ut=/^\s*<(\w+)[^>]*>/,dt=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;function ht(t){if(function(){if(!ct){var t=i.createElement("table"),e=i.createElement("tr");ct={"*":i.createElement("div"),tr:i.createElement("tbody"),td:e,th:e,thead:t,tbody:t,tfoot:t}}}(),!x(t))return[];if(dt.test(t))return[i.createElement(RegExp.$1)];var e=ut.test(t)&&RegExp.$1,n=ct[e]||ct["*"];return n.innerHTML=t,b(n.childNodes).detach().get()}function ft(t,e,n){if(void 0!==e){var i=x(e);!i&&e.length?_(e,function(e){return ft(t,e,n)}):_(t,i?function(t){t.insertAdjacentHTML(n?"afterbegin":"beforeend",e)}:function(t,i){return function(t,e,n){n?t.insertBefore(e,t.childNodes[0]):t.appendChild(e)}(t,i?e.cloneNode(!0):e,n)})}}b.parseHTML=ht,w.empty=function(){var t=this[0];if(t)for(;t.firstChild;)t.removeChild(t.firstChild);return this},w.append=function(){var t=this;return _(arguments,function(e){ft(t,e)}),this},w.appendTo=function(t){return ft(b(t),this),this},w.html=function(t){if(void 0===t)return this[0]&&this[0].innerHTML;var e=t.nodeType?t[0].outerHTML:t;return this.each(function(t,n){n.innerHTML=e})},w.insertAfter=function(t){var e=this;return b(t).each(function(t,n){var i=n.parentNode;e.each(function(e,r){i.insertBefore(t?r.cloneNode(!0):r,n.nextSibling)})}),this},w.after=function(){var t=this;return _(u.apply(arguments),function(e){u.apply(b(e).slice()).insertAfter(t)}),this},w.insertBefore=function(t){var e=this;return b(t).each(function(t,n){var i=n.parentNode;e.each(function(e,r){i.insertBefore(t?r.cloneNode(!0):r,n)})}),this},w.before=function(){var t=this;return _(arguments,function(e){b(e).insertBefore(t)}),this},w.prepend=function(){var t=this;return _(arguments,function(e){ft(t,e,!0)}),this},w.prependTo=function(t){return ft(b(t),u.apply(this.slice()),!0),this},w.remove=function(){return this.detach().off()},w.replaceWith=function(t){var e=this;return this.each(function(n,i){var r=i.parentNode;if(r){var o=n?b(t).clone():b(t);if(!o[0])return e.remove(),!1;r.replaceChild(o[0],i),b(o[0]).after(o.slice(1))}})},w.replaceAll=function(t){return b(t).replaceWith(this),this},w.text=function(t){return void 0===t?this[0]?this[0].textContent:"":this.each(function(e,n){n.textContent=t})};var pt=i.documentElement;w.offset=function(){var t=this[0];if(t){var e=t.getBoundingClientRect();return{top:e.top+r.pageYOffset-pt.clientTop,left:e.left+r.pageXOffset-pt.clientLeft}}},w.offsetParent=function(){return b(this[0]&&this[0].offsetParent)},w.position=function(){var t=this[0];if(t)return{left:t.offsetLeft,top:t.offsetTop}},w.children=function(t){var e=[];return this.each(function(t,n){c.apply(e,n.children)}),e=b(P(e)),t?e.filter(function(e,n){return k(n,t)}):e},w.contents=function(){var t=[];return this.each(function(e,n){c.apply(t,"IFRAME"===n.tagName?[n.contentDocument]:n.childNodes)}),b(t.length&&P(t))},w.find=function(t){for(var e=[],n=0,i=this.length;n<i;n++){var r=v(t,this[n]);r.length&&c.apply(e,r)}return b(e.length&&P(e))},w.has=function(t){var e=x(t)?function(e,n){return!!v(t,n).length}:function(e,n){return n.contains(t)};return this.filter(e)},w.is=function(t){if(!t||!this[0])return!1;var e=R(t),n=!1;return this.each(function(i,r){return!(n=e(i,r,t))}),n},w.next=function(){return b(this[0]&&this[0].nextElementSibling)},w.not=function(t){if(!t||!this[0])return this;var e=R(t);return this.filter(function(n,i){return!e(n,i,t)})},w.parent=function(){var t=[];return this.each(function(e,n){n&&n.parentNode&&t.push(n.parentNode)}),b(P(t))},w.index=function(t){var e=t?b(t)[0]:this[0],n=t?this:b(e).parent().children();return s.call(n,e)},w.closest=function(t){return t&&this[0]?this.is(t)?this.filter(t):this.parent().closest(t):b()},w.parents=function(t){var e,n=[];return this.each(function(r,o){for(e=o;e&&e.parentNode&&e!==i.body.parentNode;)e=e.parentNode,(!t||t&&k(e,t))&&n.push(e)}),b(P(n))},w.prev=function(){return b(this[0]&&this[0].previousElementSibling)},w.siblings=function(){var t=this[0];return this.parent().children().filter(function(e,n){return n!==t})},e.default=b},function(t,e,n){"use strict";var i=n(0),r=n(1),o=n.n(r),a=n(10);e.a=o.a.Collection.extend({model:a.a,modelId:function(t){return"".concat(t.name,"_").concat(t.type||a.a.TYPE_CLASS)},getStyleable:function(){return Object(i.filter)(this.models,function(t){return t.get("active")&&!t.get("private")})},getValid:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).noDisabled;return Object(i.filter)(this.models,function(t){return!t.get("private")}).filter(function(e){return t?e.get("active"):1})},getFullString:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return(t||this).forEach(function(t){return n.push(t.getFullName(e))}),n.join("").trim()}})},function(t,e,n){t.exports=function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),i=/MSIE \d/.test(t),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),a=i||r||o,s=a&&(i?document.documentMode||6:+(o||r)[1]),l=!o&&/WebKit\//.test(t),c=l&&/Qt\/\d+\.\d+/.test(t),u=!o&&/Chrome\//.test(t),d=/Opera\//.test(t),h=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),p=/PhantomJS/.test(t),g=h&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),m=/Android/.test(t),v=g||m||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),y=g||/Mac/.test(e),b=/\bCrOS\b/.test(t),w=/win/i.test(e),E=d&&t.match(/Version\/(\d*\.\d*)/);E&&(E=Number(E[1])),E&&E>=15&&(d=!1,l=!0);var C=y&&(c||d&&(null==E||E<12.11)),T=n||a&&s>=9;function _(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var O,k=function(t,e){var n=t.className,i=_(e).exec(n);if(i){var r=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(r?i[1]+r:"")}};function D(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function x(t,e){return D(t).appendChild(e)}function I(t,e,n,i){var r=document.createElement(t);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)r.appendChild(e[o]);return r}function S(t,e,n,i){var r=I(t,e,n,i);return r.setAttribute("role","presentation"),r}function R(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function A(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function N(t,e){var n=t.className;_(e).test(n)||(t.className+=(n?" ":"")+e)}function P(t,e){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!_(n[i]).test(e)&&(e+=" "+n[i]);return e}O=document.createRange?function(t,e,n,i){var r=document.createRange();return r.setEnd(i||t,n),r.setStart(t,e),r}:function(t,e,n){var i=document.body.createTextRange();try{i.moveToElementText(t.parentNode)}catch(t){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i};var M=function(t){t.select()};function L(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function K(t,e,n){for(var i in e||(e={}),t)!t.hasOwnProperty(i)||!1===n&&e.hasOwnProperty(i)||(e[i]=t[i]);return e}function j(t,e,n,i,r){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=i||0,a=r||0;;){var s=t.indexOf("\t",o);if(s<0||s>=e)return a+(e-o);a+=s-o,a+=n-a%n,o=s+1}}g?M=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:a&&(M=function(t){try{t.select()}catch(t){}});var F=function(){this.id=null,this.f=null,this.time=0,this.handler=L(this.onTimeout,this)};function B(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}F.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},F.prototype.set=function(t,e){this.f=e;var n=+new Date+t;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=n)};var $=50,H={toString:function(){return"CodeMirror.Pass"}},U={scroll:!1},z={origin:"*mouse"},V={origin:"+move"};function W(t,e,n){for(var i=0,r=0;;){var o=t.indexOf("\t",i);-1==o&&(o=t.length);var a=o-i;if(o==t.length||r+a>=e)return i+Math.min(a,e-r);if(r+=o-i,i=o+1,(r+=n-r%n)>=e)return i}}var q=[""];function Y(t){for(;q.length<=t;)q.push(G(q)+" ");return q[t]}function G(t){return t[t.length-1]}function X(t,e){for(var n=[],i=0;i<t.length;i++)n[i]=e(t[i],i);return n}function Z(){}function J(t,e){var n;return Object.create?n=Object.create(t):(Z.prototype=t,n=new Z),e&&K(e,n),n}var Q=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function tt(t){return/\w/.test(t)||t>"Â"&&(t.toUpperCase()!=t.toLowerCase()||Q.test(t))}function et(t,e){return e?!!(e.source.indexOf("\\w")>-1&&tt(t))||e.test(t):tt(t)}function nt(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var it=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function rt(t){return t.charCodeAt(0)>=768&&it.test(t)}function ot(t,e,n){for(;(n<0?e>0:e<t.length)&&rt(t.charAt(e));)e+=n;return e}function at(t,e,n){for(var i=e>n?-1:1;;){if(e==n)return e;var r=(e+n)/2,o=i<0?Math.ceil(r):Math.floor(r);if(o==e)return t(o)?e:n;t(o)?n=o:e=o+i}}var st=null;function lt(t,e,n){var i;st=null;for(var r=0;r<t.length;++r){var o=t[r];if(o.from<e&&o.to>e)return r;o.to==e&&(o.from!=o.to&&"before"==n?i=r:st=r),o.from==e&&(o.from!=o.to&&"before"!=n?i=r:st=r)}return null!=i?i:st}var ct=function(){var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,n=/[LRr]/,i=/[Lb1n]/,r=/[1n]/;function o(t,e,n){this.level=t,this.from=e,this.to=n}return function(a,s){var l="ltr"==s?"L":"R";if(0==a.length||"ltr"==s&&!t.test(a))return!1;for(var c,u=a.length,d=[],h=0;h<u;++h)d.push((c=a.charCodeAt(h))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(c):1424<=c&&c<=1524?"R":1536<=c&&c<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(c-1536):1774<=c&&c<=2220?"r":8192<=c&&c<=8203?"w":8204==c?"b":"L");for(var f=0,p=l;f<u;++f){var g=d[f];"m"==g?d[f]=p:p=g}for(var m=0,v=l;m<u;++m){var y=d[m];"1"==y&&"r"==v?d[m]="n":n.test(y)&&(v=y,"r"==y&&(d[m]="R"))}for(var b=1,w=d[0];b<u-1;++b){var E=d[b];"+"==E&&"1"==w&&"1"==d[b+1]?d[b]="1":","!=E||w!=d[b+1]||"1"!=w&&"n"!=w||(d[b]=w),w=E}for(var C=0;C<u;++C){var T=d[C];if(","==T)d[C]="N";else if("%"==T){var _=void 0;for(_=C+1;_<u&&"%"==d[_];++_);for(var O=C&&"!"==d[C-1]||_<u&&"1"==d[_]?"1":"N",k=C;k<_;++k)d[k]=O;C=_-1}}for(var D=0,x=l;D<u;++D){var I=d[D];"L"==x&&"1"==I?d[D]="L":n.test(I)&&(x=I)}for(var S=0;S<u;++S)if(e.test(d[S])){var R=void 0;for(R=S+1;R<u&&e.test(d[R]);++R);for(var A="L"==(S?d[S-1]:l),N=A==("L"==(R<u?d[R]:l))?A?"L":"R":l,P=S;P<R;++P)d[P]=N;S=R-1}for(var M,L=[],K=0;K<u;)if(i.test(d[K])){var j=K;for(++K;K<u&&i.test(d[K]);++K);L.push(new o(0,j,K))}else{var F=K,B=L.length,$="rtl"==s?1:0;for(++K;K<u&&"L"!=d[K];++K);for(var H=F;H<K;)if(r.test(d[H])){F<H&&(L.splice(B,0,new o(1,F,H)),B+=$);var U=H;for(++H;H<K&&r.test(d[H]);++H);L.splice(B,0,new o(2,U,H)),B+=$,F=H}else++H;F<K&&L.splice(B,0,new o(1,F,K))}return"ltr"==s&&(1==L[0].level&&(M=a.match(/^\s+/))&&(L[0].from=M[0].length,L.unshift(new o(0,0,M[0].length))),1==G(L).level&&(M=a.match(/\s+$/))&&(G(L).to-=M[0].length,L.push(new o(0,u-M[0].length,u)))),"rtl"==s?L.reverse():L}}();function ut(t,e){var n=t.order;return null==n&&(n=t.order=ct(t.text,e)),n}var dt=[],ht=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var i=t._handlers||(t._handlers={});i[e]=(i[e]||dt).concat(n)}};function ft(t,e){return t._handlers&&t._handlers[e]||dt}function pt(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var i=t._handlers,r=i&&i[e];if(r){var o=B(r,n);o>-1&&(i[e]=r.slice(0,o).concat(r.slice(o+1)))}}}function gt(t,e){var n=ft(t,e);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)}function mt(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),gt(t,n||e.type,t,e),Ct(e)||e.codemirrorIgnore}function vt(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),i=0;i<e.length;++i)-1==B(n,e[i])&&n.push(e[i])}function yt(t,e){return ft(t,e).length>0}function bt(t){t.prototype.on=function(t,e){ht(this,t,e)},t.prototype.off=function(t,e){pt(this,t,e)}}function wt(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Et(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function Ct(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Tt(t){wt(t),Et(t)}function _t(t){return t.target||t.srcElement}function Ot(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),y&&t.ctrlKey&&1==e&&(e=3),e}var kt,Dt,xt=function(){if(a&&s<9)return!1;var t=I("div");return"draggable"in t||"dragDrop"in t}();function It(t){if(null==kt){var e=I("span","â");x(t,I("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(kt=e.offsetWidth<=1&&e.offsetHeight>2&&!(a&&s<8))}var n=kt?I("span","â"):I("span","Â ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function St(t){if(null!=Dt)return Dt;var e=x(t,document.createTextNode("AØ®A")),n=O(e,0,1).getBoundingClientRect(),i=O(e,1,2).getBoundingClientRect();return D(t),!(!n||n.left==n.right)&&(Dt=i.right-n.right<3)}var Rt,At=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],i=t.length;e<=i;){var r=t.indexOf("\n",e);-1==r&&(r=t.length);var o=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),e+=a+1):(n.push(o),e=r+1)}return n}:function(t){return t.split(/\r\n?|\n/)},Nt=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Pt="oncopy"in(Rt=I("div"))||(Rt.setAttribute("oncopy","return;"),"function"==typeof Rt.oncopy),Mt=null,Lt={},Kt={};function jt(t){if("string"==typeof t&&Kt.hasOwnProperty(t))t=Kt[t];else if(t&&"string"==typeof t.name&&Kt.hasOwnProperty(t.name)){var e=Kt[t.name];"string"==typeof e&&(e={name:e}),(t=J(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return jt("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return jt("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function Ft(t,e){e=jt(e);var n=Lt[e.name];if(!n)return Ft(t,"text/plain");var i=n(t,e);if(Bt.hasOwnProperty(e.name)){var r=Bt[e.name];for(var o in r)r.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=r[o])}if(i.name=e.name,e.helperType&&(i.helperType=e.helperType),e.modeProps)for(var a in e.modeProps)i[a]=e.modeProps[a];return i}var Bt={};function $t(t,e){K(e,Bt.hasOwnProperty(t)?Bt[t]:Bt[t]={})}function Ht(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var i in e){var r=e[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n}function Ut(t,e){for(var n;t.innerMode&&(n=t.innerMode(e))&&n.mode!=t;)e=n.state,t=n.mode;return n||{mode:t,state:e}}function zt(t,e,n){return!t.startState||t.startState(e,n)}var Vt=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Wt(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(e<o){n=r;break}e-=o}return n.lines[e]}function qt(t,e,n){var i=[],r=e.line;return t.iter(e.line,n.line+1,function(t){var o=t.text;r==n.line&&(o=o.slice(0,n.ch)),r==e.line&&(o=o.slice(e.ch)),i.push(o),++r}),i}function Yt(t,e,n){var i=[];return t.iter(e,n,function(t){i.push(t.text)}),i}function Gt(t,e){var n=e-t.height;if(n)for(var i=t;i;i=i.parent)i.height+=n}function Xt(t){if(null==t.parent)return null;for(var e=t.parent,n=B(e.lines,t),i=e.parent;i;e=i,i=i.parent)for(var r=0;i.children[r]!=e;++r)n+=i.children[r].chunkSize();return n+e.first}function Zt(t,e){var n=t.first;t:do{for(var i=0;i<t.children.length;++i){var r=t.children[i],o=r.height;if(e<o){t=r;continue t}e-=o,n+=r.chunkSize()}return n}while(!t.lines);for(var a=0;a<t.lines.length;++a){var s=t.lines[a].height;if(e<s)break;e-=s}return n+a}function Jt(t,e){return e>=t.first&&e<t.first+t.size}function Qt(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function te(t,e,n){if(void 0===n&&(n=null),!(this instanceof te))return new te(t,e,n);this.line=t,this.ch=e,this.sticky=n}function ee(t,e){return t.line-e.line||t.ch-e.ch}function ne(t,e){return t.sticky==e.sticky&&0==ee(t,e)}function ie(t){return te(t.line,t.ch)}function re(t,e){return ee(t,e)<0?e:t}function oe(t,e){return ee(t,e)<0?t:e}function ae(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function se(t,e){if(e.line<t.first)return te(t.first,0);var n=t.first+t.size-1;return e.line>n?te(n,Wt(t,n).text.length):function(t,e){var n=t.ch;return null==n||n>e?te(t.line,e):n<0?te(t.line,0):t}(e,Wt(t,e.line).text.length)}function le(t,e){for(var n=[],i=0;i<e.length;i++)n[i]=se(t,e[i]);return n}Vt.prototype.eol=function(){return this.pos>=this.string.length},Vt.prototype.sol=function(){return this.pos==this.lineStart},Vt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Vt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Vt.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},Vt.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Vt.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Vt.prototype.skipToEnd=function(){this.pos=this.string.length},Vt.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Vt.prototype.backUp=function(t){this.pos-=t},Vt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=j(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?j(this.string,this.lineStart,this.tabSize):0)},Vt.prototype.indentation=function(){return j(this.string,null,this.tabSize)-(this.lineStart?j(this.string,this.lineStart,this.tabSize):0)},Vt.prototype.match=function(t,e,n){if("string"!=typeof t){var i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&!1!==e&&(this.pos+=i[0].length),i)}var r=function(t){return n?t.toLowerCase():t};if(r(this.string.substr(this.pos,t.length))==r(t))return!1!==e&&(this.pos+=t.length),!0},Vt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Vt.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Vt.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Vt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var ce=function(t,e){this.state=t,this.lookAhead=e},ue=function(t,e,n,i){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};function de(t,e,n,i){var r=[t.state.modeGen],o={};we(t,e.text,t.doc.mode,n,function(t,e){return r.push(t,e)},o,i);for(var a=n.state,s=function(i){n.baseTokens=r;var s=t.state.overlays[i],l=1,c=0;n.state=!0,we(t,e.text,s.mode,n,function(t,e){for(var n=l;c<t;){var i=r[l];i>t&&r.splice(l,1,t,r[l+1],i),l+=2,c=Math.min(t,i)}if(e)if(s.opaque)r.splice(n,l-n,t,"overlay "+e),l=n+2;else for(;n<l;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"overlay "+e}},o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<t.state.overlays.length;++l)s(l);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function he(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var i=fe(t,Xt(e)),r=e.text.length>t.options.maxHighlightLength&&Ht(t.doc.mode,i.state),o=de(t,e,i);r&&(i.state=r),e.stateAfter=i.save(!r),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function fe(t,e,n){var i=t.doc,r=t.display;if(!i.mode.startState)return new ue(i,!0,e);var o=function(t,e,n){for(var i,r,o=t.doc,a=n?-1:e-(t.doc.mode.innerMode?1e3:100),s=e;s>a;--s){if(s<=o.first)return o.first;var l=Wt(o,s-1),c=l.stateAfter;if(c&&(!n||s+(c instanceof ce?c.lookAhead:0)<=o.modeFrontier))return s;var u=j(l.text,null,t.options.tabSize);(null==r||i>u)&&(r=s-1,i=u)}return r}(t,e,n),a=o>i.first&&Wt(i,o-1).stateAfter,s=a?ue.fromSaved(i,a,o):new ue(i,zt(i.mode),o);return i.iter(o,e,function(n){pe(t,n.text,s);var i=s.line;n.stateAfter=i==e-1||i%5==0||i>=r.viewFrom&&i<r.viewTo?s.save():null,s.nextLine()}),n&&(i.modeFrontier=s.line),s}function pe(t,e,n,i){var r=t.doc.mode,o=new Vt(e,t.options.tabSize,n);for(o.start=o.pos=i||0,""==e&&ge(r,n.state);!o.eol();)me(r,o,n.state),o.start=o.pos}function ge(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=Ut(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function me(t,e,n,i){for(var r=0;r<10;r++){i&&(i[0]=Ut(t,n).mode);var o=t.token(e,n);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}ue.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},ue.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},ue.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ue.fromSaved=function(t,e,n){return e instanceof ce?new ue(t,Ht(t.mode,e.state),n,e.lookAhead):new ue(t,Ht(t.mode,e),n)},ue.prototype.save=function(t){var e=!1!==t?Ht(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ce(e,this.maxLookAhead):e};var ve=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function ye(t,e,n,i){var r,o,a=t.doc,s=a.mode,l=Wt(a,(e=se(a,e)).line),c=fe(t,e.line,n),u=new Vt(l.text,t.options.tabSize,c);for(i&&(o=[]);(i||u.pos<e.ch)&&!u.eol();)u.start=u.pos,r=me(s,u,c.state),i&&o.push(new ve(u,r,Ht(a.mode,c.state)));return i?o:new ve(u,r,c.state)}function be(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==e[i]?e[i]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(e[i])||(e[i]+=" "+n[2])}return t}function we(t,e,n,i,r,o,a){var s=n.flattenSpans;null==s&&(s=t.options.flattenSpans);var l,c=0,u=null,d=new Vt(e,t.options.tabSize,i),h=t.options.addModeClass&&[null];for(""==e&&be(ge(n,i.state),o);!d.eol();){if(d.pos>t.options.maxHighlightLength?(s=!1,a&&pe(t,e,i,d.pos),d.pos=e.length,l=null):l=be(me(n,d,i.state,h),o),h){var f=h[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||u!=l){for(;c<d.start;)r(c=Math.min(d.start,c+5e3),u);u=l}d.start=d.pos}for(;c<d.pos;){var p=Math.min(d.pos,c+5e3);r(p,u),c=p}}var Ee=!1,Ce=!1;function Te(t,e,n){this.marker=t,this.from=e,this.to=n}function _e(t,e){if(t)for(var n=0;n<t.length;++n){var i=t[n];if(i.marker==e)return i}}function Oe(t,e){for(var n,i=0;i<t.length;++i)t[i]!=e&&(n||(n=[])).push(t[i]);return n}function ke(t,e){if(e.full)return null;var n=Jt(t,e.from.line)&&Wt(t,e.from.line).markedSpans,i=Jt(t,e.to.line)&&Wt(t,e.to.line).markedSpans;if(!n&&!i)return null;var r=e.from.ch,o=e.to.ch,a=0==ee(e.from,e.to),s=function(t,e,n){var i;if(t)for(var r=0;r<t.length;++r){var o=t[r],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e)||o.from==e&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);(i||(i=[])).push(new Te(a,o.from,s?null:o.to))}}return i}(n,r,a),l=function(t,e,n){var i;if(t)for(var r=0;r<t.length;++r){var o=t[r],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=e:o.to>e)||o.from==e&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);(i||(i=[])).push(new Te(a,s?null:o.from-e,null==o.to?null:o.to-e))}}return i}(i,o,a),c=1==e.text.length,u=G(e.text).length+(c?r:0);if(s)for(var d=0;d<s.length;++d){var h=s[d];if(null==h.to){var f=_e(l,h.marker);f?c&&(h.to=null==f.to?null:f.to+u):h.to=r}}if(l)for(var p=0;p<l.length;++p){var g=l[p];null!=g.to&&(g.to+=u),null==g.from?_e(s,g.marker)||(g.from=u,c&&(s||(s=[])).push(g)):(g.from+=u,c&&(s||(s=[])).push(g))}s&&(s=De(s)),l&&l!=s&&(l=De(l));var m=[s];if(!c){var v,y=e.text.length-2;if(y>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(v||(v=[])).push(new Te(s[b].marker,null,null));for(var w=0;w<y;++w)m.push(v);m.push(l)}return m}function De(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function xe(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Ie(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function Se(t){return t.inclusiveLeft?-1:0}function Re(t){return t.inclusiveRight?1:0}function Ae(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var i=t.find(),r=e.find(),o=ee(i.from,r.from)||Se(t)-Se(e);return o?-o:ee(i.to,r.to)||Re(t)-Re(e)||e.id-t.id}function Ne(t,e){var n,i=Ce&&t.markedSpans;if(i)for(var r=void 0,o=0;o<i.length;++o)(r=i[o]).marker.collapsed&&null==(e?r.from:r.to)&&(!n||Ae(n,r.marker)<0)&&(n=r.marker);return n}function Pe(t){return Ne(t,!0)}function Me(t){return Ne(t,!1)}function Le(t,e){var n,i=Ce&&t.markedSpans;if(i)for(var r=0;r<i.length;++r){var o=i[r];o.marker.collapsed&&(null==o.from||o.from<e)&&(null==o.to||o.to>e)&&(!n||Ae(n,o.marker)<0)&&(n=o.marker)}return n}function Ke(t,e,n,i,r){var o=Wt(t,e),a=Ce&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),u=ee(c.from,n)||Se(l.marker)-Se(r),d=ee(c.to,i)||Re(l.marker)-Re(r);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?ee(c.to,n)>=0:ee(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?ee(c.from,i)<=0:ee(c.from,i)<0)))return!0}}}function je(t){for(var e;e=Pe(t);)t=e.find(-1,!0).line;return t}function Fe(t,e){var n=Wt(t,e),i=je(n);return n==i?e:Xt(i)}function Be(t,e){if(e>t.lastLine())return e;var n,i=Wt(t,e);if(!$e(t,i))return e;for(;n=Me(i);)i=n.find(1,!0).line;return Xt(i)+1}function $e(t,e){var n=Ce&&e.markedSpans;if(n)for(var i=void 0,r=0;r<n.length;++r)if((i=n[r]).marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&He(t,e,i))return!0}}function He(t,e,n){if(null==n.to){var i=n.marker.find(1,!0);return He(t,i.line,_e(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var r=void 0,o=0;o<e.markedSpans.length;++o)if((r=e.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&He(t,e,r))return!0}function Ue(t){for(var e=0,n=(t=je(t)).parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==t)break;e+=r.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;e+=s.height}return e}function ze(t){if(0==t.height)return 0;for(var e,n=t.text.length,i=t;e=Pe(i);){var r=e.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=t;e=Me(i);){var o=e.find(0,!0);n-=i.text.length-o.from.ch,n+=(i=o.to.line).text.length-o.to.ch}return n}function Ve(t){var e=t.display,n=t.doc;e.maxLine=Wt(n,n.first),e.maxLineLength=ze(e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var n=ze(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}var We=function(t,e,n){this.text=t,Ie(this,e),this.height=n?n(this):1};function qe(t){t.parent=null,xe(t)}We.prototype.lineNo=function(){return Xt(this)},bt(We);var Ye={},Ge={};function Xe(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?Ge:Ye;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Ze(t,e){var n=S("span",null,null,l?"padding-right: .1px":null),i={pre:S("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var o=r?e.rest[r-1]:e.line,a=void 0;i.pos=0,i.addToken=Qe,St(t.display.measure)&&(a=ut(o,t.doc.direction))&&(i.addToken=tn(i.addToken,a)),i.map=[],nn(o,i,he(t,o,e!=t.display.externalMeasured&&Xt(o))),o.styleClasses&&(o.styleClasses.bgClass&&(i.bgClass=P(o.styleClasses.bgClass,i.bgClass||"")),o.styleClasses.textClass&&(i.textClass=P(o.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(It(t.display.measure))),0==r?(e.measure.map=i.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(i.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(l){var s=i.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return gt(t,"renderLine",t,e.line,i.pre),i.pre.className&&(i.textClass=P(i.pre.className,i.textClass||"")),i}function Je(t){var e=I("span","â¢","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Qe(t,e,n,i,r,o,l){if(e){var c,u=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,i="",r=0;r<t.length;r++){var o=t.charAt(r);" "!=o||!n||r!=t.length-1&&32!=t.charCodeAt(r+1)||(o="Â "),i+=o,n=" "==o}return i}(e,t.trailingSpace):e,d=t.cm.state.specialChars,h=!1;if(d.test(e)){c=document.createDocumentFragment();for(var f=0;;){d.lastIndex=f;var p=d.exec(e),g=p?p.index-f:e.length-f;if(g){var m=document.createTextNode(u.slice(f,f+g));a&&s<9?c.appendChild(I("span",[m])):c.appendChild(m),t.map.push(t.pos,t.pos+g,m),t.col+=g,t.pos+=g}if(!p)break;f+=g+1;var v=void 0;if("\t"==p[0]){var y=t.cm.options.tabSize,b=y-t.col%y;(v=c.appendChild(I("span",Y(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),t.col+=b}else"\r"==p[0]||"\n"==p[0]?((v=c.appendChild(I("span","\r"==p[0]?"â":"â¤","cm-invalidchar"))).setAttribute("cm-text",p[0]),t.col+=1):((v=t.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),a&&s<9?c.appendChild(I("span",[v])):c.appendChild(v),t.col+=1);t.map.push(t.pos,t.pos+1,v),t.pos++}}else t.col+=e.length,c=document.createTextNode(u),t.map.push(t.pos,t.pos+e.length,c),a&&s<9&&(h=!0),t.pos+=e.length;if(t.trailingSpace=32==u.charCodeAt(e.length-1),n||i||r||h||o||l){var w=n||"";i&&(w+=i),r&&(w+=r);var E=I("span",[c],w,o);if(l)for(var C in l)l.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&E.setAttribute(C,l[C]);return t.content.appendChild(E)}t.content.appendChild(c)}}function tn(t,e){return function(n,i,r,o,a,s,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var d=void 0,h=0;h<e.length&&!((d=e[h]).to>c&&d.from<=c);h++);if(d.to>=u)return t(n,i,r,o,a,s,l);t(n,i.slice(0,d.to-c),r,o,null,s,l),o=null,i=i.slice(d.to-c),c=d.to}}}function en(t,e,n,i){var r=!i&&n.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!i&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function nn(t,e,n){var i=t.markedSpans,r=t.text,o=0;if(i)for(var a,s,l,c,u,d,h,f=r.length,p=0,g=1,m="",v=0;;){if(v==p){l=c=u=s="",h=null,d=null,v=1/0;for(var y=[],b=void 0,w=0;w<i.length;++w){var E=i[w],C=E.marker;if("bookmark"==C.type&&E.from==p&&C.widgetNode)y.push(C);else if(E.from<=p&&(null==E.to||E.to>p||C.collapsed&&E.to==p&&E.from==p)){if(null!=E.to&&E.to!=p&&v>E.to&&(v=E.to,c=""),C.className&&(l+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&E.from==p&&(u+=" "+C.startStyle),C.endStyle&&E.to==v&&(b||(b=[])).push(C.endStyle,E.to),C.title&&((h||(h={})).title=C.title),C.attributes)for(var T in C.attributes)(h||(h={}))[T]=C.attributes[T];C.collapsed&&(!d||Ae(d.marker,C)<0)&&(d=E)}else E.from>p&&v>E.from&&(v=E.from)}if(b)for(var _=0;_<b.length;_+=2)b[_+1]==v&&(c+=" "+b[_]);if(!d||d.from==p)for(var O=0;O<y.length;++O)en(e,0,y[O]);if(d&&(d.from||0)==p){if(en(e,(null==d.to?f+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1)}}if(p>=f)break;for(var k=Math.min(f,v);;){if(m){var D=p+m.length;if(!d){var x=D>k?m.slice(0,k-p):m;e.addToken(e,x,a?a+l:l,u,p+x.length==v?c:"",s,h)}if(D>=k){m=m.slice(k-p),p=k;break}p=D,u=""}m=r.slice(o,o=n[g++]),a=Xe(n[g++],e.cm.options)}}else for(var I=1;I<n.length;I+=2)e.addToken(e,r.slice(o,o=n[I]),Xe(n[I+1],e.cm.options))}function rn(t,e,n){this.line=e,this.rest=function(t){for(var e,n;e=Me(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}(e),this.size=this.rest?Xt(G(this.rest))-n+1:1,this.node=this.text=null,this.hidden=$e(t,e)}function on(t,e,n){for(var i,r=[],o=e;o<n;o=i){var a=new rn(t.doc,Wt(t.doc,o),o);i=o+a.size,r.push(a)}return r}var an=null,sn=null;function ln(t,e){var n=ft(t,e);if(n.length){var i,r=Array.prototype.slice.call(arguments,2);an?i=an.delayedCallbacks:sn?i=sn:(i=sn=[],setTimeout(cn,0));for(var o=function(t){i.push(function(){return n[t].apply(null,r)})},a=0;a<n.length;++a)o(a)}}function cn(){var t=sn;sn=null;for(var e=0;e<t.length;++e)t[e]()}function un(t,e,n,i){for(var r=0;r<e.changes.length;r++){var o=e.changes[r];"text"==o?fn(t,e):"gutter"==o?gn(t,e,n,i):"class"==o?pn(t,e):"widget"==o&&mn(t,e,i)}e.changes=null}function dn(t){return t.node==t.text&&(t.node=I("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),a&&s<8&&(t.node.style.zIndex=2)),t.node}function hn(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Ze(t,e)}function fn(t,e){var n=e.text.className,i=hn(t,e);e.text==e.node&&(e.node=i.pre),e.text.parentNode.replaceChild(i.pre,e.text),e.text=i.pre,i.bgClass!=e.bgClass||i.textClass!=e.textClass?(e.bgClass=i.bgClass,e.textClass=i.textClass,pn(t,e)):n&&(e.text.className=n)}function pn(t,e){!function(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var i=dn(e);e.background=i.insertBefore(I("div",null,n),i.firstChild),t.display.input.setUneditable(e.background)}}(t,e),e.line.wrapClass?dn(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function gn(t,e,n,i){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=dn(e);e.gutterBackground=I("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),r.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var a=dn(e),s=e.gutter=I("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(t.display.input.setUneditable(s),a.insertBefore(s,e.text),e.line.gutterClass&&(s.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(I("div",Qt(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<t.display.gutterSpecs.length;++l){var c=t.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&s.appendChild(I("div",[u],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function mn(t,e,n){e.alignable&&(e.alignable=null);for(var i=_("CodeMirror-linewidget"),r=e.node.firstChild,o=void 0;r;r=o)o=r.nextSibling,i.test(r.className)&&e.node.removeChild(r);yn(t,e,n)}function vn(t,e,n,i){var r=hn(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),pn(t,e),gn(t,e,n,i),yn(t,e,i),e.node}function yn(t,e,n){if(bn(t,e.line,e,n,!0),e.rest)for(var i=0;i<e.rest.length;i++)bn(t,e.rest[i],e,n,!1)}function bn(t,e,n,i,r){if(e.widgets)for(var o=dn(n),a=0,s=e.widgets;a<s.length;++a){var l=s[a],c=I("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),wn(l,c,n,i),t.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),ln(l,"redraw")}}function wn(t,e,n,i){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var r=i.wrapperWidth;e.style.left=i.fixedPos+"px",t.coverGutter||(r-=i.gutterTotalWidth,e.style.paddingLeft=i.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-i.gutterTotalWidth+"px"))}function En(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!R(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),x(e.display.measure,I("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function Cn(t,e){for(var n=_t(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function Tn(t){return t.lineSpace.offsetTop}function _n(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function On(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=x(t.measure,I("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(t.cachedPaddingH=i),i}function kn(t){return $-t.display.nativeBarWidth}function Dn(t){return t.display.scroller.clientWidth-kn(t)-t.display.barWidth}function xn(t){return t.display.scroller.clientHeight-kn(t)-t.display.barHeight}function In(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var i=0;i<t.rest.length;i++)if(t.rest[i]==e)return{map:t.measure.maps[i],cache:t.measure.caches[i]};for(var r=0;r<t.rest.length;r++)if(Xt(t.rest[r])>n)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}function Sn(t,e,n,i){return Nn(t,An(t,e),n,i)}function Rn(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[li(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function An(t,e){var n=Xt(e),i=Rn(t,n);i&&!i.text?i=null:i&&i.changes&&(un(t,i,n,ii(t)),t.curOp.forceUpdate=!0),i||(i=function(t,e){var n=Xt(e=je(e)),i=t.display.externalMeasured=new rn(t.doc,e,n);i.lineN=n;var r=i.built=Ze(t,i);return i.text=r.pre,x(t.display.lineMeasure,r.pre),i}(t,e));var r=In(i,e,n);return{line:e,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Nn(t,e,n,i,r){e.before&&(n=-1);var o,l=n+(i||"");return e.cache.hasOwnProperty(l)?o=e.cache[l]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(function(t,e,n){var i=t.options.lineWrapping,r=i&&Dn(t);if(!e.measure.heights||i&&e.measure.width!=r){var o=e.measure.heights=[];if(i){e.measure.width=r;for(var a=e.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(t,e.view,e.rect),e.hasHeights=!0),(o=function(t,e,n,i){var r,o=Ln(e.map,n,i),l=o.node,c=o.start,u=o.end,d=o.collapse;if(3==l.nodeType){for(var h=0;h<4;h++){for(;c&&rt(e.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&rt(e.line.text.charAt(o.coverStart+u));)++u;if((r=a&&s<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Kn(O(l,c,u).getClientRects(),i)).left||r.right||0==c)break;u=c,c-=1,d="right"}a&&s<11&&(r=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=Mt)return Mt;var e=x(t,I("span","x")),n=e.getBoundingClientRect(),i=O(e,0,1).getBoundingClientRect();return Mt=Math.abs(n.left-i.left)>1}(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*i,bottom:e.bottom*i}}(t.display.measure,r))}else{var f;c>0&&(d=i="right"),r=t.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==i?f.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!c&&(!r||!r.left&&!r.right)){var p=l.parentNode.getClientRects()[0];r=p?{left:p.left,right:p.left+ni(t.display),top:p.top,bottom:p.bottom}:Mn}for(var g=r.top-e.rect.top,m=r.bottom-e.rect.top,v=(g+m)/2,y=e.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var w=b?y[b-1]:0,E=y[b],C={left:("right"==d?r.right:r.left)-e.rect.left,right:("left"==d?r.left:r.right)-e.rect.left,top:w,bottom:E};return r.left||r.right||(C.bogus=!0),t.options.singleCursorHeightPerLine||(C.rtop=g,C.rbottom=m),C}(t,e,n,i)).bogus||(e.cache[l]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var Pn,Mn={left:0,right:0,top:0,bottom:0};function Ln(t,e,n){for(var i,r,o,a,s,l,c=0;c<t.length;c+=3)if(s=t[c],l=t[c+1],e<s?(r=0,o=1,a="left"):e<l?o=1+(r=e-s):(c==t.length-3||e==l&&t[c+3]>e)&&(r=(o=l-s)-1,e>=l&&(a="right")),null!=r){if(i=t[c+2],s==l&&n==(i.insertLeft?"left":"right")&&(a=n),"left"==n&&0==r)for(;c&&t[c-2]==t[c-3]&&t[c-1].insertLeft;)i=t[2+(c-=3)],a="left";if("right"==n&&r==l-s)for(;c<t.length-3&&t[c+3]==t[c+4]&&!t[c+5].insertLeft;)i=t[(c+=3)+2],a="right";break}return{node:i,start:r,end:o,collapse:a,coverStart:s,coverEnd:l}}function Kn(t,e){var n=Mn;if("left"==e)for(var i=0;i<t.length&&(n=t[i]).left==n.right;i++);else for(var r=t.length-1;r>=0&&(n=t[r]).left==n.right;r--);return n}function jn(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Fn(t){t.display.externalMeasure=null,D(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)jn(t.display.view[e])}function Bn(t){Fn(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function $n(){return u&&m?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Hn(){return u&&m?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Un(t){var e=0;if(t.widgets)for(var n=0;n<t.widgets.length;++n)t.widgets[n].above&&(e+=En(t.widgets[n]));return e}function zn(t,e,n,i,r){if(!r){var o=Un(e);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var a=Ue(e);if("local"==i?a+=Tn(t.display):a-=t.display.viewOffset,"page"==i||"window"==i){var s=t.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==i?0:Hn());var l=s.left+("window"==i?0:$n());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function Vn(t,e,n){if("div"==n)return e;var i=e.left,r=e.top;if("page"==n)i-=$n(),r-=Hn();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var a=t.display.lineSpace.getBoundingClientRect();return{left:i-a.left,top:r-a.top}}function Wn(t,e,n,i,r){return i||(i=Wt(t.doc,e.line)),zn(t,i,Sn(t,i,e.ch,r),n)}function qn(t,e,n,i,r,o){function a(e,a){var s=Nn(t,r,e,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,zn(t,i,s,n)}i=i||Wt(t.doc,e.line),r||(r=An(t,i));var s=ut(i,t.doc.direction),l=e.ch,c=e.sticky;if(l>=i.text.length?(l=i.text.length,c="before"):l<=0&&(l=0,c="after"),!s)return a("before"==c?l-1:l,"before"==c);function u(t,e,n){return a(n?t-1:t,1==s[e].level!=n)}var d=lt(s,l,c),h=st,f=u(l,d,"before"==c);return null!=h&&(f.other=u(l,h,"before"!=c)),f}function Yn(t,e){var n=0;e=se(t.doc,e),t.options.lineWrapping||(n=ni(t.display)*e.ch);var i=Wt(t.doc,e.line),r=Ue(i)+Tn(t.display);return{left:n,right:n,top:r,bottom:r+i.height}}function Gn(t,e,n,i,r){var o=te(t,e,n);return o.xRel=r,i&&(o.outside=i),o}function Xn(t,e,n){var i=t.doc;if((n+=t.display.viewOffset)<0)return Gn(i.first,0,null,-1,-1);var r=Zt(i,n),o=i.first+i.size-1;if(r>o)return Gn(i.first+i.size-1,Wt(i,o).text.length,null,1,1);e<0&&(e=0);for(var a=Wt(i,r);;){var s=ti(t,a,r,e,n),l=Le(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var c=l.find(1);if(c.line==r)return c;a=Wt(i,r=c.line)}}function Zn(t,e,n,i){i-=Un(e);var r=e.text.length,o=at(function(e){return Nn(t,n,e-1).bottom<=i},r,0);return{begin:o,end:r=at(function(e){return Nn(t,n,e).top>i},o,r)}}function Jn(t,e,n,i){return n||(n=An(t,e)),Zn(t,e,n,zn(t,e,Nn(t,n,i),"line").top)}function Qn(t,e,n,i){return!(t.bottom<=n)&&(t.top>n||(i?t.left:t.right)>e)}function ti(t,e,n,i,r){r-=Ue(e);var o=An(t,e),a=Un(e),s=0,l=e.text.length,c=!0,u=ut(e,t.doc.direction);if(u){var d=(t.options.lineWrapping?function(t,e,n,i,r,o,a){var s=Zn(t,e,i,a),l=s.begin,c=s.end;/\s/.test(e.text.charAt(c-1))&&c--;for(var u=null,d=null,h=0;h<r.length;h++){var f=r[h];if(!(f.from>=c||f.to<=l)){var p=Nn(t,i,1!=f.level?Math.min(c,f.to)-1:Math.max(l,f.from)).right,g=p<o?o-p+1e9:p-o;(!u||d>g)&&(u=f,d=g)}}return u||(u=r[r.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}:function(t,e,n,i,r,o,a){var s=at(function(s){var l=r[s],c=1!=l.level;return Qn(qn(t,te(n,c?l.to:l.from,c?"before":"after"),"line",e,i),o,a,!0)},0,r.length-1),l=r[s];if(s>0){var c=1!=l.level,u=qn(t,te(n,c?l.from:l.to,c?"after":"before"),"line",e,i);Qn(u,o,a,!0)&&u.top>a&&(l=r[s-1])}return l})(t,e,n,o,u,i,r);s=(c=1!=d.level)?d.from:d.to-1,l=c?d.to:d.from-1}var h,f,p=null,g=null,m=at(function(e){var n=Nn(t,o,e);return n.top+=a,n.bottom+=a,!!Qn(n,i,r,!1)&&(n.top<=r&&n.left<=i&&(p=e,g=n),!0)},s,l),v=!1;if(g){var y=i-g.left<g.right-i,b=y==c;m=p+(b?0:1),f=b?"after":"before",h=y?g.left:g.right}else{c||m!=l&&m!=s||m++,f=0==m?"after":m==e.text.length?"before":Nn(t,o,m-(c?1:0)).bottom+a<=r==c?"after":"before";var w=qn(t,te(n,m,f),"line",e,o);h=w.left,v=r<w.top?-1:r>=w.bottom?1:0}return Gn(n,m=ot(e.text,m,1),f,v,i-h)}function ei(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Pn){Pn=I("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)Pn.appendChild(document.createTextNode("x")),Pn.appendChild(I("br"));Pn.appendChild(document.createTextNode("x"))}x(t.measure,Pn);var n=Pn.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),D(t.measure),n||1}function ni(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=I("span","xxxxxxxxxx"),n=I("pre",[e],"CodeMirror-line-like");x(t.measure,n);var i=e.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function ii(t){for(var e=t.display,n={},i={},r=e.gutters.clientLeft,o=e.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=t.display.gutterSpecs[a].className;n[s]=o.offsetLeft+o.clientLeft+r,i[s]=o.clientWidth}return{fixedPos:ri(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:e.wrapper.clientWidth}}function ri(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function oi(t){var e=ei(t.display),n=t.options.lineWrapping,i=n&&Math.max(5,t.display.scroller.clientWidth/ni(t.display)-3);return function(r){if($e(t.doc,r))return 0;var o=0;if(r.widgets)for(var a=0;a<r.widgets.length;a++)r.widgets[a].height&&(o+=r.widgets[a].height);return n?o+(Math.ceil(r.text.length/i)||1)*e:o+e}}function ai(t){var e=t.doc,n=oi(t);e.iter(function(t){var e=n(t);e!=t.height&&Gt(t,e)})}function si(t,e,n,i){var r=t.display;if(!n&&"true"==_t(e).getAttribute("cm-not-content"))return null;var o,a,s=r.lineSpace.getBoundingClientRect();try{o=e.clientX-s.left,a=e.clientY-s.top}catch(t){return null}var l,c=Xn(t,o,a);if(i&&c.xRel>0&&(l=Wt(t.doc,c.line).text).length==c.ch){var u=j(l,l.length,t.options.tabSize)-l.length;c=te(c.line,Math.max(0,Math.round((o-On(t.display).left)/ni(t.display))-u))}return c}function li(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,i=0;i<n.length;i++)if((e-=n[i].size)<0)return i}function ci(t,e,n,i){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),i||(i=0);var r=t.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)Ce&&Fe(t.doc,e)<r.viewTo&&di(t);else if(n<=r.viewFrom)Ce&&Be(t.doc,n+i)>r.viewFrom?di(t):(r.viewFrom+=i,r.viewTo+=i);else if(e<=r.viewFrom&&n>=r.viewTo)di(t);else if(e<=r.viewFrom){var o=hi(t,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):di(t)}else if(n>=r.viewTo){var a=hi(t,e,e,-1);a?(r.view=r.view.slice(0,a.index),r.viewTo=a.lineN):di(t)}else{var s=hi(t,e,e,-1),l=hi(t,n,n+i,1);s&&l?(r.view=r.view.slice(0,s.index).concat(on(t,s.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=i):di(t)}var c=r.externalMeasured;c&&(n<c.lineN?c.lineN+=i:e<c.lineN+c.size&&(r.externalMeasured=null))}function ui(t,e,n){t.curOp.viewChanged=!0;var i=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(i.externalMeasured=null),!(e<i.viewFrom||e>=i.viewTo)){var o=i.view[li(t,e)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==B(a,n)&&a.push(n)}}}function di(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function hi(t,e,n,i){var r,o=li(t,e),a=t.display.view;if(!Ce||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var s=t.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=e){if(i>0){if(o==a.length-1)return null;r=s+a[o].size-e,o++}else r=s-e;e+=r,n+=r}for(;Fe(t.doc,n)!=n;){if(o==(i<0?0:a.length-1))return null;n+=i*a[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function fi(t){for(var e=t.display.view,n=0,i=0;i<e.length;i++){var r=e[i];r.hidden||r.node&&!r.changes||++n}return n}function pi(t){t.display.input.showSelection(t.display.input.prepareSelection())}function gi(t,e){void 0===e&&(e=!0);for(var n=t.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(e||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=t.display.viewTo||s.to().line<t.display.viewFrom)){var l=s.empty();(l||t.options.showCursorWhenSelecting)&&mi(t,s.head,r),l||yi(t,s,o)}}return i}function mi(t,e,n){var i=qn(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=n.appendChild(I("div","Â ","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*t.options.cursorHeight+"px",i.other){var o=n.appendChild(I("div","Â ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function vi(t,e){return t.top-e.top||t.left-e.left}function yi(t,e,n){var i=t.display,r=t.doc,o=document.createDocumentFragment(),a=On(t.display),s=a.left,l=Math.max(i.sizerWidth,Dn(t)-i.sizer.offsetLeft)-a.right,c="ltr"==r.direction;function u(t,e,n,i){e<0&&(e=0),e=Math.round(e),i=Math.round(i),o.appendChild(I("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==n?l-t:n)+"px;\n                             height: "+(i-e)+"px"))}function d(e,n,i){var o,a,d=Wt(r,e),h=d.text.length;function f(n,i){return Wn(t,te(e,n),"div",d,i)}function p(e,n,i){var r=Jn(t,d,null,e),o="ltr"==n==("after"==i)?"left":"right";return f("after"==i?r.begin:r.end-(/\s/.test(d.text.charAt(r.end-1))?2:1),o)[o]}var g=ut(d,r.direction);return function(t,e,n,i){if(!t)return i(e,n,"ltr",0);for(var r=!1,o=0;o<t.length;++o){var a=t[o];(a.from<n&&a.to>e||e==n&&a.to==e)&&(i(Math.max(a.from,e),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),r=!0)}r||i(e,n,"ltr")}(g,n||0,null==i?h:i,function(t,e,r,d){var m="ltr"==r,v=f(t,m?"left":"right"),y=f(e-1,m?"right":"left"),b=null==n&&0==t,w=null==i&&e==h,E=0==d,C=!g||d==g.length-1;if(y.top-v.top<=3){var T=(c?w:b)&&C,_=(c?b:w)&&E?s:(m?v:y).left,O=T?l:(m?y:v).right;u(_,v.top,O-_,v.bottom)}else{var k,D,x,I;m?(k=c&&b&&E?s:v.left,D=c?l:p(t,r,"before"),x=c?s:p(e,r,"after"),I=c&&w&&C?l:y.right):(k=c?p(t,r,"before"):s,D=!c&&b&&E?l:v.right,x=!c&&w&&C?s:y.left,I=c?p(e,r,"after"):l),u(k,v.top,D-k,v.bottom),v.bottom<y.top&&u(s,v.bottom,null,y.top),u(x,y.top,I-x,y.bottom)}(!o||vi(v,o)<0)&&(o=v),vi(y,o)<0&&(o=y),(!a||vi(v,a)<0)&&(a=v),vi(y,a)<0&&(a=y)}),{start:o,end:a}}var h=e.from(),f=e.to();if(h.line==f.line)d(h.line,h.ch,f.ch);else{var p=Wt(r,h.line),g=Wt(r,f.line),m=je(p)==je(g),v=d(h.line,h.ch,m?p.text.length+1:null).end,y=d(f.line,m?0:null,f.ch).start;m&&(v.top<y.top-2?(u(v.right,v.top,null,v.bottom),u(s,y.top,y.left,y.bottom)):u(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&u(s,v.bottom,null,y.top)}n.appendChild(o)}function bi(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){t.hasFocus()||Ti(t),e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function wi(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||Ci(t))}function Ei(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&Ti(t))},100)}function Ci(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(gt(t,"focus",t,e),t.state.focused=!0,N(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),l&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),bi(t))}function Ti(t,e){t.state.delayingBlurEvent||(t.state.focused&&(gt(t,"blur",t,e),t.state.focused=!1,k(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function _i(t){for(var e=t.display,n=e.lineDiv.offsetTop,i=0;i<e.view.length;i++){var r=e.view[i],o=t.options.lineWrapping,l=void 0,c=0;if(!r.hidden){if(a&&s<8){var u=r.node.offsetTop+r.node.offsetHeight;l=u-n,n=u}else{var d=r.node.getBoundingClientRect();l=d.bottom-d.top,!o&&r.text.firstChild&&(c=r.text.firstChild.getBoundingClientRect().right-d.left-1)}var h=r.line.height-l;if((h>.005||h<-.005)&&(Gt(r.line,l),Oi(r.line),r.rest))for(var f=0;f<r.rest.length;f++)Oi(r.rest[f]);if(c>t.display.sizerWidth){var p=Math.ceil(c/ni(t.display));p>t.display.maxLineLength&&(t.display.maxLineLength=p,t.display.maxLine=r.line,t.display.maxLineChanged=!0)}}}}function Oi(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],i=n.node.parentNode;i&&(n.height=i.offsetHeight)}}function ki(t,e,n){var i=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;i=Math.floor(i-Tn(t));var r=n&&null!=n.bottom?n.bottom:i+t.wrapper.clientHeight,o=Zt(e,i),a=Zt(e,r);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=Zt(e,Ue(Wt(e,s))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=a&&(o=Zt(e,Ue(Wt(e,l))-t.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function Di(t,e){var n=t.display,i=ei(t.display);e.top<0&&(e.top=0);var r=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:n.scroller.scrollTop,o=xn(t),a={};e.bottom-e.top>o&&(e.bottom=e.top+o);var s=t.doc.height+_n(n),l=e.top<i,c=e.bottom>s-i;if(e.top<r)a.scrollTop=l?0:e.top;else if(e.bottom>r+o){var u=Math.min(e.top,(c?s:e.bottom)-o);u!=r&&(a.scrollTop=u)}var d=t.options.fixedGutter?0:n.gutters.offsetWidth,h=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:n.scroller.scrollLeft-d,f=Dn(t)-n.gutters.offsetWidth,p=e.right-e.left>f;return p&&(e.right=e.left+f),e.left<10?a.scrollLeft=0:e.left<h?a.scrollLeft=Math.max(0,e.left+d-(p?0:10)):e.right>f+h-3&&(a.scrollLeft=e.right+(p?0:10)-f),a}function xi(t,e){null!=e&&(Ri(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Ii(t){Ri(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Si(t,e,n){null==e&&null==n||Ri(t),null!=e&&(t.curOp.scrollLeft=e),null!=n&&(t.curOp.scrollTop=n)}function Ri(t){var e=t.curOp.scrollToPos;e&&(t.curOp.scrollToPos=null,Ai(t,Yn(t,e.from),Yn(t,e.to),e.margin))}function Ai(t,e,n,i){var r=Di(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-i,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+i});Si(t,r.scrollLeft,r.scrollTop)}function Ni(t,e){Math.abs(t.doc.scrollTop-e)<2||(n||ar(t,{top:e}),Pi(t,e,!0),n&&ar(t),er(t,100))}function Pi(t,e,n){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),(t.display.scroller.scrollTop!=e||n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function Mi(t,e,n,i){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!i||(t.doc.scrollLeft=e,cr(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Li(t){var e=t.display,n=e.gutters.offsetWidth,i=Math.round(t.doc.height+_n(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+kn(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var Ki=function(t,e,n){this.cm=n;var i=this.vert=I("div",[I("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=I("div",[I("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=r.tabIndex=-1,t(i),t(r),ht(i,"scroll",function(){i.clientHeight&&e(i.scrollTop,"vertical")}),ht(r,"scroll",function(){r.clientWidth&&e(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ki.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,i=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?i+"px":"0";var r=t.viewHeight-(e?i:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?i:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:e?i:0}},Ki.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ki.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ki.prototype.zeroWidthHack=function(){var t=y&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new F,this.disableVert=new F},Ki.prototype.enableZeroWidthBar=function(t,e,n){t.style.pointerEvents="auto",e.set(1e3,function i(){var r=t.getBoundingClientRect();("vert"==n?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=t?t.style.pointerEvents="none":e.set(1e3,i)})},Ki.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var ji=function(){};function Fi(t,e){e||(e=Li(t));var n=t.display.barWidth,i=t.display.barHeight;Bi(t,e);for(var r=0;r<4&&n!=t.display.barWidth||i!=t.display.barHeight;r++)n!=t.display.barWidth&&t.options.lineWrapping&&_i(t),Bi(t,Li(t)),n=t.display.barWidth,i=t.display.barHeight}function Bi(t,e){var n=t.display,i=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}ji.prototype.update=function(){return{bottom:0,right:0}},ji.prototype.setScrollLeft=function(){},ji.prototype.setScrollTop=function(){},ji.prototype.clear=function(){};var $i={native:Ki,null:ji};function Hi(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&k(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new $i[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),ht(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?Mi(t,e):Ni(t,e)},t),t.display.scrollbars.addClass&&N(t.display.wrapper,t.display.scrollbars.addClass)}var Ui=0;function zi(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ui},e=t.curOp,an?an.ops.push(e):e.ownsGroup=an={ops:[e],delayedCallbacks:[]}}function Vi(t){var e=t.curOp;e&&function(t,e){var n=t.ownsGroup;if(n)try{!function(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var i=0;i<t.ops.length;i++){var r=t.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<e.length)}(n)}finally{an=null,function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,n=0;n<e.length;n++)Wi(e[n]);for(var i=0;i<e.length;i++)qi(e[i]);for(var r=0;r<e.length;r++)Yi(e[r]);for(var o=0;o<e.length;o++)Gi(e[o]);for(var a=0;a<e.length;a++)Xi(e[a])}(t)}(n)}}(e)}function Wi(t){var e=t.cm,n=e.display;!function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=kn(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=kn(t)+"px",e.scrollbarsClipped=!0)}(e),t.updateMaxLine&&Ve(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new ir(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function qi(t){t.updatedDisplay=t.mustUpdate&&rr(t.cm,t.update)}function Yi(t){var e=t.cm,n=e.display;t.updatedDisplay&&_i(e),t.barMeasure=Li(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Sn(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+kn(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Dn(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function Gi(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Mi(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==A();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Fi(e,t.barMeasure),t.updatedDisplay&&lr(e,t.barMeasure),t.selectionChanged&&bi(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&wi(t.cm)}function Xi(t){var e=t.cm,n=e.display,i=e.doc;t.updatedDisplay&&or(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=t.scrollTop&&Pi(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&Mi(e,t.scrollLeft,!0,!0),t.scrollToPos&&function(t,e){if(!mt(t,"scrollCursorIntoView")){var n=t.display,i=n.sizer.getBoundingClientRect(),r=null;if(e.top+i.top<0?r=!0:e.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!p){var o=I("div","â",null,"position: absolute;\n                         top: "+(e.top-n.viewOffset-Tn(t.display))+"px;\n                         height: "+(e.bottom-e.top+kn(t)+n.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(r),t.display.lineSpace.removeChild(o)}}}(e,function(t,e,n,i){var r;null==i&&(i=0),t.options.lineWrapping||e!=n||(n="before"==(e=e.ch?te(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e).sticky?te(e.line,e.ch+1,"before"):e);for(var o=0;o<5;o++){var a=!1,s=qn(t,e),l=n&&n!=e?qn(t,n):s,c=Di(t,r={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-i,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+i}),u=t.doc.scrollTop,d=t.doc.scrollLeft;if(null!=c.scrollTop&&(Ni(t,c.scrollTop),Math.abs(t.doc.scrollTop-u)>1&&(a=!0)),null!=c.scrollLeft&&(Mi(t,c.scrollLeft),Math.abs(t.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return r}(e,se(i,t.scrollToPos.from),se(i,t.scrollToPos.to),t.scrollToPos.margin));var r=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(r)for(var a=0;a<r.length;++a)r[a].lines.length||gt(r[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&gt(o[s],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&gt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Zi(t,e){if(t.curOp)return e();zi(t);try{return e()}finally{Vi(t)}}function Ji(t,e){return function(){if(t.curOp)return e.apply(t,arguments);zi(t);try{return e.apply(t,arguments)}finally{Vi(t)}}}function Qi(t){return function(){if(this.curOp)return t.apply(this,arguments);zi(this);try{return t.apply(this,arguments)}finally{Vi(this)}}}function tr(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);zi(e);try{return t.apply(this,arguments)}finally{Vi(e)}}}function er(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,L(nr,t))}function nr(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,i=fe(t,e.highlightFrontier),r=[];e.iter(i.line,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(i.line>=t.display.viewFrom){var a=o.styles,s=o.text.length>t.options.maxHighlightLength?Ht(e.mode,i.state):null,l=de(t,o,i,!0);s&&(i.state=s),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!a||a.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!d&&h<a.length;++h)d=a[h]!=o.styles[h];d&&r.push(i.line),o.stateAfter=i.save(),i.nextLine()}else o.text.length<=t.options.maxHighlightLength&&pe(t,o.text,i),o.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>n)return er(t,t.options.workDelay),!0}),e.highlightFrontier=i.line,e.modeFrontier=Math.max(e.modeFrontier,i.line),r.length&&Zi(t,function(){for(var e=0;e<r.length;e++)ui(t,r[e],"text")})}}var ir=function(t,e,n){var i=t.display;this.viewport=e,this.visible=ki(i,t.doc,e),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Dn(t),this.force=n,this.dims=ii(t),this.events=[]};function rr(t,e){var n=t.display,i=t.doc;if(e.editorIsHidden)return di(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==fi(t))return!1;ur(t)&&(di(t),e.dims=ii(t));var r=i.first+i.size,o=Math.max(e.visible.from-t.options.viewportMargin,i.first),a=Math.min(r,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(r,n.viewTo)),Ce&&(o=Fe(t.doc,o),a=Be(t.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;!function(t,e,n){var i=t.display;0==i.view.length||e>=i.viewTo||n<=i.viewFrom?(i.view=on(t,e,n),i.viewFrom=e):(i.viewFrom>e?i.view=on(t,e,i.viewFrom).concat(i.view):i.viewFrom<e&&(i.view=i.view.slice(li(t,e))),i.viewFrom=e,i.viewTo<n?i.view=i.view.concat(on(t,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,li(t,n)))),i.viewTo=n}(t,o,a),n.viewOffset=Ue(Wt(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var c=fi(t);if(!s&&0==c&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=function(t){if(t.hasFocus())return null;var e=A();if(!e||!R(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var i=window.getSelection();i.anchorNode&&i.extend&&R(t.display.lineDiv,i.anchorNode)&&(n.anchorNode=i.anchorNode,n.anchorOffset=i.anchorOffset,n.focusNode=i.focusNode,n.focusOffset=i.focusOffset)}return n}(t);return c>4&&(n.lineDiv.style.display="none"),function(t,e,n){var i=t.display,r=t.options.lineNumbers,o=i.lineDiv,a=o.firstChild;function s(e){var n=e.nextSibling;return l&&y&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var c=i.view,u=i.viewFrom,d=0;d<c.length;d++){var h=c[d];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;a!=h.node;)a=s(a);var f=r&&null!=e&&e<=u&&h.lineNumber;h.changes&&(B(h.changes,"gutter")>-1&&(f=!1),un(t,h,u,n)),f&&(D(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(Qt(t.options,u)))),a=h.node.nextSibling}else{var p=vn(t,h,u,n);o.insertBefore(p,a)}u+=h.size}for(;a;)a=s(a)}(t,n.updateLineNumbers,e.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(t){if(t&&t.activeElt&&t.activeElt!=A()&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(t.activeElt.nodeName)&&t.anchorNode&&R(document.body,t.anchorNode)&&R(document.body,t.focusNode))){var e=window.getSelection(),n=document.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),e.removeAllRanges(),e.addRange(n),e.extend(t.focusNode,t.focusOffset)}}(u),D(n.cursorDiv),D(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,er(t,400)),n.updateLineNumbers=null,!0}function or(t,e){for(var n=e.viewport,i=!0;;i=!1){if(i&&t.options.lineWrapping&&e.oldDisplayWidth!=Dn(t))i&&(e.visible=ki(t.display,t.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(t.doc.height+_n(t.display)-xn(t),n.top)}),e.visible=ki(t.display,t.doc,n),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break;if(!rr(t,e))break;_i(t);var r=Li(t);pi(t),Fi(t,r),lr(t,r),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function ar(t,e){var n=new ir(t,e);if(rr(t,n)){_i(t),or(t,n);var i=Li(t);pi(t),Fi(t,i),lr(t,i),n.finish()}}function sr(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px"}function lr(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+kn(t)+"px"}function cr(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var i=ri(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,o=i+"px",a=0;a<n.length;a++)if(!n[a].hidden){t.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=i+r+"px")}}function ur(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=Qt(t.options,e.first+e.size-1),i=t.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(I("div",[I("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,a=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-a)+1,i.lineNumWidth=i.lineNumInnerWidth+a,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",sr(t.display),!0}return!1}function dr(t,e){for(var n=[],i=!1,r=0;r<t.length;r++){var o=t[r],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!e)continue;i=!0}n.push({className:o,style:a})}return e&&!i&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function hr(t){var e=t.gutters,n=t.gutterSpecs;D(e),t.lineGutter=null;for(var i=0;i<n.length;++i){var r=n[i],o=r.className,a=r.style,s=e.appendChild(I("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(t.lineGutter=s,s.style.width=(t.lineNumWidth||1)+"px")}e.style.display=n.length?"":"none",sr(t)}function fr(t){hr(t.display),ci(t),cr(t)}function pr(t,e,i,r){var o=this;this.input=i,o.scrollbarFiller=I("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=I("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=S("div",null,"CodeMirror-code"),o.selectionDiv=I("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=I("div",null,"CodeMirror-cursors"),o.measure=I("div",null,"CodeMirror-measure"),o.lineMeasure=I("div",null,"CodeMirror-measure"),o.lineSpace=S("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=S("div",[o.lineSpace],"CodeMirror-lines");o.mover=I("div",[c],null,"position: relative"),o.sizer=I("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=I("div",null,null,"position: absolute; height: "+$+"px; width: 1px;"),o.gutters=I("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=I("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=I("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&v||(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=e.first,o.reportedViewFrom=o.reportedViewTo=e.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=dr(r.gutters,r.lineNumbers),hr(o),i.init(o)}ir.prototype.signal=function(t,e){yt(t,e)&&this.events.push(arguments)},ir.prototype.finish=function(){for(var t=0;t<this.events.length;t++)gt.apply(null,this.events[t])};var gr=0,mr=null;function vr(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function yr(t){var e=vr(t);return e.x*=mr,e.y*=mr,e}function br(t,e){var i=vr(e),r=i.x,o=i.y,a=t.display,s=a.scroller,c=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(r&&c||o&&u){if(o&&y&&l)t:for(var h=e.target,f=a.view;h!=s;h=h.parentNode)for(var p=0;p<f.length;p++)if(f[p].node==h){t.display.currentWheelTarget=h;break t}if(r&&!n&&!d&&null!=mr)return o&&u&&Ni(t,Math.max(0,s.scrollTop+o*mr)),Mi(t,Math.max(0,s.scrollLeft+r*mr)),(!o||o&&u)&&wt(e),void(a.wheelStartX=null);if(o&&null!=mr){var g=o*mr,m=t.doc.scrollTop,v=m+a.wrapper.clientHeight;g<0?m=Math.max(0,m+g-50):v=Math.min(t.doc.height,v+g+50),ar(t,{top:m,bottom:v})}gr<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=r,a.wheelDY=o,setTimeout(function(){if(null!=a.wheelStartX){var t=s.scrollLeft-a.wheelStartX,e=s.scrollTop-a.wheelStartY,n=e&&a.wheelDY&&e/a.wheelDY||t&&a.wheelDX&&t/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(mr=(mr*gr+n)/(gr+1),++gr)}},200)):(a.wheelDX+=r,a.wheelDY+=o))}}a?mr=-.53:n?mr=15:u?mr=-.7:h&&(mr=-1/3);var wr=function(t,e){this.ranges=t,this.primIndex=e};wr.prototype.primary=function(){return this.ranges[this.primIndex]},wr.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],i=t.ranges[e];if(!ne(n.anchor,i.anchor)||!ne(n.head,i.head))return!1}return!0},wr.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Er(ie(this.ranges[e].anchor),ie(this.ranges[e].head));return new wr(t,this.primIndex)},wr.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},wr.prototype.contains=function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(ee(e,i.from())>=0&&ee(t,i.to())<=0)return n}return-1};var Er=function(t,e){this.anchor=t,this.head=e};function Cr(t,e,n){var i=t&&t.options.selectionsMayTouch,r=e[n];e.sort(function(t,e){return ee(t.from(),e.from())}),n=B(e,r);for(var o=1;o<e.length;o++){var a=e[o],s=e[o-1],l=ee(s.to(),a.from());if(i&&!a.empty()?l>0:l>=0){var c=oe(s.from(),a.from()),u=re(s.to(),a.to()),d=s.empty()?a.from()==a.head:s.from()==s.head;o<=n&&--n,e.splice(--o,2,new Er(d?u:c,d?c:u))}}return new wr(e,n)}function Tr(t,e){return new wr([new Er(t,e||t)],0)}function _r(t){return t.text?te(t.from.line+t.text.length-1,G(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function Or(t,e){if(ee(t,e.from)<0)return t;if(ee(t,e.to)<=0)return _r(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=_r(e).ch-e.to.ch),te(n,i)}function kr(t,e){for(var n=[],i=0;i<t.sel.ranges.length;i++){var r=t.sel.ranges[i];n.push(new Er(Or(r.anchor,e),Or(r.head,e)))}return Cr(t.cm,n,t.sel.primIndex)}function Dr(t,e,n){return t.line==e.line?te(n.line,t.ch-e.ch+n.ch):te(n.line+(t.line-e.line),t.ch)}function xr(t){t.doc.mode=Ft(t.options,t.doc.modeOption),Ir(t)}function Ir(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,er(t,100),t.state.modeGen++,t.curOp&&ci(t)}function Sr(t,e){return 0==e.from.ch&&0==e.to.ch&&""==G(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Rr(t,e,n,i){function r(t){return n?n[t]:null}function o(t,n,r){!function(t,e,n,i){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),xe(t),Ie(t,n);var r=i?i(t):1;r!=t.height&&Gt(t,r)}(t,n,r,i),ln(t,"change",t,e)}function a(t,e){for(var n=[],o=t;o<e;++o)n.push(new We(c[o],r(o),i));return n}var s=e.from,l=e.to,c=e.text,u=Wt(t,s.line),d=Wt(t,l.line),h=G(c),f=r(c.length-1),p=l.line-s.line;if(e.full)t.insert(0,a(0,c.length)),t.remove(c.length,t.size-c.length);else if(Sr(t,e)){var g=a(0,c.length-1);o(d,d.text,f),p&&t.remove(s.line,p),g.length&&t.insert(s.line,g)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,s.ch)+h+u.text.slice(l.ch),f);else{var m=a(1,c.length-1);m.push(new We(h+u.text.slice(l.ch),f,i)),o(u,u.text.slice(0,s.ch)+c[0],r(0)),t.insert(s.line+1,m)}else if(1==c.length)o(u,u.text.slice(0,s.ch)+c[0]+d.text.slice(l.ch),r(0)),t.remove(s.line+1,p);else{o(u,u.text.slice(0,s.ch)+c[0],r(0)),o(d,h+d.text.slice(l.ch),f);var v=a(1,c.length-1);p>1&&t.remove(s.line+1,p-1),t.insert(s.line+1,v)}ln(t,"change",t,e)}function Ar(t,e,n){!function t(i,r,o){if(i.linked)for(var a=0;a<i.linked.length;++a){var s=i.linked[a];if(s.doc!=r){var l=o&&s.sharedHist;n&&!l||(e(s.doc,l),t(s.doc,i,l))}}}(t,null,!0)}function Nr(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,ai(t),xr(t),Pr(t),t.options.lineWrapping||Ve(t),t.options.mode=e.modeOption,ci(t)}function Pr(t){("rtl"==t.doc.direction?N:k)(t.display.lineDiv,"CodeMirror-rtl")}function Mr(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function Lr(t,e){var n={from:ie(e.from),to:_r(e),text:qt(t,e.from,e.to)};return Br(t,n,e.from.line,e.to.line+1),Ar(t,function(t){return Br(t,n,e.from.line,e.to.line+1)},!0),n}function Kr(t){for(;t.length&&G(t).ranges;)t.pop()}function jr(t,e,n,i){var r=t.history;r.undone.length=0;var o,a,s=+new Date;if((r.lastOp==i||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&r.lastModTime>s-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(o=function(t,e){return r.lastOp==i?(Kr(t.done),G(t.done)):t.done.length&&!G(t.done).ranges?G(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),G(t.done)):void 0}(r)))a=G(o.changes),0==ee(e.from,e.to)&&0==ee(e.from,a.to)?a.to=_r(e):o.changes.push(Lr(t,e));else{var l=G(r.done);for(l&&l.ranges||Fr(t.sel,r.done),o={changes:[Lr(t,e)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=e.origin,a||gt(t,"historyAdded")}function Fr(t,e){var n=G(e);n&&n.ranges&&n.equals(t)||e.push(t)}function Br(t,e,n,i){var r=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,i),function(n){n.markedSpans&&((r||(r=e["spans_"+t.id]={}))[o]=n.markedSpans),++o})}function $r(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function Hr(t,e){var n=function(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var i=[],r=0;r<e.text.length;++r)i.push($r(n[r]));return i}(t,e),i=ke(t,e);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],a=i[r];if(o&&a)t:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else a&&(n[r]=a)}return n}function Ur(t,e,n){for(var i=[],r=0;r<t.length;++r){var o=t[r];if(o.ranges)i.push(n?wr.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];i.push({changes:s});for(var l=0;l<a.length;++l){var c=a[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),e)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&B(e,Number(u[1]))>-1&&(G(s)[d]=c[d],delete c[d])}}}return i}function zr(t,e,n,i){if(i){var r=t.anchor;if(n){var o=ee(e,r)<0;o!=ee(n,r)<0?(r=e,e=n):o!=ee(e,n)<0&&(e=n)}return new Er(r,e)}return new Er(n||e,e)}function Vr(t,e,n,i,r){null==r&&(r=t.cm&&(t.cm.display.shift||t.extend)),Xr(t,new wr([zr(t.sel.primary(),e,n,r)],0),i)}function Wr(t,e,n){for(var i=[],r=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)i[o]=zr(t.sel.ranges[o],e[o],null,r);Xr(t,Cr(t.cm,i,t.sel.primIndex),n)}function qr(t,e,n,i){var r=t.sel.ranges.slice(0);r[e]=n,Xr(t,Cr(t.cm,r,t.sel.primIndex),i)}function Yr(t,e,n,i){Xr(t,Tr(e,n),i)}function Gr(t,e,n){var i=t.history.done,r=G(i);r&&r.ranges?(i[i.length-1]=e,Zr(t,e,n)):Xr(t,e,n)}function Xr(t,e,n){Zr(t,e,n),function(t,e,n,i){var r=t.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||function(t,e,n,i){var r=e.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,o,G(r.done),e))?r.done[r.done.length-1]=e:Fr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&!1!==i.clearRedo&&Kr(r.undone)}(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function Zr(t,e,n){(yt(t,"beforeSelectionChange")||t.cm&&yt(t.cm,"beforeSelectionChange"))&&(e=function(t,e,n){var i={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new Er(se(t,e[n].anchor),se(t,e[n].head))},origin:n&&n.origin};return gt(t,"beforeSelectionChange",t,i),t.cm&&gt(t.cm,"beforeSelectionChange",t.cm,i),i.ranges!=e.ranges?Cr(t.cm,i.ranges,i.ranges.length-1):e}(t,e,n));var i=n&&n.bias||(ee(e.primary().head,t.sel.primary().head)<0?-1:1);Jr(t,to(t,e,i,!0)),n&&!1===n.scroll||!t.cm||Ii(t.cm)}function Jr(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,vt(t.cm)),ln(t,"cursorActivity",t))}function Qr(t){Jr(t,to(t,t.sel,null,!1))}function to(t,e,n,i){for(var r,o=0;o<e.ranges.length;o++){var a=e.ranges[o],s=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=no(t,a.anchor,s&&s.anchor,n,i),c=no(t,a.head,s&&s.head,n,i);(r||l!=a.anchor||c!=a.head)&&(r||(r=e.ranges.slice(0,o)),r[o]=new Er(l,c))}return r?Cr(t.cm,r,e.primIndex):e}function eo(t,e,n,i,r){var o=Wt(t,e.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(c?s.from<=e.ch:s.from<e.ch))&&(null==s.to||(u?s.to>=e.ch:s.to>e.ch))){if(r&&(gt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var d=l.find(i<0?1:-1),h=void 0;if((i<0?u:c)&&(d=io(t,d,-i,d&&d.line==e.line?o:null)),d&&d.line==e.line&&(h=ee(d,n))&&(i<0?h<0:h>0))return eo(t,d,e,i,r)}var f=l.find(i<0?-1:1);return(i<0?c:u)&&(f=io(t,f,i,f.line==e.line?o:null)),f?eo(t,f,e,i,r):null}}return e}function no(t,e,n,i,r){var o=i||1;return eo(t,e,n,o,r)||!r&&eo(t,e,n,o,!0)||eo(t,e,n,-o,r)||!r&&eo(t,e,n,-o,!0)||(t.cantEdit=!0,te(t.first,0))}function io(t,e,n,i){return n<0&&0==e.ch?e.line>t.first?se(t,te(e.line-1)):null:n>0&&e.ch==(i||Wt(t,e.line)).text.length?e.line<t.first+t.size-1?te(e.line+1,0):null:new te(e.line,e.ch+n)}function ro(t){t.setSelection(te(t.firstLine(),0),te(t.lastLine()),U)}function oo(t,e,n){var i={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return i.canceled=!0}};return n&&(i.update=function(e,n,r,o){e&&(i.from=se(t,e)),n&&(i.to=se(t,n)),r&&(i.text=r),void 0!==o&&(i.origin=o)}),gt(t,"beforeChange",t,i),t.cm&&gt(t.cm,"beforeChange",t.cm,i),i.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:i.from,to:i.to,text:i.text,origin:i.origin}}function ao(t,e,n){if(t.cm){if(!t.cm.curOp)return Ji(t.cm,ao)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(yt(t,"beforeChange")||t.cm&&yt(t.cm,"beforeChange"))||(e=oo(t,e,!0))){var i=Ee&&!n&&function(t,e,n){var i=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||i&&-1!=B(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:e,to:n}],o=0;o<i.length;++o)for(var a=i[o],s=a.find(0),l=0;l<r.length;++l){var c=r[l];if(!(ee(c.to,s.from)<0||ee(c.from,s.to)>0)){var u=[l,1],d=ee(c.from,s.from),h=ee(c.to,s.to);(d<0||!a.inclusiveLeft&&!d)&&u.push({from:c.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&u.push({from:s.to,to:c.to}),r.splice.apply(r,u),l+=u.length-3}}return r}(t,e.from,e.to);if(i)for(var r=i.length-1;r>=0;--r)so(t,{from:i[r].from,to:i[r].to,text:r?[""]:e.text,origin:e.origin});else so(t,e)}}function so(t,e){if(1!=e.text.length||""!=e.text[0]||0!=ee(e.from,e.to)){var n=kr(t,e);jr(t,e,n,t.cm?t.cm.curOp.id:NaN),uo(t,e,n,ke(t,e));var i=[];Ar(t,function(t,n){n||-1!=B(i,t.history)||(go(t.history,e),i.push(t.history)),uo(t,e,null,ke(t,e))})}}function lo(t,e,n){var i=t.cm&&t.cm.state.suppressEdits;if(!i||n){for(var r,o=t.history,a=t.sel,s="undo"==e?o.done:o.undone,l="undo"==e?o.undone:o.done,c=0;c<s.length&&(r=s[c],n?!r.ranges||r.equals(t.sel):r.ranges);c++);if(c!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(r=s.pop()).ranges){if(i)return void s.push(r);break}if(Fr(r,l),n&&!r.equals(t.sel))return void Xr(t,r,{clearRedo:!1});a=r}var u=[];Fr(a,l),l.push({changes:u,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;for(var d=yt(t,"beforeChange")||t.cm&&yt(t.cm,"beforeChange"),h=function(n){var i=r.changes[n];if(i.origin=e,d&&!oo(t,i,!1))return s.length=0,{};u.push(Lr(t,i));var o=n?kr(t,i):G(s);uo(t,i,o,Hr(t,i)),!n&&t.cm&&t.cm.scrollIntoView({from:i.from,to:_r(i)});var a=[];Ar(t,function(t,e){e||-1!=B(a,t.history)||(go(t.history,i),a.push(t.history)),uo(t,i,null,Hr(t,i))})},f=r.changes.length-1;f>=0;--f){var p=h(f);if(p)return p.v}}}}function co(t,e){if(0!=e&&(t.first+=e,t.sel=new wr(X(t.sel.ranges,function(t){return new Er(te(t.anchor.line+e,t.anchor.ch),te(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){ci(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,i=n.viewFrom;i<n.viewTo;i++)ui(t.cm,i,"gutter")}}function uo(t,e,n,i){if(t.cm&&!t.cm.curOp)return Ji(t.cm,uo)(t,e,n,i);if(e.to.line<t.first)co(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);co(t,r),e={from:te(t.first,0),to:te(e.to.line+r,e.to.ch),text:[G(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:te(o,Wt(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=qt(t,e.from,e.to),n||(n=kr(t,e)),t.cm?function(t,e,n){var i=t.doc,r=t.display,o=e.from,a=e.to,s=!1,l=o.line;t.options.lineWrapping||(l=Xt(je(Wt(i,o.line))),i.iter(l,a.line+1,function(t){if(t==r.maxLine)return s=!0,!0})),i.sel.contains(e.from,e.to)>-1&&vt(t),Rr(i,e,n,oi(t)),t.options.lineWrapping||(i.iter(l,o.line+e.text.length,function(t){var e=ze(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,s=!1)}),s&&(t.curOp.updateMaxLine=!0)),function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,i=e-1;i>n;i--){var r=Wt(t,i).stateAfter;if(r&&(!(r instanceof ce)||i+r.lookAhead<e)){n=i+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}(i,o.line),er(t,400);var c=e.text.length-(a.line-o.line)-1;e.full?ci(t):o.line!=a.line||1!=e.text.length||Sr(t.doc,e)?ci(t,o.line,a.line+1,c):ui(t,o.line,"text");var u=yt(t,"changes"),d=yt(t,"change");if(d||u){var h={from:o,to:a,text:e.text,removed:e.removed,origin:e.origin};d&&ln(t,"change",t,h),u&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(h)}t.display.selForContextMenu=null}(t.cm,e,i):Rr(t,e,i),Zr(t,n,U),t.cantEdit&&no(t,te(t.firstLine(),0))&&(t.cantEdit=!1)}}function ho(t,e,n,i,r){var o;i||(i=n),ee(i,n)<0&&(n=(o=[i,n])[0],i=o[1]),"string"==typeof e&&(e=t.splitLines(e)),ao(t,{from:n,to:i,text:e,origin:r})}function fo(t,e,n,i){n<t.line?t.line+=i:e<t.line&&(t.line=e,t.ch=0)}function po(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r],a=!0;if(o.ranges){o.copied||((o=t[r]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)fo(o.ranges[s].anchor,e,n,i),fo(o.ranges[s].head,e,n,i)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=te(c.from.line+i,c.from.ch),c.to=te(c.to.line+i,c.to.ch);else if(e<=c.to.line){a=!1;break}}a||(t.splice(0,r+1),r=0)}}}function go(t,e){var n=e.from.line,i=e.to.line,r=e.text.length-(i-n)-1;po(t.done,n,i,r),po(t.undone,n,i,r)}function mo(t,e,n,i){var r=e,o=e;return"number"==typeof e?o=Wt(t,ae(t,e)):r=Xt(e),null==r?null:(i(o,r)&&t.cm&&ui(t.cm,r,n),o)}function vo(t){this.lines=t,this.parent=null;for(var e=0,n=0;n<t.length;++n)t[n].parent=this,e+=t[n].height;this.height=e}function yo(t){this.children=t;for(var e=0,n=0,i=0;i<t.length;++i){var r=t[i];e+=r.chunkSize(),n+=r.height,r.parent=this}this.size=e,this.height=n,this.parent=null}Er.prototype.from=function(){return oe(this.anchor,this.head)},Er.prototype.to=function(){return re(this.anchor,this.head)},Er.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},vo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,i=t+e;n<i;++n){var r=this.lines[n];this.height-=r.height,qe(r),ln(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var i=0;i<e.length;++i)e[i].parent=this},iterN:function(t,e,n){for(var i=t+e;t<i;++t)if(n(this.lines[t]))return!0}},yo.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(t<r){var o=Math.min(e,r-t),a=i.height;if(i.removeInner(t,o),this.height-=a-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(e-=o))break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof vo))){var s=[];this.collapse(s),this.children=[new vo(s)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<=o){if(r.insertInner(t,e,n),r.lines&&r.lines.length>50){for(var a=r.lines.length%25+25,s=a;s<r.lines.length;){var l=new vo(r.lines.slice(s,s+=25));r.height-=l.height,this.children.splice(++i,0,l),l.parent=this}r.lines=r.lines.slice(0,a),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new yo(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var n=B(t.parent.children,t);t.parent.children.splice(n+1,0,e)}else{var i=new yo(t.children);i.parent=t,t.children=[i,e],t=i}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(t<o){var a=Math.min(e,o-t);if(r.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=o}}};var bo=function(t,e,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=t,this.node=e};function wo(t,e,n){Ue(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&xi(t,n)}bo.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,i=Xt(n);if(null!=i&&e){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(n.widgets=null);var o=En(this);Gt(n,Math.max(0,n.height-o)),t&&(Zi(t,function(){wo(t,n,-o),ui(t,i,"widget")}),ln(t,"lineWidgetCleared",t,this,i))}},bo.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,i=this.line;this.height=null;var r=En(this)-e;r&&($e(this.doc,i)||Gt(i,i.height+r),n&&Zi(n,function(){n.curOp.forceUpdate=!0,wo(n,i,r),ln(n,"lineWidgetChanged",n,t,Xt(i))}))},bt(bo);var Eo=0,Co=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++Eo};function To(t,e,n,i,r){if(i&&i.shared)return function(t,e,n,i,r){(i=K(i)).shared=!1;var o=[To(t,e,n,i,r)],a=o[0],s=i.widgetNode;return Ar(t,function(t){s&&(i.widgetNode=s.cloneNode(!0)),o.push(To(t,se(t,e),se(t,n),i,r));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;a=G(o)}),new _o(o,a)}(t,e,n,i,r);if(t.cm&&!t.cm.curOp)return Ji(t.cm,To)(t,e,n,i,r);var o=new Co(t,r),a=ee(e,n);if(i&&K(i,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=S("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Ke(t,e.line,e,n,o)||e.line!=n.line&&Ke(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ce=!0}o.addToHistory&&jr(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var s,l=e.line,c=t.cm;if(t.iter(l,n.line+1,function(t){c&&o.collapsed&&!c.options.lineWrapping&&je(t)==c.display.maxLine&&(s=!0),o.collapsed&&l!=e.line&&Gt(t,0),function(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}(t,new Te(o,l==e.line?e.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&t.iter(e.line,n.line+1,function(e){$e(t,e)&&Gt(e,0)}),o.clearOnEnter&&ht(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(Ee=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++Eo,o.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),o.collapsed)ci(c,e.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=e.line;u<=n.line;u++)ui(c,u,"text");o.atomic&&Qr(c.doc),ln(c,"markerAdded",c,o)}return o}Co.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&zi(t),yt(this,"clear")){var n=this.find();n&&ln(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=_e(a.markedSpans,this);t&&!this.collapsed?ui(t,Xt(a),"text"):t&&(null!=s.to&&(r=Xt(a)),null!=s.from&&(i=Xt(a))),a.markedSpans=Oe(a.markedSpans,s),null==s.from&&this.collapsed&&!$e(this.doc,a)&&t&&Gt(a,ei(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=je(this.lines[l]),u=ze(c);u>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&ci(t,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Qr(t.doc)),t&&ln(t,"markerCleared",t,this,i,r),e&&Vi(t),this.parent&&this.parent.clear()}},Co.prototype.find=function(t,e){var n,i;null==t&&"bookmark"==this.type&&(t=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],a=_e(o.markedSpans,this);if(null!=a.from&&(n=te(e?o:Xt(o),a.from),-1==t))return n;if(null!=a.to&&(i=te(e?o:Xt(o),a.to),1==t))return i}return n&&{from:n,to:i}},Co.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,i=this.doc.cm;e&&i&&Zi(i,function(){var r=e.line,o=Xt(e.line),a=Rn(i,o);if(a&&(jn(a),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!$e(n.doc,r)&&null!=n.height){var s=n.height;n.height=null;var l=En(n)-s;l&&Gt(r,r.height+l)}ln(i,"markerChanged",i,t)})},Co.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=B(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Co.prototype.detachLine=function(t){if(this.lines.splice(B(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},bt(Co);var _o=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};function Oo(t){return t.findMarks(te(t.first,0),t.clipPos(te(t.lastLine())),function(t){return t.parent})}function ko(t){for(var e=function(e){var n=t[e],i=[n.primary.doc];Ar(n.primary.doc,function(t){return i.push(t)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==B(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}},n=0;n<t.length;n++)e(n)}_o.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();ln(this,"clear")}},_o.prototype.find=function(t,e){return this.primary.find(t,e)},bt(_o);var Do=0,xo=function(t,e,n,i,r){if(!(this instanceof xo))return new xo(t,e,n,i,r);null==n&&(n=0),yo.call(this,[new vo([new We("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=te(n,0);this.sel=Tr(o),this.history=new Mr(null),this.id=++Do,this.modeOption=e,this.lineSep=i,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Rr(this,{from:o,to:o,text:t}),Xr(this,Tr(o),U)};xo.prototype=J(yo.prototype,{constructor:xo,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,i=0;i<e.length;++i)n+=e[i].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Yt(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:tr(function(t){var e=te(this.first,0),n=this.first+this.size-1;ao(this,{from:e,to:te(n,Wt(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Si(this.cm,0,0),Xr(this,Tr(e),U)}),replaceRange:function(t,e,n,i){ho(this,t,e=se(this,e),n=n?se(this,n):e,i)},getRange:function(t,e,n){var i=qt(this,se(this,t),se(this,e));return!1===n?i:i.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(Jt(this,t))return Wt(this,t)},getLineNumber:function(t){return Xt(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Wt(this,t)),je(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return se(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:tr(function(t,e,n){Yr(this,se(this,"number"==typeof t?te(t,e||0):t),null,n)}),setSelection:tr(function(t,e,n){Yr(this,se(this,t),se(this,e||t),n)}),extendSelection:tr(function(t,e,n){Vr(this,se(this,t),e&&se(this,e),n)}),extendSelections:tr(function(t,e){Wr(this,le(this,t),e)}),extendSelectionsBy:tr(function(t,e){Wr(this,le(this,X(this.sel.ranges,t)),e)}),setSelections:tr(function(t,e,n){if(t.length){for(var i=[],r=0;r<t.length;r++)i[r]=new Er(se(this,t[r].anchor),se(this,t[r].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Xr(this,Cr(this.cm,i,e),n)}}),addSelection:tr(function(t,e,n){var i=this.sel.ranges.slice(0);i.push(new Er(se(this,t),se(this,e||t))),Xr(this,Cr(this.cm,i,i.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,i=0;i<n.length;i++){var r=qt(this,n[i].from(),n[i].to());e=e?e.concat(r):r}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=qt(this,n[i].from(),n[i].to());!1!==t&&(r=r.join(t||this.lineSeparator())),e[i]=r}return e},replaceSelection:function(t,e,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=t;this.replaceSelections(i,e,n||"+input")},replaceSelections:tr(function(t,e,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var a=r.ranges[o];i[o]={from:a.from(),to:a.to(),text:this.splitLines(t[o]),origin:n}}for(var s=e&&"end"!=e&&function(t,e,n){for(var i=[],r=te(t.first,0),o=r,a=0;a<e.length;a++){var s=e[a],l=Dr(s.from,r,o),c=Dr(_r(s),r,o);if(r=s.to,o=c,"around"==n){var u=t.sel.ranges[a],d=ee(u.head,u.anchor)<0;i[a]=new Er(d?c:l,d?l:c)}else i[a]=new Er(l,l)}return new wr(i,t.sel.primIndex)}(this,i,e),l=i.length-1;l>=0;l--)ao(this,i[l]);s?Gr(this,s):this.cm&&Ii(this.cm)}),undo:tr(function(){lo(this,"undo")}),redo:tr(function(){lo(this,"redo")}),undoSelection:tr(function(){lo(this,"undo",!0)}),redoSelection:tr(function(){lo(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,i=0;i<t.done.length;i++)t.done[i].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){var t=this;this.history=new Mr(this.history.maxGeneration),Ar(this,function(e){return e.history=t.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Ur(this.history.done),undone:Ur(this.history.undone)}},setHistory:function(t){var e=this.history=new Mr(this.history.maxGeneration);e.done=Ur(t.done.slice(0),null,!0),e.undone=Ur(t.undone.slice(0),null,!0)},setGutterMarker:tr(function(t,e,n){return mo(this,t,"gutter",function(t){var i=t.gutterMarkers||(t.gutterMarkers={});return i[e]=n,!n&&nt(i)&&(t.gutterMarkers=null),!0})}),clearGutter:tr(function(t){var e=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&mo(e,n,"gutter",function(){return n.gutterMarkers[t]=null,nt(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if("number"==typeof t){if(!Jt(this,t))return null;if(e=t,!(t=Wt(this,t)))return null}else if(null==(e=Xt(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:tr(function(t,e,n){return mo(this,t,"gutter"==e?"gutter":"class",function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[i]){if(_(n).test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0})}),removeLineClass:tr(function(t,e,n){return mo(this,t,"gutter"==e?"gutter":"class",function(t){var i="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",r=t[i];if(!r)return!1;if(null==n)t[i]=null;else{var o=r.match(_(n));if(!o)return!1;var a=o.index+o[0].length;t[i]=r.slice(0,o.index)+(o.index&&a!=r.length?" ":"")+r.slice(a)||null}return!0})}),addLineWidget:tr(function(t,e,n){return function(t,e,n,i){var r=new bo(t,n,i),o=t.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),mo(t,e,"widget",function(e){var n=e.widgets||(e.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length,Math.max(0,r.insertAt)),0,r),r.line=e,o&&!$e(t,e)){var i=Ue(e)<t.scrollTop;Gt(e,e.height+En(r)),i&&xi(o,r.height),o.curOp.forceUpdate=!0}return!0}),o&&ln(o,"lineWidgetAdded",o,r,"number"==typeof e?e:Xt(e)),r}(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return To(this,se(this,t),se(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return To(this,t=se(this,t),t,n,"bookmark")},findMarksAt:function(t){var e=[],n=Wt(this,(t=se(this,t)).line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,n){t=se(this,t),e=se(this,e);var i=[],r=t.line;return this.iter(t.line,e.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&r==t.line&&t.ch>=l.to||null==l.from&&r!=t.line||null!=l.from&&r==e.line&&l.from>=e.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&t.push(n[i].marker)}),t},posFromIndex:function(t){var e,n=this.first,i=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+i;if(o>t)return e=t,!0;t-=o,++n}),se(this,te(n,e))},indexFromPos:function(t){var e=(t=se(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+n}),e},copy:function(t){var e=new xo(Yt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var i=new xo(Yt(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:t.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.find(),o=t.clipPos(r.from),a=t.clipPos(r.to);if(ee(o,a)){var s=To(t,o,a,i.primary,i.primary.type);i.markers.push(s),s.parent=i}}}(i,Oo(this)),i},unlinkDoc:function(t){if(t instanceof Ta&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e)if(this.linked[e].doc==t){this.linked.splice(e,1),t.unlinkDoc(this),ko(Oo(this));break}if(t.history==this.history){var n=[t.id];Ar(t,function(t){return n.push(t.id)},!0),t.history=new Mr(null),t.history.done=Ur(this.history.done,n),t.history.undone=Ur(this.history.undone,n)}},iterLinkedDocs:function(t){Ar(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):At(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:tr(function(t){var e;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(t){return t.order=null}),this.cm&&Zi(e=this.cm,function(){Pr(e),ci(e)}))})}),xo.prototype.eachLine=xo.prototype.iter;var Io=0;function So(t){var e=this;if(Ro(e),!mt(e,t)&&!Cn(e.display,t)){wt(t),a&&(Io=+new Date);var n=si(e,t,!0),i=t.dataTransfer.files;if(n&&!e.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),s=0,l=function(){++s==r&&Ji(e,function(){var t={from:n=se(e.doc,n),to:n,text:e.doc.splitLines(o.filter(function(t){return null!=t}).join(e.doc.lineSeparator())),origin:"paste"};ao(e.doc,t),Gr(e.doc,Tr(se(e.doc,n),se(e.doc,_r(t))))})()},c=function(t,n){if(e.options.allowDropFileTypes&&-1==B(e.options.allowDropFileTypes,t.type))l();else{var i=new FileReader;i.onerror=function(){return l()},i.onload=function(){var t=i.result;/[\x00-\x08\x0e-\x1f]{2}/.test(t)||(o[n]=t),l()},i.readAsText(t)}},u=0;u<i.length;u++)c(i[u],u);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout(function(){return e.display.input.focus()},20);try{var d=t.dataTransfer.getData("Text");if(d){var h;if(e.state.draggingText&&!e.state.draggingText.copy&&(h=e.listSelections()),Zr(e.doc,Tr(n,n)),h)for(var f=0;f<h.length;++f)ho(e.doc,"",h[f].anchor,h[f].head,"drag");e.replaceSelection(d,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Ro(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Ao(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],i=0;i<e.length;i++){var r=e[i].CodeMirror;r&&n.push(r)}n.length&&n[0].operation(function(){for(var e=0;e<n.length;e++)t(n[e])})}}var No=!1;function Po(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var Mo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Lo=0;Lo<10;Lo++)Mo[Lo+48]=Mo[Lo+96]=String(Lo);for(var Ko=65;Ko<=90;Ko++)Mo[Ko]=String.fromCharCode(Ko);for(var jo=1;jo<=12;jo++)Mo[jo+111]=Mo[jo+63235]="F"+jo;var Fo={};function Bo(t){var e,n,i,r,o=t.split(/-(?!$)/);t=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))r=!0;else if(/^a(lt)?$/i.test(s))e=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),r&&(t="Cmd-"+t),i&&(t="Shift-"+t),t}function $o(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete t[n];continue}for(var r=X(n.split(" "),Bo),o=0;o<r.length;o++){var a=void 0,s=void 0;o==r.length-1?(s=r.join(" "),a=i):(s=r.slice(0,o+1).join(" "),a="...");var l=e[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else e[s]=a}delete t[n]}for(var c in e)t[c]=e[c];return t}function Ho(t,e,n,i){var r=(e=Wo(e)).call?e.call(t,i):e[t];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Ho(t,e.fallthrough,n,i);for(var o=0;o<e.fallthrough.length;o++){var a=Ho(t,e.fallthrough[o],n,i);if(a)return a}}}function Uo(t){var e="string"==typeof t?t:Mo[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function zo(t,e,n){var i=t;return e.altKey&&"Alt"!=i&&(t="Alt-"+t),(C?e.metaKey:e.ctrlKey)&&"Ctrl"!=i&&(t="Ctrl-"+t),(C?e.ctrlKey:e.metaKey)&&"Mod"!=i&&(t="Cmd-"+t),!n&&e.shiftKey&&"Shift"!=i&&(t="Shift-"+t),t}function Vo(t,e){if(d&&34==t.keyCode&&t.char)return!1;var n=Mo[t.keyCode];return null!=n&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(n=t.code),zo(n,t,e))}function Wo(t){return"string"==typeof t?Fo[t]:t}function qo(t,e){for(var n=t.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=e(n[r]);i.length&&ee(o.from,G(i).to)<=0;){var a=i.pop();if(ee(a.from,o.from)<0){o.from=a.from;break}}i.push(o)}Zi(t,function(){for(var e=i.length-1;e>=0;e--)ho(t.doc,"",i[e].from,i[e].to,"+delete");Ii(t)})}function Yo(t,e,n){var i=ot(t.text,e+n,n);return i<0||i>t.text.length?null:i}function Go(t,e,n){var i=Yo(t,e.ch,n);return null==i?null:new te(e.line,i,n<0?"after":"before")}function Xo(t,e,n,i,r){if(t){"rtl"==e.doc.direction&&(r=-r);var o=ut(n,e.doc.direction);if(o){var a,s=r<0?G(o):o[0],l=r<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==e.doc.direction){var c=An(e,n);a=r<0?n.text.length-1:0;var u=Nn(e,c,a).top;a=at(function(t){return Nn(e,c,t).top==u},r<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=Yo(n,a,1))}else a=r<0?s.to:s.from;return new te(i,a,l)}}return new te(i,r<0?n.text.length:0,r<0?"before":"after")}Fo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Fo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Fo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Fo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Fo.default=y?Fo.macDefault:Fo.pcDefault;var Zo={selectAll:ro,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),U)},killLine:function(t){return qo(t,function(e){if(e.empty()){var n=Wt(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:te(e.head.line+1,0)}:{from:e.head,to:te(e.head.line,n)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return qo(t,function(e){return{from:te(e.from().line,0),to:se(t.doc,te(e.to().line+1,0))}})},delLineLeft:function(t){return qo(t,function(t){return{from:te(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){return qo(t,function(e){var n=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:n},"div"),to:e.from()}})},delWrappedLineRight:function(t){return qo(t,function(e){var n=t.charCoords(e.head,"div").top+5,i=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:i}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(te(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(te(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Jo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return Qo(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return function(t,e){var n=Wt(t.doc,e),i=function(t){for(var e;e=Me(t);)t=e.find(1,!0).line;return t}(n);return i!=n&&(e=Xt(i)),Xo(!0,t,n,e,-1)}(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},V)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},V)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5,i=t.coordsChar({left:0,top:n},"div");return i.ch<t.getLine(i.line).search(/\S/)?Qo(t,e.head):i},V)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),i=t.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),a=j(t.getLine(o.line),o.ch,i);e.push(Y(i-a%i))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Zi(t,function(){for(var e=t.listSelections(),n=[],i=0;i<e.length;i++)if(e[i].empty()){var r=e[i].head,o=Wt(t.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new te(r.line,r.ch-1)),r.ch>0)r=new te(r.line,r.ch+1),t.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),te(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var a=Wt(t.doc,r.line-1).text;a&&(r=new te(r.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+a.charAt(a.length-1),te(r.line-1,a.length-1),r,"+transpose"))}n.push(new Er(r,r))}t.setSelections(n)})},newlineAndIndent:function(t){return Zi(t,function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var i=0;i<e.length;i++)t.indentLine(e[i].from().line,null,!0);Ii(t)})},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Jo(t,e){var n=Wt(t.doc,e),i=je(n);return i!=n&&(e=Xt(i)),Xo(!0,t,i,e,1)}function Qo(t,e){var n=Jo(t,e.line),i=Wt(t.doc,n.line),r=ut(i,t.doc.direction);if(!r||0==r[0].level){var o=Math.max(n.ch,i.text.search(/\S/)),a=e.line==n.line&&e.ch<=o&&e.ch;return te(n.line,a?0:o,n.sticky)}return n}function ta(t,e,n){if("string"==typeof e&&!(e=Zo[e]))return!1;t.display.input.ensurePolled();var i=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),r=e(t)!=H}finally{t.display.shift=i,t.state.suppressEdits=!1}return r}var ea=new F;function na(t,e,n,i){var r=t.state.keySeq;if(r){if(Uo(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:ea.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),ia(t,r+" "+e,n,i))return!0}return ia(t,e,n,i)}function ia(t,e,n,i){var r=function(t,e,n){for(var i=0;i<t.state.keyMaps.length;i++){var r=Ho(e,t.state.keyMaps[i],n,t);if(r)return r}return t.options.extraKeys&&Ho(e,t.options.extraKeys,n,t)||Ho(e,t.options.keyMap,n,t)}(t,e,i);return"multi"==r&&(t.state.keySeq=e),"handled"==r&&ln(t,"keyHandled",t,e,n),"handled"!=r&&"multi"!=r||(wt(n),bi(t)),!!r}function ra(t,e){var n=Vo(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?na(t,"Shift-"+n,e,function(e){return ta(t,e,!0)})||na(t,n,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return ta(t,e)}):na(t,n,e,function(e){return ta(t,e)}))}var oa=null;function aa(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField()||(e.curOp.focus=A(),mt(e,t)))){a&&s<11&&27==t.keyCode&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=16==i||t.shiftKey;var r=ra(e,t);d&&(oa=r?i:null,r||88!=i||Pt||!(y?t.metaKey:t.ctrlKey)||e.replaceSelection("",null,"cut")),n&&!y&&!r&&46==i&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=i||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function n(t){18!=t.keyCode&&t.altKey||(k(e,"CodeMirror-crosshair"),pt(document,"keyup",n),pt(document,"mouseover",n))}N(e,"CodeMirror-crosshair"),ht(document,"keyup",n),ht(document,"mouseover",n)}(e)}}function sa(t){16==t.keyCode&&(this.doc.sel.shift=!1),mt(this,t)}function la(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField()||Cn(e.display,t)||mt(e,t)||t.ctrlKey&&!t.altKey||y&&t.metaKey)){var n=t.keyCode,i=t.charCode;if(d&&n==oa)return oa=null,void wt(t);if(!d||t.which&&!(t.which<10)||!ra(e,t)){var r=String.fromCharCode(null==i?n:i);"\b"!=r&&(function(t,e,n){return na(t,"'"+r+"'",e,function(e){return ta(t,e,!0)})}(e,t)||e.display.input.onKeyPress(t))}}}var ca,ua,da=function(t,e,n){this.time=t,this.pos=e,this.button=n};function ha(t){var e=this,n=e.display;if(!(mt(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=t.shiftKey,Cn(n,t))l||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!ga(e,t)){var i=si(e,t),r=Ot(t),o=i?function(t,e){var n=+new Date;return ua&&ua.compare(n,t,e)?(ca=ua=null,"triple"):ca&&ca.compare(n,t,e)?(ua=new da(n,t,e),ca=null,"double"):(ca=new da(n,t,e),ua=null,"single")}(i,r):"single";window.focus(),1==r&&e.state.selectingText&&e.state.selectingText(t),i&&function(t,e,n,i,r){var o="Click";return"double"==i?o="Double"+o:"triple"==i&&(o="Triple"+o),na(t,zo(o=(1==e?"Left":2==e?"Middle":"Right")+o,r),r,function(e){if("string"==typeof e&&(e=Zo[e]),!e)return!1;var i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i=e(t,n)!=H}finally{t.state.suppressEdits=!1}return i})}(e,r,i,o,t)||(1==r?i?function(t,e,n,i){a?setTimeout(L(wi,t),0):t.curOp.focus=A();var r,o=function(t,e,n){var i=t.getOption("configureMouse"),r=i?i(t,e,n):{};if(null==r.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;r.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==r.extend||t.doc.extend)&&(r.extend=t.doc.extend||n.shiftKey),null==r.addNew&&(r.addNew=y?n.metaKey:n.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(y?n.altKey:n.ctrlKey)),r}(t,n,i),c=t.doc.sel;t.options.dragDrop&&xt&&!t.isReadOnly()&&"single"==n&&(r=c.contains(e))>-1&&(ee((r=c.ranges[r]).from(),e)<0||e.xRel>0)&&(ee(r.to(),e)>0||e.xRel<0)?function(t,e,n,i){var r=t.display,o=!1,c=Ji(t,function(e){l&&(r.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:Ei(t)),pt(r.wrapper.ownerDocument,"mouseup",c),pt(r.wrapper.ownerDocument,"mousemove",u),pt(r.scroller,"dragstart",d),pt(r.scroller,"drop",c),o||(wt(e),i.addNew||Vr(t.doc,n,null,null,i.extend),l&&!h||a&&9==s?setTimeout(function(){r.wrapper.ownerDocument.body.focus({preventScroll:!0}),r.input.focus()},20):r.input.focus())}),u=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},d=function(){return o=!0};l&&(r.scroller.draggable=!0),t.state.draggingText=c,c.copy=!i.moveOnDrag,ht(r.wrapper.ownerDocument,"mouseup",c),ht(r.wrapper.ownerDocument,"mousemove",u),ht(r.scroller,"dragstart",d),ht(r.scroller,"drop",c),t.state.delayingBlurEvent=!0,setTimeout(function(){return r.input.focus()},20),r.scroller.dragDrop&&r.scroller.dragDrop()}(t,i,e,o):function(t,e,n,i){a&&Ei(t);var r=t.display,o=t.doc;wt(e);var s,l,c=o.sel,u=c.ranges;if(i.addNew&&!i.extend?(l=o.sel.contains(n),s=l>-1?u[l]:new Er(n,n)):(s=o.sel.primary(),l=o.sel.primIndex),"rectangle"==i.unit)i.addNew||(s=new Er(n,n)),n=si(t,e,!0,!0),l=-1;else{var d=fa(t,n,i.unit);s=i.extend?zr(s,d.anchor,d.head,i.extend):d}i.addNew?-1==l?(l=u.length,Xr(o,Cr(t,u.concat([s]),l),{scroll:!1,origin:"*mouse"})):u.length>1&&u[l].empty()&&"char"==i.unit&&!i.extend?(Xr(o,Cr(t,u.slice(0,l).concat(u.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),c=o.sel):qr(o,l,s,z):(l=0,Xr(o,new wr([s],0),z),c=o.sel);var h=n;function f(e){if(0!=ee(h,e))if(h=e,"rectangle"==i.unit){for(var r=[],a=t.options.tabSize,u=j(Wt(o,n.line).text,n.ch,a),d=j(Wt(o,e.line).text,e.ch,a),f=Math.min(u,d),p=Math.max(u,d),g=Math.min(n.line,e.line),m=Math.min(t.lastLine(),Math.max(n.line,e.line));g<=m;g++){var v=Wt(o,g).text,y=W(v,f,a);f==p?r.push(new Er(te(g,y),te(g,y))):v.length>y&&r.push(new Er(te(g,y),te(g,W(v,p,a))))}r.length||r.push(new Er(n,n)),Xr(o,Cr(t,c.ranges.slice(0,l).concat(r),l),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b,w=s,E=fa(t,e,i.unit),C=w.anchor;ee(E.anchor,C)>0?(b=E.head,C=oe(w.from(),E.anchor)):(b=E.anchor,C=re(w.to(),E.head));var T=c.ranges.slice(0);T[l]=function(t,e){var n=e.anchor,i=e.head,r=Wt(t.doc,n.line);if(0==ee(n,i)&&n.sticky==i.sticky)return e;var o=ut(r);if(!o)return e;var a=lt(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return e;var l,c=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==c||c==o.length)return e;if(i.line!=n.line)l=(i.line-n.line)*("ltr"==t.doc.direction?1:-1)>0;else{var u=lt(o,i.ch,i.sticky),d=u-a||(i.ch-n.ch)*(1==s.level?-1:1);l=u==c-1||u==c?d<0:d>0}var h=o[c+(l?-1:0)],f=l==(1==h.level),p=f?h.from:h.to,g=f?"after":"before";return n.ch==p&&n.sticky==g?e:new Er(new te(n.line,p,g),i)}(t,new Er(se(o,C),b)),Xr(o,Cr(t,T,l),z)}}var p=r.wrapper.getBoundingClientRect(),g=0;function m(e){t.state.selectingText=!1,g=1/0,e&&(wt(e),r.input.focus()),pt(r.wrapper.ownerDocument,"mousemove",v),pt(r.wrapper.ownerDocument,"mouseup",y),o.history.lastSelOrigin=null}var v=Ji(t,function(e){0!==e.buttons&&Ot(e)?function e(n){var a=++g,s=si(t,n,!0,"rectangle"==i.unit);if(s)if(0!=ee(s,h)){t.curOp.focus=A(),f(s);var l=ki(r,o);(s.line>=l.to||s.line<l.from)&&setTimeout(Ji(t,function(){g==a&&e(n)}),150)}else{var c=n.clientY<p.top?-20:n.clientY>p.bottom?20:0;c&&setTimeout(Ji(t,function(){g==a&&(r.scroller.scrollTop+=c,e(n))}),50)}}(e):m(e)}),y=Ji(t,m);t.state.selectingText=y,ht(r.wrapper.ownerDocument,"mousemove",v),ht(r.wrapper.ownerDocument,"mouseup",y)}(t,i,e,o)}(e,i,o,t):_t(t)==n.scroller&&wt(t):2==r?(i&&Vr(e.doc,i),setTimeout(function(){return n.input.focus()},20)):3==r&&(T?e.display.input.onContextMenu(t):Ei(e)))}}function fa(t,e,n){if("char"==n)return new Er(e,e);if("word"==n)return t.findWordAt(e);if("line"==n)return new Er(te(e.line,0),se(t.doc,te(e.line+1,0)));var i=n(t,e);return new Er(i.from,i.to)}function pa(t,e,n,i){var r,o;if(e.touches)r=e.touches[0].clientX,o=e.touches[0].clientY;else try{r=e.clientX,o=e.clientY}catch(t){return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;i&&wt(e);var a=t.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!yt(t,n))return Ct(e);o-=s.top-a.viewOffset;for(var l=0;l<t.display.gutterSpecs.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r)return gt(t,n,t,Zt(t.doc,o),t.display.gutterSpecs[l].className,e),Ct(e)}}function ga(t,e){return pa(t,e,"gutterClick",!0)}function ma(t,e){Cn(t.display,e)||function(t,e){return!!yt(t,"gutterContextMenu")&&pa(t,e,"gutterContextMenu",!1)}(t,e)||mt(t,e,"contextmenu")||T||t.display.input.onContextMenu(e)}function va(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Bn(t)}da.prototype.compare=function(t,e,n){return this.time+400>t&&0==ee(e,this.pos)&&n==this.button};var ya={toString:function(){return"CodeMirror.Init"}},ba={},wa={};function Ea(t,e,n){if(!e!=!(n&&n!=ya)){var i=t.display.dragFunctions,r=e?ht:pt;r(t.display.scroller,"dragstart",i.start),r(t.display.scroller,"dragenter",i.enter),r(t.display.scroller,"dragover",i.over),r(t.display.scroller,"dragleave",i.leave),r(t.display.scroller,"drop",i.drop)}}function Ca(t){t.options.lineWrapping?(N(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(k(t.display.wrapper,"CodeMirror-wrap"),Ve(t)),ai(t),ci(t),Bn(t),setTimeout(function(){return Fi(t)},100)}function Ta(t,e){var n=this;if(!(this instanceof Ta))return new Ta(t,e);this.options=e=e?K(e):{},K(ba,e,!1);var i=e.value;"string"==typeof i?i=new xo(i,e.mode,null,e.lineSeparator,e.direction):e.mode&&(i.modeOption=e.mode),this.doc=i;var r=new Ta.inputStyles[e.inputStyle](this),o=this.display=new pr(t,i,r,e);for(var c in o.wrapper.CodeMirror=this,va(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Hi(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new F,keySeq:null,specialChars:null},e.autofocus&&!v&&o.input.focus(),a&&s<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(t){var e=t.display;ht(e.scroller,"mousedown",Ji(t,ha)),ht(e.scroller,"dblclick",a&&s<11?Ji(t,function(e){if(!mt(t,e)){var n=si(t,e);if(n&&!ga(t,e)&&!Cn(t.display,e)){wt(e);var i=t.findWordAt(n);Vr(t.doc,i.anchor,i.head)}}}):function(e){return mt(t,e)||wt(e)}),ht(e.scroller,"contextmenu",function(e){return ma(t,e)}),ht(e.input.getField(),"contextmenu",function(n){e.scroller.contains(n.target)||ma(t,n)});var n,i={end:0};function r(){e.activeTouch&&(n=setTimeout(function(){return e.activeTouch=null},1e3),(i=e.activeTouch).end=+new Date)}function o(t,e){if(null==e.left)return!0;var n=e.left-t.left,i=e.top-t.top;return n*n+i*i>400}ht(e.scroller,"touchstart",function(r){if(!mt(t,r)&&!function(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}(r)&&!ga(t,r)){e.input.ensurePolled(),clearTimeout(n);var o=+new Date;e.activeTouch={start:o,moved:!1,prev:o-i.end<=300?i:null},1==r.touches.length&&(e.activeTouch.left=r.touches[0].pageX,e.activeTouch.top=r.touches[0].pageY)}}),ht(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),ht(e.scroller,"touchend",function(n){var i=e.activeTouch;if(i&&!Cn(e,n)&&null!=i.left&&!i.moved&&new Date-i.start<300){var a,s=t.coordsChar(e.activeTouch,"page");a=!i.prev||o(i,i.prev)?new Er(s,s):!i.prev.prev||o(i,i.prev.prev)?t.findWordAt(s):new Er(te(s.line,0),se(t.doc,te(s.line+1,0))),t.setSelection(a.anchor,a.head),t.focus(),wt(n)}r()}),ht(e.scroller,"touchcancel",r),ht(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Ni(t,e.scroller.scrollTop),Mi(t,e.scroller.scrollLeft,!0),gt(t,"scroll",t))}),ht(e.scroller,"mousewheel",function(e){return br(t,e)}),ht(e.scroller,"DOMMouseScroll",function(e){return br(t,e)}),ht(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(e){mt(t,e)||Tt(e)},over:function(e){mt(t,e)||(function(t,e){var n=si(t,e);if(n){var i=document.createDocumentFragment();mi(t,n,i),t.display.dragCursor||(t.display.dragCursor=I("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),x(t.display.dragCursor,i)}}(t,e),Tt(e))},start:function(e){return function(t,e){if(a&&(!t.state.draggingText||+new Date-Io<100))Tt(e);else if(!mt(t,e)&&!Cn(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!h)){var n=I("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}(t,e)},drop:Ji(t,So),leave:function(e){mt(t,e)||Ro(t)}};var l=e.input.getField();ht(l,"keyup",function(e){return sa.call(t,e)}),ht(l,"keydown",Ji(t,aa)),ht(l,"keypress",Ji(t,la)),ht(l,"focus",function(e){return Ci(t,e)}),ht(l,"blur",function(e){return Ti(t,e)})}(this),function(){var t;No||(ht(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Ao(Po)},100))}),ht(window,"blur",function(){return Ao(Ti)}),No=!0)}(),zi(this),this.curOp.forceUpdate=!0,Nr(this,i),e.autofocus&&!v||this.hasFocus()?setTimeout(function(){n.hasFocus()&&!n.state.focused&&Ci(n)},20):Ti(this),wa)wa.hasOwnProperty(c)&&wa[c](this,e[c],ya);ur(this),e.finishInit&&e.finishInit(this);for(var u=0;u<_a.length;++u)_a[u](this);Vi(this),l&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Ta.defaults=ba,Ta.optionHandlers=wa;var _a=[];function Oa(t,e,n,i){var r,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=fe(t,e).state:n="prev");var a=t.options.tabSize,s=Wt(o,e),l=j(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(i||/\S/.test(s.text)){if("smart"==n&&((c=o.mode.indent(r,s.text.slice(u.length),s.text))==H||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=e>o.first?j(Wt(o,e-1).text,null,a):0:"add"==n?c=l+t.options.indentUnit:"subtract"==n?c=l-t.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",h=0;if(t.options.indentWithTabs)for(var f=Math.floor(c/a);f;--f)h+=a,d+="\t";if(h<c&&(d+=Y(c-h)),d!=u)return ho(o,d,te(e,0),te(e,u.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var g=o.sel.ranges[p];if(g.head.line==e&&g.head.ch<u.length){var m=te(e,u.length);qr(o,p,new Er(m,m));break}}}Ta.defineInitHook=function(t){return _a.push(t)};var ka=null;function Da(t){ka=t}function xa(t,e,n,i,r){var o=t.doc;t.display.shift=!1,i||(i=o.sel);var a=+new Date-200,s="paste"==r||t.state.pasteIncoming>a,l=At(e),c=null;if(s&&i.ranges.length>1)if(ka&&ka.text.join("\n")==e){if(i.ranges.length%ka.text.length==0){c=[];for(var u=0;u<ka.text.length;u++)c.push(o.splitLines(ka.text[u]))}}else l.length==i.ranges.length&&t.options.pasteLinesPerSelection&&(c=X(l,function(t){return[t]}));for(var d=t.curOp.updateInput,h=i.ranges.length-1;h>=0;h--){var f=i.ranges[h],p=f.from(),g=f.to();f.empty()&&(n&&n>0?p=te(p.line,p.ch-n):t.state.overwrite&&!s?g=te(g.line,Math.min(Wt(o,g.line).text.length,g.ch+G(l).length)):s&&ka&&ka.lineWise&&ka.text.join("\n")==l.join("\n")&&(p=g=te(p.line,0)));var m={from:p,to:g,text:c?c[h%c.length]:l,origin:r||(s?"paste":t.state.cutIncoming>a?"cut":"+input")};ao(t.doc,m),ln(t,"inputRead",t,m)}e&&!s&&Sa(t,e),Ii(t),t.curOp.updateInput<2&&(t.curOp.updateInput=d),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function Ia(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Zi(e,function(){return xa(e,n,0,null,"paste")}),!0}function Sa(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=t.getModeAt(r.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(e.indexOf(o.electricChars.charAt(s))>-1){a=Oa(t,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Wt(t.doc,r.head.line).text.slice(0,r.head.ch))&&(a=Oa(t,r.head.line,"smart"));a&&ln(t,"electricInput",t,r.head.line)}}}function Ra(t){for(var e=[],n=[],i=0;i<t.doc.sel.ranges.length;i++){var r=t.doc.sel.ranges[i].head.line,o={anchor:te(r,0),head:te(r+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function Aa(t,e,n,i){t.setAttribute("autocorrect",n?"":"off"),t.setAttribute("autocapitalize",i?"":"off"),t.setAttribute("spellcheck",!!e)}function Na(){var t=I("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=I("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?t.style.width="1000px":t.setAttribute("wrap","off"),g&&(t.style.border="1px solid black"),Aa(t),e}function Pa(t,e,n,i,r){var o=e,a=n,s=Wt(t,e.line),l=r&&"rtl"==t.direction?-n:n;function c(o){var a,c;if("codepoint"==i){var u=s.text.charCodeAt(e.ch+(i>0?0:-1));if(isNaN(u))a=null;else{var d=n>0?u>=55296&&u<56320:u>=56320&&u<57343;a=new te(e.line,Math.max(0,Math.min(s.text.length,e.ch+n*(d?2:1))),-n)}}else a=r?function(t,e,n,i){var r=ut(e,t.doc.direction);if(!r)return Go(e,n,i);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=lt(r,n.ch,n.sticky),a=r[o];if("ltr"==t.doc.direction&&a.level%2==0&&(i>0?a.to>n.ch:a.from<n.ch))return Go(e,n,i);var s,l=function(t,n){return Yo(e,t instanceof te?t.ch:t,n)},c=function(n){return t.options.lineWrapping?(s=s||An(t,e),Jn(t,e,s,n)):{begin:0,end:e.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==t.doc.direction||1==a.level){var d=1==a.level==i<0,h=l(n,d?1:-1);if(null!=h&&(d?h<=a.to&&h<=u.end:h>=a.from&&h>=u.begin)){var f=d?"before":"after";return new te(n.line,h,f)}}var p=function(t,e,i){for(var o=function(t,e){return e?new te(n.line,l(t,1),"before"):new te(n.line,t,"after")};t>=0&&t<r.length;t+=e){var a=r[t],s=e>0==(1!=a.level),c=s?i.begin:l(i.end,-1);if(a.from<=c&&c<a.to)return o(c,s);if(c=s?a.from:l(a.to,-1),i.begin<=c&&c<i.end)return o(c,s)}},g=p(o+i,i,u);if(g)return g;var m=i>0?u.end:l(u.begin,-1);return null==m||i>0&&m==e.text.length||!(g=p(i>0?0:r.length-1,i,c(m)))?null:g}(t.cm,s,e,n):Go(s,e,n);if(null==a){if(o||(c=e.line+l)<t.first||c>=t.first+t.size||(e=new te(c,e.ch,e.sticky),!(s=Wt(t,c))))return!1;e=Xo(r,t.cm,s,e.line,l)}else e=a;return!0}if("char"==i||"codepoint"==i)c();else if("column"==i)c(!0);else if("word"==i||"group"==i)for(var u=null,d="group"==i,h=t.cm&&t.cm.getHelper(e,"wordChars"),f=!0;!(n<0)||c(!f);f=!1){var p=s.text.charAt(e.ch)||"\n",g=et(p,h)?"w":d&&"\n"==p?"n":!d||/\s/.test(p)?null:"p";if(!d||f||g||(g="s"),u&&u!=g){n<0&&(n=1,c(),e.sticky="after");break}if(g&&(u=g),n>0&&!c(!f))break}var m=no(t,e,o,a,!0);return ne(o,m)&&(m.hitSide=!0),m}function Ma(t,e,n,i){var r,o,a=t.doc,s=e.left;if("page"==i){var l=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*ei(t.display),3);r=(n>0?e.bottom:e.top)+n*c}else"line"==i&&(r=n>0?e.bottom+3:e.top-3);for(;(o=Xn(t,s,r)).outside;){if(n<0?r<=0:r>=a.height){o.hitSide=!0;break}r+=5*n}return o}var La=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new F,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ka(t,e){var n=Rn(t,e.line);if(!n||n.hidden)return null;var i=Wt(t.doc,e.line),r=In(n,i,e.line),o=ut(i,t.doc.direction),a="left";o&&(a=lt(o,e.ch)%2?"right":"left");var s=Ln(r.map,e.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function ja(t,e){return e&&(t.bad=!0),t}function Fa(t,e,n){var i;if(e==t.display.lineDiv){if(!(i=t.display.lineDiv.childNodes[n]))return ja(t.clipPos(te(t.display.viewTo-1)),!0);e=null,n=0}else for(i=e;;i=i.parentNode){if(!i||i==t.display.lineDiv)return null;if(i.parentNode&&i.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var o=t.display.view[r];if(o.node==i)return Ba(o,e,n)}}function Ba(t,e,n){var i=t.text.firstChild,r=!1;if(!e||!R(i,e))return ja(te(Xt(t.line),0),!0);if(e==i&&(r=!0,e=i.childNodes[n],n=0,!e)){var o=t.rest?G(t.rest):t.line;return ja(te(Xt(o),o.text.length),r)}var a=3==e.nodeType?e:null,s=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=i;)s=s.parentNode;var l=t.measure,c=l.maps;function u(e,n,i){for(var r=-1;r<(c?c.length:0);r++)for(var o=r<0?l.map:c[r],a=0;a<o.length;a+=3){var s=o[a+2];if(s==e||s==n){var u=Xt(r<0?t.line:t.rest[r]),d=o[a]+i;return(i<0||s!=e)&&(d=o[a+(i?1:0)]),te(u,d)}}}var d=u(a,s,n);if(d)return ja(d,r);for(var h=s.nextSibling,f=a?a.nodeValue.length-n:0;h;h=h.nextSibling){if(d=u(h,h.firstChild,0))return ja(te(d.line,d.ch-f),r);f+=h.textContent.length}for(var p=s.previousSibling,g=n;p;p=p.previousSibling){if(d=u(p,p.firstChild,-1))return ja(te(d.line,d.ch+g),r);g+=p.textContent.length}}La.prototype.init=function(t){var e=this,n=this,i=n.cm,r=n.div=t.lineDiv;function o(t){for(var e=t.target;e;e=e.parentNode){if(e==r)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(e.className))break}return!1}function a(t){if(o(t)&&!mt(i,t)){if(i.somethingSelected())Da({lineWise:!1,text:i.getSelections()}),"cut"==t.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var e=Ra(i);Da({lineWise:!0,text:e.text}),"cut"==t.type&&i.operation(function(){i.setSelections(e.ranges,0,U),i.replaceSelection("",null,"cut")})}if(t.clipboardData){t.clipboardData.clearData();var a=ka.text.join("\n");if(t.clipboardData.setData("Text",a),t.clipboardData.getData("Text")==a)return void t.preventDefault()}var s=Na(),l=s.firstChild;i.display.lineSpace.insertBefore(s,i.display.lineSpace.firstChild),l.value=ka.text.join("\n");var c=document.activeElement;M(l),setTimeout(function(){i.display.lineSpace.removeChild(s),c.focus(),c==r&&n.showPrimarySelection()},50)}}Aa(r,i.options.spellcheck,i.options.autocorrect,i.options.autocapitalize),ht(r,"paste",function(t){!o(t)||mt(i,t)||Ia(t,i)||s<=11&&setTimeout(Ji(i,function(){return e.updateFromDOM()}),20)}),ht(r,"compositionstart",function(t){e.composing={data:t.data,done:!1}}),ht(r,"compositionupdate",function(t){e.composing||(e.composing={data:t.data,done:!1})}),ht(r,"compositionend",function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),ht(r,"touchstart",function(){return n.forceCompositionEnd()}),ht(r,"input",function(){e.composing||e.readFromDOMSoon()}),ht(r,"copy",a),ht(r,"cut",a)},La.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},La.prototype.prepareSelection=function(){var t=gi(this.cm,!1);return t.focus=document.activeElement==this.div,t},La.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},La.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},La.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,i=e.doc.sel.primary(),r=i.from(),o=i.to();if(e.display.viewTo==e.display.viewFrom||r.line>=e.display.viewTo||o.line<e.display.viewFrom)t.removeAllRanges();else{var a=Fa(e,t.anchorNode,t.anchorOffset),s=Fa(e,t.focusNode,t.focusOffset);if(!a||a.bad||!s||s.bad||0!=ee(oe(a,s),r)||0!=ee(re(a,s),o)){var l=e.display.view,c=r.line>=e.display.viewFrom&&Ka(e,r)||{node:l[0].measure.map[2],offset:0},u=o.line<e.display.viewTo&&Ka(e,o);if(!u){var d=l[l.length-1].measure,h=d.maps?d.maps[d.maps.length-1]:d.map;u={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(c&&u){var f,p=t.rangeCount&&t.getRangeAt(0);try{f=O(c.node,c.offset,u.offset,u.node)}catch(t){}f&&(!n&&e.state.focused?(t.collapse(c.node,c.offset),f.collapsed||(t.removeAllRanges(),t.addRange(f))):(t.removeAllRanges(),t.addRange(f)),p&&null==t.anchorNode?t.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},La.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},La.prototype.showMultipleSelections=function(t){x(this.cm.display.cursorDiv,t.cursors),x(this.cm.display.selectionDiv,t.selection)},La.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},La.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return R(this.div,e)},La.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},La.prototype.blur=function(){this.div.blur()},La.prototype.getField=function(){return this.div},La.prototype.supportsTouch=function(){return!0},La.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Zi(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},La.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},La.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(m&&u&&this.cm.display.gutterSpecs.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Fa(e,t.anchorNode,t.anchorOffset),i=Fa(e,t.focusNode,t.focusOffset);n&&i&&Zi(e,function(){Xr(e.doc,Tr(n,i),U),(n.bad||i.bad)&&(e.curOp.selectionChanged=!0)})}}},La.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,n,i=this.cm,r=i.display,o=i.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>i.firstLine()&&(a=te(a.line-1,Wt(i.doc,a.line-1).length)),s.ch==Wt(i.doc,s.line).text.length&&s.line<i.lastLine()&&(s=te(s.line+1,0)),a.line<r.viewFrom||s.line>r.viewTo-1)return!1;a.line==r.viewFrom||0==(t=li(i,a.line))?(e=Xt(r.view[0].line),n=r.view[0].node):(e=Xt(r.view[t].line),n=r.view[t-1].node.nextSibling);var l,c,u=li(i,s.line);if(u==r.view.length-1?(l=r.viewTo-1,c=r.lineDiv.lastChild):(l=Xt(r.view[u+1].line)-1,c=r.view[u+1].node.previousSibling),!n)return!1;for(var d=i.doc.splitLines(function(t,e,n,i,r){var o="",a=!1,s=t.doc.lineSeparator(),l=!1;function c(){a&&(o+=s,l&&(o+=s),a=l=!1)}function u(t){t&&(c(),o+=t)}function d(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(n)return void u(n);var o,h=e.getAttribute("cm-marker");if(h){var f=t.findMarks(te(i,0),te(r+1,0),(m=+h,function(t){return t.id==m}));return void(f.length&&(o=f[0].find(0))&&u(qt(t.doc,o.from,o.to).join(s)))}if("false"==e.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;p&&c();for(var g=0;g<e.childNodes.length;g++)d(e.childNodes[g]);/^(pre|p)$/i.test(e.nodeName)&&(l=!0),p&&(a=!0)}else 3==e.nodeType&&u(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var m}for(;d(e),e!=n;)e=e.nextSibling,l=!1;return o}(i,n,c,e,l)),h=qt(i.doc,te(e,0),te(l,Wt(i.doc,l).text.length));d.length>1&&h.length>1;)if(G(d)==G(h))d.pop(),h.pop(),l--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),e++}for(var f=0,p=0,g=d[0],m=h[0],v=Math.min(g.length,m.length);f<v&&g.charCodeAt(f)==m.charCodeAt(f);)++f;for(var y=G(d),b=G(h),w=Math.min(y.length-(1==d.length?f:0),b.length-(1==h.length?f:0));p<w&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==d.length&&1==h.length&&e==a.line)for(;f&&f>a.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)f--,p++;d[d.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),d[0]=d[0].slice(f).replace(/\u200b+$/,"");var E=te(e,f),C=te(l,h.length?G(h).length-p:0);return d.length>1||d[0]||ee(E,C)?(ho(i.doc,d,E,C,"+input"),!0):void 0},La.prototype.ensurePolled=function(){this.forceCompositionEnd()},La.prototype.reset=function(){this.forceCompositionEnd()},La.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},La.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()},80))},La.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Zi(this.cm,function(){return ci(t.cm)})},La.prototype.setUneditable=function(t){t.contentEditable="false"},La.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Ji(this.cm,xa)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},La.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},La.prototype.onContextMenu=function(){},La.prototype.resetPosition=function(){},La.prototype.needsContentAttribute=!0;var $a=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new F,this.hasSelection=!1,this.composing=null};$a.prototype.init=function(t){var e=this,n=this,i=this.cm;this.createField(t);var r=this.textarea;function o(t){if(!mt(i,t)){if(i.somethingSelected())Da({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var e=Ra(i);Da({lineWise:!0,text:e.text}),"cut"==t.type?i.setSelections(e.ranges,null,U):(n.prevInput="",r.value=e.text.join("\n"),M(r))}"cut"==t.type&&(i.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),g&&(r.style.width="0px"),ht(r,"input",function(){a&&s>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()}),ht(r,"paste",function(t){mt(i,t)||Ia(t,i)||(i.state.pasteIncoming=+new Date,n.fastPoll())}),ht(r,"cut",o),ht(r,"copy",o),ht(t.scroller,"paste",function(e){if(!Cn(t,e)&&!mt(i,e)){if(!r.dispatchEvent)return i.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=e.clipboardData,r.dispatchEvent(o)}}),ht(t.lineSpace,"selectstart",function(e){Cn(t,e)||wt(e)}),ht(r,"compositionstart",function(){var t=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:i.markText(t,i.getCursor("to"),{className:"CodeMirror-composing"})}}),ht(r,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},$a.prototype.createField=function(t){this.wrapper=Na(),this.textarea=this.wrapper.firstChild},$a.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},$a.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,i=gi(t);if(t.options.moveInputWithCursor){var r=qn(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),a=e.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+a.top-o.top)),i.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+a.left-o.left))}return i},$a.prototype.showSelection=function(t){var e=this.cm.display;x(e.cursorDiv,t.cursors),x(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},$a.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&M(this.textarea),a&&s>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},$a.prototype.getField=function(){return this.textarea},$a.prototype.supportsTouch=function(){return!1},$a.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||A()!=this.textarea))try{this.textarea.focus()}catch(t){}},$a.prototype.blur=function(){this.textarea.blur()},$a.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},$a.prototype.receivedFocus=function(){this.slowPoll()},$a.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},$a.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,function n(){e.poll()||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,n))})},$a.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,i=this.prevInput;if(this.contextMenuPending||!e.state.focused||Nt(n)&&!i&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=n.value;if(r==i&&!e.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===r||y&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||i||(i="â"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(i.length,r.length);l<c&&i.charCodeAt(l)==r.charCodeAt(l);)++l;return Zi(e,function(){xa(e,r.slice(l),i.length-l,null,t.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?n.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},$a.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},$a.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},$a.prototype.onContextMenu=function(t){var e=this,n=e.cm,i=n.display,r=e.textarea;e.contextMenuPending&&e.contextMenuPending();var o=si(n,t),c=i.scroller.scrollTop;if(o&&!d){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Ji(n,Xr)(n.doc,Tr(o),U);var u,h=r.style.cssText,f=e.wrapper.style.cssText,p=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-p.top-5)+"px; left: "+(t.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=window.scrollY),i.input.focus(),l&&window.scrollTo(null,u),i.input.reset(),n.somethingSelected()||(r.value=e.prevInput=" "),e.contextMenuPending=v,i.selForContextMenu=n.doc.sel,clearTimeout(i.detectingSelectAll),a&&s>=9&&m(),T){Tt(t);var g=function(){pt(window,"mouseup",g),setTimeout(v,20)};ht(window,"mouseup",g)}else setTimeout(v,50)}function m(){if(null!=r.selectionStart){var t=n.somethingSelected(),o="â"+(t?r.value:"");r.value="â",r.value=o,e.prevInput=t?"":"â",r.selectionStart=1,r.selectionEnd=o.length,i.selForContextMenu=n.doc.sel}}function v(){if(e.contextMenuPending==v&&(e.contextMenuPending=!1,e.wrapper.style.cssText=f,r.style.cssText=h,a&&s<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=c),null!=r.selectionStart)){(!a||a&&s<9)&&m();var t=0,o=function(){i.selForContextMenu==n.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&"â"==e.prevInput?Ji(n,ro)(n):t++<10?i.detectingSelectAll=setTimeout(o,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(o,200)}}},$a.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t,this.textarea.readOnly=!!t},$a.prototype.setUneditable=function(){},$a.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function n(n,i,r,o){t.defaults[n]=i,r&&(e[n]=o?function(t,e,n){n!=ya&&r(t,e,n)}:r)}t.defineOption=n,t.Init=ya,n("value","",function(t,e){return t.setValue(e)},!0),n("mode",null,function(t,e){t.doc.modeOption=e,xr(t)},!0),n("indentUnit",2,xr,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(t){Ir(t),Bn(t),ci(t)},!0),n("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var n=[],i=t.doc.first;t.doc.iter(function(t){for(var r=0;;){var o=t.text.indexOf(e,r);if(-1==o)break;r=o+e.length,n.push(te(i,o))}i++});for(var r=n.length-1;r>=0;r--)ho(t.doc,e,n[r],te(n[r].line,n[r].ch+e.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=ya&&t.refresh()}),n("specialCharPlaceholder",Je,function(t){return t.refresh()},!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(t,e){return t.getInputField().spellcheck=e},!0),n("autocorrect",!1,function(t,e){return t.getInputField().autocorrect=e},!0),n("autocapitalize",!1,function(t,e){return t.getInputField().autocapitalize=e},!0),n("rtlMoveVisually",!w),n("wholeLineUpdateBefore",!0),n("theme","default",function(t){va(t),fr(t)},!0),n("keyMap","default",function(t,e,n){var i=Wo(e),r=n!=ya&&Wo(n);r&&r.detach&&r.detach(t,i),i.attach&&i.attach(t,r||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ca,!0),n("gutters",[],function(t,e){t.display.gutterSpecs=dr(e,t.options.lineNumbers),fr(t)},!0),n("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?ri(t.display)+"px":"0",t.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(t){return Fi(t)},!0),n("scrollbarStyle","native",function(t){Hi(t),Fi(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),n("lineNumbers",!1,function(t,e){t.display.gutterSpecs=dr(t.options.gutters,e),fr(t)},!0),n("firstLineNumber",1,fr,!0),n("lineNumberFormatter",function(t){return t},fr,!0),n("showCursorWhenSelecting",!1,pi,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(t,e){"nocursor"==e&&(Ti(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)}),n("screenReaderLabel",null,function(t,e){e=""===e?null:e,t.display.input.screenReaderLabelChanged(e)}),n("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),n("dragDrop",!0,Ea),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,pi,!0),n("singleCursorHeightPerLine",!0,pi,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Ir,!0),n("addModeClass",!1,Ir,!0),n("pollInterval",100),n("undoDepth",200,function(t,e){return t.doc.history.undoDepth=e}),n("historyEventDelay",1250),n("viewportMargin",10,function(t){return t.refresh()},!0),n("maxHighlightLength",1e4,Ir,!0),n("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),n("tabindex",null,function(t,e){return t.display.input.getField().tabIndex=e||""}),n("autofocus",null),n("direction","ltr",function(t,e){return t.doc.setDirection(e)},!0),n("phrases",null)}(Ta),function(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,n){var i=this.options,r=i[t];i[t]==n&&"mode"!=t||(i[t]=n,e.hasOwnProperty(t)&&Ji(this,e[t])(this,n,r),gt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Wo(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:Qi(function(e,n){var i=e.token?e:t.getMode(this.options,e);if(i.startState)throw new Error("Overlays may not be stateful.");!function(t,e,n){for(var i=0,r=n(e);i<t.length&&n(t[i])<=r;)i++;t.splice(i,0,e)}(this.state.overlays,{mode:i,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},function(t){return t.priority}),this.state.modeGen++,ci(this)}),removeOverlay:Qi(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var i=e[n].modeSpec;if(i==t||"string"==typeof t&&i.name==t)return e.splice(n,1),this.state.modeGen++,void ci(this)}}),indentLine:Qi(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),Jt(this.doc,t)&&Oa(this,t,e,n)}),indentSelection:Qi(function(t){for(var e=this.doc.sel.ranges,n=-1,i=0;i<e.length;i++){var r=e[i];if(r.empty())r.head.line>n&&(Oa(this,r.head.line,t,!0),n=r.head.line,i==this.doc.sel.primIndex&&Ii(this));else{var o=r.from(),a=r.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)Oa(this,l,t);var c=this.doc.sel.ranges;0==o.ch&&e.length==c.length&&c[i].from().ch>0&&qr(this.doc,i,new Er(o,c[i].to()),U)}}}),getTokenAt:function(t,e){return ye(this,t,e)},getLineTokens:function(t,e){return ye(this,te(t),e,!0)},getTokenTypeAt:function(t){t=se(this.doc,t);var e,n=he(this,Wt(this.doc,t.line)),i=0,r=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var a=i+r>>1;if((a?n[2*a-1]:0)>=o)r=a;else{if(!(n[2*a+1]<o)){e=n[2*a+2];break}i=a+1}}var s=e?e.indexOf("overlay "):-1;return s<0?e:0==s?null:e.slice(0,s-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var i=[];if(!n.hasOwnProperty(e))return i;var r=n[e],o=this.getModeAt(t);if("string"==typeof o[e])r[o[e]]&&i.push(r[o[e]]);else if(o[e])for(var a=0;a<o[e].length;a++){var s=r[o[e][a]];s&&i.push(s)}else o.helperType&&r[o.helperType]?i.push(r[o.helperType]):r[o.name]&&i.push(r[o.name]);for(var l=0;l<r._global.length;l++){var c=r._global[l];c.pred(o,this)&&-1==B(i,c.val)&&i.push(c.val)}return i},getStateAfter:function(t,e){var n=this.doc;return fe(this,(t=ae(n,null==t?n.first+n.size-1:t))+1,e).state},cursorCoords:function(t,e){var n=this.doc.sel.primary();return qn(this,null==t?n.head:"object"==typeof t?se(this.doc,t):t?n.from():n.to(),e||"page")},charCoords:function(t,e){return Wn(this,se(this.doc,t),e||"page")},coordsChar:function(t,e){return Xn(this,(t=Vn(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=Vn(this,{top:t,left:0},e||"page").top,Zt(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,n){var i,r=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,r=!0),i=Wt(this.doc,t)}else i=t;return zn(this,i,{top:0,left:0},e||"page",n||r).top+(r?this.doc.height-Ue(i):0)},defaultTextHeight:function(){return ei(this.display)},defaultCharWidth:function(){return ni(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,i,r){var o,a,s=this.display,l=(t=qn(this,se(this.doc,t))).bottom,c=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),s.sizer.appendChild(e),"over"==i)l=t.top;else if("above"==i||"near"==i){var u=Math.max(s.wrapper.clientHeight,this.doc.height),d=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);("above"==i||t.bottom+e.offsetHeight>u)&&t.top>e.offsetHeight?l=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=u&&(l=t.bottom),c+e.offsetWidth>d&&(c=d-e.offsetWidth)}e.style.top=l+"px",e.style.left=e.style.right="","right"==r?(c=s.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?c=0:"middle"==r&&(c=(s.sizer.clientWidth-e.offsetWidth)/2),e.style.left=c+"px"),n&&(null!=(a=Di(o=this,{left:c,top:l,right:c+e.offsetWidth,bottom:l+e.offsetHeight})).scrollTop&&Ni(o,a.scrollTop),null!=a.scrollLeft&&Mi(o,a.scrollLeft))},triggerOnKeyDown:Qi(aa),triggerOnKeyPress:Qi(la),triggerOnKeyUp:sa,triggerOnMouseDown:Qi(ha),execCommand:function(t){if(Zo.hasOwnProperty(t))return Zo[t].call(null,this)},triggerElectric:Qi(function(t){Sa(this,t)}),findPosH:function(t,e,n,i){var r=1;e<0&&(r=-1,e=-e);for(var o=se(this.doc,t),a=0;a<e&&!(o=Pa(this.doc,o,r,n,i)).hitSide;++a);return o},moveH:Qi(function(t,e){var n=this;this.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?Pa(n.doc,i.head,t,e,n.options.rtlMoveVisually):t<0?i.from():i.to()},V)}),deleteH:Qi(function(t,e){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):qo(this,function(n){var r=Pa(i,n.head,t,e,!1);return t<0?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(t,e,n,i){var r=1,o=i;e<0&&(r=-1,e=-e);for(var a=se(this.doc,t),s=0;s<e;++s){var l=qn(this,a,"div");if(null==o?o=l.left:l.left=o,(a=Ma(this,l,r,n)).hitSide)break}return a},moveV:Qi(function(t,e){var n=this,i=this.doc,r=[],o=!this.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(a){if(o)return t<0?a.from():a.to();var s=qn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),r.push(s.left);var l=Ma(n,s,t,e);return"page"==e&&a==i.sel.primary()&&xi(n,Wn(n,l,"div").top-s.top),l},V),r.length)for(var a=0;a<i.sel.ranges.length;a++)i.sel.ranges[a].goalColumn=r[a]}),findWordAt:function(t){var e=Wt(this.doc,t.line).text,n=t.ch,i=t.ch;if(e){var r=this.getHelper(t,"wordChars");"before"!=t.sticky&&i!=e.length||!n?++i:--n;for(var o=e.charAt(n),a=et(o,r)?function(t){return et(t,r)}:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!et(t)};n>0&&a(e.charAt(n-1));)--n;for(;i<e.length&&a(e.charAt(i));)++i}return new Er(te(t.line,n),te(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?N(this.display.cursorDiv,"CodeMirror-overwrite"):k(this.display.cursorDiv,"CodeMirror-overwrite"),gt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==A()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Qi(function(t,e){Si(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-kn(this)-this.display.barHeight,width:t.scrollWidth-kn(this)-this.display.barWidth,clientHeight:xn(this),clientWidth:Dn(this)}},scrollIntoView:Qi(function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:te(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){Ri(t),t.curOp.scrollToPos=e}(this,t):Ai(this,t.from,t.to,t.margin)}),setSize:Qi(function(t,e){var n=this,i=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=i(t)),null!=e&&(this.display.wrapper.style.height=i(e)),this.options.lineWrapping&&Fn(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){ui(n,r,"widget");break}++r}),this.curOp.forceUpdate=!0,gt(this,"refresh",this)}),operation:function(t){return Zi(this,t)},startOperation:function(){return zi(this)},endOperation:function(){return Vi(this)},refresh:Qi(function(){var t=this.display.cachedTextHeight;ci(this),this.curOp.forceUpdate=!0,Bn(this),Si(this,this.doc.scrollLeft,this.doc.scrollTop),sr(this.display),(null==t||Math.abs(t-ei(this.display))>.5||this.options.lineWrapping)&&ai(this),gt(this,"refresh",this)}),swapDoc:Qi(function(t){var e=this.doc;return e.cm=null,this.state.selectingText&&this.state.selectingText(),Nr(this,t),Bn(this),this.display.input.reset(),Si(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,ln(this,"swapDoc",this,e),e}),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},bt(t),t.registerHelper=function(e,i,r){n.hasOwnProperty(e)||(n[e]=t[e]={_global:[]}),n[e][i]=r},t.registerGlobalHelper=function(e,i,r,o){t.registerHelper(e,i,o),n[e]._global.push({pred:r,val:o})}}(Ta);var Ha="iter insert remove copy getEditor constructor".split(" ");for(var Ua in xo.prototype)xo.prototype.hasOwnProperty(Ua)&&B(Ha,Ua)<0&&(Ta.prototype[Ua]=function(t){return function(){return t.apply(this.doc,arguments)}}(xo.prototype[Ua]));return bt(xo),Ta.inputStyles={textarea:$a,contenteditable:La},Ta.defineMode=function(t){Ta.defaults.mode||"null"==t||(Ta.defaults.mode=t),function(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Lt[t]=e}.apply(this,arguments)},Ta.defineMIME=function(t,e){Kt[t]=e},Ta.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Ta.defineMIME("text/plain","null"),Ta.defineExtension=function(t,e){Ta.prototype[t]=e},Ta.defineDocExtension=function(t,e){xo.prototype[t]=e},Ta.fromTextArea=function(t,e){if((e=e?K(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=A();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function i(){t.value=s.getValue()}var r;if(t.form&&(ht(t.form,"submit",i),!e.leaveSubmitMethodAlone)){var o=t.form;r=o.submit;try{var a=o.submit=function(){i(),o.submit=r,o.submit(),o.submit=a}}catch(t){}}e.finishInit=function(n){n.save=i,n.getTextArea=function(){return t},n.toTextArea=function(){n.toTextArea=isNaN,i(),t.parentNode.removeChild(n.getWrapperElement()),t.style.display="",t.form&&(pt(t.form,"submit",i),e.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=r))}},t.style.display="none";var s=Ta(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return s},function(t){t.off=pt,t.on=ht,t.wheelEventPixels=yr,t.Doc=xo,t.splitLines=At,t.countColumn=j,t.findColumn=W,t.isWordChar=tt,t.Pass=H,t.signal=gt,t.Line=We,t.changeEnd=_r,t.scrollbarModel=$i,t.Pos=te,t.cmpPos=ee,t.modes=Lt,t.mimeModes=Kt,t.resolveMode=jt,t.getMode=Ft,t.modeExtensions=Bt,t.extendMode=$t,t.copyState=Ht,t.startState=zt,t.innerMode=Ut,t.commands=Zo,t.keyMap=Fo,t.keyName=Vo,t.isModifierKey=Uo,t.lookupKey=Ho,t.normalizeKeyMap=$o,t.StringStream=Vt,t.SharedTextMarker=_o,t.TextMarker=Co,t.LineWidget=bo,t.e_preventDefault=wt,t.e_stopPropagation=Et,t.e_stop=Tt,t.addClass=N,t.contains=R,t.rmClass=k,t.keyNames=Mo}(Ta),Ta.version="5.59.1",Ta}()},function(t,e,n){"use strict";n.r(e);var i=n(8),r=n.n(i),o=n(2),a=n.n(o),s=n(1),l=n.n(s),c=n(0),u=n(3),d=n(9),h=n(20);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var g=l.a.View.extend({events:function(){return this.model.get("events")||{mousedown:"handleClick"}},attributes:function(){return this.model.get("attributes")},initialize:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config,e=void 0===t?{}:t;this.em=e.em,this.editor=e.editor},handleClick:function(t){t.preventDefault(),t.stopPropagation();var e=this.editor,n=this.em,i=e.Canvas.getFrameEl().getBoundingClientRect(),r=i.left,o=i.top,a=p(p({},t),{},{clientX:t.clientX-r,clientY:t.clientY-o});n.trigger("toolbar:run:before"),this.execCommand(a)},execCommand:function(t){var e={event:t},n=this.model.get("command"),i=this.editor;"function"==typeof n&&n(i,null,e),"string"==typeof n&&i.runCommand(n,e)},render:function(){var t=this.editor,e=this.$el,n=this.model,i=n.get("id"),r=n.get("label"),o=t.getConfig("stylePrefix");return e.addClass("".concat(o,"toolbar-item")),i&&e.addClass("".concat(o,"toolbar-item__").concat(i)),r&&e.append(r),this}}),m=h.a.extend({itemView:g,initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config={editor:t.editor||"",em:t.em},this.listenTo(this.collection,"reset",this.render)}}),v=l.a.Model.extend({defaults:{command:"",attributes:{}}}),y=l.a.Collection.extend({model:v});function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var E,C=l.a.$;e.default={init:function(t){Object(c.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),E=1},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(t){var e=this,n=this.em,i=n.getConfig("listenToEl"),r=n.getContainer().parentNode,o=t?"on":"off",a={on:u.w,off:u.v};!i.length&&r&&i.push(r),a[o](window,"resize",this.onFrameUpdated),a[o](i,"scroll",this.onContainerChange),n[o]("component:toggled component:remove",this.onSelect,this),n[o]("change:componentHovered",this.onHovered,this),n[o]("component:resize component:styleUpdate component:input",this.updateGlobalPos,this),n[o]("component:update:toolbar",this._upToolbar,this),n[o]("change:canvasOffset",this.updateAttached,this),n[o]("frame:updated",this.onFrameUpdated,this),n[o]("canvas:updateTools",this.onFrameUpdated,this),n.get("Canvas").getFrames().forEach(function(t){var n,i,r=t.view;r&&(n=r.getWindow(),i=r.getBody(),a[o](i,"mouseover",e.onHover),a[o](i,"mouseleave",e.onOut),a[o](i,"click touchend",e.onClick),a[o](n,"scroll",e.onFrameScroll))})},onHover:function(t){t.stopPropagation();var e=t.target,n=Object(u.j)(e),i=n&&n._getFrame(),r=C(e),o=r.data("model");if(!o)for(var a=r.parent();!o&&a.length&&!Object(d.g)(a[0]);)o=a.data("model"),a=a.parent();if(o&&!o.get("hoverable")){for(var s=o&&o.parent();s&&!s.get("hoverable");)s=s.parent();o=s}this.currentDoc=e.ownerDocument,this.em.setHovered(o),i&&this.em.set("currentFrame",i)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(t,e){var n=this,i={};e?e.views.forEach(function(t){var r=t.el,o=n.getElementPos(r);i={el:r,pos:o,component:e,view:Object(u.j)(r)},n.updateToolsLocal(i),r.ownerDocument===n.currentDoc&&(n.elHovered=i)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(t){var e=t.view,i=e&&e.getToolsEl();i&&n.toggleToolsEl(0,0,{el:i})}))},onSelect:Object(c.debounce)(function(){var t=this.em,e=t.getSelected(),n=t.get("currentFrame")||{},i=e&&e.getView(n.model),r=i&&i.el,o={};r&&Object(d.h)(r)&&(o={el:r,pos:this.getElementPos(r),component:e,view:Object(u.j)(r)}),this.elSelected=o,this.updateToolsGlobal(),this.updateToolsLocal(o),this.initResize(e)}),updateGlobalPos:function(){var t=this.getElSelected();t.el&&(t.pos=this.getElementPos(t.el),this.updateToolsGlobal())},updateLocalPos:function(){var t=this.getElHovered();t.el&&(t.pos=this.getElementPos(t.el),this.updateToolsLocal())},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered(0)},toggleToolsEl:function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).el||this.canvas.getToolsEl(e);return n&&(n.style.display=t?"":"none"),n||{}},showElementOffset:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};E&&this.editor.runCommand("show-offset",{el:t,elPos:e,view:n.view,force:1,top:0,left:0})},hideElementOffset:function(t){this.editor.stopCommand("show-offset",{view:t})},showFixedElementOffset:function(t,e){this.editor.runCommand("show-offset",{el:t,elPos:e,state:"Fixed"})},hideFixedElementOffset:function(t,e){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(t){this.canvas.getHighlighter(t).style.opacity=0},onClick:function(t){t.stopPropagation(),t.preventDefault();var e=this.em;if(e.get("_cmpDrag"))return e.set("_cmpDrag");var n=C(t.target),i=n.data("model");if(!i)for(var r=n.parent();!i&&r.length&&!Object(d.g)(r[0]);)i=r.data("model"),r=r.parent();if(i)if(i.get("selectable"))this.select(i,t);else{for(var o=i.parent();o&&!o.get("selectable");)o=o.parent();this.select(o,t)}},select:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&(this.editor.select(t,{scroll:{},event:e}),this.initResize(t))},updateBadge:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=C(t).data("model");if(i&&i.get("badgable")){var r=this.getBadge(n);if(!n.posOnly){var o=this.canvas.getConfig(),a=i.getIcon(),s=o.pStylePrefix||"",l="".concat(s,"badge"),c=o.customBadgeLabel,u="".concat(a?'<div class="'.concat(l,'__icon">').concat(a,"</div>"):"",'\n        <div class="').concat(l,'__name">').concat(i.getName(),"</div>");r.innerHTML=c?c(i):u}var d=r.style;d.display="block";var h=r?r.offsetHeight:0,f=0-h,p=n.topOff-h<0?-n.topOff:f,g=n.leftOff<0?-n.leftOff:0;d.top=p+"px",d.left=g+"px"}},showHighlighter:function(t){this.canvas.getHighlighter(t).style.opacity=""},initResize:function(t){var e,n=this.em,i=this.canvas,o=n?n.get("Editor"):"",a=(n?n.get("Config"):"").stylePrefix||"",s="".concat(a,"resizing"),l=!Object(c.isElement)(t)&&Object(u.r)(t)?t:n.getSelected(),d=l&&l.get("resizable"),h={},f=function(t,e,n){var i=n.docs;i&&i.forEach(function(e){var n=e.body,i=n.className||"";n.className=("add"==t?"".concat(i," ").concat(s):i.replace(s,"")).trim()})};if(o&&d){var p=Object(c.isElement)(t)?t:l.getEl();h={onStart:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.el,a=r.config,s=r.resizer,c=a.keyHeight,d=a.keyWidth,h=a.currentUnit,p=a.keepAutoHeight,g=a.keepAutoWidth;f("add",0,r),e=n.get("StyleManager").getModelToStyle(l),i.toggleFramesEvents();var m=getComputedStyle(o),v=e.getStyle(),y=v[d];a.autoWidth=g&&"auto"===y,isNaN(parseFloat(y))&&(y=m[d]);var b=v[c];a.autoHeight=p&&"auto"===b,isNaN(parseFloat(b))&&(b=m[c]),s.startDim.w=parseFloat(y),s.startDim.h=parseFloat(b),E=0,h&&(a.unitHeight=Object(u.i)(b),a.unitWidth=Object(u.i)(y))},onMove:function(){o.trigger("component:resize")},onEnd:function(t,e){f("remove",0,e),o.trigger("component:resize"),i.toggleFramesEvents(1),E=1},updateTarget:function(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e){var a=o.store,s=o.selectedHandler,l=o.config,c=l.keyHeight,u=l.keyWidth,d=l.autoHeight,h=l.autoWidth,f=l.unitWidth,p=l.unitHeight,g=["tc","bc"].indexOf(s)>=0,m=["cl","cr"].indexOf(s)>=0,v={},y=a?"":1;if(!g){var b=i.getBody().offsetWidth,E=r.w<b?r.w:b;v[u]=h?"auto":"".concat(E).concat(f)}m||(v[c]=d?"auto":"".concat(r.h).concat(p)),e.addStyle(w(w({},v),{},{en:y}),{avoidStore:!a});var C="update:component:style",T="".concat(C,":").concat(c," ").concat(C,":").concat(u);n&&n.trigger(T,null,null,{noEmit:1})}}},"object"==r()(d)&&(h=w(w({},h),d)),this.resizer=o.runCommand("resize",{el:p,options:h,force:1})}else o.stopCommand("resize"),this.resizer=null},updateToolbar:function(t){var e=this.config.em,n=t==e?e.getSelected():t,i=this.canvas.getToolbarEl(),r=i.style,o=n.get("toolbar"),a=e.get("Config").showToolbar;if(n&&a&&o&&o.length){if(r.display="",!this.toolbar){i.innerHTML="",this.toolbar=new y(o);var s=new m({collection:this.toolbar,editor:this.editor,em:e});i.appendChild(s.render().el)}this.toolbar.reset(o),r.top="-100px",r.left=0}else r.display="none"},updateToolbarPos:function(t){var e=this.canvas.getToolbarEl().style;e.top="".concat(t.top).concat("px"),e.left="".concat(t.left).concat("px"),e.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.canvas.getBadgeEl(t.view)},onFrameScroll:function(){this.updateTools()},updateTools:function(){this.updateToolsLocal(),this.updateGlobalPos()},isCompSelected:function(t){return t&&"selected"===t.get("status")},updateToolsLocal:function(t){var e=t||this.getElHovered(),n=e.el,i=e.pos,r=e.view,o=e.component;if(n){var a=o.get("hoverable"),s=this.lastHovered!==n,l=s?{}:{posOnly:1};s&&a&&(this.lastHovered=n,this.showHighlighter(r),this.showElementOffset(n,i,{view:r})),this.isCompSelected(o)&&(this.hideHighlighter(r),this.hideElementOffset(r));var c="px",u=this.toggleToolsEl(1,r).style,d=this.canvas.canvasRectOffset(n,i),h=d.top,f=d.left;this.updateBadge(n,i,w(w({},l),{},{view:r,topOff:h,leftOff:f})),u.top=h+c,u.left=f+c,u.width=i.width+c,u.height=i.height+c}else this.lastHovered=0},_upToolbar:Object(c.debounce)(function(){this.updateToolsGlobal({force:1})}),updateToolsGlobal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.getElSelected(),n=e.el,i=e.pos,r=e.component;if(!n)return this.toggleToolsEl(),void(this.lastSelected=0);var o=this.canvas;(this.lastSelected!==n||t.force)&&(this.lastSelected=n,this.updateToolbar(r));var a="px",s=this.toggleToolsEl(1).style,l=o.getTargetToElementFixed(n,o.getToolbarEl(),{pos:i}),c=l.canvasOffsetTop,u=l.canvasOffsetLeft;s.top=c+a,s.left=u+a,s.width=i.width+a,s.height=i.height+a,this.updateToolbarPos({top:l.top,left:l.left})},updateAttached:Object(c.debounce)(function(){this.updateGlobalPos()}),onContainerChange:Object(c.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(t){return this.canvas.getCanvasView().getElementPos(t)},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(t){t&&t.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(t){this.editor=t&&t.get("Editor"),this.enable()},stop:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.em,r=this.editor;this.onHovered(),this.stopSelectComponent(),!n.preserveSelected&&i.setSelected(null),this.toggleToolsEl(),r&&r.stopCommand("resize")}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n(2),r=n.n(i),o=n(15),a=n.n(o),s=n(16),l=n.n(s),c=n(0),u=n(3);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),this.opts={container:null,onStart:null,onDrag:null,onEnd:null,setPosition:null,getPosition:null,guidesStatic:null,guidesTarget:null,snapOffset:5,doc:0,scale:1},Object(c.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(e),this.delta={x:0,y:0},this}return l()(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=h(h({},this.opts),t)}},{key:"toggleDrag",value:function(t){var e=this.getDocumentEl(),n=this.getContainerEl(),i=this.getWindowEl(),r=t?"on":"off",o={on:u.w,off:u.v};o[r](n,"mousemove dragover",this.drag),o[r](e,"mouseup dragend touchend",this.stop),o[r](e,"keydown",this.keyHandle),o[r](i,"scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var t=this.lastScroll,e=this.delta,n=this.getScrollInfo(),i={x:n.x-t.x,y:n.y-t.y};this.move(e.x+i.x,e.y+i.y),this.lastScrollDiff=i}},{key:"start",value:function(t){var e=this.opts,n=e.onStart;this.toggleDrag(1),this.startPointer=this.getPointerPos(t),this.guidesStatic=Object(c.result)(e,"guidesStatic")||[],this.guidesTarget=Object(c.result)(e,"guidesTarget")||[],Object(c.isFunction)(n)&&n(t,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff={x:0,y:0},this.globScrollDiff={x:0,y:0},this.drag(t)}},{key:"drag",value:function(t){var e=this,n=this.opts,i=this.lastScrollDiff,r=this.globScrollDiff,o=n.onDrag,a=this.startPointer,s=this.getPointerPos(t),l={x:r.x+i.x,y:r.y+i.y};this.globScrollDiff=l;var u={x:s.x-a.x+l.x,y:s.y-a.y+l.y};this.lastScrollDiff={x:0,y:0};var d=this.lockedAxis;"x"===(d=t.shiftKey?!d&&this.detectAxisLock(u.x,u.y):null)?u.x=a.x:"y"===d&&(u.y=a.y);var f=function(i){["x","y"].forEach(function(t){return i[t]=i[t]*Object(c.result)(n,"scale")}),e.delta=i,e.move(i.x,i.y),Object(c.isFunction)(o)&&o(t,e)},p=h({},u);if(this.currentPointer=s,this.lockedAxis=d,this.lastScroll=this.getScrollInfo(),f(u),this.guidesTarget.length){var g=this.snapGuides(p),m=g.newDelta,v=g.trgX,y=g.trgY;(v||y)&&f(m)}0===t.which&&this.stop(t)}},{key:"snapGuides",value:function(t){var e=this,n=t,i=this.trgX,r=this.trgY;return this.guidesTarget.forEach(function(n){n.x&&e.trgX||n.y&&e.trgY||(n.active=0,e.guidesStatic.forEach(function(o){if(!(n.y&&o.x||n.x&&o.y)){var a=n.y&&o.y,s=a?"y":"x",l=n[s],u=o[s],d=t[s],h=a?r:i;if(e.isPointIn(l,u)&&Object(c.isUndefined)(h)){var f=d-(l-u);e.setGuideLock(n,f)}}}))}),i=this.trgX,r=this.trgY,["x","y"].forEach(function(i){var r=i.toUpperCase(),o=e["trg".concat(r)];o&&!e.isPointIn(t[i],o.lock)&&(e.setGuideLock(o,null),o=null),o&&!Object(c.isUndefined)(o.lock)&&(n[i]=o.lock)}),{newDelta:n,trgX:this.trgX,trgY:this.trgY}}},{key:"isPointIn",value:function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).offset||this.opts.snapOffset;return t>=e&&t<=e+n||t<=e&&t>=e-n}},{key:"setGuideLock",value:function(t,e){var n=Object(c.isUndefined)(t.x)?"Y":"X",i="trg".concat(n);return null!==e?(t.active=1,t.lock=e,this[i]=t):(delete t.active,delete t.lock,delete this[i]),t}},{key:"stop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.delta,i=e.cancel,r=i?0:n.x,o=i?0:n.y;this.toggleDrag(),this.lockedAxis=null,this.move(r,o,1);var a=this.opts.onEnd;Object(c.isFunction)(a)&&a(t,this,{cancelled:i})}},{key:"keyHandle",value:function(t){Object(u.o)(t)&&this.stop(t,{cancel:1})}},{key:"move",value:function(t,e,n){var i=this.el,r=this.opts,o=this.startPosition;if(o){var a=r.setPosition,s=o.x+t,l=o.y+e;this.position={x:s,y:l,end:n},Object(c.isFunction)(a)&&a(this.position),i&&(i.style.left="".concat(s,"px"),i.style.top="".concat(l,"px"))}}},{key:"getContainerEl",value:function(){var t=this.opts.container;return t?[t]:this.getDocumentEl()}},{key:"getWindowEl",value:function(){return this.getContainerEl().map(function(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow})}},{key:"getDocumentEl",value:function(t){var e=this.opts.doc;if(t=t||this.el,!this.docs){var n=[document];t&&n.push(t.ownerDocument),e&&n.push(e),this.docs=n}return this.docs}},{key:"getPointerPos",value:function(t){var e=this.opts.getPointerPosition,n=Object(u.h)(t);return e?e(t):{x:n.clientX,y:n.clientY}}},{key:"getStartPosition",value:function(){var t=this.el,e=this.opts.getPosition,n={x:0,y:0};return Object(c.isFunction)(e)?n=e():t&&(n={x:parseFloat(t.style.left),y:parseFloat(t.style.top)}),n}},{key:"getScrollInfo",value:function(){var t=this.opts.doc,e=t&&t.body;return{y:e?e.scrollTop:0,x:e?e.scrollLeft:0}}},{key:"detectAxisLock",value:function(t,e){var n=t,i=e,r=Math.abs(n),o=Math.abs(i);return i>=r||i<=-r?"x":n>o||n<-o?"y":void 0}}]),t}()},function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=r.a.$;e.a=r.a.View.extend({events:{change:"handleChange"},template:function(){return'<span class="'.concat(this.holderClass(),'"></span>')},inputClass:function(){return"".concat(this.ppfx,"field")},holderClass:function(){return"".concat(this.ppfx,"input-holder")},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ppfx||"";this.opts=t,this.ppfx=e,this.em=t.target||{},this.listenTo(this.model,"change:value",this.handleModelChange)},elementUpdated:function(){this.model.trigger("el:change")},setValue:function(t){var e=this.model,n=t||e.get("defaults"),i=this.getInputEl();i&&(i.value=n)},handleModelChange:function(t,e,n){this.setValue(e,n)},handleChange:function(t){t.stopPropagation();var e=this.getInputEl().value;this.model.set({value:e},{fromInput:1}),this.elementUpdated()},getInputEl:function(){if(!this.inputEl){var t=this.model,e=this.opts.type||"text",n=t.get("placeholder")||t.get("defaults")||t.get("default")||"";this.inputEl=o('<input type="'.concat(e,'" placeholder="').concat(n,'">'))}return this.inputEl.get(0)},render:function(){this.inputEl=null;var t=this.$el;return t.addClass(this.inputClass()),t.html(this.template()),t.find(".".concat(this.holderClass())).append(this.getInputEl()),this}})},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i),o=n(9);e.default=r.a.View.extend({initialize:function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix||"",this.target=t.target||{},this.propTarget=t.propTarget||{},this.onChange=t.onChange,this.onInputRender=t.onInputRender||{},this.customValue=t.customValue||{},this.properties=[];var e=this.collection;this.listenTo(e,"add",this.addTo),this.listenTo(e,"reset",this.render)},addTo:function(t,e,n){this.add(t,null,n)},add:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e||this.el,r=new t.typeView({model:t,name:t.get("name"),id:this.pfx+t.get("property"),target:this.target,propTarget:this.propTarget,onChange:this.onChange,onInputRender:this.onInputRender,config:this.config});"composite"!=t.get("type")&&(r.customValue=this.customValue),r.render();var a=r.el;this.properties.push(r),r.updateVisibility(),Object(o.b)(i,a,n.at)},render:function(){var t=this,e=this.$el;this.clearItems();var n=document.createDocumentFragment();return this.collection.each(function(e){return t.add(e,n)}),e.empty(),e.append(n),e.attr("class","".concat(this.pfx,"properties")),this},remove:function(){r.a.View.prototype.remove.apply(this,arguments),this.clearItems()},clearItems:function(){this.properties.forEach(function(t){return t.remove()}),this.properties=[]}})},function(t,e,n){"use strict";var i=n(0),r=n(1),o=n.n(r);e.a=o.a.View.extend({itemView:"",itemsView:"",itemType:"type",autoAdd:0,initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;this.config=e||t.config||{},this.autoAdd&&this.listenTo(this.collection,"add",this.addTo),this.items=[],this.init()},init:function(){},addTo:function(t){this.add(t)},itemViewNotFound:function(t){var e=this.config,n=this.ns,i=e.em,r="".concat(n?"[".concat(n,"]: "):"","'").concat(t,"' type not found");i&&i.logWarning(r)},add:function(t,e){var n,r=this.config,o=this.reuseView,a=this.items,s=this.itemsView,l=void 0===s?{}:s,c=e||null,u=this.itemView,d=t.get(this.itemType);l[d]?u=l[d]:!d||l[d]||Object(i.includes)(["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],d)||this.itemViewNotFound(d),n=t.view&&o?t.view:new u({model:t,config:r},r),a&&a.push(n);var h=n.render().el;c?c.appendChild(h):this.$el.append(h)},render:function(){var t=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(e){this.add(e,t)},this),this.$el.append(t),this.onRender(),this},onRender:function(){},remove:function(){this.clearItems(),o.a.View.prototype.remove.apply(this,arguments)},clearItems:function(){this.items}})},function(t,e,n){"use strict";var i=n(8),r=n.n(i),o=n(2),a=n.n(o),s=n(1),l=n.n(s),c=n(0),u=n(5);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var f=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(e||[]).forEach(function(e){n.push(e.getId()),t(e.components(),n)}),n};e.a=l.a.Collection.extend({initialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.opt=e,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren),this.config=e.config,this.em=e.em,this.domc=e.domc},resetChildren:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this,r=n.previousModels||[],o=r.filter(function(e){return!t.get(e.cid)}),a=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map(function(e){n.push(e.getId()),t(e.components(),n)}),n}(t);n.keepIds=f(r).filter(function(t){return a.indexOf(t)>=0}),o.forEach(function(t){return e.removeChildren(t,i,n)}),t.each(function(t){return e.onAdd(t)})},removeChildren:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t){var r=this.domc,o=this.em,a=r?r.allById():{},s=i.temporary;if(t.prevColl=this,!s){var l=t.getId(),c=o.get("SelectorManager").getAll(),u=o.get("CssComposer").getAll(),d=(i.keepIds||[]).indexOf(l)<0;delete a[l];var h=d?u.remove(u.filter(function(t){return t.getSelectors().getFullString()==="#".concat(l)}),i):[];if(c.remove(h.map(function(t){return t.getSelectors().at(0)})),!t.opt.temporary){var f=o.get("Commands"),p=t.get("style-signature"),g={target:t};p&&f.run("core:component-style-clear",g),t.removed(),t.trigger("removed"),o.trigger("component:remove",t)}t.components().forEach(function(t){return n.removeChildren(t,e,i)})}var m=t.components(),v=o.get("UndoManager");o.stopListening(m),o.stopListening(t),o.stopListening(t.get("classes")),v.remove(t),v.remove(m)}},model:function(t,e){var n,i=e.collection.opt,r=i.em,o=r.get("DomComponents").componentTypes;e.em=r,e.config=i.config,e.componentTypes=o,e.domc=i.domc;for(var a=0;a<o.length;a++)if(o[a].id==t.type){n=o[a].model;break}return n||(n=o[o.length-1].model,r&&t.type&&r.logWarning("Component type '".concat(t.type,"' not found"),{attrs:t,options:e})),new n(t,e)},parseString:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.em,i=this.opt.domc,r=n.get("CssComposer"),o=n.get("Parser").parseHtml(t);return u.a.checkId(o.html,o.css,i.componentsById,e),o.css&&r&&!e.temporary&&r.addCollection(o.css,h(h({},e),{},{extend:1})),o.html},add:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.parent,n.keepIds=f(n.previousModels),Object(c.isString)(t)?t=this.parseString(t,n):Object(c.isArray)(t)&&t.forEach(function(i,r){if(Object(c.isString)(i)){var o=e.parseString(i,n);t[r]=Object(c.isArray)(o)&&!o.length?null:o}});var i=Object(c.isArray)(t);t=(i?t:[t]).filter(function(t){return t}).map(function(t){return e.processDef(t)}),t=i?Object(c.flatten)(t,1):t[0];var r=l.a.Collection.prototype.add.apply(this,[t,n]);return this.__firstAdd=r,r},processDef:function(t){if(t.cid&&t.ccid)return t;var e=this.em,n=this.config,i=(void 0===n?{}:n).processor,o=t;if(i){var a=i(o=h({},o));a&&(Object(c.each)(o,function(t,e){return delete o[e]}),Object(c.extend)(o,a))}if(o.$$typeof&&"object"==r()(o.props)){(o=h({},o)).props=h({},o.props);var s=e.get("DomComponents"),l=e.get("Parser").parserHtml;Object(c.each)(o,function(t,e){Object(c.includes)(["props","type"],e)||delete o[e]});var u=o.props,d=u.children;delete u.children,delete o.props;var f=l.splitPropsFromAttr(u);o.attributes=f.attrs,d&&(o.components=d),o.type?s.getType(o.type)||(o.tagName=o.type,delete o.type):o.type="textnode",Object(c.extend)(o,f.props)}return o},onAdd:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.domc,r=this.em,o=t.getStyle(),a=r&&r.getConfig("avoidInlineStyle");if(i&&i.Component.ensureInList(t),!Object(c.isEmpty)(o)&&!a&&r&&r.get&&r.getConfig("forceClass")&&!n.temporary){var s=t.cid;r.get("CssComposer").setClassRule(s,o),t.setStyle({}),t.addClass(s)}this.__onAddEnd()},__onAddEnd:Object(c.debounce)(function(){})})},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i);r.a.$,e.default=r.a.View.extend({initialize:function(t){this.config=t||{},this.editorModel=this.em=this.config.em||{},this.pfx=this.config.stylePrefix,this.ppfx=this.config.pStylePrefix,this.hoverClass=this.pfx+"hover",this.badgeClass=this.pfx+"badge",this.plhClass=this.pfx+"placeholder",this.freezClass=this.ppfx+"freezed",this.canvas=this.em.get&&this.em.get("Canvas"),this.em.get&&this.setElement(this.getCanvas()),this.canvas&&(this.$canvas=this.$el,this.canvasTool=this.getCanvasTools()),this.init(this.config)},onFrameScroll:function(t){},getCanvas:function(){return this.canvas.getElement()},getCanvasBody:function(){return this.canvas.getBody()},getCanvasWrapper:function(){return this.canvas.getWrapperEl()},getCanvasTools:function(){return this.canvas.getToolsEl()},offset:function(t){var e=t.getBoundingClientRect();return{top:e.top+t.ownerDocument.body.scrollTop,left:e.left+t.ownerDocument.body.scrollLeft}},init:function(t){},callRun:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.id;if(t.trigger("run:".concat(n,":before"),e),!e||!e.abort){var i=e.sender||t,r=this.run(t,i,e);return t.trigger("run:".concat(n),r,e),t.trigger("run",n,r,e),r}t.trigger("abort:".concat(n),e)},callStop:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.id,i=e.sender||t;t.trigger("stop:".concat(n,":before"),e);var r=this.stop(t,i,e);return t.trigger("stop:".concat(n),r,e),t.trigger("stop",n,r,e),r},stopCommand:function(){this.em.get("Commands").stop(this.id)},run:function(t,e){},stop:function(t,e){}})},function(t,e,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n(3),s=n(29);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var u=Object(s.a)().parseStyle;e.a={parseStyle:u,extendStyle:function(t){return c(c({},this.getStyle()),t)},getStyle:function(){return c({},this.get("style")||{})},setStyle:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(o.isString)(e)&&(e=u(e));var i=this.getStyle(),r=c({},e);this.set("style",r,n);var s=Object(a.y)(i,r);return Object(o.keys)(s).forEach(function(e){var n=t.em;t.trigger("change:style:".concat(e)),n&&(n.trigger("styleable:change",t,e),n.trigger("styleable:change:".concat(e),t,e))}),r},addStyle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"string"==typeof t?t={prop:e}:n=e||{},t=this.extendStyle(t),this.setStyle(t,n)},removeStyle:function(t){var e=this.getStyle();delete e[t],this.setStyle(e)},styleToString:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[],n=this.getStyle();for(var i in n){var r=t.important,a=Object(o.isArray)(r)?r.indexOf(i)>=0:r,s="".concat(n[i]).concat(a?" !important":""),l="__"==i.substr(0,2);s&&!l&&e.push("".concat(i,":").concat(s,";"))}return e.join("")},getSelectors:function(){return this.get("selectors")||this.get("classes")},getSelectorsString:function(){return this.selectorsToString?this.selectorsToString():this.getSelectors().getFullString()}}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),o=n(1),a=n.n(o),s=n(30),l=n(0),c=n(3);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var h=a.a.Model.extend({defaults:{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:0,important:0,toRequire:0,requires:null,requiresParent:null},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.get("id")||"",i=this.get("name")||"";!this.get("property")&&this.set("property",(i||n).replace(/ /g,"-"));var r=this.get("property");!this.get("id")&&this.set("id",r),!i&&this.set("name",Object(c.c)(r).replace(/-/g," ")),h.callInit(this,t,e)},init:function(){},clearValue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.set({value:void 0,status:""},t),this},setValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.parseValue(t),r=!e;!r&&this.set({value:void 0},{avoidStore:r,silent:!0}),this.set(i,d({avoidStore:r},n))},setValueFromInput:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.setValue(t,e,d(d({},n),{},{fromInput:1}))},parseValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={value:t},i="!important";if(Object(l.isString)(t)&&-1!==t.indexOf(i)&&(n.value=t.replace(i,"").trim(),n.important=1),!this.get("functionName")&&!e.complete)return n;var r=[],o="".concat(n.value),a=o.indexOf("(")+1,s=o.lastIndexOf(")"),c=o.substring(0,a-1);if(c&&(n.functionName=c),r.push(a),s>=0&&r.push(s),n.value=String.prototype.substring.apply(o,r),e.numeric){var u=parseFloat(n.value);n.unit=n.value.replace(u,""),n.value=u}return n},splitValues:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=[],i="",r=0;return(t||"").split("").forEach(function(t){"("==t?(r++,i+="("):")"==t&&r>0?(r--,i+=")"):t===e&&0==r?(n.push(i),i=""):i+=t}),""!==i&&n.push(i),n.map(function(t){return t.trim()})},getDefaultValue:function(){return this.get("defaults")},getFullValue:function(t){var e=this.get("functionName"),n=this.getDefaultValue(),i=Object(l.isUndefined)(t)?this.get("value"):t,r=!Object(l.isUndefined)(i)&&""!==i;if(i&&n&&i===n)return n;if(e&&r){var o="url"===e?"'".concat(i.replace(/'/g,""),"'"):i;i="".concat(e,"(").concat(o,")")}return r&&this.get("important")&&(i="".concat(i," !important")),i||""}},{callParentInit:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.prototype.initialize.apply(e,[n,d(d({},i),{},{skipInit:1})])},callInit:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!n.skipInit&&t.init(e,n)}}),f=h;function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var m=f.extend({defaults:g(g({},f.prototype.defaults),{},{detached:0,properties:[],separator:" "}),initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f.callParentInit(f,this,t,e);var i=this.get("properties")||[],r=n(24).default;this.set("properties",new r(i)),this.listenTo(this,"change:value",this.updateValues),f.callInit(this,t,e)},clearValue:function(){return this.get("properties").each(function(t){return t.clearValue()}),f.prototype.clearValue.apply(this,arguments)},updateValues:function(){var t=this.getFullValue().split(this.getSplitSeparator());this.get("properties").each(function(e,n){var i=t.length;t[n]||t[n%i+(1!=i&&i%2?1:0)]})},getSplitSeparator:function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},getDefaultValue:function(t){var e=this.get("defaults");return e&&!t?e:(e="",this.get("properties").each(function(t,n){return e+="".concat(t.getDefaultValue()," ")}),e.trim())},getFullValue:function(){return this.get("detached")?"":this.get("properties").getFullValue()},getPropertyAt:function(t){return this.get("properties").at(t)}}),v=a.a.Model.extend({defaults:{index:"",value:"",values:{},active:!1,preview:!1,properties:[]},initialize:function(){var t=this.get("properties"),e=this.get("value");this.set("properties",t instanceof yt?t:new yt(t));var n=this.get("properties");if(n.forEach(this.onPropAdd,this),this.listenTo(n,"add",this.onPropAdd),!e){var i="",r=this.get("values");for(var o in r)i+=" "+r[o];this.set("value",i.trim())}},onPropAdd:function(t){var e=this.collection;t.parent=e&&e.property},getPropertyAt:function(t){return this.get("properties").at(t)},getPropertyValue:function(t){var e="";return this.get("properties").each(function(n){n.get("property")==t&&(e=n.getFullValue())}),e},getFullValue:function(){var t=[];return this.get("properties").each(function(e){return t.push(e.getFullValue())}),t.join(" ").trim()}});function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var w=a.a.Collection.extend({model:v,initialize:function(){this.idx=1,this.on("add",this.onAdd),this.on("reset",this.onReset)},onAdd:function(t,e,n){n.noIncrement||t.set("index",this.idx++),n.active&&this.active(this.indexOf(t))},onReset:function(){this.idx=1},getSeparator:function(){var t=this.property;return t?t.get("layerSeparator"):", "},getLayersFromValue:function(t){var e=this,n=[];return t.replace(/\(([\w\s,.]*)\)/g,function(e){var n=e.replace(/,\s*/g,",");t=t.replace(e,n)}),(t?t.split(this.getSeparator()):[]).forEach(function(t){n.push({properties:e.properties.parseValue(t)})}),n},getLayersFromStyle:function(t){var e=[],n=this.properties;return n.each(function(n){var i=t[n.get("property")];(i?i.split(", "):[]).forEach(function(t,i){t=n.parseValue(t.trim()).value;var r=e[i],o=b(b({},n.attributes),{value:t});r?r.properties.push(o):e[i]={properties:[o]}})}),e.forEach(function(t){var e=t.properties.map(function(t){return t.property});n.each(function(n){var i=n.get("property");e.indexOf(i)<0&&t.properties.push(b({},n.attributes))})}),e},active:function(t){this.each(function(t){return t.set("active",0)});var e=this.at(t);e&&e.set("active",1)},getFullValue:function(){var t=[];return this.each(function(e){return t.push(e.getFullValue())}),t.join(this.getSeparator())},getPropertyValues:function(t,e){var n=[];return this.each(function(i){var r=i.getPropertyValue(t);r?n.push(r):!Object(l.isUndefined)(e)&&n.push(e)}),n.join(", ")}});function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var T=m.extend({defaults:C(C({},m.prototype.defaults),{},{layers:[],layerSeparator:", ",prepend:0,preview:0}),initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m.callParentInit(m,this,t,e);var n=this.get("layers"),i=new w(n);i.property=this,i.properties=this.get("properties"),this.set("layers",i),m.callInit(this,t,e)},getLayers:function(){return this.get("layers")},getCurrentLayer:function(){return this.getLayers().filter(function(t){return t.get("active")})[0]},getFullValue:function(){return this.get("detached")?"":this.get("layers").getFullValue()},getValueFromStyle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.getLayers().getLayersFromStyle(t);return new w(e).getFullValue()},clearValue:function(){return this.getLayers().reset(),m.prototype.clearValue.apply(this,arguments)},getValueFromTarget:function(t){var e=this.attributes,n=e.detached,i=e.property,r=e.properties,o=t.getStyle(),a={};return r.forEach(function(t){var e=t.get("property"),n=o[e];n&&(a[e]=n)}),n?Object(l.keys)(a).length?a:"":o[i]},getLayersFromTarget:function(t){}}),_=n(25),O=n.n(_);function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var x="data-clear-style",I=a.a.View.extend({template:function(){var t=this.pfx,e=this.ppfx;return'\n      <div class="'.concat(t,'label" data-sm-label></div>\n      <div class="').concat(e,'fields" data-sm-fields></div>\n    ')},templateLabel:function(t){var e=this.pfx,n=this.em,i=t.parent,r=t.attributes,o=r.icon,a=void 0===o?"":o,s=r.info,l=void 0===s?"":s,c=r.id,u=r.name,d=n&&n.t("styleManager.properties.".concat(c))||u;return'\n      <span class="'.concat(e,"icon ").concat(a,'" title="').concat(l,'">\n        ').concat(d,"\n      </span>\n      ").concat(i?"":'<b class="'.concat(e,'clear" ').concat(x,">&Cross;</b>"),"\n    ")},templateInput:function(t){return'\n      <div class="'.concat(this.ppfx,'field">\n        <input placeholder="').concat(t.getDefaultValue(),'"/>\n      </div>\n    ')},events:r()({change:"inputValueChanged"},"click [".concat(x,"]"),"clear"),initialize:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l.bindAll)(this,"targetUpdated","__change","__updateStyle"),this.config=e.config||{};var n=this.config.em;this.em=n,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.target=e.target||{},this.propTarget=e.propTarget||{},this.onChange=e.onChange,this.onInputRender=e.onInputRender||{},this.customValue=e.customValue||{};var i=this.model;this.property=i.get("property"),this.input=null;var r=this.pfx;if(this.inputHolderId="#"+r+"input-holder",this.sector=i.collection&&i.collection.sector,this.__destroyFn=this.destroy?this.destroy.bind(this):function(){},i.view=this,i.get("value")||i.set("value",i.getDefaultValue()),n){this.listenTo(n,"update:component:style:".concat(this.property),this.targetUpdated);var o=i.get("requires")||{};Object.keys(o).forEach(function(e){t.listenTo(n,"component:styleUpdate:".concat(e),t.targetUpdated)})}this.listenTo(this.propTarget,"update",this.targetUpdated),this.listenTo(i,"destroy remove",this.remove),this.listenTo(i,"change:value",this.modelValueChanged),this.listenTo(i,"targetUpdated",this.targetUpdated),this.listenTo(i,"change:visible",this.updateVisibility),this.listenTo(i,"change:status",this.updateStatus),this.listenTo(i,"change:name change:className change:full",this.render);var a=this.init&&this.init.bind(this);a&&a()},remove:function(){var t=this;a.a.View.prototype.remove.apply(this,arguments),["em","target","input","$input","propTarget","sector"].forEach(function(e){return t[e]={}}),this.__destroyFn(this._getClbOpts())},updateStatus:function(){var t=this.model,e=t.get("status"),n=t.parent,i=this.pfx,r=this.ppfx,o=this.config,a="".concat(r,"four-color"),s="".concat(r,"color-warn"),l=this.$el.children(".".concat(i,"label")),c=this.getClearEl(),u=c?c.style:{};switch(l.removeClass("".concat(a," ").concat(s)),u.display="none",e){case"updated":!n&&l.addClass(a),o.clearProperties&&(u.display="inline");break;case"computed":l.addClass(s)}},clear:function(t){var e=this;t&&t.stopPropagation(),this.model.clearValue(),setTimeout(function(){return e.targetUpdated()})},getClearEl:function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(x,"]"))),this.clearEl},getTarget:function(){return this.getTargetModel()},getTargets:function(){return this.propTarget.targets||[this.getTarget()]},getFirstTarget:function(){return this.getTargets()[0]},getTargetModel:function(){return this.propTarget&&this.propTarget.model},getHelperModel:function(){return this.propTarget&&this.propTarget.helper},inputValueChanged:function(t){t&&t.stopPropagation(),this.emit||(this.model.setValueFromInput(this.getInputValue()),this.elementUpdated())},elementUpdated:function(){this.setStatus("updated")},setStatus:function(t){this.model.set("status",t);var e=this.model.parent;e&&"updated"==t&&e.set("status",t)},emitUpdateTarget:Object(l.debounce)(function(){var t=this.config.em;t&&t.trigger("styleManager:update:target",this.getFirstTarget())}),_getTargetData:function(){var t=this.model,e=this.config,n=this.getTargetValue({ignoreDefault:1}),i=t.getDefaultValue(),r=this.getComputedValue(),o="",a="";return n?(o=n,e.highlightChanged&&(a="updated")):r&&e.showComputed&&r!=i?(o=r,e.highlightComputed&&(a="computed")):(o=i,a=""),{value:o,status:a,targetValue:n,defaultValue:i,computedValue:r}},targetUpdated:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.config.fromLayer&&(this.emitUpdateTarget(),this.checkVisibility())){var i=this.config.em,r=this.model,o=r.get("property"),a=this._getTargetData(),s=a.status,l=a.value,c=D({status:s,value:l},O()(a,["status","value"]));return this.setStatus(s),r.setValue(l,0,D({fromTarget:1},n)),i&&(i.trigger("styleManager:change",this,o,l,c),i.trigger("styleManager:change:".concat(o),this,l,c),this._emitUpdate(c)),c}},_emitUpdate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.em,n=this.model;if(e){var i=n.get("property"),r=D(D({},this._getEventData()),t),o=r.id;e.trigger("style:update",r),e.trigger("style:update:".concat(i),r),i!==o&&e.trigger("style:update:".concat(o),r)}},_getEventData:function(){var t=this.model;return{propertyView:this,targets:this.getTargets(),value:t.getFullValue(),property:t,id:t.get("id"),name:t.get("property")}},checkVisibility:function(){var t=1;return this.config.hideNotStylable&&(this.isTargetStylable()&&this.isComponentStylable()?this.show():(this.hide(),t=0),this.sector&&this.sector.trigger("updateVisibility")),t},getTargetValue:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.model,i=this.getFirstTarget(),r=this.customValue;if(!i)return t;if((t=i.getStyle()[n.get("property")])||e.ignoreDefault||(t=n.getDefaultValue()),"function"==typeof r&&!e.ignoreCustomValue){var o=r(this,n.collection.indexOf(n),t);o&&(t=o)}return t},getComputedValue:function(){var t=this.propTarget,e=t.computed||{},n=t.computedDefault||{},i=this.config.avoidComputed||[],r=this.model.get("property"),o=i.indexOf(r)<0,a=e[r],s=n[Object(c.b)(r)];return e&&o&&s!==a&&a||""},getInputValue:function(){var t=this.getInputEl();return t?t.value:""},modelValueChanged:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.model,a=o.getFullValue();if(i.fromInput||this.setValue(a),!i.fromTarget){this.getTargets().forEach(function(t){return n.__updateTarget(t,i)});var s=this.config.em;if(!s)return;var l=o.get("property"),c=r()({},l,a);s.getSelectedAll().forEach(function(t){!i.noEmit&&s.trigger("component:update",t,c,i),s.trigger("component:styleUpdate",t,l,i),s.trigger("component:styleUpdate:".concat(l),t,a,i),t.trigger("change:style",t,c,i),t.trigger("change:style:".concat(l),t,a,i)})}},__updateTarget:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.model.getFullValue(),i=this.onChange;t&&this.isComponentStylable()&&(e.fromTarget||(i&&!e.fromParent?i(t,this,e):this.updateTargetStyle(n,null,D(D({},e),{},{target:t}))),this._emitUpdate())},updateTargetStyle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e||this.model.get("property"),r=n.target||this.getFirstTarget(),o=r.getStyle();t?o[i]=t:delete o[i],n.avoidStore?o.__=1:delete o.__,r.setStyle(o,n);var a=this.getHelperModel();a&&a.setStyle(o,n)},isTargetStylable:function(t){var e=t||this.getFirstTarget(),n=this.model,i=n.get("id"),r=n.get("property"),o=n.get("toRequire"),a=e.get("unstylable"),s=e.get("stylable-require"),c=n.get("requires"),u=n.get("requiresParent"),d=this.sector?this.sector.collection:null,h=this.em?this.em.getSelected():null,f=e.get("stylable");if(Object(l.isArray)(f)&&(f=f.indexOf(r)>=0),Object(l.isArray)(a)&&(f=a.indexOf(r)<0),o&&(f=!t||s&&(s.indexOf(i)>=0||s.indexOf(r)>=0)),d&&c){var p=Object.keys(c);d.each(function(t){t.get("properties").each(function(t){if(Object(l.includes)(p,t.id)){var e=c[t.id];f=f&&Object(l.includes)(e,t.get("value"))}})})}if(u){var g=h&&h.parent(),m=g&&g.getEl();if(m){var v=window.getComputedStyle(m);Object(l.each)(u,function(t,e){f=f&&v[e]&&Object(l.includes)(t,v[e])})}else f=!1}return f},isComponentStylable:function(){var t=this.em,e=t&&t.getSelected();return!e||this.isTargetStylable(e)},setRawValue:function(t){this.setValue(this.model.parseValue(t))},setValue:function(t){var e=this.model,n=Object(l.isUndefined)(t)?e.getDefaultValue():t;if(this.update)return this.__update(n);var i=this.getInputEl();i&&(i.value=n)},getInputEl:function(){return this.input||(this.input=this.el.querySelector("input")),this.input},updateVisibility:function(){this.el.style.display=this.model.get("visible")?"":"none"},show:function(){this.model.set("visible",1)},hide:function(){this.model.set("visible",0)},cleanValue:function(){this.setValue("")},clearCached:function(){this.clearEl=null,this.input=null,this.$input=null},__update:function(t){var e=this.update&&this.update.bind(this);e&&e(D(D({},this._getClbOpts()),{},{value:t}))},__change:function(){for(var t=this.emit&&this.emit.bind(this),e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t&&t.apply(void 0,[this._getClbOpts()].concat(n))},__updateStyle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.complete,i=O()(e,["complete"]),r=!1!==n;Object(c.p)(t)?this.getTargets().forEach(function(e){return e.addStyle(t,{avoidStore:!r})}):this.model.setValueFromInput(t,n,i),r&&this.elementUpdated()},_getClbOpts:function(){var t=this.model;return{el:this.el,props:t.attributes,setProps:function(){return t.set.apply(t,arguments)},change:this.__change,updateStyle:this.__updateStyle,targets:this.getTargets()}},render:function(){this.clearCached();var t=this.pfx,e=this.model,n=this.el,i=this.$el,r=e.get("property"),o=e.get("full"),a=e.get("className")||"",s="".concat(t,"property");this.createdEl&&this.__destroyFn(this._getClbOpts()),i.empty().append(this.template(e)),i.find("[data-sm-label]").append(this.templateLabel(e));var l=this.create&&this.create.bind(this);this.createdEl=l&&l(this._getClbOpts()),i.find("[data-sm-fields]").append(this.createdEl||this.templateInput(e)),n.className="".concat(s," ").concat(t).concat(e.get("type")," ").concat(s,"__").concat(r," ").concat(a).trim(),n.className+=o?" ".concat(s,"--full"):"",this.updateStatus();var c=this.onRender&&this.onRender.bind(this);c&&c(),this.setValue(e.get("value"),{fromTarget:1})}});function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var A=a.a.$,N=I.extend({templateInput:function(){var t=this.pfx;return'\n      <div class="'.concat(t,"field ").concat(t,'composite">\n        <span id="').concat(t,'input-holder"></span>\n      </div>\n    ')},inputValueChanged:function(){if(!this.model.get("detached")){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];I.prototype.inputValueChanged.apply(this,e)}},clear:function(t){var e=this.properties;e&&e.forEach(function(t){return t.clear()}),I.prototype.clear.apply(this,arguments)},remove:function(){var t=this;this.model.get("properties").reset(),I.prototype.remove.apply(this,arguments),["properties","props","$props"].forEach(function(e){return t[e]={}})},onRender:function(){var t=this.model,e=t.get("properties")||[];if(this.properties=[],e.length&&(this.$input||(this.$input=A('<input type="hidden" value="0">'),this.input=this.$input.get(0)),this.props||(this.props=t.get("properties")),!this.$props)){this.props.each(function(e,n){e&&"composite"==e.get("type")&&(this.props.remove(e),console.warn("Nested composite types not yet allowed.")),e.parent=t},this);var i=new(0,n(19).default)(this.getPropsConfig());this.$props=i.render().$el,this.properties=i.properties,this.$el.find("#".concat(this.pfx,"input-holder")).append(this.$props)}},getPropsConfig:function(t){var e=this,n=this.model,i={config:R(R({},this.config),{},{highlightComputed:0}),collection:this.props,target:this.target,propTarget:this.propTarget,onChange:function(t,e,i){n.set("value",n.getFullValue(),i)},customValue:function(t,n){return e.valueOnIndex(n,t)}};return n.get("detached")&&delete i.onChange,i},valueOnIndex:function(t,e){var n=this.getTargetValue({ignoreDefault:1});return n?n.split(this.model.getSplitSeparator())[t]:e&&e.getTargetValue({ignoreCustomValue:1,ignoreDefault:1})},clearCached:function(){I.prototype.clearCached.apply(this,arguments),this.$input=null,this.props=null,this.$props=null}}),P=n(19);function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var K=a.a.View.extend({events:{click:"active","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"},template:function(t){var e=this.pfx,n=this.ppfx,i=this.em,r="".concat(i&&i.t("styleManager.layer")," ").concat(t.get("index"));return'\n      <div id="'.concat(e,'move" class="').concat(n,'no-touch-actions" data-move-layer>\n        <i class="fa fa-arrows"></i>\n      </div>\n      <div id="').concat(e,'label">').concat(r,'</div>\n      <div id="').concat(e,'preview-box">\n      \t<div id="').concat(e,'preview" data-preview></div>\n      </div>\n      <div id="').concat(e,'close-layer" class="').concat(e,'btn-close" data-close-layer>\n        &Cross;\n      </div>\n      <div id="').concat(e,'inputs" data-properties></div>\n      <div style="clear:both"></div>\n    ')},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.model;this.stackModel=t.stackModel,this.config=t.config||{},this.em=this.config.em,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.sorter=t.sorter||null,this.propsConfig=t.propsConfig||{},this.customPreview=t.onPreview,this.listenTo(e,"destroy remove",this.remove),this.listenTo(e,"change:active",this.updateVisibility),this.listenTo(e.get("properties"),"change",this.updatePreview),e.view=this,e.set({droppable:0,draggable:1}),this.$el.data("model",e)},initSorter:function(t){this.sorter&&this.sorter.startSort(this.el)},removeItem:function(t){t&&t.stopPropagation(),this.remove()},remove:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.model,n=this.props,i=e.collection,r=this.stackModel;a.a.View.prototype.remove.apply(this,arguments),i&&i.contains(e)&&i.remove(e),r&&r.set&&(r.set({stackIndex:null},{silent:!0}),!t.fromTarget&&r.trigger("updateValue")),n&&n.remove()},onPreview:function(t){var e=this.stackModel,n=e&&e.get("detached"),i=t.split(" "),r=[],o={};return this.model.get("properties").each(function(t,e){var a=t.get("property"),s=n?t.getFullValue():i[e]||"";if(s&&"integer"==t.get("type")){var l=parseInt(s,10),c=s.replace(l,"");s=(l=(l=(l=isNaN(l)?0:l)>3?3:l)<-3?-3:l)+c}r.push(s),o[a]=s}),n?o:r.join(" ")},updatePreview:function(){var t=this.stackModel,e=this.customPreview,n=this.getPreviewEl(),i=this.model.getFullValue(),r=e?e(i):this.onPreview(i);if(r&&t&&n){var o=n.style;if(Object(l.isString)(r))o[t.get("property")]=r;else{var a=[];Object(l.each)(r,function(t,e){return a.push("".concat(e,":").concat(t))}),n.setAttribute("style",a.join(";"))}}},getPropertiesWrapper:function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},getPreviewEl:function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},active:function(){var t=this.model,e=t.collection;e.active(e.indexOf(t))},updateVisibility:function(){var t=this.pfx,e=this.getPropertiesWrapper(),n=this.model.get("active");e.style.display=n?"":"none",this.$el[n?"addClass":"removeClass"]("".concat(t,"active"))},render:function(){var t=this.propsConfig,e=this.model,n=this.el,i=this.pfx,r=e.get("preview"),o=new P.default({collection:e.get("properties"),config:L(L({},this.config),{},{fromLayer:1}),target:t.target,customValue:t.customValue,propTarget:t.propTarget,onChange:t.onChange}),a=o.render().el;return n.innerHTML=this.template(e),n.className="".concat(i,"layer").concat(r?"":" ".concat(i,"no-preview")),this.props=o,this.getPropertiesWrapper().appendChild(a),this.updateVisibility(),this.updatePreview(),this}}),j=a.a.View.extend({initialize:function(t){this.config=t.config||{},this.stackModel=t.stackModel,this.preview=t.preview,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.propsConfig=t.propsConfig;var e=this.pfx,n=this.ppfx,i=this.collection;this.className="".concat(e,"layers ").concat(n,"field"),this.listenTo(i,"add",this.addTo),this.listenTo(i,"deselectAll",this.deselectAll),this.listenTo(i,"reset",this.reset),this.items=[];var r=this.config.em||"",o=r?r.get("Utils"):"";this.sorter=o?new o.Sorter({container:this.el,ignoreViewChildren:1,containerSel:".".concat(e,"layers"),itemSel:".".concat(e,"layer"),pfx:this.config.pStylePrefix}):"",i.view=this,this.$el.data("model",i),this.$el.data("collection",i)},addTo:function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},addToCollection:function(t,e,n){var i=e||null,r=this.stackModel,o=this.config,a=this.sorter,s=this.propsConfig;void 0!==this.preview&&t.set("preview",this.preview);var l=new K({model:t,config:o,sorter:a,stackModel:r,propsConfig:s}),c=l.render().el;if(this.items.push(l),i)i.appendChild(c);else if(void 0!==n){var u="before";this.$el.children().length==n&&(n--,u="after"),n<0?this.$el.append(c):this.$el.children().eq(n)[u](c)}else this.$el.append(c);return c},deselectAll:function(){this.$el.find("."+this.pfx+"layer").removeClass(this.pfx+"active")},reset:function(t,e){this.clearItems(e),this.render()},render:function(){var t=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(e){this.addToCollection(e,t)},this),this.$el.append(t),this.$el.attr("class",this.className),this.sorter&&(this.sorter.plh=null),this},remove:function(){this.clearItems(),a.a.View.prototype.remove.apply(this,arguments)},clearItems:function(t){this.items.forEach(function(e){return e.remove(t)}),this.items=[]}});function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}var B=new(n(31).a),$=N.extend({templateInput:function(){var t=this.pfx;return this.ppfx,'\n      <div class="'.concat(t,"field ").concat(t,'stack">\n        <button type="button" id="').concat(t,'add" data-add-layer>+</button>\n        <div data-layers-wrapper></div>\n      </div>\n    ')},init:function(){var t=this.model;this.pfx,t.set("stackIndex",null),this.events["click [data-add-layer]"]="addLayer",this.listenTo(t,"change:stackIndex",this.indexChanged),this.listenTo(t,"updateValue",this.inputValueChanged),this.delegateEvents();var e=this.getPropsConfig();this.layers=new j({collection:this.getLayers(),stackModel:t,preview:t.get("preview"),config:this.config,propsConfig:e});var i=n(19).default;this.propsView=new i({target:this.target,collection:t.get("properties"),stackModel:t,config:this.config,onChange:e.onChange,propTarget:e.propTarget})},targetUpdated:function(){var t,e=this;if(this.model.get("detached"))t=this._getTargetData(),this.setStatus(t.status),this.checkVisibility();else{for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];t=N.prototype.targetUpdated.apply(this,i)}setTimeout(function(){return e.refreshLayers(t)})},getLayers:function(){return this.model.get("layers")},indexChanged:function(t){var e=this.model;this.getLayers().active(e.get("stackIndex"))},addLayer:function(){var t=this.model,e=this.getLayers(),n=t.get("prepend"),i=t.get("properties").deepClone();i.each(function(t){return t.set("value","")});var o=e.add({properties:i},function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({active:1},n&&{at:0}));this.inputValueChanged({up:1}),t.set("stackIndex",e.indexOf(o))},inputValueChanged:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.model;t.up&&this.elementUpdated(),e.get("detached")?e.get("properties").each(function(t){return t.trigger("change:value")}):e.set("value",this.getLayerValues())},setValue:function(){},getLayerValues:function(){return this.getLayers().getFullValue()},_getClassRule:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.em,n=t.skipAdd,i=void 0===n?1:n,r=e.getSelected(),o=e.get("StyleManager").getModelToStyle(r,{skipAdd:i,useClasses:1});return o!==r&&o},_getParentTarget:function(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.em,r=this.model.get("property"),o=n.isValid||function(t){return t.getStyle()[r]},a=i.get("CssComposer").getAll().filter(function(e){return e.selectorsToString()===t.getSelectorsString()}).reduce(function(t,e){return t[e.getAtRule()]=e,t},{}),s=B.sortMediaObject(a).map(function(t){return t.value}),l=s.indexOf(t),c=s.splice(0,l),u=c.length-1;u>-1;u--){var d=c[u];if(o(d)){e=d;break}}return e},refreshLayers:function(){var t,e,n,i,r,o,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=[],c=this.model,u=this.em,d=this.getLayers(),h=c.get("detached"),f=c.get("property"),p=this.getFirstTarget(),g=this.getComputedValue(),m=u.getSelected(),v={fromTarget:1};if(h){e=a.targetValue||{};var y=function(t){var e=c.get("properties").at(0).get("property");return t&&!Object(l.isUndefined)(t.getStyle()[e])};if(!Object(l.keys)(e).length&&g&&m){var b={isValid:function(t){return y(t)}};(i=this._getParentTarget(p,b))?e=i.getStyle():(n=this._getClassRule(),i=!(r=y(n)&&n.getStyle())&&this._getParentTarget(this._getClassRule({skipAdd:0}),b),o=y(i)&&i.getStyle(),e=r||o||{})}t=e,s=d.getLayersFromStyle(e)}else{var w=this.getTargetValue({ignoreDefault:1});!w&&g&&((i=this._getParentTarget(p))?w=i.getStyle()[f]:(o=(i=!(r=(n=this._getClassRule())&&n.getStyle()[f])&&this._getParentTarget(this._getClassRule({skipAdd:0})))&&i.getStyle()[f],w=r||o||g)),t=w=w==c.getDefaultValue()?"":w,s=d.getLayersFromValue(w)}var E=c.getLayersFromTarget(p,{resultValue:t,layersObj:s})||s;d.reset(null,v),d.add(E,v),c.set({stackIndex:null},{silent:!0})},getTargetValue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.model,n=e.attributes.detached,i=this.getFirstTarget(),r=N.prototype.getTargetValue.call(this,t);return Object(l.isUndefined)(r)&&!n?r=e.getValueFromStyle(i.getStyle()):n&&(r=e.getValueFromTarget(i)),r},getPropsConfig:function(){var t=this,e=t.model;return{target:t.target,propTarget:t.propTarget,onChange:function(n,i,o){var a=i.model,s=e.get("status");if(e.get("detached")){var l=a.get("property"),c=a.getDefaultValue(),u=t.getLayers(),d=u.getPropertyValues(l,c);i.updateTargetStyle(d,null,o),"background-image"!=l||o.avoidStore||"computed"!=s||e.get("properties").filter(function(t){return"__"==t.get("property").substr(0,2)}).forEach(function(e){var n=e.get("property"),i=u.getPropertyValues(n,e.getDefaultValue());t.getTargets().forEach(function(t){return t.addStyle(r()({},n,i),o)})})}else if("updated"==s){var h=e.getFullValue();e.set("value",h,o),!h&&i.updateTargetStyle(h,null,o)}}}},onRender:function(){var t=this.el,e=this.layers,n=this.propsView,i=t.querySelector("[data-layers-wrapper]");n.render(),i.appendChild(e.render().el)}}),H=a.a.$,U=I.extend({templateInput:function(){var t=this.pfx,e=this.em;return'\n    <div class="'.concat(t,"field ").concat(t,"file\">\n      <div id='").concat(t,"input-holder'>\n        <div class=\"").concat(t,'btn-c">\n          <button class="').concat(t,'btn" id="').concat(t,'images" type="button">\n            ').concat(e.t("styleManager.fileButton"),'\n          </button>\n        </div>\n        <div style="clear:both;"></div>\n      </div>\n      <div id="').concat(t,'preview-box">\n        <div id="').concat(t,'preview-file"></div>\n        <div id="').concat(t,'close">&Cross;</div>\n      </div>\n    </div>\n    ')},init:function(){var t=this.em;this.modal=t.get("Modal"),this.am=t.get("AssetManager"),this.events["click #"+this.pfx+"close"]="removeFile",this.events["click #"+this.pfx+"images"]="openAssetManager",this.delegateEvents()},onRender:function(){if(!this.$input){var t=this.model.getDefaultValue();this.$input=H('<input placeholder="'.concat(t,'">'))}this.$preview||(this.$preview=this.$el.find("#"+this.pfx+"preview-file")),this.$previewBox||(this.$previewBox=this.$el.find("#"+this.pfx+"preview-box")),this.setValue(this.componentValue,0)},clearCached:function(){I.prototype.clearCached.apply(this,arguments),this.$preview=null,this.$previewBox=null},setValue:function(t,e){I.prototype.setValue.apply(this,arguments),this.setPreviewView(t&&t!=this.model.getDefaultValue()),this.setPreview(t)},setPreviewView:function(t){var e=this.$previewBox;e&&e[t?"addClass":"removeClass"]("".concat(this.pfx,"show")),e&&e.css({display:t?"block":"none"})},spreadUrl:function(t){this.model.set("value",t),this.setPreviewView(1)},setPreview:function(t){var e=this.$preview;t=t&&t.indexOf("url(")<0?"url(".concat(t,")"):t,e&&e.css("background-image",t)},cleanValue:function(){this.setPreviewView(0),this.model.set({value:""},{silent:!0})},removeFile:function(){this.model.set("value",this.model.getDefaultValue());for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];I.prototype.cleanValue.apply(this,e),this.setPreviewView(0)},openAssetManager:function(t){var e=this,n=this.em,i=this.modal,r=n?n.get("Editor"):"";r&&r.runCommand("open-assets",{types:["image"],accept:"image/*",target:this.getTargetModel(),onClick:function(){},onDblClick:function(){},onSelect:function(t){i.close();var n=Object(l.isString)(t)?t:t.get("src");e.spreadUrl(n)}})}}),z=a.a.$,V=I.extend({templateInput:function(){return""},init:function(){var t=this.model;this.listenTo(t,"change:unit",this.modelValueChanged),this.listenTo(t,"el:change",this.elementUpdated),this.listenTo(t,"change:units",this.render)},setValue:function(t){var e=this.model.parseValue(t);t="".concat(e.value).concat(e.unit),this.inputInst.setValue(t,{silent:1})},onRender:function(){var t=this.ppfx;if(!this.input){var e=this.model.input;e.ppfx=t,e.render(),this.el.querySelector(".".concat(t,"fields")).appendChild(e.el),this.$input=e.inputEl,this.unit=e.unitEl,this.$unit=z(this.unit),this.input=this.$input.get(0),this.inputInst=e}},clearCached:function(){I.prototype.clearCached.apply(this,arguments),this.unit=null,this.$unit=null}}),W=n(38);function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var G=V.extend({setValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Y(Y({},e),{},{silent:1}),this.inputInst.setValue(t,e)},remove:function(){var t=this;V.prototype.remove.apply(this,arguments);var e=this.inputInst;e&&e.remove&&e.remove(),["inputInst","$color"].forEach(function(e){return t[e]={}})},onRender:function(){if(!this.input){var t=this.ppfx,e=new W.a({target:this.target,model:this.model,ppfx:t}).render();this.el.querySelector(".".concat(t,"fields")).appendChild(e.el),this.$input=e.inputEl,this.$color=e.colorEl,this.input=this.$input.get(0),this.inputInst=e}}}),X=n(7),Z=n.n(X);function J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var tt=f.extend({defaults:function(){return Q(Q({},f.prototype.defaults),{},{options:[],full:1})},initialize:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];f.prototype.initialize.apply(this,e),this.listenTo(this,"change:options",this.onOptionChange)},onOptionChange:function(){this.set("list",this.get("options"))},getOptions:function(){var t=this.attributes,e=t.options,n=t.list;return e&&e.length?e:n},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.set("options",t),this},addOption:function(t){if(t){var e=this.getOptions();this.setOptions([].concat(Z()(e),[t]))}return this}});function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var it=tt.extend({defaults:function(){return nt(nt({},tt.prototype.defaults()),{},{full:0})}}),rt=(a.a.$,I.extend({templateInput:function(){var t=this.pfx,e=this.ppfx;return'\n      <div class="'.concat(e,"field ").concat(e,'select">\n        <span id="').concat(t,'input-holder"></span>\n        <div class="').concat(e,'sel-arrow">\n          <div class="').concat(e,'d-s-arrow"></div>\n        </div>\n      </div>\n    ')},initialize:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];I.prototype.initialize.apply(this,e),this.listenTo(this.model,"change:options",this.updateOptions)},updateOptions:function(){this.input=null,this.onRender()},onRender:function(){var t=this.pfx,e=this.model.getOptions();if(!this.input){var n="";e.forEach(function(t){var e=t.name||t.value,i=t.style?t.style.replace(/"/g,"&quot;"):"",r=i?'style="'.concat(i,'"'):"",o=t.value.replace(/"/g,"&quot;");n+='<option value="'.concat(o,'" ').concat(r,">").concat(e,"</option>")});var i=this.el.querySelector("#".concat(t,"input-holder"));i.innerHTML="<select>".concat(n,"</select>"),this.input=i.firstChild}}})),ot=I.extend({templateInput:function(){this.pfx;var t=this.ppfx;return'\n      <div class="'.concat(t,"field ").concat(t,'field-radio">\n      </div>\n    ')},onRender:function(){var t=this.pfx,e=this.ppfx,n="".concat(e,"radio-item-label"),i=this.model,r=i.get("property"),o=i.get("list")||i.get("options")||[],a=i.cid,s="".concat(t,"radio ").concat(t,"radio-").concat(r);if(!this.input&&o&&o.length){var l="";o.forEach(function(i){var o=i.className?"".concat(i.className," ").concat(t,"icon ").concat(n):"",c="".concat(r,"-").concat(i.value,"-").concat(a),u=i.name||i.value,d=i.title?'title="'.concat(i.title,'"'):"";l+='\n            <div class="'.concat(e,'radio-item">\n              <input type="radio" class="').concat(s,'" id="').concat(c,'" name="').concat(r,"-").concat(a,'" value="').concat(i.value,'"/>\n              <label class="').concat(o||n,'" ').concat(d,' for="').concat(c,'">').concat(o?"":u,"</label>\n            </div>\n          ")});var c=this.el.querySelector(".".concat(e,"field"));c.innerHTML='<div class="'.concat(e,'radio-items">').concat(l,"</div>"),this.input=c.firstChild}},getInputValue:function(){var t=this.getCheckedEl();return t?t.value:""},getCheckedEl:function(){var t=this.getInputEl();return t?t.querySelector("input:checked"):""},setValue:function(t){var e=this.model,n=t||e.get("value")||e.getDefaultValue(),i=this.getInputEl(),r=i?i.querySelector('[value="'.concat(n,'"]')):"";if(r)r.checked=!0;else{var o=this.getCheckedEl();o&&(o.checked=!1)}}}),at=n(32);function st(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var ct=f.extend({defaults:lt(lt({},f.prototype.defaults),{},{units:[],unit:"",step:1,min:"",max:""}),initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f.callParentInit(f,this,t,e);var n=this.get("unit"),i=this.get("units");this.input=new at.a({model:this}),i.length&&!n&&this.set("unit",i[0]),f.callInit(this,t,e)},clearValue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.set({value:void 0,unit:void 0},t),this},parseValue:function(t){var e=f.prototype.parseValue.apply(this,arguments),n=this.input.validateInputValue(e.value,{deepCheck:1}),i=n.value,r=n.unit;return e.value=i,e.unit=r,e},getFullValue:function(){var t=this.get("value"),e=this.get("unit");return t=Object(l.isUndefined)(t)?"":t,e=!Object(l.isUndefined)(e)&&t?e:"",t="".concat(t).concat(e),f.prototype.getFullValue.apply(this,[t])}});function ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var ht=ct.extend({defaults:dt(dt({},ct.prototype.defaults),{},{showInput:1})});function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var gt=V.extend({events:function(){return pt(pt({},V.prototype.events),{},{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},templateInput:function(t){var e=this.ppfx;return'\n      <div class="'.concat(e,"field ").concat(e,'field-range">\n        <input type="range"\n          min="').concat(t.get("min"),'"\n          max="').concat(t.get("max"),'"\n          step="').concat(t.get("step"),'"/>\n      </div>\n    ')},getSliderEl:function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},inputValueChanged:function(){var t=this.model,e=t.get("step");this.getInputEl().value=this.getSliderEl().value;var n=this.getInputValue()-e;t.set("value",n,{avoidStore:1}).set("value",n+e),this.elementUpdated()},inputValueChangedSoft:function(){this.getInputEl().value=this.getSliderEl().value,this.model.set("value",this.getInputValue(),{avoidStore:1}),this.elementUpdated()},setValue:function(t){var e=this.model.parseValue(t);this.getSliderEl().value=parseFloat(e.value),V.prototype.setValue.apply(this,arguments)},onRender:function(){V.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},clearCached:function(){V.prototype.clearCached.apply(this,arguments),this.slider=null}});function mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var yt=e.default=a.a.Collection.extend(s.a).extend({extendViewApi:1,types:[{id:"stack",model:T,view:$,isType:function(t){if(t&&"stack"==t.type)return t}},{id:"composite",model:m,view:N,isType:function(t){if(t&&"composite"==t.type)return t}},{id:"file",model:f,view:U,isType:function(t){if(t&&"file"==t.type)return t}},{id:"color",model:f,view:G,isType:function(t){if(t&&"color"==t.type)return t}},{id:"select",model:it,view:rt,isType:function(t){if(t&&"select"==t.type)return t}},{id:"radio",model:tt,view:ot,isType:function(t){if(t&&"radio"==t.type)return t}},{id:"slider",model:ht,view:gt,isType:function(t){if(t&&"slider"==t.type)return t}},{id:"integer",model:ct,view:V,isType:function(t){if(t&&"integer"==t.type)return t}},{id:"base",model:f,view:I,isType:function(t){return t.type="base",t}}],deepClone:function(){var t=this.clone();return t.reset(t.map(function(t){var e=t.clone();return e.typeView=t.typeView,e})),t},parseValue:function(t){var e=this,n=[];return t.split(" ").forEach(function(t,i){var r=e.at(i);r&&n.push(vt(vt({},r.attributes),{value:t}))}),n},getFullValue:function(){var t="";return this.each(function(e){return t+="".concat(e.getFullValue()," ")}),t.trim()}})},function(t,e,n){var i=n(82);t.exports=function(t,e){if(null==t)return{};var n,r,o=i(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i).a.$;e.default={startSelectPosition:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isPointed=!1;var r=this.editorModel.get("Utils"),o=t.ownerDocument.body;r&&!this.sorter&&(this.sorter=new r.Sorter({container:o,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:e,wmargin:1,nested:1,em:this.editorModel,canvasRelative:1,scale:function(){return n.em.getZoomDecimal()}})),i.onStart&&(this.sorter.onStart=i.onStart),t&&this.sorter.startSort(t,{container:o})},getOffsetDim:function(){var t=this.offset(this.canvas.getFrameEl()),e=this.offset(this.canvas.getElement());return{top:t.top-e.top,left:t.left-e.left}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex="after"==this.posMethod&&0!==this.cDim.length?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=0!==this.cDim.length&&"after"==this.posMethod&&this.posIndex==this.cDim.length,this.posTargetEl=0===this.cDim.length?r(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?r(this.cDim[this.posIndex][5]).parent():r(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(t,e,n){var i=t||0,r=e||"before",o=n.length,a=0!==o&&"after"==r&&i==o;return 0!==o&&(!a&&!n[i][4]||n[i-1]&&!n[i-1][4]||a&&!n[i-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},function(t,e,n){"use strict";var i=n(40);window.Promise=window.Promise||i.a,e.a="function"==typeof fetch?fetch.bind():function(t,e){return new i.a(function(n,r){var o=new XMLHttpRequest;for(var a in o.open(e.method||"get",t),o.withCredentials="include"==e.credentials,e.headers||{})o.setRequestHeader(a,e.headers[a]);o.onload=function(t){return n({status:o.status,statusText:o.statusText,text:function(){return i.a.resolve(o.responseText)}})},o.onerror=r,o.upload&&e.onProgress&&(o.upload.onprogress=e.onProgress),e.body?o.send(e.body):o.send()})}},function(t,e,n){"use strict";var i=n(8),r=n.n(i),o=n(0);e.a=function(t){var e=t,n="data-gjs-";return{compTypes:"",modelAttrStart:n,splitPropsFromAttr:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={},r={};return Object(o.each)(e,function(e,a){if(0===a.indexOf(t.modelAttrStart)){var s=a.replace(n,""),l=e.length,c=e&&Object(o.isString)(e),u=c&&e.substr(0,1),d=c&&e.substr(l-1);e="false"!==(e="true"===e||e)&&e;try{e="{"==u&&"}"==d||"["==u&&"]"==d?JSON.parse(e):e}catch(t){}i[s]=e}else r[a]=e}),{props:i,attrs:r}},parseStyle:function(t){for(var e={},n=t.split(";"),i=0,r=n.length;i<r;i++){var o=n[i].trim();if(o){var a=o.split(":");e[a[0].trim()]=a.slice(1).join(":").trim()}}return e},parseClass:function(t){for(var e=[],n=t.split(" "),i=0,r=n.length;i<r;i++){var o=n[i].trim();o&&e.push(o)}return e},parseNode:function(i){for(var o=[],a=i.childNodes,s=0,l=a.length;s<l;s++){var c=a[s],u=c.attributes||[],d=u.length,h=o[o.length-1],f=c.childNodes.length,p=this.compTypes,g={};if(p){var m="",v=c.getAttribute&&c.getAttribute("".concat(n,"type"));if(v)g={type:v};else{for(var y=0;y<p.length;y++){var b=p[y];if(m=b.model.isComponent(c)){"object"!==r()(m)&&(m={type:b.id});break}}g=m}}g.tagName||(g.tagName=c.tagName?c.tagName.toLowerCase():""),d&&(g.attributes={});for(var w=0;w<d;w++){var E=u[w].nodeName,C=u[w].nodeValue;if("style"==E)g.style=this.parseStyle(C);else if("class"==E)g.classes=this.parseClass(C);else{if("contenteditable"==E)continue;if(0===E.indexOf(n)){var T=E.replace(n,""),_=C.length,O=C&&C.substr(0,1),k=C&&C.substr(_-1);C="false"!==(C="true"===C||C)&&C;try{C="{"==O&&"}"==k||"["==O&&"]"==k?JSON.parse(C):C}catch(t){}g[T]=C}else""===C&&!0===c[E]&&(C=!0),g.attributes[E]=C}}if(f&&!g.components){var D=c.childNodes[0];1===f&&3===D.nodeType?(!g.type&&(g.type="text"),g.components={type:"textnode",content:D.nodeValue}):g.components=this.parseNode(c)}if("textnode"==g.type){if(h&&"textnode"==h.type){h.content+=g.content;continue}if(!t.keepEmptyTextNodes){var x=c.nodeValue;if(" "!=x&&!x.trim())continue}}var I=g.components;if(!g.type&&I){for(var S=1,R=0,A=0;A<I.length;A++){var N=I[A],P=N.type;if(["text","textnode"].indexOf(P)<0&&e.textTags.indexOf(N.tagName)<0){S=0;break}"textnode"==P&&(R=1)}S&&R&&(g.type="text")}(g.tagName||"textnode"==g.type)&&o.push(g)}return o},parse:function(t,n){var i=e.em,r=i&&i.get("Config")||{},o={html:"",css:""},a=document.createElement("div");a.innerHTML=t;var s=a.querySelectorAll("script"),l=s.length;if(!r.allowScripts)for(;l--;)s[l].parentNode.removeChild(s[l]);if(n){for(var c=a.querySelectorAll("style"),u=c.length,d="";u--;)d=c[u].innerHTML+d,c[u].parentNode.removeChild(c[u]);d&&(o.css=n.parse(d))}var h=this.parseNode(a),f=1!==h.length||e.returnArray?h:h[0];return o.html=f,i&&i.trigger("parse:html",{input:t,output:o}),o}}}},function(t,e,n){"use strict";var i=n(0),r=n(1),o=n.n(r),a=o.a.Model,s=o.a.View;e.a={types:[],initialize:function(t,e){var n=this;this.model=function(){var t,e,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r&&r.type){var a=n.getBaseType();t=(i=n.getType(r.type))?i.model:a.model,e=i?i.view:a.view}else{var s=n.recognizeType(r);t=(i=s.type).model,e=i.view,r=s.attributes}var l=new t(r,o);return l.typeView=e,l};var i=this.init&&this.init.bind(this);i&&i()},recognizeType:function(t){for(var e=this.getTypes(),n=0;n<e.length;n++){var i=e[n],r=i.isType(t);if(r="boolean"==typeof r&&r?{type:i.id}:r)return{type:i,attributes:r}}return{type:this.getBaseType(),attributes:t}},getBaseType:function(){var t=this.getTypes();return t[t.length-1]},getTypes:function(){return this.types},getType:function(t){for(var e=this.getTypes(),n=0;n<e.length;n++){var i=e[n];if(i.id===t)return i}},addType:function(t,e){var n=this.getType(t),r=this.getBaseType(),o=n?n.model:r.model,l=n?n.view:r.view,c=e.model,u=e.view,d=e.isType;c=c instanceof a||Object(i.isFunction)(c)?c:o.extend(c||{}),u=u instanceof s||Object(i.isFunction)(u)?u:l.extend(u||{}),!this.extendViewApi||e.model||e.view||(u=u.extend(e)),n?(n.model=c,n.view=u,n.isType=d||n.isType):(e.id=t,e.model=c,e.view=u,e.isType=d||function(e){if(e&&e.type==t)return!0},this.getTypes().unshift(e))}}},function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=n(0),a=Number.MAX_VALUE;e.a=r.a.Model.extend({initialize:function(){this.compCls=[],this.ids=[]},buildFromModel:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="",r=this.em,o=r&&r.getConfig("avoidInlineStyle"),a=t.styleToString(),s=t.get("classes"),l=n.wrapperIsBody,c=t.get("wrapper");if(this.ids.push("#".concat(t.getId())),s.each(function(t){return e.compCls.push(t.getFullName())}),!o&&a){var u="#".concat(t.getId());i="".concat(u=l&&c?"body":u,"{").concat(a,"}")}return t.components().each(function(t){return i+=e.buildFromModel(t,n)}),i},build:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.cssc,r=n.em||"";this.em=r,this.compCls=[],this.ids=[];var a=this.buildFromModel(t,n),s=Object(o.isUndefined)(n.clearStyles)&&r?r.getConfig("clearStyles"):n.clearStyles;if(i){var l=i.getAll(),c={},u=[];l.each(function(t){var i=t.getAtRule();if(i){var r=c[i];r?r.push(t):c[i]=[t]}else a+=e.buildFromRule(t,u,n)}),this.sortMediaObject(c).forEach(function(t){var i="",r=t.key;t.value.forEach(function(t){var o=e.buildFromRule(t,u,n);t.get("singleAtRule")?a+="".concat(r,"{").concat(o,"}"):i+=o}),i&&(a+="".concat(r,"{").concat(i,"}"))}),r&&s&&l.remove(u)}return a},buildFromRule:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="",a=t.selectorsToString({skipAdd:1}),s=t.get("selectorsAdd"),l=t.get("singleAtRule");if(t.get("selectors").each(function(t){var e=t.getFullName();(i.compCls.indexOf(e)>=0||i.ids.indexOf(e)>=0||r.keepUnusedStyles)&&(n=1)}),a&&n||s||l){var c=t.getDeclaration();c&&(o+=c)}else e.push(t);return o},getQueryLength:function(t){var e=/(-?\d*\.?\d+)\w{0,}/.exec(t);return e?parseFloat(e[1]):a},sortMediaObject:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[];return Object(o.each)(e,function(t,e){return n.push({key:e,value:t})}),n.sort(function(e,n){var i=[e.key,n.key].every(function(t){return-1!==t.indexOf("min-width")}),r=i?e.key:n.key,o=i?n.key:e.key;return t.getQueryLength(r)-t.getQueryLength(o)})}})},function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=n(0),a=n(3),s=n(18);r.a.$,e.a=s.a.extend({events:{"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"},template:function(){var t=this.ppfx;return'\n      <span class="'.concat(t,'input-holder"></span>\n      <span class="').concat(t,'field-units"></span>\n      <div class="').concat(t,'field-arrows" data-arrows>\n        <div class="').concat(t,'field-arrow-u" data-arrow-up></div>\n        <div class="').concat(t,'field-arrow-d" data-arrow-down></div>\n      </div>\n    ')},inputClass:function(){var t=this.ppfx;return this.opts.contClass||"".concat(t,"field ").concat(t,"field-integer")},initialize:function(){s.a.prototype.initialize.apply(this,arguments),Object(o.bindAll)(this,"moveIncrement","upIncrement"),this.doc=document,this.listenTo(this.model,"change:unit",this.handleModelChange)},setValue:function(t,e){var n=e||{},i=this.validateInputValue(t,{deepCheck:1}),r={value:i.value};(i.unit||i.force)&&(r.unit=i.unit),this.model.set(r,n),n.silent&&this.handleModelChange()},handleChange:function(t){t.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},handleUnitChange:function(t){t.stopPropagation();var e=this.getUnitEl().value;this.model.set("unit",e),this.elementUpdated()},handleKeyDown:function(t){"ArrowUp"===t.key&&(t.preventDefault(),this.upArrowClick()),"ArrowDown"===t.key&&(t.preventDefault(),this.downArrowClick())},elementUpdated:function(){this.model.trigger("el:change")},handleModelChange:function(){var t=this.model;this.getInputEl().value=t.get("value");var e=this.getUnitEl();e&&(e.value=t.get("unit")||"")},getUnitEl:function(){if(!this.unitEl){var t=this.model,e=t.get("units")||[];if(e.length){var n=[];e.forEach(function(e){var i=e==t.get("unit")?"selected":"";n.push("<option ".concat(i,">").concat(e,"</option>"))});var i=document.createElement("div");i.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(n.join(""),"</select>"),this.unitEl=i.firstChild}}return this.unitEl},upArrowClick:function(){var t=this.model,e=t.get("step"),n=parseFloat(t.get("value"));n=this.normalizeValue(n+e);var i=this.validateInputValue(n);t.set("value",i.value),this.elementUpdated()},downArrowClick:function(){var t=this.model,e=t.get("step"),n=parseFloat(t.get("value")),i=this.normalizeValue(n-e),r=this.validateInputValue(i);t.set("value",r.value),this.elementUpdated()},downIncrement:function(t){t.preventDefault(),this.moved=0;var e=this.model.get("value");e=this.normalizeValue(e),this.current={y:t.pageY,val:e},Object(a.w)(this.doc,"mousemove",this.moveIncrement),Object(a.w)(this.doc,"mouseup",this.upIncrement)},moveIncrement:function(t){this.moved=1;var e=this.model,n=e.get("step"),i=this.current,r=this.normalizeValue(i.val+(i.y-t.pageY)*n);return this.prValue=this.validateInputValue(r).value,e.set("value",this.prValue,{avoidStore:1}),!1},upIncrement:function(){var t=this.model,e=t.get("step");if(Object(a.v)(this.doc,"mouseup",this.upIncrement),Object(a.v)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var n=this.prValue-e;t.set("value",n,{avoidStore:1}).set("value",n+e),this.elementUpdated()}},normalizeValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.model.get("step"),i=0;if(isNaN(t))return e;if(t=parseFloat(t),Math.floor(t)!==t){var r=n.toString().split(".")[1];i=r?r.length:0}return i?parseFloat(t.toFixed(i)):t},validateInputValue:function(t,e){var n=0,i=e||{},r=this.model,a=Object(o.isUndefined)(t)?"":t,s=r.get("units")||[],l=r.get("unit")||s.length&&s[0]||"",c=r.get("max"),u=r.get("min"),d=!!r.get("limitlessMax"),h=!!r.get("limitlessMin");if(i.deepCheck){var f=r.get("fixedValues")||[];if(a){var p=new RegExp("^"+f.join("|"),"g");if(f.length&&p.test(a))a=a.match(p)[0],l="",n=1;else{var g=a+"";a+="",a=parseFloat(a.replace(",",".")),a=isNaN(a)?"":a;var m=g.replace(a,"");Object(o.indexOf)(s,m)>=0&&(l=m)}}}return d||Object(o.isUndefined)(c)||""===c||(a=a>c?c:a),h||Object(o.isUndefined)(u)||""===u||(a=a<u?u:a),{force:n,value:a,unit:l}},render:function(){s.a.prototype.render.call(this),this.unitEl=null;var t=this.getUnitEl();return t&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(t),this}})},function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=n(34),a=r.a.Collection;e.a=a.extend({model:o.a,initialize:function(t,e){var n=this;e&&e.em&&(this.editor=e.em),setTimeout(function(){n.on("remove",n.onRemove),n.on("add",n.onAdd)})},toJSON:function(t){return a.prototype.toJSON.call(this,t).filter(function(t){return t.style})},onAdd:function(t){t.ensureSelectors()},onRemove:function(t){var e=this.editor;e.stopListening(t),e.get("UndoManager").remove(t)},add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=this.editor.get("Parser").parseCss(t)),e.em=this.editor,a.prototype.add.apply(this,[t,e])}})},function(t,e,n){"use strict";var i=n(7),r=n.n(i),o=n(2),a=n.n(o),s=n(0),l=n(1),c=n.n(l),u=n(23),d=n(12);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var p=window.CSS;e.a=c.a.Model.extend(u.a).extend({defaults:{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:0,important:0},initialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=t||{},this.opt=e,this.em=e.em,this.ensureSelectors()},clone:function(){var t=f({},this.opt),e=f({},this.attributes);return e.selectors=this.get("selectors").map(function(t){return t.clone()}),new this.constructor(e,t)},ensureSelectors:function(){var t=this.em,e=t&&t.get("SelectorManager"),n=[this,"change:selectors",this.ensureSelectors],i=this.getSelectors();if(this.stopListening.apply(this,n),i.models&&(i=r()(i.models)),Array.isArray(i)){var o=i.filter(function(t){return t}).map(function(t){return e?e.add(t):t});i=new d.a(o)}this.set("selectors",i),this.listenTo.apply(this,n)},getAtRule:function(){var t=this.get("atRuleType"),e=this.get("mediaText"),n=t?"@".concat(t):e?"@media":"";return n+(e&&n?" ".concat(e):"")},selectorsToString:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=[],n=this.em,i=this.get("state"),r=this.get("wrapper"),o=this.get("selectorsAdd"),a={escape:function(t){return p&&p.escape?p.escape(t):t}},s=r&&n&&n.getConfig("wrapperIsBody")?"body":this.get("selectors").getFullString(0,a),l=i&&!t.skipState?":".concat(i):"";return s&&e.push("".concat(s).concat(l)),o&&!t.skipAdd&&e.push(o),e.join(", ")},getDeclaration:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="",n=this.selectorsToString(),i=this.styleToString(t),r=this.get("singleAtRule");return(n||r)&&i&&(e=r?i:"".concat(n,"{").concat(i,"}")),e},toCSS:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="",n=this.getAtRule(),i=this.getDeclaration(t);return i&&(e=i),n&&e&&(e="".concat(n,"{").concat(e,"}")),e},toJSON:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=c.a.Model.prototype.toJSON.apply(this,e);if(this.em.getConfig("avoidDefaults")){var r=this.defaults;Object(s.forEach)(r,function(t,e){i[e]===t&&delete i[e]}),Object(s.isEmpty)(i.selectors)&&delete i.selectors,Object(s.isEmpty)(i.style)&&delete i.style}return i},compare:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e||"",o=n||"",a=i.selectorsAdd||"",l=i.atRuleType||"";t instanceof Array||t.models||(t=[t]);var c=Object(s.map)(t.models||t,function(t){return t.get("name")}),u=Object(s.map)(this.get("selectors").models,function(t){return t.get("name")});if(c.length!==u.length)return!1;for(var d=0;d<c.length;d++){for(var h=0,f=0;f<u.length;f++)c[d]===u[f]&&(h=1);if(0===h)return!1}return this.get("state")===r&&this.get("mediaText")===o&&this.get("selectorsAdd")===a&&this.get("atRuleType")===l||!1}})},function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=n(0);e.a=r.a.View.extend({initialize:function(t){this.opts=t||{},this.config=t.config||{},this.em=this.config.em;var e=this.collection;this.listenTo(e,"add",this.addTo),this.listenTo(e,"reset",this.resetChildren),this.listenTo(e,"remove",this.removeChildren)},removeChildren:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.views.forEach(function(t){if(t){var e=t.childrenView,n=t.scriptContainer;e&&e.stopListening(),n&&n.remove(),t.remove.apply(t)}}),t.components().forEach(function(t){return n.removeChildren(t,e,i)})},addTo:function(t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.config.em,i=this.collection.indexOf(t);if(this.addToCollection(t,null,i),n&&!e.temporary){!function t(e){n.trigger("component:add",e),e.components().forEach(function(e){return t(e)})}(t)}},addToCollection:function(t,e,i){this.compView||(this.compView=n(6).default);for(var r=this.config,a=this.opts,s=this.em,l=e||null,c=r.frameView,u=void 0===c?{}:c,d=u.model&&t.getView(u.model),h=a.componentTypes||s&&s.get("DomComponents").getTypes(),f=t.get("type"),p=this.compView,g=0;g<h.length;g++)if(h[g].id==f){p=h[g].view;break}var m,v=d||new p({model:t,config:r,componentTypes:h});try{m=v.render().el}catch(t){m=document.createTextNode(""),s.logError(t)}if(l)l.appendChild(m);else{var y=this.parentEl,b=y.childNodes;if(Object(o.isUndefined)(i))y.appendChild(m);else{var w=b.length==i;w&&i--,w||!b.length?y.appendChild(m):y.insertBefore(m,b[i])}}return m},resetChildren:function(t){var e=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).previousModels,i=void 0===n?[]:n;this.parentEl.innerHTML="",i.forEach(function(t){return e.removeChildren(t,e.collection)}),t.each(function(t){return e.addToCollection(t)})},render:function(t){var e=this,n=this.el,i=document.createDocumentFragment();return this.parentEl=t||this.el,this.collection.each(function(t){return e.addToCollection(t,i)}),n.innerHTML="",n.appendChild(i),this}})},function(t,e,n){"use strict";var i,r=n(0),o=n(3),a=n(1),s=n.n(a),l=n(6),c=n(5),u="contentEditable",d=s.a.$;e.a=s.a.View.extend({events:{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-open]":"toggleOpening","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","mouseout [data-toggle-select]":"handleHoverOut","dblclick [data-name]":"handleEdit","keydown [data-name]":"handleEditKey","focusout [data-name]":"handleEditEnd"},template:function(t){var e=this.pfx,n=this.ppfx,i=this.config,r=this.clsNoEdit,o=i.hidable,a=this.countChildren(t),s=a?"":this.clsNoChild,l="".concat(this.clsTitle," ").concat(s),c="".concat(this.clsTitleC," ").concat(n,"one-bg"),u="".concat(this.clsCaret," fa fa-chevron-right"),d="".concat(this.inputNameCls," ").concat(r," ").concat(n,"no-app"),h=this.level+1,f="".concat(30+10*h,"px"),p=t.getName(),g=t.getIcon(),m="".concat(e,"layer");return"\n      ".concat(o?'<i class="'.concat(e,"layer-vis fa fa-eye ").concat(this.isVisible()?"":"fa-eye-slash",'" data-toggle-visible></i>'):"",'\n      <div class="').concat(c,'">\n        <div class="').concat(l,'" style="padding-left: ').concat(f,'" data-toggle-select>\n          <div class="').concat(e,'layer-title-inn">\n            <i class="').concat(u,'" data-toggle-open></i>\n            ').concat(g?'<span class="'.concat(m,'__icon">').concat(g,"</span>"):"",'\n            <span class="').concat(d,'" data-name>').concat(p,'</span>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(this.clsCount,'" data-count>').concat(a||"",'</div>\n      <div class="').concat(this.clsMove,'" data-toggle-move>\n        <i class="fa fa-arrows"></i>\n      </div>\n      <div class="').concat(this.clsChildren,'"></div>')},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.bindAll)(this,"__render"),this.opt=t,this.level=t.level;var e=t.config||{},n=e.onInit;this.config=e,this.em=t.config.em,this.ppfx=this.em.get("Config").stylePrefix,this.sorter=t.sorter||"",this.pfx=this.config.stylePrefix,this.parentView=t.parentView;var i=this.pfx,o=this.ppfx,a=this.model,s=a.get("components"),l=a.get("type")||"default";a.set("open",!1),this.listenTo(s,"remove add reset",this.checkChildren),this.listenTo(a,"change:status",this.updateStatus),this.listenTo(a,"change:open",this.updateOpening),this.listenTo(a,"change:layerable",this.updateLayerable),this.listenTo(a,"change:style:display",this.updateVisibility),this.className="".concat(i,"layer ").concat(i,"layer__t-").concat(l," no-select ").concat(o,"two-color"),this.inputNameCls="".concat(o,"layer-name"),this.clsTitleC="".concat(i,"layer-title-c"),this.clsTitle="".concat(i,"layer-title"),this.clsCaret="".concat(i,"layer-caret"),this.clsCount="".concat(i,"layer-count"),this.clsMove="".concat(i,"layer-move"),this.clsChildren="".concat(i,"layer-children"),this.clsNoChild="".concat(i,"layer-no-chld"),this.clsEdit="".concat(this.inputNameCls,"--edit"),this.clsNoEdit="".concat(this.inputNameCls,"--no-edit"),this.$el.data("model",a),this.$el.data("collection",s),a.viewLayer=this,n.bind(this)({component:a,render:this.__render,listenTo:this.listenTo})},getVisibilityEl:function(){return this.eyeEl||(this.eyeEl=this.$el.children(".".concat(this.pfx,"layer-vis"))),this.eyeEl},updateVisibility:function(){var t=this.pfx,e=this.model,n="".concat(t,"layer-hidden"),i="none"===e.getStyle().display?"addClass":"removeClass";this.$el[i](n),this.getVisibilityEl()[i]("fa-eye-slash")},toggleVisibility:function(t){t&&t.stopPropagation();var e=this.model,n=this.em,i="__prev-display",r=e.get(i),o=e.getStyle(),a=o.display;"none"==a?(delete o.display,r&&(o.display=r,e.unset(i))):(a&&e.set(i,a),o.display="none"),e.setStyle(o),n&&n.trigger("component:toggled")},handleEdit:function(t){t&&t.stopPropagation();var e=this.em,n=this.$el,i=this.clsNoEdit,r=this.clsEdit,o=this.getInputName();o[u]=!0,o.focus(),document.execCommand("selectAll",!1,null),e&&e.setEditing(1),n.find(".".concat(this.inputNameCls)).removeClass(i).addClass(r)},handleEditKey:function(t){t.stopPropagation(),(Object(o.o)(t)||Object(o.n)(t))&&this.handleEditEnd(t)},handleEditEnd:function(t){t&&t.stopPropagation();var e=this.em,n=this.$el,i=this.clsNoEdit,r=this.clsEdit,o=this.getInputName(),a=o.textContent;o.scrollLeft=0,o[u]=!1,this.model.set({"custom-name":a}),e&&e.setEditing(0),n.find(".".concat(this.inputNameCls)).addClass(i).removeClass(r)},getInputName:function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},updateOpening:function(){var t=this.opt.opened||{},e=this.model,n="fa-chevron-down";e.get("open")?(this.$el.addClass("open"),this.getCaret().addClass(n),t[e.cid]=e):(this.$el.removeClass("open"),this.getCaret().removeClass(n),delete t[e.cid])},toggleOpening:function(t){var e=this.model;t.stopImmediatePropagation(),e.get("components").length&&e.set("open",!e.get("open"))},handleSelect:function(t){t.stopPropagation();var e=this.em,n=this.config,i=this.model;if(e){e.setSelected(i,{fromLayers:1,event:t});var r=n.scrollCanvas;r&&i.views.forEach(function(t){return t.scrollIntoView(r)})}},handleHover:function(t){t.stopPropagation();var e=this.em,n=this.config,i=this.model;e&&n.showHover&&e.setHovered(i,{fromLayers:1})},handleHoverOut:function(t){t.stopPropagation();var e=this.em,n=this.config;e&&n.showHover&&e.setHovered(0,{fromLayers:1})},startSort:function(t){t.stopPropagation();var e=this.em,n=this.sorter;t.button&&0!==t.button||n&&(n.onStart=function(t){return e.trigger("".concat(c.b,":start"),t)},n.onMoveClb=function(t){return e.trigger(c.b,t)},n.startSort(t.target))},freeze:function(){this.$el.addClass(this.pfx+"opac50"),this.model.set("open",0)},unfreeze:function(){this.$el.removeClass(this.pfx+"opac50")},updateStatus:function(t){l.default.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover}])},isVisible:function(){var t=this.model.getStyle().display;return!(t&&"none"===t)},checkChildren:function(){var t=this.model,e=this.clsNoChild,n=this.countChildren(t),i=this.$el.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)),r=this.cnt;r||(r=this.$el.children("[data-count]").get(0),this.cnt=r),i[n?"removeClass":"addClass"](e),r&&(r.innerHTML=n||""),!n&&t.set("open",0)},countChildren:function(t){var e=0;return t.get("components").each(function(t){var n=this.opt.isCountable,i=this.config.hideTextnode;n&&!n(t,i)||e++},this),e},getCaret:function(){return this.caret&&this.caret.length||(this.pfx,this.caret=this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))),this.caret},setRoot:function(t){t=Object(r.isString)(t)?this.em.getWrapper().find(t)[0]:t;var e=Object(o.g)(t,d);e&&(this.stopListening(),this.model=e,this.initialize(this.opt),this.render())},updateLayerable:function(){(this.parentView||this).render()},render:function(){var t=this.model,e=this.config,o=this.pfx,a=this.ppfx,s=this.opt.isCountable,l=s&&!s(t,e.hideTextnode),c=this.isVisible(),u=this.$el.empty(),d=this.level+1;Object(r.isUndefined)(i)&&(i=n(90).default);var h=new i({collection:t.get("components"),config:this.config,sorter:this.sorter,opened:this.opt.opened,parentView:this,parent:t,level:d}).render().$el;return this.config.showWrapper||1!==d?(u.html(this.template(t)),u.find(".".concat(this.clsChildren)).append(h)):u.append(h),t.get("draggable")&&this.config.sortable||u.children(".".concat(this.clsMove)).remove(),!c&&(this.className+=" ".concat(o,"hide")),l&&(this.className+=" ".concat(a,"hidden")),u.attr("class",this.className),this.updateOpening(),this.updateStatus(),this.updateVisibility(),this.__render(),this},__render:function(){var t=this.model,e=this.config,n=this.el;e.onRender.bind(this)({component:t,el:n})}})},function(t,e,n){"use strict";var i=n(1),r=n.n(i),o=r.a.View.extend({tagName:"style",initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=t.config||{};var e=this.model;this.listenTo(e,"change:style change:state change:mediaText",this.render),this.listenTo(e,"destroy remove",this.remove),this.listenTo(e.get("selectors"),"change",this.render)},render:function(){var t=this.model.get("important");return this.el.innerHTML=this.model.toCSS({important:t}),this}}),a=o.extend({_createElement:function(t){return document.createTextNode("")},render:function(){var t=this.model,e=t.get("important");return this.el.textContent=t.getDeclaration({important:e}),this}}),s=r.a.$,l=function(t,e){return"".concat(t).concat(e?"-".concat(parseFloat(e)):"")};e.a=r.a.View.extend({initialize:function(t){var e=t.config||{};this.atRules={},this.config=e,this.em=e.em,this.pfx=e.stylePrefix||"",this.className=this.pfx+"rules";var n=this.collection;this.listenTo(n,"add",this.addTo),this.listenTo(n,"reset",this.render)},addTo:function(t){this.addToCollection(t)},addToCollection:function(t,e){if(this.renderStarted){var n,i,r=e||null,s={model:t,config:this.config};if("keyframes"===t.get("atRuleType")){var c=t.getAtRule(),u=this.atRules[c];if(!u){var d=document.createElement("style");u=document.createTextNode(""),d.appendChild(document.createTextNode("".concat(c,"{"))),d.appendChild(u),d.appendChild(document.createTextNode("}")),this.atRules[c]=u,n=d}i=new a(s),u.appendData(i.render().el.textContent)}else n=(i=new o(s)).render().el;var h=this.className,f=t.get("mediaText"),p=l(h),g=p;if(f&&(g=l(h,this.getMediaWidth(f))),n){var m,v=r||this.el;try{m=v.querySelector("#".concat(g))}catch(t){}m||(m=v.querySelector("#".concat(p))),m.appendChild(n)}return n}},getMediaWidth:function(t){return t&&t.replace("(".concat(this.em.getConfig("mediaCondition"),": "),"").replace(")","")},render:function(){var t=this;this.renderStarted=1,this.atRules={};var e=this.em,n=this.$el,i=this.className,r=this.collection,o=document.createDocumentFragment();n.empty();var a=e.get("DeviceManager").getAll().pluck("priority");return a.every(function(t){return t})&&a.unshift(0),a.forEach(function(t){return s('<div id="'.concat(l(i,t),'"></div>')).appendTo(o)}),r.each(function(e){return t.addToCollection(e,o)}),n.append(o),n.attr("class",i),this}})},function(t,e,n){"use strict";var i=n(2),r=n.n(i),o=n(1),a=n.n(o),s=n(0),l=n(8),c=n.n(l),u=n(18);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var f=a.a.$;!function(t,e){var n={beforeShow:d,move:d,change:d,show:d,hide:d,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},i=[],r=!!/msie/i.exec(window.navigator.userAgent),o=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div").style;return e.cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")}(),a=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var t="";if(r)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function l(e,n,i,r){for(var a=[],s=0;s<e.length;s++){var l=e[s];if(l){var c=O(l),u=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=O.equals(n,l)?" sp-thumb-active":"";var d=c.toString(r.preferredFormat||"rgb"),h=o?"background-color:"+c.toRgbString():"filter:"+c.toFilter();a.push('<span title="'+d+'" data-color="'+c.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+h+';"></span></span>')}else a.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",r.noColorSelectedText)).html())}return"<div class='sp-cf "+i+"'>"+a.join("")+"</div>"}function u(c,u){var d,m,v=function(e,i){var r=t.extend({},n,e);return r.callbacks={move:f(r.move,i),change:f(r.change,i),show:f(r.show,i),hide:f(r.hide,i),beforeShow:f(r.beforeShow,i)},r}(u,c),y=v.flat,b=v.showSelectionPalette,w=v.localStorageKey,E=v.theme,C=v.callbacks,T=(d=Ht,10,function(){var t=this,e=arguments;m||(m=setTimeout(function(){m=null,d.apply(t,e)},10))}),_=!1,k=!1,D=0,x=0,I=0,S=0,R=0,A=0,N=0,P=0,M=0,L=0,K=1,j=[],F=[],B={},$=v.selectionPalette.slice(0),H=v.maxSelectionSize,U="sp-dragging",z=null,V=c.ownerDocument,W=(V.body,t(c)),q=!1,Y=t(s,V).addClass(E),G=Y.find(".sp-picker-container"),X=Y.find(".sp-color"),Z=Y.find(".sp-dragger"),J=Y.find(".sp-hue"),Q=Y.find(".sp-slider"),tt=Y.find(".sp-alpha-inner"),et=Y.find(".sp-alpha"),nt=Y.find(".sp-alpha-handle"),it=Y.find(".sp-input"),rt=Y.find(".sp-palette"),ot=Y.find(".sp-initial"),at=Y.find(".sp-cancel"),st=Y.find(".sp-clear"),lt=Y.find(".sp-choose"),ct=Y.find(".sp-palette-toggle"),ut=W.is("input"),dt=ut&&"color"===W.attr("type")&&g(),ht=ut&&!y,ft=ht?t(a).addClass(E).addClass(v.className).addClass(v.replacerClassName):t([]),pt=ht?ft:W,gt=ft.find(".sp-preview-inner"),mt=v.color||ut&&W.val(),vt=!1,yt=v.preferredFormat,bt=!v.showButtons||v.clickoutFiresChange,wt=!mt,Et=v.allowEmpty&&!dt;function Ct(){if(v.showPaletteOnly&&(v.showPalette=!0),ct.text(v.showPaletteOnly?v.togglePaletteMoreText:v.togglePaletteLessText),v.palette){j=v.palette.slice(0),F=t.isArray(j[0])?j:[j],B={};for(var e=0;e<F.length;e++)for(var n=0;n<F[e].length;n++){var i=O(F[e][n]).toRgbString();B[i]=!0}}Y.toggleClass("sp-flat",y),Y.toggleClass("sp-input-disabled",!v.showInput),Y.toggleClass("sp-alpha-enabled",v.showAlpha),Y.toggleClass("sp-clear-enabled",Et),Y.toggleClass("sp-buttons-disabled",!v.showButtons),Y.toggleClass("sp-palette-buttons-disabled",!v.togglePaletteOnly),Y.toggleClass("sp-palette-disabled",!v.showPalette),Y.toggleClass("sp-palette-only",v.showPaletteOnly),Y.toggleClass("sp-initial-disabled",!v.showInitial),Y.addClass(v.className).addClass(v.containerClassName),Ht()}function Tt(){if(w&&window.localStorage){try{var e=window.localStorage[w].split(",#");e.length>1&&(delete window.localStorage[w],t.each(e,function(t,e){_t(e)}))}catch(t){}try{$=window.localStorage[w].split(";")}catch(t){}}}function _t(e){if(b){var n=O(e).toRgbString();if(!B[n]&&-1===t.inArray(n,$))for($.push(n);$.length>H;)$.shift();if(w&&window.localStorage)try{window.localStorage[w]=$.join(";")}catch(t){}}}function Ot(){var e=Kt(),n=t.map(F,function(t,n){return l(t,e,"sp-palette-row sp-palette-row-"+n,v)});Tt(),$&&n.push(l(function(){var t=[];if(v.showPalette)for(var e=0;e<$.length;e++){var n=O($[e]).toRgbString();B[n]||t.push($[e])}return t.reverse().slice(0,v.maxSelectionSize)}(),e,"sp-palette-row sp-palette-row-selection",v)),rt.html(n.join(""))}function kt(){if(v.showInitial){var t=vt,e=Kt();ot.html(l([t,e],e,"sp-palette-row-initial",v))}}function Dt(){(x<=0||D<=0||S<=0)&&Ht(),k=!0,Y.addClass(U),z=null,W.trigger("dragstart.spectrum",[Kt()])}function xt(){k=!1,Y.removeClass(U),W.trigger("dragstop.spectrum",[Kt()])}function It(){var t=it.val();if(null!==t&&""!==t||!Et){var e=O(t);e.isValid()?(Lt(e),$t(!0)):it.addClass("sp-validation-error")}else Lt(null),$t(!0)}function St(){_?Pt():Rt()}function Rt(){var e=t.Event("beforeShow.spectrum");if(_)Ht();else if(W.trigger("beforeShow.spectrum",[Kt()]),!1!==C.beforeShow(Kt())&&!e.isDefaultPrevented()){!function(){for(var t=0;t<i.length;t++)i[t]&&i[t].hide()}(),_=!0;var n=t(V);n.bind("keydown.spectrum",At),n.bind("click.spectrum",Nt),t(window).bind("resize.spectrum",T),ft.addClass("sp-active"),Y.removeClass("sp-hidden"),Ht(),Ft(),vt=Kt(),kt(),C.show(vt),W.trigger("show.spectrum",[vt])}}function At(t){27===t.keyCode&&Pt()}function Nt(t){2!=t.button&&(k||(bt?$t(!0):Mt(),Pt()))}function Pt(){_&&!y&&(_=!1,t(V).unbind("keydown.spectrum",At),t(V).unbind("click.spectrum",Nt),t(window).unbind("resize.spectrum",T),ft.removeClass("sp-active"),Y.addClass("sp-hidden"),C.hide(Kt()),W.trigger("hide.spectrum",[Kt()]))}function Mt(){Lt(vt,!0)}function Lt(t,e){var n,i;O.equals(t,Kt())?Ft():(!t&&Et?wt=!0:(wt=!1,i=(n=O(t)).toHsv(),P=i.h%360/360,M=i.s,L=i.v,K=i.a),Ft(),n&&n.isValid()&&!e&&(yt=v.preferredFormat||n.getFormat()))}function Kt(t){return t=t||{},Et&&wt?null:O.fromRatio({h:P,s:M,v:L,a:Math.round(100*K)/100},{format:t.format||yt})}function jt(){Ft(),C.move(Kt()),W.trigger("move.spectrum",[Kt()])}function Ft(){it.removeClass("sp-validation-error"),Bt();var t=O.fromRatio({h:P,s:1,v:1});X.css("background-color",t.toHexString());var e=yt;K<1&&(0!==K||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=Kt({format:e}),i="";if(gt.removeClass("sp-clear-display"),gt.css("background-color","transparent"),!n&&Et)gt.addClass("sp-clear-display");else{var a=n.toHexString(),s=n.toRgbString();if(o||1===n.alpha?gt.css("background-color",s):(gt.css("background-color","transparent"),gt.css("filter",n.toFilter())),v.showAlpha){var l=n.toRgb();l.a=0;var c=O(l).toRgbString(),u="linear-gradient(left, "+c+", "+a+")";r?tt.css("filter",O(c).toFilter({gradientType:1},a)):(tt.css("background","-webkit-"+u),tt.css("background","-moz-"+u),tt.css("background","-ms-"+u),tt.css("background","linear-gradient(to right, "+c+", "+a+")"))}i=n.toString(e)}v.showInput&&it.val(i),v.showPalette&&Ot(),kt()}function Bt(){var t=M,e=L;if(Et&&wt)nt.hide(),Q.hide(),Z.hide();else{nt.show(),Q.show(),Z.show();var n=t*D,i=x-e*x;n=Math.max(-I,Math.min(D-I,n-I)),i=Math.max(-I,Math.min(x-I,i-I)),Z.css({top:i+"px",left:n+"px"});var r=K*R;nt.css({left:r-A/2+"px"});var o=P*S;Q.css({top:o-N+"px"})}}function $t(t){var e=Kt(),n="",i=!O.equals(e,vt);e&&(n=e.toString(yt),_t(e)),ut&&W.val(n),t&&i&&(C.change(e),W.trigger("change",[e]))}function Ht(){var e,n,i,r,o,a,s,l,c,u,d,h;_&&(D=X.width(),x=X.height(),I=Z.height(),J.width(),S=J.height(),N=Q.height(),R=et.width(),A=nt.width(),y||(Y.css("position","absolute"),v.offset?Y.offset(v.offset):Y.offset((n=pt,i=(e=Y).outerWidth(),r=e.outerHeight(),o=n.outerHeight(),a=e[0].ownerDocument,s=a.documentElement,l=s.clientWidth,c=s.clientHeight,u=l+t(a).scrollLeft(),d=c+t(a).scrollTop(),(h=n.offset()).top+=o,h.left-=Math.min(h.left,h.left+i>u&&u>i?Math.abs(h.left+i-u):0),h.top-=Math.min(h.top,h.top+r>d&&d>r?Math.abs(r+o-0):0),h))),Bt(),v.showPalette&&Ot(),W.trigger("reflow.spectrum"))}function Ut(){Pt(),q=!0,W.attr("disabled",!0),pt.addClass("sp-disabled")}!function(){if(r&&Y.find("*:not(input)").attr("unselectable","on"),Ct(),ht&&W.after(ft).hide(),Et||st.hide(),y)W.after(Y).hide();else{var e="parent"===v.appendTo?W.parent():t(v.appendTo);1!==e.length&&(e=t("body")),e.append(Y)}function n(e){return e.data&&e.data.ignore?(Lt(t(e.target).closest(".sp-thumb-el").data("color")),jt()):(Lt(t(e.target).closest(".sp-thumb-el").data("color")),jt(),$t(!0),v.hideAfterPaletteSelect&&Pt()),!1}Tt(),pt.bind("click.spectrum touchstart.spectrum",function(e){q||St(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(W.is(":disabled")||!0===v.disabled)&&Ut(),Y.click(h),it.change(It),it.bind("paste",function(){setTimeout(It,1)}),it.keydown(function(t){13==t.keyCode&&It()}),at.text(v.cancelText),at.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Mt(),Pt()}),st.attr("title",v.clearText),st.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),wt=!0,jt(),y&&$t(!0)}),lt.text(v.chooseText),lt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),r&&it.is(":focus")&&it.trigger("change"),it.hasClass("sp-validation-error")||($t(!0),Pt())}),ct.text(v.showPaletteOnly?v.togglePaletteMoreText:v.togglePaletteLessText),ct.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),v.showPaletteOnly=!v.showPaletteOnly,v.showPaletteOnly||y||Y.css("left","-="+(G.outerWidth(!0)+5)),Ct()}),p(et,function(t,e,n){K=t/R,wt=!1,n.shiftKey&&(K=Math.round(10*K)/10),jt()},Dt,xt),p(J,function(t,e){P=parseFloat(e/S),wt=!1,v.showAlpha||(K=1),jt()},Dt,xt),p(X,function(t,e,n){if(n.shiftKey){if(!z){var i=M*D,r=x-L*x,o=Math.abs(t-i)>Math.abs(e-r);z=o?"x":"y"}}else z=null;var a=!z||"y"===z;(!z||"x"===z)&&(M=parseFloat(t/D)),a&&(L=parseFloat((x-e)/x)),wt=!1,v.showAlpha||(K=1),jt()},Dt,xt),mt?(Lt(mt),Ft(),yt=v.preferredFormat||O(mt).format,_t(mt)):Ft(),y&&Rt();var i=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";rt.delegate(".sp-thumb-el",i,n),ot.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},n)}();var zt={show:Rt,hide:Pt,toggle:St,reflow:Ht,option:function(n,i){return n===e?t.extend({},v):i===e?v[n]:(v[n]=i,"preferredFormat"===n&&(yt=v.preferredFormat),void Ct())},enable:function(){q=!1,W.attr("disabled",!1),pt.removeClass("sp-disabled")},disable:Ut,offset:function(t){v.offset=t,Ht()},set:function(t){Lt(t),$t()},get:Kt,destroy:function(){W.show(),pt.unbind("click.spectrum touchstart.spectrum"),Y.remove(),ft.remove(),i[zt.id]=null},container:Y};return zt.id=i.push(zt)-1,zt}function d(){}function h(t){t.stopPropagation()}function f(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function p(e,n,i,o){n=n||function(){},i=i||function(){},o=o||function(){};var a=document,s=!1,l={},c=0,u=0,d="ontouchstart"in window,h={};function f(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function p(t){if(s){if(r&&a.documentMode<9&&!t.button)return g();var i=t&&t.touches&&t.touches[0],o=i&&i.pageX||t.pageX,h=i&&i.pageY||t.pageY,p=Math.max(0,Math.min(o-l.left,u)),m=Math.max(0,Math.min(h-l.top,c));d&&f(t),n.apply(e,[p,m,t])}}function g(){s&&(t(a).unbind(h),t(a.body).removeClass("sp-dragging"),setTimeout(function(){o.apply(e,arguments)},0)),s=!1}h.selectstart=f,h.dragstart=f,h["touchmove mousemove"]=p,h["touchend mouseup"]=g,t(e).bind("touchstart mousedown",function(n){(n.which?3==n.which:2==n.button)||s||!1!==i.apply(e,arguments)&&(s=!0,c=t(e).height(),u=t(e).width(),l=t(e).offset(),t(a).bind(h),t(a.body).addClass("sp-dragging"),p(n),f(n))})}function g(){return t.fn.spectrum.inputTypeColorSupport()}var m="spectrum.id";t.fn.spectrum=function(e,n){if("string"==typeof e){var r=this,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=i[t(this).data(m)];if(n){var a=n[e];if(!a)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?r=n.get():"container"==e?r=n.container:"option"==e?r=n.option.apply(n,o):"destroy"==e?(n.destroy(),t(this).removeData(m)):a.apply(n,o)}}),r}return this.spectrum("destroy").each(function(){var n=u(this,t.extend({},e,t(this).data()));t(this).data(m,n.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=p,t.fn.spectrum.defaults=n,t.fn.spectrum.inputTypeColorSupport=function e(){if(void 0===e._cachedResult){var n=t("<input type='color'/>")[0];e._cachedResult="color"===n.type&&""!==n.value}return e._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!g()&&e.spectrum({preferredFormat:"hex6"})};var v=/^[\s,#]+/,y=/\s+$/,b=0,w=Math,E=w.round,C=w.min,T=w.max,_=w.random,O=function t(e,n){if(n=n||{},(e=e||"")instanceof t)return e;if(!(this instanceof t))return new t(e,n);var i=function(t){var e,n,i,r={r:0,g:0,b:0},o=1,a=!1,s=!1;return"string"==typeof t&&(t=function(t){t=t.replace(v,"").replace(y,"").toLowerCase();var e,n,i=!1;if(U[t])t=U[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=tt.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=tt.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=tt.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=tt.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=tt.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=tt.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=tt.hex8.exec(t))?{a:(n=e[1],Y(n)/255),r:Y(e[2]),g:Y(e[3]),b:Y(e[4]),format:i?"name":"hex8"}:(e=tt.hex6.exec(t))?{r:Y(e[1]),g:Y(e[2]),b:Y(e[3]),format:i?"name":"hex"}:!!(e=tt.hex3.exec(t))&&{r:Y(e[1]+""+e[1]),g:Y(e[2]+""+e[2]),b:Y(e[3]+""+e[3]),format:i?"name":"hex"}}(t)),"object"==c()(t)&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(e=t.r,n=t.g,i=t.b,r={r:255*W(e,255),g:255*W(n,255),b:255*W(i,255)},a=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=X(t.s),t.v=X(t.v),r=function(t,e,n){t=6*W(t,360),e=W(e,100),n=W(n,100);var i=w.floor(t),r=t-i,o=n*(1-e),a=n*(1-r*e),s=n*(1-(1-r)*e),l=i%6;return{r:255*[n,a,o,o,s,n][l],g:255*[s,n,n,a,o,o][l],b:255*[o,o,s,n,n,a][l]}}(t.h,t.s,t.v),a=!0,s="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=X(t.s),t.l=X(t.l),r=function(t,e,n){var i,r,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=W(t,360),e=W(e,100),n=W(n,100),0===e)i=r=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=a(l,s,t+1/3),r=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*i,g:255*r,b:255*o}}(t.h,t.s,t.l),a=!0,s="hsl"),t.hasOwnProperty("a")&&(o=t.a)),o=V(o),{ok:a,format:t.format||s,r:C(255,T(r.r,0)),g:C(255,T(r.g,0)),b:C(255,T(r.b,0)),a:o}}(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=E(100*this._a)/100,this._format=n.format||i.format,this._gradientType=n.gradientType,this._r<1&&(this._r=E(this._r)),this._g<1&&(this._g=E(this._g)),this._b<1&&(this._b=E(this._b)),this._ok=i.ok,this._tc_id=b++};function k(t,e,n){t=W(t,255),e=W(e,255),n=W(n,255);var i,r,o=T(t,e,n),a=C(t,e,n),s=(o+a)/2;if(o==a)i=r=0;else{var l=o-a;switch(r=s>.5?l/(2-o-a):l/(o+a),o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,l:s}}function D(t,e,n){t=W(t,255),e=W(e,255),n=W(n,255);var i,r,o=T(t,e,n),a=C(t,e,n),s=o,l=o-a;if(r=0===o?0:l/o,o==a)i=0;else{switch(o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,v:s}}function x(t,e,n,i){var r=[G(E(t).toString(16)),G(E(e).toString(16)),G(E(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function I(t,e,n,i){var r;return[G((r=i,Math.round(255*parseFloat(r)).toString(16))),G(E(t).toString(16)),G(E(e).toString(16)),G(E(n).toString(16))].join("")}function S(t,e){e=0===e?0:e||10;var n=O(t).toHsl();return n.s-=e/100,n.s=q(n.s),O(n)}function R(t,e){e=0===e?0:e||10;var n=O(t).toHsl();return n.s+=e/100,n.s=q(n.s),O(n)}function A(t){return O(t).desaturate(100)}function N(t,e){e=0===e?0:e||10;var n=O(t).toHsl();return n.l+=e/100,n.l=q(n.l),O(n)}function P(t,e){e=0===e?0:e||10;var n=O(t).toRgb();return n.r=T(0,C(255,n.r-E(-e/100*255))),n.g=T(0,C(255,n.g-E(-e/100*255))),n.b=T(0,C(255,n.b-E(-e/100*255))),O(n)}function M(t,e){e=0===e?0:e||10;var n=O(t).toHsl();return n.l-=e/100,n.l=q(n.l),O(n)}function L(t,e){var n=O(t).toHsl(),i=(E(n.h)+e)%360;return n.h=i<0?360+i:i,O(n)}function K(t){var e=O(t).toHsl();return e.h=(e.h+180)%360,O(e)}function j(t){var e=O(t).toHsl(),n=e.h;return[O(t),O({h:(n+120)%360,s:e.s,l:e.l}),O({h:(n+240)%360,s:e.s,l:e.l})]}function F(t){var e=O(t).toHsl(),n=e.h;return[O(t),O({h:(n+90)%360,s:e.s,l:e.l}),O({h:(n+180)%360,s:e.s,l:e.l}),O({h:(n+270)%360,s:e.s,l:e.l})]}function B(t){var e=O(t).toHsl(),n=e.h;return[O(t),O({h:(n+72)%360,s:e.s,l:e.l}),O({h:(n+216)%360,s:e.s,l:e.l})]}function $(t,e,n){e=e||6,n=n||30;var i=O(t).toHsl(),r=360/n,o=[O(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(O(i));return o}function H(t,e){e=e||6;for(var n=O(t).toHsv(),i=n.h,r=n.s,o=n.v,a=[],s=1/e;e--;)a.push(O({h:i,s:r,v:o})),o=(o+s)%1;return a}O.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=V(t),this._roundA=E(100*this._a)/100,this},toHsv:function(){var t=D(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=D(this._r,this._g,this._b),e=E(360*t.h),n=E(100*t.s),i=E(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=k(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=k(this._r,this._g,this._b),e=E(360*t.h),n=E(100*t.s),i=E(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return x(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return I(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:E(this._r),g:E(this._g),b:E(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+E(this._r)+", "+E(this._g)+", "+E(this._b)+")":"rgba("+E(this._r)+", "+E(this._g)+", "+E(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:E(100*W(this._r,255))+"%",g:E(100*W(this._g,255))+"%",b:E(100*W(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+E(100*W(this._r,255))+"%, "+E(100*W(this._g,255))+"%, "+E(100*W(this._b,255))+"%)":"rgba("+E(100*W(this._r,255))+"%, "+E(100*W(this._g,255))+"%, "+E(100*W(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(z[x(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+I(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";return t&&(n=O(t).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(N,arguments)},brighten:function(){return this._applyModification(P,arguments)},darken:function(){return this._applyModification(M,arguments)},desaturate:function(){return this._applyModification(S,arguments)},saturate:function(){return this._applyModification(R,arguments)},greyscale:function(){return this._applyModification(A,arguments)},spin:function(){return this._applyModification(L,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination($,arguments)},complement:function(){return this._applyCombination(K,arguments)},monochromatic:function(){return this._applyCombination(H,arguments)},splitcomplement:function(){return this._applyCombination(B,arguments)},triad:function(){return this._applyCombination(j,arguments)},tetrad:function(){return this._applyCombination(F,arguments)}},O.fromRatio=function(t,e){if("object"==c()(t)){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:X(t[i]));t=n}return O(t,e)},O.equals=function(t,e){return!(!t||!e)&&O(t).toRgbString()==O(e).toRgbString()},O.random=function(){return O.fromRatio({r:_(),g:_(),b:_()})},O.mix=function(t,e,n){n=0===n?0:n||50;var i,r=O(t).toRgb(),o=O(e).toRgb(),a=n/100,s=2*a-1,l=o.a-r.a,c=1-(i=((i=s*l==-1?s:(s+l)/(1+s*l))+1)/2),u={r:o.r*i+r.r*c,g:o.g*i+r.g*c,b:o.b*i+r.b*c,a:o.a*a+r.a*(1-a)};return O(u)},O.readability=function(t,e){var n=O(t),i=O(e),r=n.toRgb(),o=i.toRgb(),a=n.getBrightness(),s=i.getBrightness(),l=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(a-s),color:l}},O.isReadable=function(t,e){var n=O.readability(t,e);return n.brightness>125&&n.color>500},O.mostReadable=function(t,e){for(var n=null,i=0,r=!1,o=0;o<e.length;o++){var a=O.readability(t,e[o]),s=a.brightness>125&&a.color>500,l=a.brightness/125*3+a.color/500;(s&&!r||s&&r&&l>i||!s&&!r&&l>i)&&(r=s,i=l,n=O(e[o]))}return n};var U=O.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=O.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(U);function V(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function W(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=C(e,T(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),w.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function q(t){return C(1,T(0,t))}function Y(t){return parseInt(t,16)}function G(t){return 1==t.length?"0"+t:""+t}function X(t){return t<=1&&(t=100*t+"%"),t}var Z,J,Q,tt=(J="[\\s|\\(]+("+(Z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")\\s*\\)?",Q="[\\s|\\(]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")\\s*\\)?",{rgb:new RegExp("rgb"+J),rgba:new RegExp("rgba"+Q),hsl:new RegExp("hsl"+J),hsla:new RegExp("hsla"+Q),hsv:new RegExp("hsv"+J),hsva:new RegExp("hsva"+Q),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=O,t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})}(f),e.a=u.a.extend({template:function(){var t=this.ppfx;return'\n      <div class="'.concat(this.holderClass(),'"></div>\n      <div class="').concat(t,'field-colorp">\n        <div class="').concat(t,'field-colorp-c" data-colorp-c>\n          <div class="').concat(t,'checker-bg"></div>\n        </div>\n      </div>\n    ')},inputClass:function(){var t=this.ppfx;return"".concat(t,"field ").concat(t,"field-color")},holderClass:function(){return"".concat(this.ppfx,"input-holder")},remove:function(){u.a.prototype.remove.apply(this,arguments),this.colorEl.spectrum("destroy")},setValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.model.get("defaults"),i=Object(s.isUndefined)(t)?Object(s.isUndefined)(n)?"":n:t,r=this.getInputEl(),o=this.getColorEl(),a="none"!=i?i:"";r.value=i,o.get(0).style.backgroundColor=a,(e.fromTarget||e.fromInput&&!e.avoidStore)&&(o.spectrum("set",a),this.noneColor="none"==i)},getColorEl:function(){if(!this.colorEl){var t,e=this.em,n=this,i=this.ppfx,r=this.model,o=f('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),a=o.get(0).style,s=e&&e.config?e.config.el:"",l=e&&e.getConfig&&e.getConfig("colorPicker")||{},c=function(t){return(1==t.getAlpha()?t.toHexString():t.toRgbString()).replace(/ /g,"")},u=0;this.$el.find("[data-colorp-c]").append(o),o.spectrum(h(h(h({containerClassName:"".concat(i,"one-bg ").concat(i,"two-color"),appendTo:s||"body",maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"â¨¯",palette:[]},l),r.get("colorPicker")||{}),{},{move:function(t){var e=c(t);a.backgroundColor=e,r.setValueFromInput(e,0)},change:function(t){u=1;var e=c(t);a.backgroundColor=e,r.setValueFromInput(0,0),r.setValueFromInput(e),n.noneColor=0},show:function(e){u=0,t=c(e)},hide:function(e){!u&&t&&(n.noneColor&&(t=""),a.backgroundColor=t,o.spectrum("set",t),r.setValueFromInput(t,0))}})),e&&e.on&&e.on("component:selected",function(){u=1,o.spectrum("hide")}),this.colorEl=o}return this.colorEl},render:function(){return u.a.prototype.render.call(this),this.getColorEl(),this}})},function(t,e,n){!function(e){var n,i={},r={16:!1,18:!1,17:!1,91:!1},o="all",a={"â§":16,shift:16,"â¥":18,alt:18,option:18,"â":17,ctrl:17,control:17,"â":91,command:91},s={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},l=function(t){return s[t]||t.toUpperCase().charCodeAt(0)},c=[];for(n=1;n<20;n++)s["f"+n]=111+n;function u(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function d(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var h={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function f(t){for(n in r)r[n]=t[h[n]]}function p(t,e,n){var r,o;r=m(t),void 0===n&&(n=e,e="all");for(var a=0;a<r.length;a++)o=[],(t=r[a].split("+")).length>1&&(o=v(t),t=[t[t.length-1]]),t=t[0],(t=l(t))in i||(i[t]=[]),i[t].push({shortcut:r[a],scope:e,method:n,key:r[a],mods:o})}for(n in a)p[n]=!1;function g(){return o||"all"}function m(t){var e;return""==(e=(t=t.replace(/\s/g,"")).split(","))[e.length-1]&&(e[e.length-2]+=","),e}function v(t){for(var e=t.slice(0,t.length-1),n=0;n<e.length;n++)e[n]=a[e[n]];return e}function y(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,function(){n(window.event)})}y(document,"keydown",function(t){!function(t){var e,n,o,s,l,d;if(e=t.keyCode,-1==u(c,e)&&c.push(e),93!=e&&224!=e||(e=91),e in r)for(o in r[e]=!0,a)a[o]==e&&(p[o]=!0);else if(f(t),p.filter.call(this,t)&&e in i)for(d=g(),s=0;s<i[e].length;s++)if((n=i[e][s]).scope==d||"all"==n.scope){for(o in l=n.mods.length>0,r)(!r[o]&&u(n.mods,+o)>-1||r[o]&&-1==u(n.mods,+o))&&(l=!1);(0!=n.mods.length||r[16]||r[18]||r[17]||r[91])&&!l||!1===n.method(t,n)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}(t)}),y(document,"keyup",function(t){var e,n=t.keyCode,i=u(c,n);if(i>=0&&c.splice(i,1),93!=n&&224!=n||(n=91),n in r)for(e in r[n]=!1,a)a[e]==n&&(p[e]=!1)}),y(window,"focus",function(){for(n in r)r[n]=!1;for(n in a)p[n]=!1});var b=e.key;e.key=p,e.key.setScope=function(t){o=t||"all"},e.key.getScope=g,e.key.deleteScope=function(t){var e,n,r;for(e in i)for(n=i[e],r=0;r<n.length;)n[r].scope===t?n.splice(r,1):r++},e.key.filter=function(t){var e=(t.target||t.srcElement).tagName;return!("INPUT"==e||"SELECT"==e||"TEXTAREA"==e)},e.key.isPressed=function(t){return"string"==typeof t&&(t=l(t)),-1!=u(c,t)},e.key.getPressedKeyCodes=function(){return c.slice(0)},e.key.noConflict=function(){var t=e.key;return e.key=b,t},e.key.unbind=function(t,e){var n,r,o,a,s,c=[];for(n=m(t),a=0;a<n.length;a++){if((r=n[a].split("+")).length>1&&(c=v(r),t=r[r.length-1]),t=l(t),void 0===e&&(e=g()),!i[t])return;for(o=0;o<i[t].length;o++)(s=i[t][o]).scope===e&&d(s.mods,c)&&(i[t][o]={})}},t.exports=p}(this)},function(t,e,n){"use strict";(function(t){var i=n(8),r=n.n(i),o=n(71),a=n(72),s=setTimeout;function l(t){return Boolean(t&&void 0!==t.length)}function c(){}function u(t){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(t,this)}function d(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,u._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void f(e.promise,t)}h(e.promise,i)}else(1===t._state?h:f)(e.promise,t._value)})):t._deferreds.push(e)}function h(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===r()(e)||"function"==typeof e)){var n=e.then;if(e instanceof u)return t._state=3,t._value=e,void p(t);if("function"==typeof n)return void m((i=n,o=e,function(){i.apply(o,arguments)}),t)}t._state=1,t._value=e,p(t)}catch(e){f(t,e)}var i,o}function f(t,e){t._state=2,t._value=e,p(t)}function p(t){2===t._state&&0===t._deferreds.length&&u._immediateFn(function(){t._handled||u._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)d(t,t._deferreds[e]);t._deferreds=null}function g(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function m(t,e){var n=!1;try{t(function(t){n||(n=!0,h(e,t))},function(t){n||(n=!0,f(e,t))})}catch(t){if(n)return;n=!0,f(e,t)}}u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){var n=new this.constructor(c);return d(this,new g(t,e,n)),n},u.prototype.finally=o.a,u.all=function(t){return new u(function(e,n){if(!l(t))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var o=i.length;function a(t,s){try{if(s&&("object"===r()(s)||"function"==typeof s)){var l=s.then;if("function"==typeof l)return void l.call(s,function(e){a(t,e)},n)}i[t]=s,0==--o&&e(i)}catch(t){n(t)}}for(var s=0;s<i.length;s++)a(s,i[s])})},u.allSettled=a.a,u.resolve=function(t){return t&&"object"===r()(t)&&t.constructor===u?t:new u(function(e){e(t)})},u.reject=function(t){return new u(function(e,n){n(t)})},u.race=function(t){return new u(function(e,n){if(!l(t))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=t.length;i<r;i++)u.resolve(t[i]).then(e,n)})},u._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){s(t,0)},u._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.a=u}).call(this,n(79).setImmediate)},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i),o=r.a.Model.extend({defaults:{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1},initialize:function(t){if(this.get("buttons").length){var e=n(41).default;this.set("buttons",new e(this.get("buttons")))}}});e.default=r.a.Collection.extend({model:o,deactivateAllExceptOne:function(t,e){this.forEach(function(n,i){n!==t&&(n.set("active",!1),e&&n.get("buttons").length&&n.get("buttons").deactivateAllExceptOne(t,e))})},deactivateAll:function(t,e){var n=t||"";this.forEach(function(t){t.get("context")==n&&t!==e&&(t.set("active",!1,{silent:1}),t.trigger("updateActive",{fromCollection:1}))})},disableAllButtons:function(t){var e=t||"";this.forEach(function(t,n){t.get("context")==e&&t.set("disable",!0)})},disableAllButtonsExceptOne:function(t,e){this.forEach(function(n,i){n!==t&&(n.set("disable",!0),e&&n.get("buttons").length&&n.get("buttons").disableAllButtonsExceptOne(t,e))})}})},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}},function(t,e,n){var i=n(42);t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}},function(t,e,n){!function(t){"use strict";function e(t){for(var e={},n=0;n<t.length;++n)e[t[n].toLowerCase()]=!0;return e}t.defineMode("css",function(e,n){var i=n.inline;n.propertyKeywords||(n=t.resolveMode("text/css"));var r,o,a=e.indentUnit,s=n.tokenHooks,l=n.documentTypes||{},c=n.mediaTypes||{},u=n.mediaFeatures||{},d=n.mediaValueKeywords||{},h=n.propertyKeywords||{},f=n.nonStandardPropertyKeywords||{},p=n.fontProperties||{},g=n.counterDescriptors||{},m=n.colorKeywords||{},v=n.valueKeywords||{},y=n.allowNested,b=n.lineComment,w=!0===n.supportsAtComponent,E=!1!==e.highlightNonStandardPropertyKeywords;function C(t,e){return r=e,t}function T(t){return function(e,n){for(var i,r=!1;null!=(i=e.next());){if(i==t&&!r){")"==t&&e.backUp(1);break}r=!r&&"\\"==i}return(i==t||!r&&")"!=t)&&(n.tokenize=null),C("string","string")}}function _(t,e){return t.next(),t.match(/\s*[\"\')]/,!1)?e.tokenize=null:e.tokenize=T(")"),C(null,"(")}function O(t,e,n){this.type=t,this.indent=e,this.prev=n}function k(t,e,n,i){return t.context=new O(n,e.indentation()+(!1===i?0:a),t.context),n}function D(t){return t.context.prev&&(t.context=t.context.prev),t.context.type}function x(t,e,n){return R[n.context.type](t,e,n)}function I(t,e,n,i){for(var r=i||1;r>0;r--)n.context=n.context.prev;return x(t,e,n)}function S(t){var e=t.current().toLowerCase();o=v.hasOwnProperty(e)?"atom":m.hasOwnProperty(e)?"keyword":"variable"}var R={top:function(t,e,n){if("{"==t)return k(n,e,"block");if("}"==t&&n.context.prev)return D(n);if(w&&/@component/i.test(t))return k(n,e,"atComponentBlock");if(/^@(-moz-)?document$/i.test(t))return k(n,e,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(t))return k(n,e,"atBlock");if(/^@(font-face|counter-style)/i.test(t))return n.stateArg=t,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(t))return"keyframes";if(t&&"@"==t.charAt(0))return k(n,e,"at");if("hash"==t)o="builtin";else if("word"==t)o="tag";else{if("variable-definition"==t)return"maybeprop";if("interpolation"==t)return k(n,e,"interpolation");if(":"==t)return"pseudo";if(y&&"("==t)return k(n,e,"parens")}return n.context.type},block:function(t,e,n){if("word"==t){var i=e.current().toLowerCase();return h.hasOwnProperty(i)?(o="property","maybeprop"):f.hasOwnProperty(i)?(o=E?"string-2":"property","maybeprop"):y?(o=e.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(o+=" error","maybeprop")}return"meta"==t?"block":y||"hash"!=t&&"qualifier"!=t?R.top(t,e,n):(o="error","block")},maybeprop:function(t,e,n){return":"==t?k(n,e,"prop"):x(t,e,n)},prop:function(t,e,n){if(";"==t)return D(n);if("{"==t&&y)return k(n,e,"propBlock");if("}"==t||"{"==t)return I(t,e,n);if("("==t)return k(n,e,"parens");if("hash"!=t||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(e.current())){if("word"==t)S(e);else if("interpolation"==t)return k(n,e,"interpolation")}else o+=" error";return"prop"},propBlock:function(t,e,n){return"}"==t?D(n):"word"==t?(o="property","maybeprop"):n.context.type},parens:function(t,e,n){return"{"==t||"}"==t?I(t,e,n):")"==t?D(n):"("==t?k(n,e,"parens"):"interpolation"==t?k(n,e,"interpolation"):("word"==t&&S(e),"parens")},pseudo:function(t,e,n){return"meta"==t?"pseudo":"word"==t?(o="variable-3",n.context.type):x(t,e,n)},documentTypes:function(t,e,n){return"word"==t&&l.hasOwnProperty(e.current())?(o="tag",n.context.type):R.atBlock(t,e,n)},atBlock:function(t,e,n){if("("==t)return k(n,e,"atBlock_parens");if("}"==t||";"==t)return I(t,e,n);if("{"==t)return D(n)&&k(n,e,y?"block":"top");if("interpolation"==t)return k(n,e,"interpolation");if("word"==t){var i=e.current().toLowerCase();o="only"==i||"not"==i||"and"==i||"or"==i?"keyword":c.hasOwnProperty(i)?"attribute":u.hasOwnProperty(i)?"property":d.hasOwnProperty(i)?"keyword":h.hasOwnProperty(i)?"property":f.hasOwnProperty(i)?E?"string-2":"property":v.hasOwnProperty(i)?"atom":m.hasOwnProperty(i)?"keyword":"error"}return n.context.type},atComponentBlock:function(t,e,n){return"}"==t?I(t,e,n):"{"==t?D(n)&&k(n,e,y?"block":"top",!1):("word"==t&&(o="error"),n.context.type)},atBlock_parens:function(t,e,n){return")"==t?D(n):"{"==t||"}"==t?I(t,e,n,2):R.atBlock(t,e,n)},restricted_atBlock_before:function(t,e,n){return"{"==t?k(n,e,"restricted_atBlock"):"word"==t&&"@counter-style"==n.stateArg?(o="variable","restricted_atBlock_before"):x(t,e,n)},restricted_atBlock:function(t,e,n){return"}"==t?(n.stateArg=null,D(n)):"word"==t?(o="@font-face"==n.stateArg&&!p.hasOwnProperty(e.current().toLowerCase())||"@counter-style"==n.stateArg&&!g.hasOwnProperty(e.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(t,e,n){return"word"==t?(o="variable","keyframes"):"{"==t?k(n,e,"top"):x(t,e,n)},at:function(t,e,n){return";"==t?D(n):"{"==t||"}"==t?I(t,e,n):("word"==t?o="tag":"hash"==t&&(o="builtin"),"at")},interpolation:function(t,e,n){return"}"==t?D(n):"{"==t||";"==t?I(t,e,n):("word"==t?o="variable":"variable"!=t&&"("!=t&&")"!=t&&(o="error"),"interpolation")}};return{startState:function(t){return{tokenize:null,state:i?"block":"top",stateArg:null,context:new O(i?"block":"top",t||0,null)}},token:function(t,e){if(!e.tokenize&&t.eatSpace())return null;var n=(e.tokenize||function(t,e){var n=t.next();if(s[n]){var i=s[n](t,e);if(!1!==i)return i}return"@"==n?(t.eatWhile(/[\w\\\-]/),C("def",t.current())):"="==n||("~"==n||"|"==n)&&t.eat("=")?C(null,"compare"):'"'==n||"'"==n?(e.tokenize=T(n),e.tokenize(t,e)):"#"==n?(t.eatWhile(/[\w\\\-]/),C("atom","hash")):"!"==n?(t.match(/^\s*\w*/),C("keyword","important")):/\d/.test(n)||"."==n&&t.eat(/\d/)?(t.eatWhile(/[\w.%]/),C("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?C(null,"select-op"):"."==n&&t.match(/^-?[_a-z][_a-z0-9-]*/i)?C("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?C(null,n):t.match(/[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/.test(t.current().toLowerCase())&&(e.tokenize=_),C("variable callee","variable")):/[\w\\\-]/.test(n)?(t.eatWhile(/[\w\\\-]/),C("property","word")):C(null,null):/[\d.]/.test(t.peek())?(t.eatWhile(/[\w.%]/),C("number","unit")):t.match(/^-[\w\\\-]*/)?(t.eatWhile(/[\w\\\-]/),t.match(/^\s*:/,!1)?C("variable-2","variable-definition"):C("variable-2","variable")):t.match(/^\w+-/)?C("meta","meta"):void 0})(t,e);return n&&"object"==typeof n&&(r=n[1],n=n[0]),o=n,"comment"!=r&&(e.state=R[e.state](r,t,e)),o},indent:function(t,e){var n=t.context,i=e&&e.charAt(0),r=n.indent;return"prop"!=n.type||"}"!=i&&")"!=i||(n=n.prev),n.prev&&("}"!=i||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=i||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=i||"at"!=n.type&&"atBlock"!=n.type)||(r=Math.max(0,n.indent-a)):r=(n=n.prev).indent),r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:b,fold:"brace"}});var n=["domain","regexp","url","url-prefix"],i=e(n),r=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=e(r),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],s=e(a),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],c=e(l),u=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],d=e(u),h=["border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],f=e(h),p=e(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),g=e(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),m=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],v=e(m),y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],b=e(y),w=n.concat(r).concat(a).concat(l).concat(u).concat(h).concat(m).concat(y);function E(t,e){for(var n,i=!1;null!=(n=t.next());){if(i&&"/"==n){e.tokenize=null;break}i="*"==n}return["comment","comment"]}t.registerHelper("hintWords","css",w),t.defineMIME("text/css",{documentTypes:i,mediaTypes:o,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,fontProperties:p,counterDescriptors:g,colorKeywords:v,valueKeywords:b,tokenHooks:{"/":function(t,e){return!!t.eat("*")&&(e.tokenize=E,E(t,e))}},name:"css"}),t.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:b,fontProperties:p,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(t,e){return t.eat("/")?(t.skipToEnd(),["comment","comment"]):t.eat("*")?(e.tokenize=E,E(t,e)):["operator","operator"]},":":function(t){return!!t.match(/\s*\{/,!1)&&[null,null]},$:function(t){return t.match(/^[\w-]+/),t.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(t){return!!t.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),t.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:d,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:b,fontProperties:p,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(t,e){return t.eat("/")?(t.skipToEnd(),["comment","comment"]):t.eat("*")?(e.tokenize=E,E(t,e)):["operator","operator"]},"@":function(t){return t.eat("{")?[null,"interpolation"]:!t.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(t.eatWhile(/[\w\\\-]/),t.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),t.defineMIME("text/x-gss",{documentTypes:i,mediaTypes:o,mediaFeatures:s,propertyKeywords:d,nonStandardPropertyKeywords:f,fontProperties:p,counterDescriptors:g,colorKeywords:v,valueKeywords:b,supportsAtComponent:!0,tokenHooks:{"/":function(t,e){return!!t.eat("*")&&(e.tokenize=E,E(t,e))}},name:"css",helperType:"gss"})}(n(13))},function(t,e,n){"use strict";n.r(e),e.default={run:function(t){t.DomComponents.clear(),t.CssComposer.clear()}}},function(t,e,n){"use strict";n.r(e);var i=n(0),r=n(3),o=n(17);e.default={run:function(t){Object(i.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=t,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(t){this.toggleMove(),this.disableDragger()},onKeyUp:function(t){" "===Object(r.f)(t)&&this.editor.stopCommand(this.id)},enableDragger:function(t){this.toggleDragger(1,t)},disableDragger:function(t){this.toggleDragger(0,t)},toggleDragger:function(t,e){var n=this.canvasModel,i=this.em,r=this.dragger,a=t?"add":"remove";this.getCanvas().classList[a]("".concat(this.ppfx,"is__grabbing")),r||(r=new o.a({getPosition:function(){return{x:n.get("x"),y:n.get("y")}},setPosition:function(t){var e=t.x,i=t.y;n.set({x:e,y:i})},onStart:function(t,e){i.trigger("canvas:move:start",e)},onDrag:function(t,e){i.trigger("canvas:move",e)},onEnd:function(t,e){i.trigger("canvas:move:end",e)}}),this.dragger=r),t?r.start(e):r.stop()},toggleMove:function(t){var e=this.ppfx,n=t?"add":"remove",i=t?"on":"off",o={on:r.w,off:r.v},a=this.getCanvas(),s=["".concat(e,"is__grab")];!t&&s.push("".concat(e,"is__grabbing")),s.forEach(function(t){return a.classList[n](t)}),o[i](document,"keyup",this.onKeyUp),o[i](a,"mousedown",this.enableDragger),o[i](document,"mouseup",this.disableDragger)}}},function(t,e,n){"use strict";n.r(e);var i=n(7),r=n.n(i),o=n(0);e.default={run:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],s=i.component||t.getSelectedAll();return s=Object(o.isArray)(s)?r()(s):[s],t.select(null),s.forEach(function(t){if(!t||!t.get("removable"))return n.em.logWarning("The element is not removable",{component:t});t.remove(),t.collection&&a.push(t)}),a.length&&t.select(a),s}}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),o=n(0),a=n(17);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var c="dmode";e.default={run:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(o.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var r=i.target,s=i.event,u=i.mode,d=i.dragger,h=void 0===d?{}:d,f=l({doc:r.getEl().ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return n.guidesStatic},guidesTarget:function(){return n.guidesTarget}},h);this.setupGuides(),this.opts=i,this.editor=t,this.em=t.getModel(),this.target=r,this.isTran="translate"==u,this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var p=this.dragger;return p?p.setOptions(f):(p=new a.a(f),this.dragger=p),s&&p.start(s),this.toggleDrag(1),this.em.trigger("".concat(c,":start"),this.getEventOpts()),p},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(t){var e=t.guide;e&&e.parentNode.removeChild(e)}),this.guides=[]},getGuidesContainer:function(){var t=this,e=this.guidesEl;if(!e){var n=this.editor,i=this.em,r=this.opts,a=n.getConfig("stylePrefix"),s=document.createElement("div"),l=document.createElement("div"),c='<div class="'.concat(a,"guide-info__line ").concat(a,'danger-bg">\n        <div class="').concat(a,"guide-info__content ").concat(a,'danger-color"></div>\n      </div>');(e=document.createElement("div")).className="".concat(a,"guides"),s.className="".concat(a,"guide-info ").concat(a,"guide-info__x"),l.className="".concat(a,"guide-info ").concat(a,"guide-info__y"),s.innerHTML=c,l.innerHTML=c,e.appendChild(s),e.appendChild(l),n.Canvas.getGlobalToolsEl().appendChild(e),this.guidesEl=e,this.elGuideInfoX=s,this.elGuideInfoY=l,this.elGuideInfoContentX=s.querySelector(".".concat(a,"guide-info__content")),this.elGuideInfoContentY=l.querySelector(".".concat(a,"guide-info__content")),i.on("canvas:update frame:scroll",Object(o.debounce)(function(){t.updateGuides(),r.debug&&t.guides.forEach(function(e){return t.renderGuide(e)})},200))}return e},getGuidesStatic:function(){var t=this,e=[],n=this.target.getEl(),i=n.parentNode,r=void 0===i?{}:i;return Object(o.each)(r.children,function(i){return e=e.concat(n!==i?t.getElementGuides(i):[])}),e.concat(this.getElementGuides(r))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(t){var e,n,i=this;(t||this.guides).forEach(function(t){var r=t.origin,a=e===r?n:i.getElementPos(r);e=r,n=a,Object(o.each)(i.getGuidePosUpdate(t,a),function(e,n){return t[n]=e}),t.originRect=a})},getGuidePosUpdate:function(t,e){var n={},i=e.top,r=e.height,o=e.left,a=e.width;switch(t.type){case"t":n.y=i;break;case"b":n.y=i+r;break;case"l":n.x=o;break;case"r":n.x=o+a;break;case"x":n.x=o+a/2;break;case"y":n.y=i+r/2}return n},renderGuide:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.guide||document.createElement("div"),n="px",i=t.active?2:1,r=e.children[0];return e.style="position: absolute; background-color: ".concat(t.active?"green":"red",";"),e.children.length||((r=document.createElement("div")).style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",e.appendChild(r)),t.y?(e.style.width="100%",e.style.height="".concat(i).concat(n),e.style.top="".concat(t.y).concat(n),e.style.left=0):(e.style.width="".concat(i).concat(n),e.style.height="100%",e.style.left="".concat(t.x).concat(n),e.style.top="0".concat(n)),!t.guide&&this.guidesContainer.appendChild(e),e},getElementPos:function(t){return this.editor.Canvas.getElementPos(t,{noScroll:1})},getElementGuides:function(t){var e=this,n=this.opts,i=this.getElementPos(t),r=i.top,o=i.height,a=i.left,s=i.width,c=[{type:"t",y:r},{type:"b",y:r+o},{type:"l",x:a},{type:"r",x:a+s},{type:"x",x:a+s/2},{type:"y",y:r+o/2}].map(function(r){return l(l({},r),{},{origin:t,originRect:i,guide:n.debug&&e.renderGuide(r)})});return c.forEach(function(t){return e.guides.push(t)}),c},getTranslate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=0;return(t||"").split(" ").forEach(function(t){var i=t.trim(),r="translate".concat(e.toUpperCase(),"(");0===i.indexOf(r)&&(n=parseFloat(i.replace(r,"")))}),n},setTranslate:function(t,e,n){var i="translate".concat(e.toUpperCase(),"("),r="".concat(i).concat(n,")"),o=(t||"").split(" ").map(function(t){return 0===t.trim().indexOf(i)&&(t=r),t}).join(" ");return o.indexOf(i)<0&&(o+=" ".concat(r)),o},getPosition:function(){var t=this.target,e=this.isTran,n=t.getStyle(),i=n.left,r=n.top,o=n.transform,a=0,s=0;return e?(a=this.getTranslate(o),s=this.getTranslate(o,"y")):(a=parseFloat(i),s=parseFloat(r)),{x:a,y:s}},setPosition:function(t){var e=t.x,n=t.y,i=t.end,r=t.position,a=t.width,s=t.height,l=this.target,c=this.isTran,u=i?"":1,d="".concat(e).concat("px"),h="".concat(n).concat("px");if(c){var f=l.getStyle().transform||"";return f=this.setTranslate(f,"x",d),f=this.setTranslate(f,"y",h),l.addStyle({transform:f,en:u},{avoidStore:!i})}var p={position:r,width:a,height:s},g={left:d,top:h,en:u};Object(o.keys)(p).forEach(function(t){var e=p[t];e&&(g[t]=e)}),l.addStyle(g,{avoidStore:!i})},_getDragData:function(){var t=this.target;return{target:t,parent:t.parent(),index:t.index()}},onStart:function(t){var e=this.target,n=this.editor,i=this.isTran,r=this.opts,o=r.center,a=r.onStart,s=n.Canvas,l=e.getStyle(),c="absolute";if(a&&a(this._getDragData()),!i&&l.position!==c){var u=s.offset(e.getEl()),d=u.left,h=u.top,f=u.width,p=u.height;if(o){var g=s.getMouseRelativeCanvas(t);d=g.x,h=g.y}this.setPosition({x:d,y:h,width:"".concat(f,"px"),height:"".concat(p,"px"),position:c})}},onDrag:function(){var t=this,e=this.guidesTarget,n=this.opts,i=n.onDrag;this.updateGuides(e),n.debug&&e.forEach(function(e){return t.renderGuide(e)}),n.guidesInfo&&this.renderGuideInfo(e.filter(function(t){return t.active})),i&&i(this._getDragData())},onEnd:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.editor,r=this.opts,o=this.id,a=r.onEnd;a&&a(t,n,l(l({event:t},n),this._getDragData())),i.stopCommand(o),this.hideGuidesInfo(),this.em.trigger("".concat(c,":end"),this.getEventOpts())},hideGuidesInfo:function(){var t=this;["X","Y"].forEach(function(e){var n=t["elGuideInfo".concat(e)];n&&(n.style.display="none")})},renderGuideInfo:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.guidesStatic;this.hideGuidesInfo(),e.forEach(function(e){var i=e.origin,r=e.x,a=t.getElementPos(i),s=Object(o.isUndefined)(r)?"y":"x",u="y"===s,d=a[u?"left":"top"],h=a.rect[u?"left":"top"],f=u?d+a.width:d+a.height,p=u?h+a.rect.width:h+a.rect.height,g=t["elGuideInfo".concat(s.toUpperCase())],m=t["elGuideInfoContent".concat(s.toUpperCase())],v=g.style,y=n.filter(function(t){return t.type===e.type}).map(function(t){var e=t.originRect,n=e.left,i=e.width,r=e.top,o=e.height,a=u?n+i:r+o;return{gap:a<d?d-a:(u?n:r)-f,guide:t}}).filter(function(t){return t.gap>0}).sort(function(t,e){return t.gap-e.gap}).map(function(t){return t.guide})[0];if(y){var b=y.originRect,w=b.left,E=b.width,C=b.top,T=b.height,_=b.rect,O=u?w<a.left:C<a.top,k=u?w:C,D=u?_.left:_.top,x=u?w+E:C+T,I=u?_.left+_.width:_.top+_.height,S=u?e.y:e.x,R=O?x:f,A="".concat(S,"px"),N=O?d-x:k-f,P=O?h-I:D-p;v.display="",v[u?"top":"left"]=A,v[u?"left":"top"]="".concat(R,"px"),v[u?"width":"height"]="".concat(N,"px"),m.innerHTML="".concat(Math.round(P),"px"),t.em.trigger("".concat(c,":active"),l(l({},t.getEventOpts()),{},{guide:e,guidesStatic:n,matched:y,posFirst:S,posSecond:R,size:N,sizeRaw:P,elGuideInfo:g,elGuideInfoCnt:m}))}})},toggleDrag:function(t){var e=this.ppfx,n=this.editor,i=t?"add":"remove",r=["".concat(e,"is__grabbing")],o=n.Canvas,a=o.getBody();r.forEach(function(t){return a.classList[i](t)}),o[t?"startAutoscroll":"stopAutoscroll"]()}}},function(t,e,n){"use strict";n.r(e),e.default={run:function(t){if(t.Canvas.hasFocus()){var e=[];t.getSelectedAll().forEach(function(t){var n=t.components(),i=n&&n.at(0);i&&e.push(i)}),e.length&&t.select(e)}}}},function(t,e,n){"use strict";n.r(e),e.default={run:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.Canvas.hasFocus()||n.force){var i=[];t.getSelectedAll().forEach(function(t){for(var e=t.parent();e&&!e.get("selectable");)e=e.parent();e&&i.push(e)}),i.length&&t.select(i)}}}},function(t,e,n){"use strict";n.r(e),e.default={run:function(t){if(t.Canvas.hasFocus()){var e=[];t.getSelectedAll().forEach(function(t){var n=t.collection,i=n.indexOf(t),r=n.at(i+1);e.push(r||t)}),e.length&&t.select(e)}}}},function(t,e,n){"use strict";n.r(e),e.default={run:function(t){if(t.Canvas.hasFocus()){var e=[];t.getSelectedAll().forEach(function(t){var n=t.collection,i=n.indexOf(t),r=n.at(i-1);e.push(r&&i-1>=0?r:t)}),e.length&&t.select(e)}}}},function(t,e,n){"use strict";n.r(e);var i=n(0);e.default={run:function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).target,r=t.DomComponents,o=n.get("type"),a=r.getWrapper().findType(o).length,s=[];if(!a){var l=t.CssComposer.getAll(),c=n.get("style-signature");c=Object(i.isArray)(c)?c:[c],l.forEach(function(t){var e=t.selectorsToString();c.forEach(function(n){n&&e.indexOf(n)>=0&&s.push(t)})}),l.remove(s)}return s}}},function(t,e,n){"use strict";n.r(e);var i=n(7),r=n.n(i);e.default={run:function(t){var e=t.getModel(),n=r()(t.getSelectedAll());n.length&&e.set("clipboard",n)}}},function(t,e,n){"use strict";n.r(e);var i=n(0),r=n(1),o=n.n(r),a=n(14),s=o.a.$;e.default=Object(i.extend)({},a.default,{init:function(t){Object(i.bindAll)(this,"startDelete","stopDelete","onDelete"),this.hoverClass=this.pfx+"hover-delete",this.badgeClass=this.pfx+"badge-red"},enable:function(){this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete)},startDelete:function(t){t.stopPropagation();var e=s(t.target);e.data("model").get("removable")&&(e.addClass(this.hoverClass),this.attachBadge(e.get(0)))},stopDelete:function(t){t.stopPropagation(),s(t.target).removeClass(this.hoverClass),this.badge&&this.badge.css({left:-1e3,top:-1e3})},onDelete:function(t){t.stopPropagation();var e=s(t.target);e.data("model").get("removable")&&(e.data("model").destroy(),this.removeBadge(),this.clean())},updateBadgeLabel:function(t){this.badge.html("Remove "+t.getName())}})},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i).a.$;e.default={run:function(t,e){var n=this;e&&e.set&&e.set("active",0);var i=t.getConfig(),o=t.Modal,a=i.stylePrefix;if(this.cm=t.CodeManager||null,!this.$editors){var s=this.buildEditor("htmlmixed","hopscotch","HTML"),l=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=s.el,this.cssEditor=l.el;var c=r('<div class="'.concat(a,'export-dl"></div>'));c.append(s.$el).append(l.$el),this.$editors=c}o.open({title:i.textViewCode,content:this.$editors}).getModel().once("change:open",function(){return t.stopCommand(n.id)}),this.htmlEditor.setContent(t.getHtml()),this.cssEditor.setContent(t.getCss())},stop:function(t){var e=t.Modal;e&&e.close()},buildEditor:function(t,e,n){var i=document.createElement("textarea");!this.codeMirror&&(this.codeMirror=this.cm.getViewer("CodeMirror"));var r=this.codeMirror.clone().set({label:n,codeName:t,theme:e,input:i}),o=new this.cm.EditorView({model:r,config:this.cm.getConfig()}).render().$el;return r.init(i),{el:r,$el:o}}}},function(t,e,n){"use strict";n.r(e);var i=n(0);e.default={isEnabled:function(){var t=document;return t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement?1:0},enable:function(t){var e="";return t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?(e="webkit",t.webkitRequestFullscreen()):t.mozRequestFullScreen?(e="moz",t.mozRequestFullScreen()):t.msRequestFullscreen?t.msRequestFullscreen():console.warn("Fullscreen not supported"),e},disable:function(){var t=document;this.isEnabled()&&(t.exitFullscreen?t.exitFullscreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen())},fsChanged:function(t,e){var n=(t||"")+"fullscreenchange";this.isEnabled()||(this.stop(null,this.sender),document.removeEventListener(n,this.fsChanged))},run:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.sender=e;var r=n.target,o=Object(i.isElement)(r)?r:document.querySelector(r),a=this.enable(o||t.getContainer());this.fsChanged=this.fsChanged.bind(this,a),document.addEventListener(a+"fullscreenchange",this.fsChanged),t.trigger("change:canvasOffset")},stop:function(t,e){e&&e.set&&e.set("active",!1),this.disable(),t&&t.trigger("change:canvasOffset")}}},function(t,e,n){"use strict";n.r(e);var i=n(0),r=n(1),o=n.n(r),a=n(3),s=n(14),l=n(27),c=o.a.$;e.default=Object(i.extend)({},l.default,s.default,{init:function(t){s.default.init.apply(this,arguments),Object(i.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=t,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];s.default.enable.apply(this,e),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var i=this.$wrapper;i.css("cursor","move"),i.on("mousedown",this.initSorter),i.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(t){var e=c(t.target).data("model").get("draggable");e&&(this.cacheEl=null,this.startSelectPosition(t.target,this.frameEl.contentDocument),this.sorter.draggable=e,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),Object(a.w)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(t){var e=t.get("draggable");if(e){this.cacheEl=null;var n=t.view.el;this.startSelectPosition(n,this.frameEl.contentDocument),this.sorter.draggable=e,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),Object(a.w)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(t){this.cacheEl=null;var e=t[t.length-1],n=(this.em.get("currentFrame")||{}).model,i=e.getEl(n),r=i.ownerDocument;this.startSelectPosition(i,r,{onStart:this.onStart}),this.sorter.draggable=e.get("draggable"),this.sorter.toMove=t,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),Object(a.w)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){Object(a.v)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),Object(a.v)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(t,e){},rollback:function(t,e){(27==(t.which||t.keyCode)||e)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=c(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=c(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];s.default.stop.apply(this,e),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass),this.$wrapper.css("cursor","").unbind().removeClass(this.noSelClass)}})},function(t,e,n){"use strict";n.r(e),e.default={run:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.Modal,o=t.AssetManager,a=o.getConfig(),s=o.getContainer(),l=i.modalTitle||t.t("assetManager.modalTitle")||"",c=i.types,u=i.accept;if(o.setTarget(i.target),o.onClick(i.onClick),o.onDblClick(i.onDblClick),o.onSelect(i.onSelect),!this.rendered||c){var d=o.getAll().filter(function(t){return 1});c&&c.length&&(d=d.filter(function(t){return-1!==c.indexOf(t.get("type"))})),o.render(d),this.rendered=1}if(u){var h=s.querySelector("input#".concat(a.stylePrefix,"uploadFile"));h&&h.setAttribute("accept",u)}return r.open({title:l,content:s}).getModel().once("change:open",function(){return t.stopCommand(n.id)}),this},stop:function(t){return t.Modal.close(),this}}},function(t,e,n){"use strict";n.r(e),e.default={run:function(t,e){var n=t.BlockManager,i=t.Panels;if(!this.blocks){n.render();var r="views-container",o=document.createElement("div"),a=i.getPanel(r)||i.addPanel({id:r});o.appendChild(n.getContainer()),a.set("appendContent",o).trigger("change:appendContent"),this.blocks=o}this.blocks.style.display="block"},stop:function(){var t=this.blocks;t&&(t.style.display="none")}}},function(t,e,n){"use strict";n.r(e);var i=n(1);n.n(i).a.$,e.default={run:function(t){var e=t.LayerManager,n=t.Panels;if(!this.layers){var i="views-container",r=document.createElement("div"),o=n.getPanel(i)||n.addPanel({id:i});r.appendChild(e.render()),o.set("appendContent",r).trigger("change:appendContent"),this.layers=r}this.layers.style.display="block"},stop:function(){var t=this.layers;t&&(t.style.display="none")}}},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i).a.$;e.default={run:function(t,e){if(this.sender=e,!this.$cn){var n=t.getConfig(),i=t.Panels;this.$cn=r("<div></div>"),this.$cn2=r("<div></div>"),this.$cn.append(this.$cn2);var o=t.DeviceManager;o&&n.showDevices&&i.addPanel({id:"devices-c"}).set("appendContent",o.render()).trigger("change:appendContent");var a=t.SelectorManager;a&&this.$cn2.append(a.render([])),this.$cn2.append(t.StyleManager.render());var s=t.StyleManager.getConfig().stylePrefix;this.$header=r('<div class="'.concat(s,'header">').concat(t.t("styleManager.empty"),"</div>")),this.$cn.append(this.$header),i.getPanel("views-container")?this.panel=i.getPanel("views-container"):this.panel=i.addPanel({id:"views-container"}),this.panel.set("appendContent",this.$cn).trigger("change:appendContent"),this.target=t.editor,this.listenTo(this.target,"component:toggled",this.toggleSm)}this.toggleSm()},toggleSm:function(){var t=this.target,e=this.sender;if(!e||!e.get||e.get("active")){var n=t.get("SelectorManager").getConfig().componentFirst,i=t.getSelectedAll().length;1===i||i>1&&n?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show())}},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i).a.$;e.default={run:function(t,e){this.sender=e;var n=t.getModel(),i=t.Config.stylePrefix,o=t.TraitManager;if(!this.$cn){var a=o.getTraitsViewer(),s=o.getConfig();this.$cn=r("<div></div>"),this.$cn2=r("<div></div>"),this.$cn.append(this.$cn2),this.$header=r("<div>").append('<div class="'.concat(s.stylePrefix,'header">').concat(n.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),this.$cn2.append('<div class="'.concat(i,'traits-label">').concat(n.t("traitManager.label"),"</div>")),this.$cn2.append(a.render().el);var l=t.Panels;(l.getPanel("views-container")?l.getPanel("views-container"):l.addPanel({id:"views-container"})).set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=t.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()},toggleTm:function(){var t=this.sender;t&&t.get&&!t.get("active")||(1===this.target.getSelectedAll().length?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},function(t,e,n){"use strict";n.r(e);var i=n(0);e.default={run:function(t){var e=t.getModel().get("clipboard"),n=t.getSelected();e&&n&&(t.getSelectedAll().forEach(function(n){if(n){var r,o=n.collection,a=o.indexOf(n)+1,s=e.filter(function(t){return t.get("copyable")});r=Object(i.contains)(e,n)&&n.get("copyable")?o.add(n.clone(),{at:a}):o.add(s.map(function(t){return t.clone()}),{at:a}),(r=Object(i.isArray)(r)?r:[r]).forEach(function(e){return t.trigger("component:paste",e)})}}),n.emitUpdate())}}},function(t,e,n){"use strict";n.r(e);var i=n(7),r=n.n(i),o=n(0),a="sw-visibility";e.default={getPanels:function(t){return this.panels||(this.panels=t.Panels.getPanels()),this.panels},preventDrag:function(t){t.abort=1},tglEffects:function(t){var e=this.em,n=t?"on":"off";if(e){var i=e.get("Canvas"),r=i.getBody(),a=i.getToolbarEl();a&&(a.style.display=t?"none":"");var s=r.querySelectorAll(".".concat(this.ppfx,"no-pointer"));Object(o.each)(s,function(e){return e.style.pointerEvents=t?"all":""}),e[n]("run:tlb-move:before",this.preventDrag)}},run:function(t,e){var n=this;this.sender=e,this.selected=r()(t.getSelectedAll()),t.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=t.Commands.isActive(a)),this.shouldRunSwVisibility&&t.stopCommand(a),t.getModel().stopDefault();var i=this.getPanels(t),o=t.Canvas.getElement(),s=t.getEl(),l=t.Config.stylePrefix;if(!this.helper){var c=document.createElement("span");c.className="".concat(l,"off-prv fa fa-eye-slash"),s.appendChild(c),c.onclick=function(){return n.stopCommand()},this.helper=c}this.helper.style.display="inline-block",i.forEach(function(t){return t.set("visible",!1)});var u=o.style;u.width="100%",u.height="100%",u.top="0",u.left="0",u.padding="0",u.margin="0",t.refresh(),this.tglEffects(1)},stop:function(t){var e=this.sender,n=void 0===e?{}:e,i=this.selected;n.set&&n.set("active",0);var r=this.getPanels(t);this.shouldRunSwVisibility&&(t.runCommand(a),this.shouldRunSwVisibility=!1),t.getModel().runDefault(),r.forEach(function(t){return t.set("visible",!0)}),t.Canvas.getElement().setAttribute("style",""),i&&t.select(i),delete this.selected,this.helper&&(this.helper.style.display="none"),t.refresh(),this.tglEffects()}}},function(t,e,n){"use strict";n.r(e),e.default={run:function(t,e,n){var i=n||{},r=i.el||"",o=t.Canvas,a=this.canvasResizer,s=i.options||{},l=o.getCanvasView();return s.appendTo=o.getResizerEl(),s.prefix=t.getConfig().stylePrefix,s.posFetcher=l.getElementPos.bind(l),s.mousePosFetcher=o.getMouseRelativePos,a&&!i.forceNew||(this.canvasResizer=t.Utils.Resizer.init(s),a=this.canvasResizer),a.setOptions(s),a.blur(),a.focus(r),a},stop:function(){var t=this.canvasResizer;t&&t.blur()}}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),o=n(1),a=n.n(o),s=n(0),l=n(3);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}var u=a.a.$;e.default={getOffsetMethod:function(t){return"get"+(t||"")+"OffsetViewerEl"},run:function(t,e,n){var i=n||{},o=i.state||"",a=t.getConfig(),d=this.em.getZoomDecimal(),h=i.el||"";if(!a.showOffsets||Object(l.s)(h)||!a.showOffsetsSelected&&"Fixed"==o)t.stopCommand(this.id,n);else{var f=t.Canvas,p=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},i.elPos||f.getElementPos(h));Object(s.isUndefined)(i.top)||(p.top=i.top),Object(s.isUndefined)(i.left)||(p.left=i.left);var g=window.getComputedStyle(h),m=this.ppfx,v=o+"State",y=f[this.getOffsetMethod(o)](n.view);y.style.opacity="";var b=this["marginT"+o],w=this["marginB"+o],E=this["marginL"+o],C=this["marginR"+o],T=this["padT"+o],_=this["padB"+o],O=this["padL"+o],k=this["padR"+o];if(y.childNodes.length&&(this[v]="1",b=y.querySelector("[data-offset-m-t]"),w=y.querySelector("[data-offset-m-b]"),E=y.querySelector("[data-offset-m-l]"),C=y.querySelector("[data-offset-m-r]"),T=y.querySelector("[data-offset-p-t]"),_=y.querySelector("[data-offset-p-b]"),O=y.querySelector("[data-offset-p-l]"),k=y.querySelector("[data-offset-p-r]")),!this[v]){var D=o.toLowerCase(),x=D+"margin-v",I=D+"padding-v",S=u('<div class="'.concat(m,'marginName">')).get(0),R=u('<div class="'.concat(m,'paddingName">')).get(0),A=m+I+"-el",N="".concat(m+x+"-el"," ").concat(m+x),P="".concat(A," ").concat(m+I);b=u('<div class="'.concat(N,'-top"></div>')).get(0),w=u('<div class="'.concat(N,'-bottom"></div>')).get(0),E=u('<div class="'.concat(N,'-left"></div>')).get(0),C=u('<div class="'.concat(N,'-right"></div>')).get(0),T=u('<div class="'.concat(P,'-top"></div>')).get(0),_=u('<div class="'.concat(P,'-bottom"></div>')).get(0),O=u('<div class="'.concat(P,'-left"></div>')).get(0),k=u('<div class="'.concat(P,'-right"></div>')).get(0),this["marginT"+o]=b,this["marginB"+o]=w,this["marginL"+o]=E,this["marginR"+o]=C,this["padT"+o]=T,this["padB"+o]=_,this["padL"+o]=O,this["padR"+o]=k,S.appendChild(b),S.appendChild(w),S.appendChild(E),S.appendChild(C),R.appendChild(T),R.appendChild(_),R.appendChild(O),R.appendChild(k),y.appendChild(S),y.appendChild(R),this[v]="1"}var M="px",L=parseFloat(g.marginLeft.replace(M,""))*d,K=parseFloat(g.marginRight.replace(M,""))*d,j=parseFloat(g.marginTop.replace(M,""))*d,F=parseFloat(g.marginBottom.replace(M,""))*d,B=b.style,$=w.style,H=E.style,U=C.style,z=T.style,V=_.style,W=O.style,q=k.style,Y=parseFloat(p.left),G=parseFloat(g.width)*d+M;B.height=j+M,B.width=G,B.top=p.top-j+M,B.left=Y+M,$.height=F+M,$.width=G,$.top=p.top+p.height+M,$.left=Y+M;var X=p.height+j+F+M,Z=p.top-j+M;H.height=X,H.width=L+M,H.top=Z,H.left=Y-L+M,U.height=X,U.width=K+M,U.top=Z,U.left=Y+p.width+M;var J=parseFloat(g.paddingTop)*d;z.height=J+M;var Q=parseFloat(g.paddingBottom)*d;V.height=Q+M;var tt=p.height-Q-J+M,et=p.top+J+M;W.height=tt,W.width=parseFloat(g.paddingLeft)*d+M,W.top=et;var nt=parseFloat(g.paddingRight)*d;q.height=tt,q.width=nt+M,q.top=et}},stop:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(n||{}).state||"",r=this.getOffsetMethod(i);t.Canvas[r](n.view).style.opacity=0}}},function(t,e,n){"use strict";n.r(e),e.default={run:function(t){this.toggleVis(t)},stop:function(t){this.toggleVis(t,0)},toggleVis:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!t.Commands.isActive("preview")){var i=n?"add":"remove";t.Canvas.getFrames().forEach(function(t){t.view.getBody().classList[i]("".concat(e.ppfx,"dashed"))})}}}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),o={stylePrefix:"",appendTo:"",sortable:1,hidable:1,hideTextnode:1,root:"",showWrapper:1,showHover:1,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:1,onInit:function(){},onRender:function(){}},a=n(36),s=n(0);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e.default=function(){var t,e,n={};return{name:"LayerManager",init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(n=c(c({},o),e)).stylePrefix=e.pStylePrefix,t=n.em,this},getConfig:function(){return n},onLoad:function(){e=new a.a({level:0,config:n,opened:n.opened||{},model:t.get("DomComponents").getWrapper()}),t&&t.on("component:selected",this.componentChanged),this.componentChanged()},postRender:function(){var t=n.appendTo,e=n.root;e&&this.setRoot(e),t&&(Object(s.isElement)(t)?t:document.querySelector(t)).appendChild(this.render())},setRoot:function(t){return e.setRoot(t),this},getRoot:function(){return e.model},getAll:function(){return e},componentChanged:function(e){if(!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fromLayers){var i=t.get("opened"),r=t.getSelected(),o=n.scrollLayers,a=r&&r.collection?r.collection.parent:null;for(var s in i)i[s].set("open",0);for(;a;)a.set("open",1),i[a.cid]=a,a=a.collection?a.collection.parent:null;if(r&&o){var l=r.viewLayer&&r.viewLayer.el;l&&l.scrollIntoView(o)}}},render:function(){return e.render().el},destroy:function(){e&&e.remove(),[t,e,n].forEach(function(t){return{}})}}}},function(t,e,n){var i,r,o;r=[n(0),n(1)],void 0===(o="function"==typeof(i=function(t,e){var n=Array.prototype.slice;function i(t,e,n){return n.length<=4?t.call(e,n[0],n[1],n[2],n[3]):t.apply(e,n)}function r(t,e){return n.call(t,e)}function o(e,n){return null!=e&&(t.isArray(n)||(n=r(arguments,1)),t.all(n,function(t){return t in e}))}var a,s,l=(a=!1,s=-1,function(){return a||(s++,a=!0,t.defer(function(){a=!1})),s});function c(){this.registeredObjects=[],this.cidIndexes=[]}function u(e,n,i,r){for(var o,a=0,s=n.length;a<s;a++)if(o=n[a]){if("on"===e){if(!r.objectRegistry.register(o))continue}else if(!r.objectRegistry.unregister(o))continue;t.isFunction(o[e])&&o[e]("all",i,r)}}function d(e,n){var i=n.type,r=n.undoTypes,o=!r[i]||r[i][e];t.isFunction(o)&&o(n.object,n.before,n.after,n.options)}function h(e,i,r,o,a){if(!(r.isCurrentlyUndoRedoing||"undo"===e&&-1===r.pointer||"redo"===e&&r.pointer===r.length-1)){r.isCurrentlyUndoRedoing=!0;var s,l,c="undo"===e;for(a?l=c&&r.pointer===r.length-1||!c&&-1===r.pointer?t.clone(r.models):n.apply(r.models,c?[0,r.pointer]:[r.pointer,r.length-1]):(s=r.at(c?r.pointer:r.pointer+1),l=o?r.where({magicFusionIndex:s.get("magicFusionIndex")}):[s]),r.pointer+=(c?-1:1)*l.length;s=c?l.pop():l.shift();)s[e]();r.isCurrentlyUndoRedoing=!1,i.trigger(e,i)}}c.prototype={isRegistered:function(e){return e&&e.cid?this.registeredObjects[e.cid]:t.contains(this.registeredObjects,e)},register:function(t){return!this.isRegistered(t)&&(t&&t.cid?(this.registeredObjects[t.cid]=t,this.cidIndexes.push(t.cid)):this.registeredObjects.push(t),!0)},unregister:function(e){if(this.isRegistered(e)){if(e&&e.cid)delete this.registeredObjects[e.cid],this.cidIndexes.splice(t.indexOf(this.cidIndexes,e.cid),1);else{var n=t.indexOf(this.registeredObjects,e);this.registeredObjects.splice(n,1)}return!0}return!1},get:function(){return t.map(this.cidIndexes,function(t){return this.registeredObjects[t]},this).concat(this.registeredObjects)}};var f={add:{undo:function(t,e,n,i){t.remove(n,i)},redo:function(t,e,n,i){i.index&&(i.at=i.index),t.add(n,i)},on:function(e,n,i){return{object:n,before:void 0,after:e,options:t.clone(i)}}},remove:{undo:function(t,e,n,i){"index"in i&&(i.at=i.index),t.add(e,i)},redo:function(t,e,n,i){t.remove(e,i)},on:function(e,n,i){return{object:n,before:e,after:void 0,options:t.clone(i)}}},change:{undo:function(e,n,i,r){t.isEmpty(n)?t.each(t.keys(i),e.unset,e):(e.set(n),r&&r.unsetData&&r.unsetData.before&&r.unsetData.before.length&&t.each(r.unsetData.before,e.unset,e))},redo:function(e,n,i,r){t.isEmpty(i)?t.each(t.keys(n),e.unset,e):(e.set(i),r&&r.unsetData&&r.unsetData.after&&r.unsetData.after.length&&t.each(r.unsetData.after,e.unset,e))},on:function(e,n){var i=e.changedAttributes(),r=t.keys(i),o=t.pick(e.previousAttributes(),r),a=t.keys(o),s=(n||(n={})).unsetData={after:[],before:[]};return r.length!=a.length&&(r.length>a.length?t.each(r,function(t){t in o||s.before.push(t)},this):t.each(a,function(t){t in i||s.after.push(t)})),{object:e,before:o,after:i,options:t.clone(n)}}},reset:{undo:function(t,e,n){t.reset(e)},redo:function(t,e,n){t.reset(n)},on:function(e,n){return{object:e,before:n.previousModels,after:t.clone(e.models)}}}};function p(){}function g(e,n,i,r){if("object"==typeof n)return t.each(n,function(t,n){2===e?g(e,t,i,r):g(e,n,t,i)});switch(e){case 0:o(i,"undo","redo","on")&&t.all(t.pick(i,"undo","redo","on"),t.isFunction)&&(r[n]=i);break;case 1:r[n]&&t.isObject(i)&&(r[n]=t.extend({},r[n],i));break;case 2:delete r[n]}return this}p.prototype=f;var m=e.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(t){d("undo",this.attributes)},redo:function(t){d("redo",this.attributes)}}),v=e.Collection.extend({model:m,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(t){this.maximumStackLength=t}}),y=e.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(e){this.stack=new v,this.objectRegistry=new c,this.undoTypes=new p,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(t,e){this.stack.setMaxLength(e)},this),e&&e.track&&this.startTracking(),e&&e.register&&(t.isArray(e.register)||t.isArguments(e.register)?i(this.register,this,e.register):this.register(e.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(t){!function(t,e,n,r){if(t.track&&!t.isCurrentlyUndoRedoing&&e in r&&function(t,e){var n=t.condition,r=typeof n;return"function"===r?!!i(n,t,e):"boolean"!==r||n}(r[e],n)){var a=i(r[e].on,r[e],n);if(o(a,"object","before","after")){if(a.type=e,a.magicFusionIndex=l(),a.undoTypes=r,t.pointer<t.length-1)for(var s=t.length-t.pointer-1;s--;)t.pop();t.pointer=t.length,t.add(a),t.length>t.maximumStackLength&&(t.shift(),t.pointer--)}}}(this.stack,t,r(arguments,1),this.undoTypes)},register:function(){u("on",arguments,this._addToStack,this)},unregister:function(){u("off",arguments,this._addToStack,this)},unregisterAll:function(){i(this.unregister,this,this.objectRegistry.get())},undo:function(t){h("undo",this,this.stack,t)},undoAll:function(){h("undo",this,this.stack,!1,!0)},redo:function(t){h("redo",this,this.stack,t)},redoAll:function(){h("redo",this,this.stack,!1,!0)},isAvailable:function(t){var e=this.stack,n=e.length;switch(t){case"undo":return n>0&&e.pointer>-1;case"redo":return n>0&&e.pointer<n-1;default:return!1}},merge:function(e){for(var n,i=t.isArray(e)?e:r(arguments);n=i.pop();)n instanceof y&&n.stack instanceof v&&(n.stack=this.stack)},addUndoType:function(t,e){g(0,t,e,this.undoTypes)},changeUndoType:function(t,e){g(1,t,e,this.undoTypes)},removeUndoType:function(t){g(2,t,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return t.extend(y,{defaults:function(e){t.extend(y.prototype.defaults,e)},addUndoType:function(t,e){g(0,t,e,f)},changeUndoType:function(t,e){g(1,t,e,f)},removeUndoType:function(t){g(2,t,void 0,f)}}),e.UndoManager=y})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})}},function(t,e,n){"use strict";var i=n(8),r=n.n(i);e.a=function(t){return new this(function(e,n){if(!t||void 0===t.length)return n(new TypeError(r()(t)+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var o=i.length;function a(t,n){if(n&&("object"===r()(n)||"function"==typeof n)){var s=n.then;if("function"==typeof s)return void s.call(n,function(e){a(t,e)},function(n){i[t]={status:"rejected",reason:n},0==--o&&e(i)})}i[t]={status:"fulfilled",value:n},0==--o&&e(i)}for(var s=0;s<i.length;s++)a(s,i[s])})}},function(t,e,n){var i=n(87),r=n(88),o=n(43),a=n(89);t.exports=function(t,e){return i(t)||r(t,e)||o(t,e)||a()}},function(t,e,n){var i=n(42);t.exports=function(t){if(Array.isArray(t))return i(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){"use strict";n.r(e);var i=n(8),r=n.n(i),o=n(2),a=n.n(o),s=n(0),l=n(39),c=n.n(l);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e.default=function(){var t,e,n={},i={defaults:{"core:undo":{keys:"â+z, ctrl+z",handler:"core:undo"},"core:redo":{keys:"â+shift+z, ctrl+shift+z",handler:"core:redo"},"core:copy":{keys:"â+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"â+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:1}}}};return{keymaster:c.a,name:"Keymaps",getConfig:function(){return e},init:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=d(d({},i),n),t=e.em,this.em=t,this},onLoad:function(){var t=e.defaults;for(var n in t){var i=t[n];this.add(n,i.keys,i.handler,i.opts||{})}},add:function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=this.em,l=a.get("Commands"),u=a.getEditor(),d=a.get("Canvas"),h={id:t,keys:e,handler:i};return n[t]&&this.remove(t),n[t]=h,c()(e,function(e,n){var c={event:e,h:n};if(i=Object(s.isString)(i)?l.get(i):i,!a.isEditing()&&!u.Canvas.isInputFocused()||o.force){o.prevent&&d.getCanvasView().preventDefault(e),"object"==r()(i)?l.runCommand(i,c):i(u,0,c);var h=[t,n.shortcut,e];a.trigger.apply(a,["keymap:emit"].concat(h)),a.trigger.apply(a,["keymap:emit:".concat(t)].concat(h))}}),a.trigger("keymap:add",h),h},get:function(t){return n[t]},getAll:function(){return n},remove:function(t){var e=this.em,i=this.get(t);if(i)return delete n[t],i.keys.split(", ").forEach(function(t){return c.a.unbind(t.trim())}),e&&e.trigger("keymap:remove",i),i},removeAll:function(){var t=this;return Object.keys(n).forEach(function(e){return t.remove(e)}),this},destroy:function(){this.removeAll(),[t,e,n].forEach(function(t){return{}}),this.em={}}}}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),o=n(70),a=n.n(o);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e.default=function(){var t,e,n,i,r={maximumStackLength:500},o=function(t){return t.avoidStore||t.noUndo};return{name:"UndoManager",init:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=l(l({},s),r),t=n.em,this.em=t,(e=new a.a(l({track:!0,register:[]},n))).changeUndoType("change",{condition:!1}),e.changeUndoType("add",{on:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!o(n))return{object:e,before:void 0,after:t,options:l({},n)}}}),e.changeUndoType("remove",{on:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!o(n))return{object:e,before:t,after:void 0,options:l({},n)}}});var c={on:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!i&&(i=t.previousAttributes()),!o(n)){var r={object:t,before:i,after:t.toJSON({keepSymbols:1})};return i=null,r}},undo:function(t,e,n,i){t.set(e)},redo:function(t,e,n,i){t.set(n)}};return["style","attributes","content","src"].forEach(function(t){return e.addUndoType("change:".concat(t),c)}),e.on("undo redo",function(){return t.trigger("component:toggled change:canvasOffset")}),["undo","redo"].forEach(function(n){return e.on(n,function(){return t.trigger(n)})}),this},getConfig:function(){return n},add:function(t){return e.register(t),this},remove:function(t){return e.unregister(t),this},removeAll:function(){return e.unregisterAll(),this},start:function(){return e.startTracking(),this},stop:function(){return e.stopTracking(),this},undo:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!t.isEditing()&&e.undo(n),this},undoAll:function(){return e.undoAll(),this},redo:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!t.isEditing()&&e.redo(n),this},redoAll:function(){return e.redoAll(),this},hasUndo:function(){return e.isAvailable("undo")},hasRedo:function(){return e.isAvailable("redo")},getStack:function(){return e.stack},getStackGroup:function(){var t=[],e=[];return this.getStack().forEach(function(n){var i=n.get("magicFusionIndex");e.indexOf(i)<0&&(e.push(i),t.push(n))}),t},getPointer:function(){return this.getStack().pointer},clear:function(){return e.clear(),this},getInstance:function(){return e},destroy:function(){this.clear().removeAll(),[t,e,n,i].forEach(function(t){return{}}),this.em={}}}}},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(80),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(26))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,a,s,l=1,c={},u=!1,d=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){p(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(a+e,"*")}):t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){o.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(p,0,t)},h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[l]=r,i(l),l++},h.clearImmediate=f}function f(t){delete c[t]}function p(t){if(u)setTimeout(p,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{f(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(26),n(81))},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var t=s(h);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}},function(t,e,n){!function(t){"use strict";var e={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},n={};function i(t,e){var i=t.match(function(t){return n[t]||(n[t]=new RegExp("\\s+"+t+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}(e));return i?/^\s*(.*?)\s*$/.exec(i[2])[1]:""}function r(t,e){return new RegExp((e?"^":"")+"</s*"+t+"s*>","i")}function o(t,e){for(var n in t)for(var i=e[n]||(e[n]=[]),r=t[n],o=r.length-1;o>=0;o--)i.unshift(r[o])}t.defineMode("htmlmixed",function(n,a){var s=t.getMode(n,{name:"xml",htmlMode:!0,multilineTagIndentFactor:a.multilineTagIndentFactor,multilineTagIndentPastTag:a.multilineTagIndentPastTag,allowMissingTagName:a.allowMissingTagName}),l={},c=a&&a.tags,u=a&&a.scriptTypes;if(o(e,l),c&&o(c,l),u)for(var d=u.length-1;d>=0;d--)l.script.unshift(["type",u[d].matches,u[d].mode]);function h(e,o){var a,c=s.token(e,o.htmlState),u=/\btag\b/.test(c);if(u&&!/[<>\s\/]/.test(e.current())&&(a=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&l.hasOwnProperty(a))o.inTag=a+" ";else if(o.inTag&&u&&/>$/.test(e.current())){var d=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var f=">"==e.current()&&function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(!r[0]||r[1].test(i(e,r[0])))return r[2]}}(l[d[1]],d[2]),p=t.getMode(n,f),g=r(d[1],!0),m=r(d[1],!1);o.token=function(t,e){return t.match(g,!1)?(e.token=h,e.localState=e.localMode=null,null):function(t,e,n){var i=t.current(),r=i.search(e);return r>-1?t.backUp(i.length-r):i.match(/<\/?$/)&&(t.backUp(i.length),t.match(e,!1)||t.match(i)),n}(t,m,e.localMode.token(t,e.localState))},o.localMode=p,o.localState=t.startState(p,s.indent(o.htmlState,"",""))}else o.inTag&&(o.inTag+=e.current(),e.eol()&&(o.inTag+=" "));return c}return{startState:function(){return{token:h,inTag:null,localMode:null,localState:null,htmlState:t.startState(s)}},copyState:function(e){var n;return e.localState&&(n=t.copyState(e.localMode,e.localState)),{token:e.token,inTag:e.inTag,localMode:e.localMode,localState:n,htmlState:t.copyState(s,e.htmlState)}},token:function(t,e){return e.token(t,e)},indent:function(e,n,i){return!e.localMode||/^\s*<\//.test(n)?s.indent(e.htmlState,n,i):e.localMode.indent?e.localMode.indent(e.localState,n,i):t.Pass},innerMode:function(t){return{state:t.localState||t.htmlState,mode:t.localMode||s}}}},"xml","javascript","css"),t.defineMIME("text/html","htmlmixed")}(n(13),n(84),n(85),n(44))},function(t,e,n){!function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(i,r){var o,a,s=i.indentUnit,l={},c=r.htmlMode?e:n;for(var u in c)l[u]=c[u];for(var u in r)l[u]=r[u];function d(t,e){function n(n){return e.tokenize=n,n(t,e)}var i=t.next();return"<"==i?t.eat("!")?t.eat("[")?t.match("CDATA[")?n(f("atom","]]>")):null:t.match("--")?n(f("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),n(function t(e){return function(n,i){for(var r;null!=(r=n.next());){if("<"==r)return i.tokenize=t(e+1),i.tokenize(n,i);if(">"==r){if(1==e){i.tokenize=d;break}return i.tokenize=t(e-1),i.tokenize(n,i)}}return"meta"}}(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),e.tokenize=f("meta","?>"),"meta"):(o=t.eat("/")?"closeTag":"openTag",e.tokenize=h,"tag bracket"):"&"==i?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),null)}function h(t,e){var n,i,r=t.next();if(">"==r||"/"==r&&t.eat(">"))return e.tokenize=d,o=">"==r?"endTag":"selfcloseTag","tag bracket";if("="==r)return o="equals",null;if("<"==r){e.tokenize=d,e.state=v,e.tagName=e.tagStart=null;var a=e.tokenize(t,e);return a?a+" tag error":"tag error"}return/[\'\"]/.test(r)?(e.tokenize=(n=r,(i=function(t,e){for(;!t.eol();)if(t.next()==n){e.tokenize=h;break}return"string"}).isInAttribute=!0,i),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function f(t,e){return function(n,i){for(;!n.eol();){if(n.match(e)){i.tokenize=d;break}n.next()}return t}}function p(t,e,n){this.prev=t.context,this.tagName=e||"",this.indent=t.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function g(t){t.context&&(t.context=t.context.prev)}function m(t,e){for(var n;;){if(!t.context)return;if(n=t.context.tagName,!l.contextGrabbers.hasOwnProperty(n)||!l.contextGrabbers[n].hasOwnProperty(e))return;g(t)}}function v(t,e,n){return"openTag"==t?(n.tagStart=e.column(),y):"closeTag"==t?b:v}function y(t,e,n){return"word"==t?(n.tagName=e.current(),a="tag",C):l.allowMissingTagName&&"endTag"==t?(a="tag bracket",C(t,0,n)):(a="error",y)}function b(t,e,n){if("word"==t){var i=e.current();return n.context&&n.context.tagName!=i&&l.implicitlyClosed.hasOwnProperty(n.context.tagName)&&g(n),n.context&&n.context.tagName==i||!1===l.matchClosing?(a="tag",w):(a="tag error",E)}return l.allowMissingTagName&&"endTag"==t?(a="tag bracket",w(t,0,n)):(a="error",E)}function w(t,e,n){return"endTag"!=t?(a="error",w):(g(n),v)}function E(t,e,n){return a="error",w(t,0,n)}function C(t,e,n){if("word"==t)return a="attribute",T;if("endTag"==t||"selfcloseTag"==t){var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==t||l.autoSelfClosers.hasOwnProperty(i)?m(n,i):(m(n,i),n.context=new p(n,i,r==n.indented)),v}return a="error",C}function T(t,e,n){return"equals"==t?_:(l.allowMissing||(a="error"),C(t,0,n))}function _(t,e,n){return"string"==t?O:"word"==t&&l.allowUnquoted?(a="string",C):(a="error",C(t,0,n))}function O(t,e,n){return"string"==t?O:C(t,0,n)}return d.isInText=!0,{startState:function(t){var e={tokenize:d,state:v,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(e.baseIndent=t),e},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;o=null;var n=e.tokenize(t,e);return(n||o)&&"comment"!=n&&(a=null,e.state=e.state(o||n,t,e),a&&(n="error"==a?n+" error":a)),n},indent:function(e,n,i){var r=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+s;if(r&&r.noIndent)return t.Pass;if(e.tokenize!=h&&e.tokenize!=d)return i?i.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==l.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var o=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(o&&o[1])for(;r;){if(r.tagName==o[2]){r=r.prev;break}if(!l.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(o)for(;r;){var a=l.contextGrabbers[r.tagName];if(!a||!a.hasOwnProperty(o[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+s:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(t){t.state==_&&(t.state=C)},xmlCurrentTag:function(t){return t.tagName?{name:t.tagName,close:"closeTag"==t.type}:null},xmlCurrentContext:function(t){for(var e=[],n=t.context;n;n=n.prev)e.push(n.tagName);return e.reverse()}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})}(n(13))},function(t,e,n){!function(t){"use strict";t.defineMode("javascript",function(e,n){var i,r,o=e.indentUnit,a=n.statementIndent,s=n.jsonld,l=n.json||s,c=n.typescript,u=n.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),i=t("keyword c"),r=t("keyword d"),o=t("operator"),a={type:"atom",style:"atom"};return{if:t("if"),while:e,with:e,else:n,do:n,try:n,finally:n,return:r,break:r,continue:r,new:t("new"),delete:i,void:i,throw:i,debugger:t("debugger"),var:t("var"),const:t("var"),let:t("var"),function:t("function"),catch:t("catch"),for:t("for"),switch:t("switch"),case:t("case"),default:t("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:t("this"),class:t("class"),super:t("atom"),yield:i,export:t("export"),import:t("import"),extends:i,await:i}}(),h=/[+\-*&%=<>!?|~^@]/,f=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function p(t,e,n){return i=t,r=n,e}function g(t,e){var n,i=t.next();if('"'==i||"'"==i)return e.tokenize=(n=i,function(t,e){var i,r=!1;if(s&&"@"==t.peek()&&t.match(f))return e.tokenize=g,p("jsonld-keyword","meta");for(;null!=(i=t.next())&&(i!=n||r);)r=!r&&"\\"==i;return r||(e.tokenize=g),p("string","string")}),e.tokenize(t,e);if("."==i&&t.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return p("number","number");if("."==i&&t.match(".."))return p("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return p(i);if("="==i&&t.eat(">"))return p("=>","operator");if("0"==i&&t.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return p("number","number");if(/\d/.test(i))return t.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),p("number","number");if("/"==i)return t.eat("*")?(e.tokenize=m,m(t,e)):t.eat("/")?(t.skipToEnd(),p("comment","comment")):Gt(t,e,1)?(function(t){for(var e,n=!1,i=!1;null!=(e=t.next());){if(!n){if("/"==e&&!i)return;"["==e?i=!0:i&&"]"==e&&(i=!1)}n=!n&&"\\"==e}}(t),t.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),p("regexp","string-2")):(t.eat("="),p("operator","operator",t.current()));if("`"==i)return e.tokenize=v,v(t,e);if("#"==i&&"!"==t.peek())return t.skipToEnd(),p("meta","meta");if("#"==i&&t.eatWhile(u))return p("variable","property");if("<"==i&&t.match("!--")||"-"==i&&t.match("->")&&!/\S/.test(t.string.slice(0,t.start)))return t.skipToEnd(),p("comment","comment");if(h.test(i))return">"==i&&e.lexical&&">"==e.lexical.type||(t.eat("=")?"!"!=i&&"="!=i||t.eat("="):/[<>*+\-|&?]/.test(i)&&(t.eat(i),">"==i&&t.eat(i))),"?"==i&&t.eat(".")?p("."):p("operator","operator",t.current());if(u.test(i)){t.eatWhile(u);var r=t.current();if("."!=e.lastType){if(d.propertyIsEnumerable(r)){var o=d[r];return p(o.type,o.style,r)}if("async"==r&&t.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return p("async","keyword",r)}return p("variable","variable",r)}}function m(t,e){for(var n,i=!1;n=t.next();){if("/"==n&&i){e.tokenize=g;break}i="*"==n}return p("comment","comment")}function v(t,e){for(var n,i=!1;null!=(n=t.next());){if(!i&&("`"==n||"$"==n&&t.eat("{"))){e.tokenize=g;break}i=!i&&"\\"==n}return p("quasi","string-2",t.current())}var y="([{}])";function b(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var n=t.string.indexOf("=>",t.start);if(!(n<0)){if(c){var i=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(t.string.slice(t.start,n));i&&(n=i.index)}for(var r=0,o=!1,a=n-1;a>=0;--a){var s=t.string.charAt(a),l=y.indexOf(s);if(l>=0&&l<3){if(!r){++a;break}if(0==--r){"("==s&&(o=!0);break}}else if(l>=3&&l<6)++r;else if(u.test(s))o=!0;else if(/["'\/`]/.test(s))for(;;--a){if(0==a)return;if(t.string.charAt(a-1)==s&&"\\"!=t.string.charAt(a-2)){a--;break}}else if(o&&!r){++a;break}}o&&!r&&(e.fatArrowAt=a)}}var w={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function E(t,e,n,i,r,o){this.indented=t,this.column=e,this.type=n,this.prev=r,this.info=o,null!=i&&(this.align=i)}function C(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0;for(var i=t.context;i;i=i.prev)for(n=i.vars;n;n=n.next)if(n.name==e)return!0}var T={state:null,column:null,marked:null,cc:null};function _(){for(var t=arguments.length-1;t>=0;t--)T.cc.push(arguments[t])}function O(){return _.apply(null,arguments),!0}function k(t,e){for(var n=e;n;n=n.next)if(n.name==t)return!0;return!1}function D(t){var e=T.state;if(T.marked="def",e.context)if("var"==e.lexical.info&&e.context&&e.context.block){var i=function t(e,n){if(n){if(n.block){var i=t(e,n.prev);return i?i==n.prev?n:new I(i,n.vars,!0):null}return k(e,n.vars)?n:new I(n.prev,new S(e,n.vars),!1)}return null}(t,e.context);if(null!=i)return void(e.context=i)}else if(!k(t,e.localVars))return void(e.localVars=new S(t,e.localVars));n.globalVars&&!k(t,e.globalVars)&&(e.globalVars=new S(t,e.globalVars))}function x(t){return"public"==t||"private"==t||"protected"==t||"abstract"==t||"readonly"==t}function I(t,e,n){this.prev=t,this.vars=e,this.block=n}function S(t,e){this.name=t,this.next=e}var R=new S("this",new S("arguments",null));function A(){T.state.context=new I(T.state.context,T.state.localVars,!1),T.state.localVars=R}function N(){T.state.context=new I(T.state.context,T.state.localVars,!0),T.state.localVars=null}function P(){T.state.localVars=T.state.context.vars,T.state.context=T.state.context.prev}function M(t,e){var n=function(){var n=T.state,i=n.indented;if("stat"==n.lexical.type)i=n.lexical.indented;else for(var r=n.lexical;r&&")"==r.type&&r.align;r=r.prev)i=r.indented;n.lexical=new E(i,T.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function L(){var t=T.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function K(t){return function e(n){return n==t?O():";"==t||"}"==n||")"==n||"]"==n?_():O(e)}}function j(t,e){return"var"==t?O(M("vardef",e),wt,K(";"),L):"keyword a"==t?O(M("form"),H,j,L):"keyword b"==t?O(M("form"),j,L):"keyword d"==t?T.stream.match(/^\s*$/,!1)?O():O(M("stat"),z,K(";"),L):"debugger"==t?O(K(";")):"{"==t?O(M("}"),N,at,L,P):";"==t?O():"if"==t?("else"==T.state.lexical.info&&T.state.cc[T.state.cc.length-1]==L&&T.state.cc.pop()(),O(M("form"),H,j,L,kt)):"function"==t?O(St):"for"==t?O(M("form"),Dt,j,L):"class"==t||c&&"interface"==e?(T.marked="keyword",O(M("form","class"==t?t:e),Mt,L)):"variable"==t?c&&"declare"==e?(T.marked="keyword",O(j)):c&&("module"==e||"enum"==e||"type"==e)&&T.stream.match(/^\s*\w/,!1)?(T.marked="keyword","enum"==e?O(qt):"type"==e?O(At,K("operator"),dt,K(";")):O(M("form"),Et,K("{"),M("}"),at,L,L)):c&&"namespace"==e?(T.marked="keyword",O(M("form"),B,j,L)):c&&"abstract"==e?(T.marked="keyword",O(j)):O(M("stat"),Q):"switch"==t?O(M("form"),H,K("{"),M("}","switch"),N,at,L,L,P):"case"==t?O(B,K(":")):"default"==t?O(K(":")):"catch"==t?O(M("form"),A,F,j,L,P):"export"==t?O(M("stat"),Ft,L):"import"==t?O(M("stat"),$t,L):"async"==t?O(j):"@"==e?O(B,j):_(M("stat"),B,K(";"),L)}function F(t){if("("==t)return O(Nt,K(")"))}function B(t,e){return U(t,e,!1)}function $(t,e){return U(t,e,!0)}function H(t){return"("!=t?_():O(M(")"),z,K(")"),L)}function U(t,e,n){if(T.state.fatArrowAt==T.stream.start){var i=n?X:G;if("("==t)return O(A,M(")"),rt(Nt,")"),L,K("=>"),i,P);if("variable"==t)return _(A,Et,K("=>"),i,P)}var r=n?W:V;return w.hasOwnProperty(t)?O(r):"function"==t?O(St,r):"class"==t||c&&"interface"==e?(T.marked="keyword",O(M("form"),Pt,L)):"keyword c"==t||"async"==t?O(n?$:B):"("==t?O(M(")"),z,K(")"),L,r):"operator"==t||"spread"==t?O(n?$:B):"["==t?O(M("]"),Wt,L,r):"{"==t?ot(et,"}",null,r):"quasi"==t?_(q,r):"new"==t?O(function(t){return function(e){return"."==e?O(t?J:Z):"variable"==e&&c?O(vt,t?W:V):_(t?$:B)}}(n)):"import"==t?O(B):O()}function z(t){return t.match(/[;\}\)\],]/)?_():_(B)}function V(t,e){return","==t?O(z):W(t,e,!1)}function W(t,e,n){var i=0==n?V:W,r=0==n?B:$;return"=>"==t?O(A,n?X:G,P):"operator"==t?/\+\+|--/.test(e)||c&&"!"==e?O(i):c&&"<"==e&&T.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?O(M(">"),rt(dt,">"),L,i):"?"==e?O(B,K(":"),r):O(r):"quasi"==t?_(q,i):";"!=t?"("==t?ot($,")","call",i):"."==t?O(tt,i):"["==t?O(M("]"),z,K("]"),L,i):c&&"as"==e?(T.marked="keyword",O(dt,i)):"regexp"==t?(T.state.lastType=T.marked="operator",T.stream.backUp(T.stream.pos-T.stream.start-1),O(r)):void 0:void 0}function q(t,e){return"quasi"!=t?_():"${"!=e.slice(e.length-2)?O(q):O(B,Y)}function Y(t){if("}"==t)return T.marked="string-2",T.state.tokenize=v,O(q)}function G(t){return b(T.stream,T.state),_("{"==t?j:B)}function X(t){return b(T.stream,T.state),_("{"==t?j:$)}function Z(t,e){if("target"==e)return T.marked="keyword",O(V)}function J(t,e){if("target"==e)return T.marked="keyword",O(W)}function Q(t){return":"==t?O(L,j):_(V,K(";"),L)}function tt(t){if("variable"==t)return T.marked="property",O()}function et(t,e){return"async"==t?(T.marked="property",O(et)):"variable"==t||"keyword"==T.style?(T.marked="property","get"==e||"set"==e?O(nt):(c&&T.state.fatArrowAt==T.stream.start&&(n=T.stream.match(/^\s*:\s*/,!1))&&(T.state.fatArrowAt=T.stream.pos+n[0].length),O(it))):"number"==t||"string"==t?(T.marked=s?"property":T.style+" property",O(it)):"jsonld-keyword"==t?O(it):c&&x(e)?(T.marked="keyword",O(et)):"["==t?O(B,st,K("]"),it):"spread"==t?O($,it):"*"==e?(T.marked="keyword",O(et)):":"==t?_(it):void 0;var n}function nt(t){return"variable"!=t?_(it):(T.marked="property",O(St))}function it(t){return":"==t?O($):"("==t?_(St):void 0}function rt(t,e,n){function i(r,o){if(n?n.indexOf(r)>-1:","==r){var a=T.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),O(function(n,i){return n==e||i==e?_():_(t)},i)}return r==e||o==e?O():n&&n.indexOf(";")>-1?_(t):O(K(e))}return function(n,r){return n==e||r==e?O():_(t,i)}}function ot(t,e,n){for(var i=3;i<arguments.length;i++)T.cc.push(arguments[i]);return O(M(e,n),rt(t,e),L)}function at(t){return"}"==t?O():_(j,at)}function st(t,e){if(c){if(":"==t)return O(dt);if("?"==e)return O(st)}}function lt(t,e){if(c&&(":"==t||"in"==e))return O(dt)}function ct(t){if(c&&":"==t)return T.stream.match(/^\s*\w+\s+is\b/,!1)?O(B,ut,dt):O(dt)}function ut(t,e){if("is"==e)return T.marked="keyword",O()}function dt(t,e){return"keyof"==e||"typeof"==e||"infer"==e?(T.marked="keyword",O("typeof"==e?$:dt)):"variable"==t||"void"==e?(T.marked="type",O(mt)):"|"==e||"&"==e?O(dt):"string"==t||"number"==t||"atom"==t?O(mt):"["==t?O(M("]"),rt(dt,"]",","),L,mt):"{"==t?O(M("}"),ft,L,mt):"("==t?O(rt(gt,")"),ht,mt):"<"==t?O(rt(dt,">"),dt):void 0}function ht(t){if("=>"==t)return O(dt)}function ft(t){return"}"==t?O():","==t||";"==t?O(ft):_(pt,ft)}function pt(t,e){return"variable"==t||"keyword"==T.style?(T.marked="property",O(pt)):"?"==e||"number"==t||"string"==t?O(pt):":"==t?O(dt):"["==t?O(K("variable"),lt,K("]"),pt):"("==t?_(Rt,pt):t.match(/[;\}\)\],]/)?void 0:O()}function gt(t,e){return"variable"==t&&T.stream.match(/^\s*[?:]/,!1)||"?"==e?O(gt):":"==t?O(dt):"spread"==t?O(gt):_(dt)}function mt(t,e){return"<"==e?O(M(">"),rt(dt,">"),L,mt):"|"==e||"."==t||"&"==e?O(dt):"["==t?O(dt,K("]"),mt):"extends"==e||"implements"==e?(T.marked="keyword",O(dt)):"?"==e?O(dt,K(":"),dt):void 0}function vt(t,e){if("<"==e)return O(M(">"),rt(dt,">"),L,mt)}function yt(){return _(dt,bt)}function bt(t,e){if("="==e)return O(dt)}function wt(t,e){return"enum"==e?(T.marked="keyword",O(qt)):_(Et,st,_t,Ot)}function Et(t,e){return c&&x(e)?(T.marked="keyword",O(Et)):"variable"==t?(D(e),O()):"spread"==t?O(Et):"["==t?ot(Tt,"]"):"{"==t?ot(Ct,"}"):void 0}function Ct(t,e){return"variable"!=t||T.stream.match(/^\s*:/,!1)?("variable"==t&&(T.marked="property"),"spread"==t?O(Et):"}"==t?_():"["==t?O(B,K("]"),K(":"),Ct):O(K(":"),Et,_t)):(D(e),O(_t))}function Tt(){return _(Et,_t)}function _t(t,e){if("="==e)return O($)}function Ot(t){if(","==t)return O(wt)}function kt(t,e){if("keyword b"==t&&"else"==e)return O(M("form","else"),j,L)}function Dt(t,e){return"await"==e?O(Dt):"("==t?O(M(")"),xt,L):void 0}function xt(t){return"var"==t?O(wt,It):"variable"==t?O(It):_(It)}function It(t,e){return")"==t?O():";"==t?O(It):"in"==e||"of"==e?(T.marked="keyword",O(B,It)):_(B,It)}function St(t,e){return"*"==e?(T.marked="keyword",O(St)):"variable"==t?(D(e),O(St)):"("==t?O(A,M(")"),rt(Nt,")"),L,ct,j,P):c&&"<"==e?O(M(">"),rt(yt,">"),L,St):void 0}function Rt(t,e){return"*"==e?(T.marked="keyword",O(Rt)):"variable"==t?(D(e),O(Rt)):"("==t?O(A,M(")"),rt(Nt,")"),L,ct,P):c&&"<"==e?O(M(">"),rt(yt,">"),L,Rt):void 0}function At(t,e){return"keyword"==t||"variable"==t?(T.marked="type",O(At)):"<"==e?O(M(">"),rt(yt,">"),L):void 0}function Nt(t,e){return"@"==e&&O(B,Nt),"spread"==t?O(Nt):c&&x(e)?(T.marked="keyword",O(Nt)):c&&"this"==t?O(st,_t):_(Et,st,_t)}function Pt(t,e){return"variable"==t?Mt(t,e):Lt(t,e)}function Mt(t,e){if("variable"==t)return D(e),O(Lt)}function Lt(t,e){return"<"==e?O(M(">"),rt(yt,">"),L,Lt):"extends"==e||"implements"==e||c&&","==t?("implements"==e&&(T.marked="keyword"),O(c?dt:B,Lt)):"{"==t?O(M("}"),Kt,L):void 0}function Kt(t,e){return"async"==t||"variable"==t&&("static"==e||"get"==e||"set"==e||c&&x(e))&&T.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(T.marked="keyword",O(Kt)):"variable"==t||"keyword"==T.style?(T.marked="property",O(jt,Kt)):"number"==t||"string"==t?O(jt,Kt):"["==t?O(B,st,K("]"),jt,Kt):"*"==e?(T.marked="keyword",O(Kt)):c&&"("==t?_(Rt,Kt):";"==t||","==t?O(Kt):"}"==t?O():"@"==e?O(B,Kt):void 0}function jt(t,e){if("?"==e)return O(jt);if(":"==t)return O(dt,_t);if("="==e)return O($);var n=T.state.lexical.prev;return _(n&&"interface"==n.info?Rt:St)}function Ft(t,e){return"*"==e?(T.marked="keyword",O(Vt,K(";"))):"default"==e?(T.marked="keyword",O(B,K(";"))):"{"==t?O(rt(Bt,"}"),Vt,K(";")):_(j)}function Bt(t,e){return"as"==e?(T.marked="keyword",O(K("variable"))):"variable"==t?_($,Bt):void 0}function $t(t){return"string"==t?O():"("==t?_(B):_(Ht,Ut,Vt)}function Ht(t,e){return"{"==t?ot(Ht,"}"):("variable"==t&&D(e),"*"==e&&(T.marked="keyword"),O(zt))}function Ut(t){if(","==t)return O(Ht,Ut)}function zt(t,e){if("as"==e)return T.marked="keyword",O(Ht)}function Vt(t,e){if("from"==e)return T.marked="keyword",O(B)}function Wt(t){return"]"==t?O():_(rt($,"]"))}function qt(){return _(M("form"),Et,K("{"),M("}"),rt(Yt,"}"),L,L)}function Yt(){return _(Et,_t)}function Gt(t,e,n){return e.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(n||0)))}return P.lex=!0,L.lex=!0,{startState:function(t){var e={tokenize:g,lastType:"sof",cc:[],lexical:new E((t||0)-o,0,"block",!1),localVars:n.localVars,context:n.localVars&&new I(null,null,!1),indented:t||0};return n.globalVars&&"object"==typeof n.globalVars&&(e.globalVars=n.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),b(t,e)),e.tokenize!=m&&t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==i?n:(e.lastType="operator"!=i||"++"!=r&&"--"!=r?i:"incdec",function(t,e,n,i,r){var o=t.cc;for(T.state=t,T.stream=r,T.marked=null,T.cc=o,T.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;)if((o.length?o.pop():l?B:j)(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return T.marked?T.marked:"variable"==n&&C(t,i)?"variable-2":e}}(e,n,i,r,t))},indent:function(e,i){if(e.tokenize==m||e.tokenize==v)return t.Pass;if(e.tokenize!=g)return 0;var r,s=i&&i.charAt(0),l=e.lexical;if(!/^\s*else\b/.test(i))for(var c=e.cc.length-1;c>=0;--c){var u=e.cc[c];if(u==L)l=l.prev;else if(u!=kt)break}for(;("stat"==l.type||"form"==l.type)&&("}"==s||(r=e.cc[e.cc.length-1])&&(r==V||r==W)&&!/^[,\.=+\-*:?[\(]/.test(i));)l=l.prev;a&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var d=l.type,f=s==d;return"vardef"==d?l.indented+("operator"==e.lastType||","==e.lastType?l.info.length+1:0):"form"==d&&"{"==s?l.indented:"form"==d?l.indented+o:"stat"==d?l.indented+(function(t,e){return"operator"==t.lastType||","==t.lastType||h.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}(e,i)?a||o:0):"switch"!=l.info||f||0==n.doubleIndentSwitch?l.align?l.column+(f?0:1):l.indented+(f?0:o):l.indented+(/^(?:case|default)\b/.test(i)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:s,jsonMode:l,expressionAllowed:Gt,skipExpression:function(t){var e=t.cc[t.cc.length-1];e!=B&&e!=$||t.cc.pop()}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(n(13))},function(t,e,n){!function(t){t.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(t,e){return/^[;{}]$/.test(e)}}),t.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(t,e,n,i){return this.jsonMode?/^[\[,{]$/.test(e)||/^}/.test(n):(";"!=e||!i.lexical||")"!=i.lexical.type)&&/^[;{}]$/.test(e)&&!/^;/.test(n)}});var e=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;t.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",newlineAfterToken:function(t,n,i,r){var o=!1;return"html"==this.configuration&&(o=!!r.context&&e.test(r.context.tagName)),!o&&("tag"==t&&/>$/.test(n)&&r.context||/^</.test(i))}}),t.defineExtension("commentRange",function(e,n,i){var r=this,o=t.innerMode(r.getMode(),r.getTokenAt(n).state).mode;r.operation(function(){if(e)r.replaceRange(o.commentEnd,i),r.replaceRange(o.commentStart,n),n.line==i.line&&n.ch==i.ch&&r.setCursor(n.line,n.ch+o.commentStart.length);else{var t=r.getRange(n,i),a=t.indexOf(o.commentStart),s=t.lastIndexOf(o.commentEnd);a>-1&&s>-1&&s>a&&(t=t.substr(0,a)+t.substring(a+o.commentStart.length,s)+t.substr(s+o.commentEnd.length)),r.replaceRange(t,n,i)}})}),t.defineExtension("autoIndentRange",function(t,e){var n=this;this.operation(function(){for(var i=t.line;i<=e.line;i++)n.indentLine(i,"smart")})}),t.defineExtension("autoFormatRange",function(e,n){var i=this,r=i.getMode(),o=i.getRange(e,n).split("\n"),a=t.copyState(r,i.getTokenAt(e).state),s=i.getOption("tabSize"),l="",c=0,u=0===e.ch;function d(){l+="\n",u=!0,++c}for(var h=0;h<o.length;++h){for(var f=new t.StringStream(o[h],s);!f.eol();){var p=t.innerMode(r,a),g=r.token(f,a),m=f.current();f.start=f.pos,u&&!/\S/.test(m)||(l+=m,u=!1),!u&&p.mode.newlineAfterToken&&p.mode.newlineAfterToken(g,m,f.string.slice(f.pos)||o[h+1]||"",p.state)&&d()}!f.pos&&r.blankLine&&r.blankLine(a),!u&&h<o.length-1&&d()}i.operation(function(){i.replaceRange(l,e,n);for(var t=e.line+1,r=e.line+c;t<=r;++t)i.indentLine(t,"smart");i.setSelection(e,i.getCursor(!1))})})}(n(13))},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i),o=n(36),a=n(5);e.default=r.a.View.extend({initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opt=t;var e=t.config||{};this.level=t.level,this.config=e,this.preview=t.preview,this.ppfx=e.pStylePrefix||"",this.pfx=e.stylePrefix||"",this.parent=t.parent,this.parentView=t.parentView;var n=this.pfx,i=this.ppfx,r=this.parent,o=this.collection;this.listenTo(o,"add",this.addTo),this.listenTo(o,"reset resetNavigator",this.render),this.listenTo(o,"remove",this.removeChildren),this.className="".concat(n,"layers");var s=e.em;if(e.sortable&&!this.opt.sorter){var l=s.get("Utils");this.opt.sorter=new l.Sorter({container:e.sortContainer||this.el,containerSel:".".concat(this.className),itemSel:".".concat(n,"layer"),ignoreViewChildren:1,onEndMove:function(t,e,n){var i=e.getSourceModel();s.setSelected(i,{forceChange:1}),s.trigger("".concat(a.b,":end"),n)},avoidSelectOnEnd:1,nested:1,ppfx:i,pfx:n})}this.sorter=this.opt.sorter||"",this.$el.data("collection",o),r&&this.$el.data("model",r)},removeChildren:function(t){var e=t.viewLayer;e&&(e.remove(),t.viewLayer=0)},addTo:function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},addToCollection:function(t,e,n){var i=this.level,r=this.parentView,a=e||null,s=new(0,o.a)({level:i,model:t,parentView:r,config:this.config,sorter:this.sorter,isCountable:this.isCountable,opened:this.opt.opened}).render().el;if(a)a.appendChild(s);else if(void 0!==n){var l="before";this.$el.children().length==n&&(n--,l="after"),n<0?this.$el.append(s):this.$el.children().eq(n)[l](s)}else this.$el.append(s);return s},isCountable:function(t,e){var n=t.get("type"),i=t.get("tagName");return!(("textnode"==n||"br"==i)&&e||!t.get("layerable"))},render:function(){var t=this,e=document.createDocumentFragment(),n=this.el;return n.innerHTML="",this.collection.each(function(n){return t.addToCollection(n,e)}),n.appendChild(e),n.className=this.className,this}})},function(t,e,n){var i={"./CanvasClear":45,"./CanvasClear.js":45,"./CanvasMove":46,"./CanvasMove.js":46,"./CommandAbstract":22,"./CommandAbstract.js":22,"./ComponentDelete":47,"./ComponentDelete.js":47,"./ComponentDrag":48,"./ComponentDrag.js":48,"./ComponentEnter":49,"./ComponentEnter.js":49,"./ComponentExit":50,"./ComponentExit.js":50,"./ComponentNext":51,"./ComponentNext.js":51,"./ComponentPrev":52,"./ComponentPrev.js":52,"./ComponentStyleClear":53,"./ComponentStyleClear.js":53,"./CopyComponent":54,"./CopyComponent.js":54,"./DeleteComponent":55,"./DeleteComponent.js":55,"./ExportTemplate":56,"./ExportTemplate.js":56,"./Fullscreen":57,"./Fullscreen.js":57,"./MoveComponent":58,"./MoveComponent.js":58,"./OpenAssets":59,"./OpenAssets.js":59,"./OpenBlocks":60,"./OpenBlocks.js":60,"./OpenLayers":61,"./OpenLayers.js":61,"./OpenStyleManager":62,"./OpenStyleManager.js":62,"./OpenTraitManager":63,"./OpenTraitManager.js":63,"./PasteComponent":64,"./PasteComponent.js":64,"./Preview":65,"./Preview.js":65,"./Resize":66,"./Resize.js":66,"./SelectComponent":14,"./SelectComponent.js":14,"./SelectPosition":27,"./SelectPosition.js":27,"./ShowOffset":67,"./ShowOffset.js":67,"./SwitchVisibility":68,"./SwitchVisibility.js":68};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=91},function(t,e,n){"use strict";n.r(e);var i=n(8),r=n.n(i),o=n(2),a=n.n(o),s=n(1),l=n.n(s),c=n(0),u={stylePrefix:"comp-",wrapperId:"wrapper",wrapperName:"Body",wrapper:{removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]},components:[],draggableComponents:1,storeWrapper:0,processor:0,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]},d=n(5),h=n(21),f=n(6),p=n(35);function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var v=d.a.extend({defaults:m(m({},d.a.prototype.defaults),{},{type:"cell",tagName:"td",draggable:["tr"]})},{isComponent:function(t){var e="",n=t.tagName;return"TD"!=n&&"TH"!=n||(e={type:"cell",tagName:n.toLowerCase()}),e}}),y=f.default.extend({});function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var E=d.a.extend({defaults:w(w({},d.a.prototype.defaults),{},{tagName:"tr",draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},{isComponent:function(t){return"TR"==t.tagName&&!0}}),C=f.default.extend({});function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var O=d.a.extend({defaults:_(_({},d.a.prototype.defaults),{},{type:"table",tagName:"table",droppable:["tbody","thead","tfoot"]}),initialize:function(t,e){d.a.prototype.initialize.apply(this,arguments);var n=this.get("components");!n.length&&n.add({type:"tbody"})}},{isComponent:function(t){var e="";return"TABLE"==t.tagName&&(e={type:"table"}),e}}),k=f.default.extend({events:{}});function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var I=d.a.extend({defaults:x(x({},d.a.prototype.defaults),{},{type:"tbody",tagName:"tbody",draggable:["table"],droppable:["tr"],columns:1,rows:1}),initialize:function(t,e){d.a.prototype.initialize.apply(this,arguments);var n=this.get("components"),i=this.get("columns"),r=this.get("rows");if(!n.length){for(var o=[];r--;){for(var a=[],s=i;s--;)a.push({type:"cell",classes:["cell"]});o.push({type:"row",classes:["row"],components:a})}n.add(o)}}},{isComponent:function(t){var e="";return"TBODY"==t.tagName&&(e={type:"tbody"}),e}});function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var A=I.extend({defaults:R(R({},I.prototype.defaults),{},{type:"thead",tagName:"thead"})},{isComponent:function(t){var e="";return"THEAD"==t.tagName&&(e={type:"thead"}),e}}),N=f.default.extend({}),P=f.default.extend({});function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var K=I.extend({defaults:L(L({},I.prototype.defaults),{},{type:"tfoot",tagName:"tfoot"})},{isComponent:function(t){var e="";return"TFOOT"==t.tagName&&(e={type:"tfoot"}),e}}),j=f.default.extend({});function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var $='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',H=d.a.extend({defaults:B(B({},d.a.prototype.defaults),{},{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat($,'>\n        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>\n      </svg>'),fallback:"<svg ".concat($,'>\n        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>\n      </svg>'),file:""}),initialize:function(t,e){d.a.prototype.initialize.apply(this,arguments);var n=this.get("attributes").src;n&&this.set("src",n,{silent:1})},initToolbar:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];d.a.prototype.initToolbar.apply(this,e);var i=this.em;if(i){var r="image-editor";if(i.get("Commands").has(r)){for(var o=!1,a=this.get("toolbar"),s=0;s<a.length;s++)if("image-editor"===a[s].command){o=!0;break}o||(a.push({attributes:{class:"fa fa-pencil"},command:r}),this.set("toolbar",a))}}},getAttrToHTML:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=d.a.prototype.getAttrToHTML.apply(this,e),r=this.getSrcResult();return r&&(i.src=r),i},getSrcResult:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.get(t.fallback?"fallback":"src")||"",n=e;return e&&"<svg"===e.substr(0,4)&&(n="data:image/svg+xml;base64,".concat(window.btoa(e))),n},isDefaultSrc:function(){return this.get("src")===Object(c.result)(this,"defaults").src},toJSON:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=d.a.prototype.toJSON.apply(this,e);return i.src===i.attributes.src&&delete i.src,i},parseUri:function(t){var e=document.createElement("a");e.href=t;for(var n={},i=e.search.substring(1).split("&"),r=0;r<i.length;r++){var o=i[r].split("="),a=decodeURIComponent(o[0]);a&&(n[a]=decodeURIComponent(o[1]))}return{hostname:e.hostname,pathname:e.pathname,protocol:e.protocol,search:e.search,hash:e.hash,port:e.port,query:n}}},{isComponent:function(t){var e="";return"IMG"==t.tagName&&(e={type:"image"}),e}});function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var V=H.extend({defaults:z(z({},H.prototype.defaults),{},{type:"map",src:"",void:0,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:d.a.prototype.defaults.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:1},{type:"select",label:"Map type",name:"mapType",changeProp:1,options:[{value:"q",name:"Roadmap"},{value:"w",name:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:"1",max:"20",changeProp:1}]}),initialize:function(t,e){this.get("src")?this.parseFromSrc():this.updateSrc(),H.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)},updateSrc:function(){this.set("src",this.getMapUrl())},getMapUrl:function(){var t=this.get("address"),e=this.get("zoom"),n=this.get("mapType");return t=t?"&q="+t:"",e=e?"&z="+e:"",n=n?"&t="+n:"",this.get("mapUrl")+"?"+t+e+n+"&output=embed"},parseFromSrc:function(){var t=this.parseUri(this.get("src")).query;t.q&&this.set("address",t.q),t.z&&this.set("zoom",t.z),t.t&&this.set("mapType",t.t)}},{isComponent:function(t){var e="";return"IFRAME"==t.tagName&&/maps\.google\.com/.test(t.src)&&(e={type:"map",src:t.src}),e}}),W=f.default.extend({tagName:"img",events:{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"},initialize:function(t){f.default.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},fetchFile:function(){if(!this.modelOpt.temporary){var t=this.model,e=t.get("file");e&&(this.em.get("AssetManager").FileUploader().uploadFile({dataTransfer:{files:[e]}},function(e){var n=e&&e.data&&e.data[0],i=n&&(Object(c.isString)(n)?n:n.src);i&&t.set({src:i})}),t.set("file",""))}},updateSrc:function(){var t=this.model,e=this.classEmpty,n=this.$el,i=t.getSrcResult(),r=i&&!t.isDefaultSrc();t.addAttributes({src:i}),n[r?"removeClass":"addClass"](e)},onActive:function(t){t&&t.stopPropagation();var e=this.opts.config.em,n=e?e.get("Editor"):"";n&&this.model.get("editable")&&n.runCommand("open-assets",{target:this.model,types:["image"],accept:"image/*",onSelect:function(){n.Modal.close(),n.AssetManager.setTarget(null)}})},onError:function(){var t=this.model.getSrcResult({fallback:1});t&&(this.el.src=t)},onLoad:function(){this.em.trigger("change:canvasOffset")},noDrag:function(t){return t.preventDefault(),!1},render:function(){this.renderAttributes(),this.updateSrc();var t=this.$el,e=this.model,n=t.attr("class")||"";return!e.get("src")&&t.attr("class","".concat(n," ").concat(this.classEmpty).trim()),this.postRender(),this}}),q=W.extend({tagName:"div",events:{},initialize:function(t){W.prototype.initialize.apply(this,arguments),this.classEmpty=this.ppfx+"plh-map"},updateSrc:function(){this.getIframe().src=this.model.get("src")},getIframe:function(){if(!this.iframe){var t=document.createElement("iframe");t.src=this.model.get("src"),t.frameBorder=0,t.style.height="100%",t.style.width="100%",t.className=this.ppfx+"no-pointer",this.iframe=t}return this.iframe},render:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return W.prototype.render.apply(this,e),this.updateClasses(),this.el.appendChild(this.getIframe()),this}});function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var X=d.a.extend({defaults:G(G({},d.a.prototype.defaults),{},{type:"text",droppable:!1,editable:!0}),toHTML:function(){return this.trigger("sync:content",{silent:1}),d.a.prototype.toHTML.apply(this,arguments)}});function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Q=X.extend({defaults:J(J({},X.prototype.defaults),{},{type:"link",tagName:"a",traits:["title","href","target"]}),getAttrToHTML:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=X.prototype.getAttrToHTML.apply(this,e);return delete i.onmousedown,i}},{isComponent:function(t){var e;if("A"==t.tagName){e={type:"link",editable:0};var n=t.childNodes,i=n.length;i||delete e.editable;for(var r=0;r<i;r++){var o=n[r];if(3==o.nodeType&&""!=o.textContent.trim()){delete e.editable;break}}}return e}}),tt=n(3);function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var it=f.default.prototype,rt=f.default.extend({events:{dblclick:"onActive",input:"onInput"},initialize:function(t){it.initialize.apply(this,arguments),this.disableEditing=this.disableEditing.bind(this);var e=this.model,n=this.em;this.listenTo(e,"focus",this.onActive),this.listenTo(e,"change:content",this.updateContentText),this.listenTo(e,"sync:content",this.syncContent),this.rte=n&&n.get("RichTextEditor")},updateContentText:function(t,e){!(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fromDisable&&this.disableEditing()},onActive:function(t){var e=this.rte,n=this.em;if(!(this.rteEnabled||!this.model.get("editable")||n&&n.isEditing())){if(t&&t.stopPropagation&&t.stopPropagation(),e)try{this.activeRte=e.enable(this,this.activeRte)}catch(t){n.logError(t)}this.toggleEvents(1)}},onDisable:function(){this.disableEditing()},disableEditing:function(){var t=this.model,e=this.rte,n=this.activeRte,i=this.em,r=t.get("editable");if(e&&r){try{e.disable(this,n)}catch(t){i.logError(t)}this.syncContent()}this.toggleEvents()},getContent:function(){var t=this.activeRte;return t&&"function"==typeof t.getContent?t.getContent():this.getChildrenContainer().innerHTML},syncContent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.model,n=this.rte;if(this.rteEnabled||t.force){var i=this.getContent(),r=e.components(),o=nt({fromDisable:1},t);if(e.set("content","",o),n.customRte)r.length&&r.reset(null,t),e.set("content",i,o);else{var a=function e(n){var i=!!n.get("textable"),r=!["text","default",""].some(function(t){return n.is(t)})||i;n.set(nt({_innertext:!r,editable:r&&n.get("editable"),selectable:r,hoverable:r,removable:i,draggable:i,highlightable:0,copyable:i},!i&&{toolbar:""}),t),n.get("components").each(function(t){return e(t)})};r.reset(i,t),r.each(function(t){return a(t)}),r.trigger("resetNavigator")}}},onInput:function(){var t=this.em,e="component",n=["".concat(e,":update"),"".concat(e,":input")].join(" ");t&&t.trigger(n,this.model)},disablePropagation:function(t){t.stopPropagation()},toggleEvents:function(t){var e=this.em,n=this.model,i={on:tt.w,off:tt.v},r=t?"on":"off";e.setEditing(t),this.rteEnabled=!!t;var o=[this.el.ownerDocument,document];if(i.off(o,"mousedown",this.disableEditing),i[r](o,"mousedown",this.disableEditing),e[r]("toolbar:run:before",this.disableEditing),n[r]("removed",this.disableEditing),this.$el.off("mousedown",this.disablePropagation),this.$el[r]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var a=this.el;a;)a.draggable=!t,(a=a.parentNode)&&"BODY"==a.tagName&&(a=0)}}),ot=rt.extend({render:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return rt.prototype.render.apply(this,e),this.el.addEventListener("click",this.prevDef,!0),this}});function at(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?at(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var lt=X.extend({defaults:st(st({},X.prototype.defaults),{},{tagName:"label",traits:["id","title","for"]})},{isComponent:function(t){if("LABEL"==t.tagName)return{type:"label"}}}),ct=ot.extend({tagName:"span"});function ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var ht="yt",ft="vi",pt="ytnc",gt=H.extend({defaults:dt(dt({},H.prototype.defaults),{},{type:"video",tagName:"video",videoId:"",void:0,provider:"so",ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:0,poster:"",muted:0,autoplay:0,controls:1,color:"",list:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}}),initialize:function(t,e){this.em=e.em,this.get("src")&&this.parseFromSrc(),this.updateTraits(),this.listenTo(this,"change:provider",this.updateTraits),this.listenTo(this,"change:videoId change:provider",this.updateSrc),H.prototype.initialize.apply(this,arguments)},updateTraits:function(){var t,e="iframe";switch(this.get("provider")){case ht:case pt:t=this.getYoutubeTraits();break;case ft:t=this.getVimeoTraits();break;default:e="video",t=this.getSourceTraits()}this.set({tagName:e},{silent:1}),this.set({traits:t}),this.em.trigger("component:toggled")},parseFromSrc:function(){var t=this.get("provider"),e=this.parseUri(this.get("src")),n=e.query;switch(t){case ht:case pt:case ft:var i=e.pathname.split("/").pop();this.set("videoId",i),n.list&&this.set("list",n.list),n.autoplay&&this.set("autoplay",1),n.loop&&this.set("loop",1),0===parseInt(n.controls)&&this.set("controls",0),n.color&&this.set("color",n.color),"0"===n.rel&&this.set("rel",0),"1"===n.modestbranding&&this.set("modestbranding",1)}},updateSrc:function(){var t="";switch(this.get("provider")){case ht:t=this.getYoutubeSrc();break;case pt:t=this.getYoutubeNoCookieSrc();break;case ft:t=this.getVimeoSrc()}this.set({src:t})},getAttrToHTML:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=H.prototype.getAttrToHTML.apply(this,e);switch(this.get("provider")){case ht:case pt:case ft:break;default:this.get("loop")&&(i.loop="loop"),this.get("autoplay")&&(i.autoplay="autoplay"),this.get("controls")&&(i.controls="controls")}return i},getProviderTrait:function(){return{type:"select",label:"Provider",name:"provider",changeProp:1,options:[{value:"so",name:"HTML5 Source"},{value:ht,name:"Youtube"},{value:pt,name:"Youtube (no cookie)"},{value:ft,name:"Vimeo"}]}},getSourceTraits:function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:1},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},getYoutubeTraits:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:1},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:1}]},getVimeoTraits:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:1},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait()]},getAutoplayTrait:function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:1}},getLoopTrait:function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:1}},getControlsTrait:function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:1}},getYoutubeSrc:function(){var t=this.get("videoId"),e=this.get("ytUrl"),n=this.get("list");return e+=t+(t.indexOf("?")<0?"?":""),e+=n?"&list=".concat(n):"",e+=this.get("autoplay")?"&autoplay=1":"",e+=this.get("controls")?"":"&controls=0&showinfo=0",e+=this.get("loop")?"&loop=1&playlist=".concat(t):"",(e+=this.get("rel")?"":"&rel=0")+(this.get("modestbranding")?"&modestbranding=1":"")},getYoutubeNoCookieSrc:function(){var t=this.getYoutubeSrc();return t.replace(this.get("ytUrl"),this.get("ytncUrl"))},getVimeoSrc:function(){var t=this.get("viUrl");return t+=this.get("videoId")+"?",t+=this.get("autoplay")?"&autoplay=1":"",t+=this.get("loop")?"&loop=1":"",(t+=this.get("controls")?"":"&title=0&portrait=0&badge=0")+(this.get("color")?"&color="+this.get("color"):"")}},{isComponent:function(t){var e="",n=/youtube\.com\/embed/.test(t.src),i=/youtube-nocookie\.com\/embed/.test(t.src),r=/player\.vimeo\.com\/video/.test(t.src),o=n||i||r;return("VIDEO"==t.tagName||"IFRAME"==t.tagName&&o)&&(e={type:"video"},t.src&&(e.src=t.src),o&&(n?e.provider=ht:i?e.provider=pt:r&&(e.provider=ft))),e}}),mt=W.extend({tagName:"div",events:{},initialize:function(t){f.default.prototype.initialize.apply(this,arguments);var e=this.model,n=["loop","autoplay","controls","color","rel","modestbranding","poster"].map(function(t){return"change:".concat(t)}).join(" ");this.listenTo(e,"change:provider",this.updateProvider),this.listenTo(e,"change:src",this.updateSrc),this.listenTo(e,n,this.updateVideo)},updateProvider:function(){var t=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(t))},updateSrc:function(){var t=this.model,e=this.videoEl;if(e){var n=t.get("provider"),i=t.get("src");switch(n){case"yt":i=t.getYoutubeSrc();break;case"ytnc":i=t.getYoutubeNoCookieSrc();break;case"vi":i=t.getVimeoSrc()}e.src=i}},updateVideo:function(){var t=this.model.get("provider"),e=this.videoEl,n=this.model;switch(t){case"yt":case"ytnc":case"vi":this.model.trigger("change:videoId");break;default:e.loop=n.get("loop"),e.autoplay=n.get("autoplay"),e.controls=n.get("controls"),e.poster=n.get("poster")}},renderByProvider:function(t){var e;switch(t){case"yt":e=this.renderYoutube();break;case"ytnc":e=this.renderYoutubeNoCookie();break;case"vi":e=this.renderVimeo();break;default:e=this.renderSource()}return this.videoEl=e,e},renderSource:function(){var t=document.createElement("video");return t.src=this.model.get("src"),this.initVideoEl(t),t},renderYoutube:function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeSrc(),t.frameBorder=0,t.setAttribute("allowfullscreen",!0),this.initVideoEl(t),t},renderYoutubeNoCookie:function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeNoCookieSrc(),t.frameBorder=0,t.setAttribute("allowfullscreen",!0),this.initVideoEl(t),t},renderVimeo:function(){var t=document.createElement("iframe");return t.src=this.model.getVimeoSrc(),t.frameBorder=0,t.setAttribute("allowfullscreen",!0),this.initVideoEl(t),t},initVideoEl:function(t){t.className=this.ppfx+"no-pointer",t.style.height="100%",t.style.width="100%"},render:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];W.prototype.render.apply(this,e),this.updateClasses();var i=this.model.get("provider");return this.el.appendChild(this.renderByProvider(i)),this.updateVideo(),this}});function vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var bt=d.a.extend({defaults:yt(yt({},d.a.prototype.defaults),{},{type:"script",droppable:!1,draggable:!1,layerable:!1})},{isComponent:function(t){if("SCRIPT"==t.tagName){var e={type:"script"};return t.src&&(e.src=t.src,e.onload=t.onload),e}}}),wt=W.extend({tagName:"script",events:{},render:function(){var t=this.model,e=t.get("src"),n=this.em,i=n&&n.get("scriptCount")?n.get("scriptCount"):0,r="";if(e){var o=t.get("onload"),a="script"+i,s="script"+(i+1);r="var "+a+" = document.createElement('script');\n"+a+".onload = function(){\n"+(o?o+"();\n":"")+"typeof "+s+"Start == 'function' && "+s+"Start();\n};\n"+a+".src = '"+e+"';\nfunction "+a+"Start() { document.body.appendChild("+a+"); };\n"+(i?"":a+"Start();"),n&&n.set("scriptCount",i+1)}else r=t.get("content");return this.el.innerHTML=r,this.postRender(),this}});function Et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Tt=d.a.extend({defaults:Ct(Ct({},d.a.prototype.defaults),{},{resizable:{ratioDefault:1},highlightable:0}),getName:function(){var t=this.get("tagName"),e=this.get("custom-name");return t=t.charAt(0).toUpperCase()+t.slice(1),e||t}},{isComponent:function(t){if(SVGElement&&t instanceof SVGElement)return{tagName:t.tagName,type:"svg"}}});function _t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var kt=Tt.extend({defaults:Ot(Ot({},Tt.prototype.defaults),{},{selectable:!1,hoverable:!1,layerable:!1})},{isComponent:function(t){if(Tt.isComponent(t)&&"svg"!==t.tagName.toLowerCase())return{tagName:t.tagName,type:"svg-in"}}}),Dt=f.default.extend({_createElement:function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}});function xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var St=d.a.extend({defaults:It(It({},d.a.prototype.defaults),{},{tagName:"",droppable:!1,layerable:!1,editable:!0}),toHTML:function(){return this.get("content").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}},{isComponent:function(t){var e="";return 3===t.nodeType&&(e={type:"textnode",content:t.textContent}),e}});function Rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}var At=St.extend({defaults:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},St.prototype.defaults),toHTML:function(){return"\x3c!--".concat(this.get("content"),"--\x3e")}},{isComponent:function(t){if(8==t.nodeType)return{tagName:"NULL",type:"comment",content:t.textContent}}}),Nt=f.default.extend({initialize:function(){f.default.prototype.initialize.apply(this,arguments)},_setAttributes:function(){},renderAttributes:function(){},setAttribute:function(){},updateAttributes:function(){},initClasses:function(){},initComponents:function(){},delegateEvents:function(){},_createElement:function(){return document.createTextNode("")},render:function(){var t=this.model,e=this.el;return t.opt.temporary||(e.textContent=t.get("content")),this}}),Pt=Nt.extend({_createElement:function(){return document.createComment(this.model.get("content"))}}),Mt=d.a.extend({},{isComponent:function(){return!1}});function Lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lt(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e.default=function(){var t,e,n,i={},o={},a=[{id:"cell",model:v,view:y},{id:"row",model:E,view:C},{id:"table",model:O,view:k},{id:"thead",model:A,view:N},{id:"tbody",model:I,view:P},{id:"tfoot",model:K,view:j},{id:"map",model:V,view:q},{id:"link",model:Q,view:ot},{id:"label",model:lt,view:ct},{id:"video",model:gt,view:mt},{id:"image",model:H,view:W},{id:"script",model:bt,view:wt},{id:"svg-in",model:kt,view:Dt},{id:"svg",model:Tt,view:Dt},{id:"comment",model:At,view:Pt},{id:"textnode",model:St,view:Nt},{id:"text",model:X,view:rt},{id:"wrapper",model:Mt,view:f.default},{id:"default",model:d.a,view:f.default}];return{Component:d.a,Components:h.a,ComponentsView:p.a,componentTypes:a,componentsById:o,name:"DomComponents",getConfig:function(){return i},storageKey:function(){var t=[],e=i.stm&&i.stm.getConfig()||{};return e.storeHtml&&t.push("html"),e.storeComponents&&t.push("components"),t},init:function(r){var o=this;for(var s in t=(i=r||{}).em,this.em=t,t&&(i.components=t.config.components||i.components),u)s in i||(i[s]=u[s]);var l=i.pStylePrefix;if(l&&(i.stylePrefix=l+i.stylePrefix),t){i.modal=t.get("Modal")||"",i.am=t.get("AssetManager")||"",t.get("Parser").compTypes=a,t.on("change:componentHovered",this.componentHovered,this);var c=t.get("selected");t.listenTo(c,"add",function(t,e,n){return o.selectAdd(t,n)}),t.listenTo(c,"remove",function(t,e,n){return o.selectRemove(t,n)})}var h=i.components,p=Kt({},i.wrapper);return p["custom-name"]=i.wrapperName,p.wrapper=1,p.type="wrapper",h&&h.constructor===Object&&h.wrapper&&(p=Kt({},h),h=h.components||[],p.components=[],t&&(t.config.components=h,i.components=h)),(e=new d.a(p,{em:t,config:i,componentTypes:a,domc:this})).set({attributes:{id:"wrapper"}}),n=new f.default({model:e,config:i,componentTypes:a}),this},onLoad:function(){this.setComponents(i.components)},postLoad:function(t){this.handleChanges(this.getWrapper(),null,{avoidStore:1})},handleChanges:function(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.components(),a=t.get("UndoManager"),s=t.handleUpdates.bind(t),l=this.handleChanges.bind(this),c=this.handleChangesColl.bind(this),u=this.handleRemoves.bind(this);a&&a.add(e),a&&o&&a.add(o);[[e,"change:style change:content change:attributes change:src",s],[e,"change:components",c],[o,"add",l],[o,"remove reset",u],[e.get("classes"),"add remove",s]].forEach(function(e){t.stopListening(e[0],e[1],e[2]),t.listenTo(e[0],e[1],e[2])}),!r.avoidStore&&s("","",r),o.each(function(t){return i.handleChanges(t,n,r)})},handleChangesColl:function(e,n){var i=t.get("UndoManager");if(i&&n instanceof l.a.Collection){var r=this.handleChanges.bind(this),o=this.handleRemoves.bind(this);i.add(n),[[n,"add",r],[n,"remove reset",o]].forEach(function(e){t.stopListening(e[0],e[1],e[2]),t.listenTo(e[0],e[1],e[2])})}},handleRemoves:function(e,n,i){var r=i||n;t.handleUpdates(e,n,r)},load:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.em,n="";!t&&i.stm&&(t=i.em.getCacheLoad());var r=t,o=r.components,a=r.html;if(o)if(Object(c.isObject)(o)||Object(c.isArray)(o))n=o;else try{n=JSON.parse(o)}catch(t){e&&e.logError(t)}else a&&(n=a);var s=n&&n.constructor===Object;return(n&&n.length||s)&&(this.clear(),s?this.getWrapper().set(n):this.getComponents().add(n)),n},store:function(t){if(i.stm){var e={},n=this.storageKey();if(n.indexOf("html")>=0&&(e.html=i.em.getHtml()),n.indexOf("components")>=0){this.em;var r=i.storeWrapper?this.getWrapper():this.getComponents();e.components=JSON.stringify(r)}return t||i.stm.store(e),e}},getComponent:function(){return e},getWrapper:function(){return this.getComponent()},getComponents:function(){return this.getWrapper().get("components")},addComponent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getComponents().add(t,e)},render:function(){return n.render().el},clear:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getComponents().map(function(t){return t}).forEach(function(e){return e.remove(t)}),this},setComponents:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.clear(e).addComponent(t,e)},addType:function(t,e){var n=this.em,i=e.model,o=void 0===i?{}:i,s=e.view,l=void 0===s?{}:s,u=e.isComponent,d=e.extend,h=e.extendView,f=e.extendFn,p=void 0===f?[]:f,g=e.extendFnView,m=void 0===g?[]:g,v=this.getType(t),y=this.getType(d),b=this.getType(h),w=y||v||this.getType("default"),E=w.model,C=b?b.view:w.view,T=function(t,e,n){return t.reduce(function(t,i){var r=e[i],o=n.prototype[i];return r&&o&&(t[i]=function(){o.bind(this).apply(void 0,arguments),r.bind(this).apply(void 0,arguments)}),t},{})};"object"===r()(o)&&(e.model=E.extend(Kt(Kt(Kt({},o),T(p,o,E)),{},{defaults:Kt(Kt({},E.prototype.defaults),Object(c.result)(o,"defaults")||{})}),{isComponent:!v||y||u?u||function(){return 0}:E.isComponent})),"object"===r()(l)&&(e.view=C.extend(Kt(Kt({},l),T(m,l,C)))),v?(v.model=e.model,v.view=e.view):(e.id=t,a.unshift(e));var _="component:type:".concat(v?"update":"add");return n&&n.trigger(_,v||e),this},getType:function(t){for(var e=a,n=0;n<e.length;n++)if(e[n].id==t)return e[n]},removeType:function(t){var e=a,n=this.getType(t);if(n){var i=e.indexOf(n);return e.splice(i,1),n}},getTypes:function(){return a},selectAdd:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(i){return e.em.trigger(i,t,n)}))},selectRemove:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&(this.em,t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(i){return e.em.trigger(i,t,n)}))},componentHovered:function(){var t=i.em,e=t.get("componentHovered"),n=t.previous("componentHovered"),r="hovered";n&&n.get("status")==r&&n.set({status:"",state:""}),e&&Object(c.isEmpty)(e.get("status"))&&e.set("status",r)},allById:function(){return o},destroy:function(){this.clear(),n.remove(),[i,t,o,e,n].forEach(function(t){return{}}),this.em={}}}}},function(t,e,n){"use strict";n.r(e);var i=n(7),r=n.n(i),o=n(2),a=n.n(o),s=n(3),l=n(15),c=n.n(l),u=n(16),d=n.n(u),h=n(0),f=function(){function t(e,n){var i=this;c()(this,t),this.em=e;var r=n||e.get("Canvas").getFrames().map(function(t){return t.get("root").getEl()}),o=Array.isArray(r)?r:[r];return this.el=r,this.counter=0,Object(h.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),o.forEach(function(t){return i.toggleEffects(t,1)}),this}return d()(t,[{key:"toggleEffects",value:function(t,e){var n={on:s.w,off:s.v},i=e?"on":"off";n[i](t,"dragenter",this.handleDragEnter),n[i](t,"dragover",this.handleDragOver),n[i](t,"drop",this.handleDrop),n[i](t,"dragleave",this.handleDragLeave)}},{key:"endDrop",value:function(t,e){var n=this.em,i=this.dragStop;this.counter=0,i&&i(t),n.trigger("canvas:dragend",e)}},{key:"handleDragLeave",value:function(t){this.updateCounter(-1,t)}},{key:"updateCounter",value:function(t,e){this.counter+=t,0===this.counter&&this.endDrop(1,e)}},{key:"handleDragEnter",value:function(t){var e=this,n=this.em,i=t.dataTransfer;if(this.updateCounter(1,t),!this.over){this.over=1;var r,o,a=n.get("Utils"),s=n.get("Canvas"),l=s.getBody(),c=n.get("dragContent")||"<br>";if(n.stopDefault(),n.inAbsoluteMode()){var u=n.get("DomComponents").getWrapper(),d=u.append({})[0],h=n.get("Commands").run("core:component-drag",{event:t,guidesInfo:1,center:1,target:d,onEnd:function(t,n,r){var o;if(!r.cancelled){o=u.append(c)[0];var a=d.getStyle(),s=a.left,l=a.top,h=a.position;o.addStyle({left:s,top:l,position:h})}e.handleDragEnd(o,i),d.remove()}});r=function(e){return h.stop(t,{cancel:e})},o=function(t){return c=t}}else{var f=new a.Sorter({em:n,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:l,placer:s.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(t){return e.handleDragEnd(t,i)},document:s.getFrameEl().contentDocument});f.setDropContent(c),f.startSort(),this.sorter=f,r=function(t){t&&(f.moved=0),f.endMove()},o=function(t){return f.setDropContent(t)}}this.dragStop=r,this.dragContent=o,n.trigger("canvas:dragenter",i,c)}}},{key:"handleDragEnd",value:function(t,e){var n=this.em;this.over=0,t&&(n.set("dragResult",t),n.trigger("canvas:drop",e,t)),n.runDefault({preserveSelected:1})}},{key:"handleDragOver",value:function(t){t.preventDefault(),this.em.trigger("canvas:dragover",t)}},{key:"handleDrop",value:function(t){t.preventDefault();var e=this.dragContent,n=t.dataTransfer,i=this.getContentByData(n).content;t.target.style.border="",i&&e&&e(i),this.endDrop(!i,t)}},{key:"getContentByData",value:function(t){var e=this.em,n=t.types,i=t.files||[],r=e.get("dragContent"),o=t.getData("text");if(i.length){o=[];for(var a=0;a<i.length;a++){var s=i[a],l=s.type.split("/")[0];"image"==l&&o.push({type:l,file:s,attributes:{alt:s.name}})}}else if(r)o=r;else if(Object(h.indexOf)(n,"text/html")>=0)o=t.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if(Object(h.indexOf)(n,"text/uri-list")>=0)o={type:"link",attributes:{href:o},content:o};else if(Object(h.indexOf)(n,"text/json")>=0){var c=t.getData("text/json");c&&(o=JSON.parse(c))}else 1===n.length&&"text/plain"===n[0]&&(o="<div>".concat(o,"</div>"));var u={content:o};return e.trigger("canvas:dragdata",t,u),u}}]),t}(),p={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:"",autoscrollLimit:50,notTextable:["button","a","input[type=checkbox]","input[type=radio]"]},g=n(1),m=n.n(g),v=n(5),y=n(33);function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}var w=m.a.Model.extend({defaults:{wrapper:"",width:null,height:null,head:"",x:0,y:0,root:0,components:0,styles:0,attributes:{}},initialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.attributes,i=n.root,r=n.styles,o=n.components;this.set("head",[]),this.em=e.em;var a={em:e.em,config:e.em.get("DomComponents").getConfig(),frame:this};!i&&this.set("root",new v.a({type:"wrapper",components:o||[]},a)),(!r||Object(h.isString)(r))&&this.set("styles",new y.a(r,a))},remove:function(){this.view=0;var t=this.collection;return t&&t.remove(this)},getHead:function(){return r()(this.get("head"))},setHead:function(t){return this.set("head",r()(t))},addHeadItem:function(t){var e=this.getHead();e.push(t),this.setHead(e)},getHeadByAttr:function(t,e,n){return this.getHead().filter(function(i){return i.attributes&&i.attributes[t]==e&&(!n||n===i.tag)})[0]},removeHeadByAttr:function(t,e,n){var i=this.getHead(),r=this.getHeadByAttr(t,e,n),o=i.indexOf(r);o>=0&&(i.splice(o,1),this.setHead(i))},addLink:function(t){var e="link";!this.getHeadByAttr("href",t,e)&&this.addHeadItem({tag:e,attributes:{href:t,rel:"stylesheet"}})},removeLink:function(t){this.removeHeadByAttr("href",t,"link")},addScript:function(t){var e="script";!this.getHeadByAttr("src",t,e)&&this.addHeadItem({tag:e,attributes:{src:t}})},removeScript:function(t){this.removeHeadByAttr("src",t,"script")},_emitUpdated:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.em.trigger("frame:updated",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({frame:this},t))}}),E=m.a.Collection.extend({model:w,initialize:function(){Object(h.bindAll)(this,"itemLoaded")},itemLoaded:function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(0))},listenToLoad:function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(1)},listenToLoadItems:function(t){var e=this;this.forEach(function(n){return n[t?"on":"off"]("loaded",e.itemLoaded)})}}),C=m.a.Model.extend({defaults:{frame:"",frames:"",wrapper:"",rulers:!1,zoom:100,x:0,y:0},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.em,n=t.styles,i=void 0===n?[]:n,r=t.scripts,o=void 0===r?[]:r,a=e&&e.getWrapper(),s=e&&e.getStyle(),l=new w({root:a,styles:s},t);i.forEach(function(t){return l.addLink(t)}),o.forEach(function(t){return l.addScript(t)}),this.em=e,this.set("frame",l),this.set("frames",new E([l],t)),this.listenTo(this,"change:zoom",this.onZoomChange),this.listenTo(e,"change:device",this.updateDevice)},updateDevice:function(){var t=this.em,e=t.getDeviceModel(),n=t.getCurrentFrameModel();if(n&&e){var i=e.attributes,r=i.width,o=i.height;n.set({width:r,height:o})}},onZoomChange:function(){this.get("zoom")<1&&this.set("zoom",1)}}),T=n(20),_=n(37),O=n(6),k=n(9);function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var I=m.a.View.extend({tagName:"iframe",attributes:{allowfullscreen:"allowfullscreen","data-frame-el":!0},initialize:function(t){Object(h.bindAll)(this,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var e=this.model,n=this.el;this.config=x(x({},t.config||{}),{},{frameView:this}),this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em,this.listenTo(e,"change:head",this.updateHead),e.view=this,Object(s.x)(n,this)},updateHead:function(){var t=this.getHead();Object(k.f)(t),Object(k.c)(t,this.model.getHead())},getEl:function(){return this.el},getWindow:function(){return this.getEl().contentWindow},getDoc:function(){return this.getEl().contentDocument},getHead:function(){return this.getDoc().querySelector("head")},getBody:function(){return this.getDoc().querySelector("body")},getWrapper:function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},getJsContainer:function(){return this.jsContainer||(this.jsContainer=Object(k.e)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},getToolsEl:function(){var t=this.config.frameWrapView;return t&&t.elTools},getGlobalToolsEl:function(){return this.em.get("Canvas").getGlobalToolsEl()},getHighlighter:function(){return this._getTool("[data-hl]")},getBadgeEl:function(){return this._getTool("[data-badge]")},getOffsetViewerEl:function(){return this._getTool("[data-offset]")},getRect:function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},getOffsetRect:function(){var t=this.el,e=this.getBody(),n=e.scrollTop,i=e.scrollLeft,r=t.offsetHeight,o=t.offsetWidth;return{top:t.offsetTop,left:t.offsetLeft,height:r,width:o,scrollTop:n,scrollLeft:i,scrollBottom:n+r,scrollRight:i+o}},_getTool:function(t){var e=this.getToolsEl();return this[t]||(this[t]=e.querySelector(t)),this[t]},remove:function(){var t=this.root,e=this.model;this._toggleEffects(),m.a.View.prototype.remove.apply(this,arguments),t.remove(),e.remove()},startAutoscroll:function(){var t=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){t._toggleAutoscrollFx(1),requestAnimationFrame(t.autoscroll)},0)},autoscroll:function(){if(this.dragging){var t=this.lastClientY,e=this.em.get("Canvas"),n=this.getWindow(),i=this.getBody().scrollTop,r=t||0,o=e.getConfig().autoscrollLimit,a=this.getRect().height-o,s=i;r<o&&(s-=o-r),r>a&&(s+=r-a),!Object(h.isUndefined)(t)&&s!==i&&s>0&&s<this.lastMaxHeight&&(this.getGlobalToolsEl().style.opacity=0,this.showGlobalTools(),n.scrollTo(0,s)),requestAnimationFrame(this.autoscroll)}},updateClientY:function(t){t.preventDefault(),this.lastClientY=Object(s.h)(t).clientY*this.em.getZoomDecimal()},showGlobalTools:Object(h.debounce)(function(){this.getGlobalToolsEl().style.opacity=""},50),stopAutoscroll:function(){this.dragging&&this._toggleAutoscrollFx()},_toggleAutoscrollFx:function(t){this.dragging=t;var e=this.getWindow(),n=t?"on":"off",i={on:s.w,off:s.v};i[n](e,"mousemove dragover",this.updateClientY),i[n](e,"mouseup",this.stopAutoscroll)},render:function(){var t=this.el,e=this.$el,n=this.ppfx,i=this.config;return e.attr({class:n+"frame"}),i.scripts.length?this.renderScripts():i.renderContent&&(t.onload=this.renderBody.bind(this)),this},renderScripts:function(){var t=this,e=this.el,n=this.config;e.onload=function(){return function n(i){if(i.length>0){var r=i.shift(),o=Object(k.e)("script",x({type:"text/javascript"},Object(h.isString)(r)?{src:r}:r));o.onerror=o.onload=n.bind(null,i),e.contentDocument.head.appendChild(o)}else t.renderBody()}(r()(n.scripts))}},renderBody:function(){var t=this,e=this.config,n=this.model,i=this.ppfx,r=n.get("root"),o=n.get("styles"),a=e.em,l=this.getDoc(),c=this.getHead(),u=this.getBody(),d=this.getWindow(),f=a.get("Config"),p=[];d._isEditor=!0,e.styles.forEach(function(t){return p.push(Object(h.isString)(t)?{tag:"link",attributes:{href:t,rel:"stylesheet"}}:{tag:"link",attributes:x({rel:"stylesheet"},t)})}),p.length&&Object(k.c)(c,p),Object(k.a)(u,"<style>\n      ".concat(f.baseCss||"","\n\n      .").concat(i,"dashed *[data-highlightable] {\n        outline: 1px dashed rgba(170,170,170,0.7);\n        outline-offset: -2px;\n      }\n\n      .").concat(i,"selected {\n        outline: 3px solid #3b97e3 !important;\n        outline-offset: -3px;\n      }\n\n      .").concat(i,"selected-parent {\n        outline: 2px solid ").concat("#ffca6f"," !important\n      }\n\n      .").concat(i,"no-select {\n        user-select: none;\n        -webkit-user-select:none;\n        -moz-user-select: none;\n      }\n\n      .").concat(i,"freezed {\n        opacity: 0.5;\n        pointer-events: none;\n      }\n\n      .").concat(i,"no-pointer {\n        pointer-events: none;\n      }\n\n      .").concat(i,"plh-image {\n        background: #f5f5f5;\n        border: none;\n        height: 100px;\n        width: 100px;\n        display: block;\n        outline: 3px solid #ffca6f;\n        cursor: pointer;\n        outline-offset: -2px\n      }\n\n      .").concat(i,"grabbing {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n      }\n\n      .").concat(i,"is__grabbing {\n        overflow-x: hidden;\n      }\n\n      .").concat(i,"is__grabbing,\n      .").concat(i,"is__grabbing * {\n        cursor: grabbing !important;\n      }\n\n      ").concat(f.canvasCss||"","\n      ").concat(f.protectedCss||"","\n    </style>")),this.root=new O.default({model:r,config:x(x({},r.config),{},{frameView:this})}).render(),Object(k.a)(u,this.root.el),Object(k.a)(u,new _.a({collection:o,config:x(x({},a.get("CssComposer").getConfig()),{},{frameView:this})}).render().el),Object(k.a)(u,this.getJsContainer()),Object(s.w)(u,"click",function(t){return t&&"A"==t.target.tagName&&t.preventDefault()}),Object(s.w)(u,"submit",function(t){return t&&t.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"wheel",class:"WheelEvent"}].forEach(function(e){return e.event.split(" ").forEach(function(n){l.addEventListener(n,function(n){return t.el.dispatchEvent(Object(k.d)(n,e.class))})})}),this._toggleEffects(1),n.trigger("loaded")},_toggleEffects:function(t){(t?s.w:s.v)(this.getWindow(),"".concat(k.i," resize"),this._emitUpdate)},_emitUpdate:function(){this.model._emitUpdated()}}),S=n(17);function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var N=m.a.View.extend({events:{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(h.bindAll)(this,"onScroll","frameLoaded","updateOffset","remove","startDrag");var n=this.model,i=A(A({},t.config||e),{},{frameWrapView:this}),r=i.canvasView,o=i.em;this.cv=r,this.config=i,this.em=o,this.canvas=o&&o.get("Canvas"),this.ppfx=i.pStylePrefix||"",this.frame=new I({model:n,config:i}),this.classAnim="".concat(this.ppfx,"frame-wrapper--anim"),this.listenTo(n,"loaded",this.frameLoaded),this.listenTo(n,"change:x change:y",this.updatePos),this.listenTo(n,"change:width change:height",this.updateSize),this.listenTo(n,"destroy remove",this.remove),this.updatePos(),this.setupDragger()},setupDragger:function(){var t,e,n,i=this,r=this.canvas,o=this.model,a=function(t){r.toggleFramesEvents(t)};this.dragger=new S.a({onStart:function(){var r=o.attributes,s=r.x,l=r.y;n=i.em.getZoomMultiplier(),t=s,e=l,a()},onEnd:function(){return a(1)},setPosition:function(i){o.set({x:t+i.x*n,y:e+i.y*n})}})},startDrag:function(t){t&&this.dragger.start(t)},remove:function(){return this.frame.remove(),this.frame={},m.a.View.prototype.remove.apply(this,arguments),this},updateOffset:Object(h.debounce)(function(){var t=this.em,e=this.$el,n=this.frame;t.runDefault({preserveSelected:1}),e.removeClass(this.classAnim),n.model._emitUpdated()}),updatePos:function(t){var e=this.model,n=this.el,i=e.attributes,r=i.x,o=i.y,a=n.style;this.frame.rect=0,a.left=isNaN(r)?r:"".concat(r,"px"),a.top=isNaN(o)?o:"".concat(o,"px"),t&&this.updateOffset()},updateSize:Object(h.debounce)(function(){this.updateDim()}),updateDim:function(){var t=this.em,e=this.el,n=this.$el,i=this.model,r=this.classAnim,o=i.attributes,a=o.width,s=o.height,l=e.style,c=l.width||"",u=l.height||"",d=a||"",f=s||"",p=c==d&&u==f;if(this.frame.rect=0,n.addClass(r),l.width=Object(h.isNumber)(d)?"".concat(d).concat("px"):d,l.height=Object(h.isNumber)(f)?"".concat(f).concat("px"):f,Object(h.isNull)(a)||Object(h.isNull)(s)){var g=A(A({},a?{}:{width:e.offsetWidth}),s?{}:{height:e.offsetHeight});i.set(g,{silent:1})}t.stopDefault({preserveSelected:1}),p?this.updateOffset():n.one(k.i,this.updateOffset)},onScroll:function(){var t=this.frame;this.em.trigger("frame:scroll",{frame:t,body:t.getBody(),target:t.getWindow()})},frameLoaded:function(){this.frame.getWindow().onscroll=this.onScroll,this.updateDim()},render:function(){var t=this.frame,e=this.$el,n=this.ppfx,i=this.cv,r=this.model,o=this.el,a=r.attributes.onRender;t.render(),e.empty().attr({class:"".concat(n,"frame-wrapper")}).append('\n      <div class="'.concat(n,'frame-wrapper__top gjs-two-color" data-frame-top>\n        <div class="').concat(n,'frame-wrapper__name" data-action-move>\n          ').concat(r.get("name")||"",'\n        </div>\n        <div class="').concat(n,'frame-wrapper__top-r">\n          <div class="').concat(n,'frame-wrapper__icon" data-action-remove style="display: none">\n            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(n,'frame-wrapper__right" data-frame-right></div>\n      <div class="').concat(n,'frame-wrapper__left" data-frame-left></div>\n      <div class="').concat(n,'frame-wrapper__bottom" data-frame-bottom></div>\n      ')).append(t.el);var s=Object(k.e)("div",{class:"".concat(n,"tools"),style:"pointer-events:none; display: none"},'\n      <div class="'.concat(n,'highlighter" data-hl></div>\n      <div class="').concat(n,'badge" data-badge></div>\n      <div class="').concat(n,'placeholder">\n        <div class="').concat(n,'placeholder-int"></div>\n      </div>\n      <div class="').concat(n,'ghost"></div>\n      <div class="').concat(n,'toolbar" style="pointer-events:all"></div>\n      <div class="').concat(n,'resizer"></div>\n      <div class="').concat(n,'offset-v" data-offset>\n        <div class="gjs-marginName" data-offset-m>\n          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>\n          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>\n          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>\n          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>\n        </div>\n        <div class="gjs-paddingName" data-offset-m>\n          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>\n          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>\n          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>\n          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>\n        </div>\n      </div>\n      <div class="').concat(n,'offset-fixed-v"></div>\n    '));return this.elTools=s,i.toolsWrapper.appendChild(s),a&&a({el:o,elTop:o.querySelector("[data-frame-top]"),elRight:o.querySelector("[data-frame-right]"),elBottom:o.querySelector("[data-frame-bottom]"),elLeft:o.querySelector("[data-frame-left]"),frame:r,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this}}),P=T.a.extend({itemView:N,autoAdd:1,init:function(){this.listenTo(this.collection,"reset",this.render)},onRender:function(){var t=this.config,e=this.$el,n=t.em;n&&e.attr({class:"".concat(n.getConfig("stylePrefix"),"frames")})}});function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var K,j=m.a.$,F=m.a.View.extend({events:{wheel:"onWheel"},template:function(){var t=this.pfx;return'\n      <div class="'.concat(t,'canvas__frames" data-frames></div>\n      <div id="').concat(t,'tools" class="').concat(t,'canvas__tools" data-tools></div>\n    ')},initialize:function(t){Object(h.bindAll)(this,"clearOff","onKeyPress","onCanvasMove"),Object(s.w)(window,"scroll resize",this.clearOff);var e=this.model,n=e.get("frames");this.config=t.config||{},this.em=this.config.em||{},this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.className=this.config.stylePrefix+"canvas";var i=this.em,r=this.config;this.frames=new P({collection:n,config:L(L({},r),{},{canvasView:this,renderContent:1})}),this.listenTo(i,"change:canvasOffset",this.clearOff),this.listenTo(i,"component:selected",this.checkSelected),this.listenTo(e,"change:zoom change:x change:y",this.updateFrames),this.listenTo(n,"loaded:all",function(){return i.trigger("loaded")}),this.toggleListeners(1)},checkSelected:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).scroll,n=this.em.get("currentFrame");e&&t.views.forEach(function(t){t._getFrame()!==n&&t.scrollIntoView(e)})},remove:function(){var t=this.model.get("frames");t.remove(t.models),this.frames.remove(),this.frames={},m.a.View.prototype.remove.apply(this,arguments),this.toggleListeners()},preventDefault:function(t){t&&(t.preventDefault(),t._parentEvent&&t._parentEvent.preventDefault())},onCanvasMove:function(t){},toggleListeners:function(t){this.el,(t?s.w:s.v)(document,"keypress",this.onKeyPress)},onKeyPress:function(t){var e=this.em;" "!==Object(s.f)(t)||1===e.getZoomDecimal()||e.get("Canvas").isInputFocused()||(this.preventDefault(t),e.get("Editor").runCommand("core:canvas-move"))},onWheel:function(t){if((t.ctrlKey||t.metaKey)&&this.em.getConfig("multiFrames")){this.preventDefault(t);var e=this.model,n=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)),i=e.get("zoom");e.set("zoom",i+2*n)}},updateFrames:function(t){var e=this.em,n=this.model.attributes,i=n.x,r=n.y,o=this.getZoom(),a={preserveSelected:1},s=o?1/o:1;this.framesArea.style.transform="scale(".concat(o,") translate(").concat(i*s,"px, ").concat(r*s,"px)"),this.clearOff(),e.stopDefault(a),e.trigger("canvas:update",t),K&&clearTimeout(K),K=setTimeout(function(){return e.runDefault(a)},300)},getZoom:function(){return this.em.getZoomDecimal()},isElInViewport:function(t){var e=Object(s.e)(t),n=Object(s.d)(e),i=this.getFrameOffset(e),r=n.top,o=n.left;return r>=0&&o>=0&&r<=i.height&&o<=i.width},offset:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(s.d)(t),i=t.ownerDocument.body,r=e.noScroll;return{top:n.top+(r?0:i.scrollTop),left:n.left+(r?0:i.scrollLeft),width:n.width,height:n.height}},clearOff:function(){this.frmOff=null,this.cvsOff=null},getFrameOffset:function(t){if(!this.frmOff||t){var e=this.frame.el,n=t?t.ownerDocument.defaultView.frameElement:e;this.frmOff=this.offset(n||e)}return this.frmOff},getCanvasOffset:function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},getElementPos:function(t,e){var n=this.getZoom(),i=e||{},r=this.getFrameOffset(t),o=this.getCanvasOffset(),a=this.offset(t,e),s=i.avoidFrameOffset?0:r.top,l=i.avoidFrameOffset?0:r.left;return{top:a.top*n+s-o.top,left:a.left*n+l-o.left,height:a.height*n,width:a.width*n,zoom:n,rect:a}},getElementOffsets:function(t){var e=this;if(!t||Object(s.s)(t))return{};var n={},i=window.getComputedStyle(t);return["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"].forEach(function(t){n[t]=parseFloat(i[t])*e.getZoom()}),n},getPosition:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.frame.el.contentDocument;if(e){var n=e.body,i=this.getZoom(),r=this.getFrameOffset(),o=this.getCanvasOffset(),a=t.noScroll;return{top:r.top+(a?0:n.scrollTop)*i-o.top,left:r.left+(a?0:n.scrollLeft)*i-o.left,width:o.width,height:o.height}}},updateScript:function(t){var e=t.model,n=e.getId();t.scriptContainer||(t.scriptContainer=j('<div data-id="'.concat(n,'">')),this.getJsContainer().appendChild(t.scriptContainer.get(0))),t.el.id=n,t.scriptContainer.html("");var i=document.createElement("script"),r=e.getScriptString(),o=e.get("script-props")?r:"function(){\n".concat(r,"\n;}"),a=JSON.stringify(e.__getScriptProps());i.innerHTML="\n      setTimeout(function() {\n        var item = document.getElementById('".concat(n,"');\n        if (!item) return;\n        (").concat(o,".bind(item))(").concat(a,")\n      }, 1);"),setTimeout(function(){var e=t.scriptContainer;e&&e.get(0).appendChild(i)},0)},getJsContainer:function(t){var e=this.getFrameView(t);return e&&e.getJsContainer()},getFrameView:function(t){return t&&t._getFrame()||this.em.get("currentFrame")},render:function(){var t=this.el,e=this.$el,n=this.ppfx,i=this.model,r=this.em,o=this.frames,a=r.get("CssComposer"),s=i.get("wrapper");e.html(this.template());var l=e.find("[data-frames]");this.framesArea=l.get(0),this.wrapper=s,s&&"function"==typeof s.render&&i.get("frame").set({wrapper:s,root:s.getWrapper(),styles:a.getAll()});var c=e.find("[data-tools]");this.toolsWrapper=c.get(0),c.append('\n      <div class="'.concat(n,"tools ").concat(n,'tools-gl" style="pointer-events:none">\n        <div class="').concat(n,'placeholder">\n          <div class="').concat(n,'placeholder-int"></div>\n        </div>\n      </div>\n      <div id="').concat(n,'tools" style="pointer-events:none">\n        <div class="').concat(n,'badge"></div>\n        <div class="').concat(n,'ghost"></div>\n        <div class="').concat(n,'toolbar" style="pointer-events:all"></div>\n        <div class="').concat(n,'resizer"></div>\n        <div class="').concat(n,'offset-v"></div>\n        <div class="').concat(n,'offset-fixed-v"></div>\n      </div>\n    '));var u=t.querySelector("#".concat(n,"tools"));this.hlEl=t.querySelector(".".concat(n,"highlighter")),this.badgeEl=t.querySelector(".".concat(n,"badge")),this.placerEl=t.querySelector(".".concat(n,"placeholder")),this.ghostEl=t.querySelector(".".concat(n,"ghost")),this.toolbarEl=t.querySelector(".".concat(n,"toolbar")),this.resizerEl=t.querySelector(".".concat(n,"resizer")),this.offsetEl=t.querySelector(".".concat(n,"offset-v")),this.fixedOffsetEl=t.querySelector(".".concat(n,"offset-fixed-v")),this.toolsGlobEl=t.querySelector(".".concat(n,"tools-gl")),this.toolsEl=u,this.el.className=this.className;var d=i.get("frames");return d.listenToLoad(),o.render(),r.setCurrentFrame(d.at(0).view),l.append(o.el),this.frame=d.at(0).view,this}});function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e.default=function(){var t,e,n={};return{getCanvasView:function(){return e},name:"Canvas",init:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=$($($({},p),i),{},{module:this}),this.em=n.em;var r=n.pStylePrefix;r&&(n.stylePrefix=r+n.stylePrefix),t=new C(i),e=new F({model:t,config:n});var o=n.em.get("DomComponents");return o&&this.setWrapper(o),this.model=t,this.startAutoscroll=this.startAutoscroll.bind(this),this.stopAutoscroll=this.stopAutoscroll.bind(this),this},getConfig:function(){return n},setWrapper:function(e){t.set("wrapper",e)},getElement:function(){return e.el},getFrame:function(e){return e?this.getFrames()[e]:t.get("frame")},getFrameEl:function(){var t=e.frame;return t&&t.el},getFramesEl:function(){return e.framesArea},getWindow:function(){return this.getFrameEl().contentWindow},getDocument:function(){var t=this.getFrameEl();return t&&t.contentDocument},getBody:function(){var t=this.getDocument();return t&&t.body},getWrapperEl:function(){var t=this.getBody();return t&&t.querySelector("#wrapper")},_getCompFrame:function(t){return t&&t._getFrame()},_getLocalEl:function(t,e,n){var i=t,r=this._getCompFrame(e);return r?r[n]():i},getGlobalToolsEl:function(){return e.toolsGlobEl},getToolsEl:function(t){return this._getLocalEl(e.toolsEl,t,"getToolsEl")},getHighlighter:function(t){return this._getLocalEl(e.hlEl,t,"getHighlighter")},getBadgeEl:function(t){return this._getLocalEl(e.badgeEl,t,"getBadgeEl")},getPlacerEl:function(){return e.placerEl},getGhostEl:function(){return e.ghostEl},getToolbarEl:function(){return e.toolbarEl},getResizerEl:function(){return e.resizerEl},getOffsetViewerEl:function(t){return this._getLocalEl(e.offsetEl,t,"getOffsetViewerEl")},getFixedOffsetViewerEl:function(){return e.fixedOffsetEl},render:function(){return e.render().el},getOffset:function(){var t=this.offset(this.getFrameEl()),e=this.offset(this.getElement());return{top:t.top-e.top,left:t.left-e.left}},offset:function(t){return e.offset(t)},setCustomBadgeLabel:function(t){n.customBadgeLabel=t},getElementPos:function(t,n){return e.getElementPos(t,n)},getElementOffsets:function(t){return e.getElementOffsets(t)},getRect:function(){var t=e.getPosition(),n=t.top,i=t.left;return $($({},e.getCanvasOffset()),{},{topScroll:n,leftScroll:i})},getTargetToElementDim:function(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r||{},a=e.getPosition();if(a){var s=o.elPos||e.getElementPos(i),l=r.toRight||0,c=o.targetHeight||t.offsetHeight,u=o.targetWidth||t.offsetWidth,d=o.event||null,h=s.top-c,f=s.left;f+=l?s.width:0;var p=(f=l?f-u:f)<a.left?a.left:f,g=h<a.top?a.top:h,m={top:g=g>s.top+s.height?s.top+s.height:g,left:p,elementTop:s.top,elementLeft:s.left,elementWidth:s.width,elementHeight:s.height,targetWidth:t.offsetWidth,targetHeight:t.offsetHeight,canvasTop:a.top,canvasLeft:a.left,canvasWidth:a.width,canvasHeight:a.height};return d&&n.em&&n.em.trigger(d,m),m}},canvasRectOffset:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,o=n.em.getZoomDecimal(),a=e?"top":"left",s=t.ownerDocument,l=i.offset?function(t){var e=t.defaultView;return e&&e.frameElement}(s):{},c=l.offsetTop,u=void 0===c?0:c,d=l.offsetLeft,h=void 0===d?0:d,f=s.body||{},p=f.scrollTop,g=void 0===p?0:p,m=f.scrollLeft,v=e?g:void 0===m?0:m,y=e?u:h;return r[a]-(v-y)*o};return{top:r(t,1,e),left:r(t,0,e)}},getTargetToElementFixed:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.pos||this.getElementPos(t),r=n.canvasOff||this.canvasRectOffset(t,i),o=e.offsetHeight||0,a=e.offsetWidth||0,s=i.left+i.width,l=this.getCanvasView(),c=l.getPosition(),u=l.getFrameOffset(t),d=n.event,h=-o,f=i.width-a;f=i.left<-f?-i.left:f,f=s>c.width?f-(s-c.width):f;var p=i.height+o,g=p<u.height;r.top<o&&(g?h+=p:h=-r.top<i.height?-r.top:i.height);var m={top:h,left:f,canvasOffsetTop:r.top,canvasOffsetLeft:r.left};return d&&this.em.trigger(d,m),m},getMouseRelativePos:function(t,e){var n=0,i=0,r=(e||{}).subWinOffset,o=t.target.ownerDocument,a=o.defaultView||o.parentWindow,s=a.frameElement,l=r?a.pageYOffset:0,c=r?a.pageXOffset:0;if(s){var u=s.getBoundingClientRect();n=u.top||0,i=u.left||0}return{y:t.clientY+n-l,x:t.clientX+i-c}},getMouseRelativeCanvas:function(t,n){var i=this.getZoomDecimal(),r=e.getPosition(n),o=r.top,a=r.left;return{y:t.clientY*i+o,x:t.clientX*i+a}},hasFocus:function(){return this.getDocument().hasFocus()},isInputFocused:function(){var t=this.getDocument(),e=this.getFrameEl(),n=["body"].concat(r()(this.getConfig().notTextable)),i=e&&document.activeElement===e?t&&t.activeElement:document.activeElement;return i&&!n.some(function(t){return i.matches(t)})},scrollTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(s.e)(t),i=n&&Object(s.j)(n);i&&i.scrollIntoView(e)},startAutoscroll:function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.startAutoscroll()},stopAutoscroll:function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.stopAutoscroll()},postRender:function(){Object(s.k)(n.em)&&(this.droppable=new f(n.em))},setZoom:function(e){return t.set("zoom",parseFloat(e)),this},getZoom:function(){return parseFloat(t.get("zoom"))},getZoomDecimal:function(){return this.getZoom()/100},getZoomMultiplier:function(){var t=this.getZoomDecimal();return t?1/t:1},toggleFramesEvents:function(t){this.getFramesEl().style.pointerEvents=t?"":"none"},getFrameWrapperEl:function(){return e.frame.getWrapper()},getFrames:function(){return t.get("frames").map(function(t){return t})},addFrame:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.get("frames").add($({},e),$($({},n),{},{em:this.em}))},destroy:function(){var i=this;t.stopListening(),e.remove(),[n,t,e].forEach(function(t){return{}}),["em","model","droppable"].forEach(function(t){return i[t]={}})}}}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),o=n(11),a={stylePrefix:"gjs-",components:"",style:"",fromElement:0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"\n    * {\n      box-sizing: border-box;\n    }\n    html, body, [data-gjs-type=wrapper] {\n      min-height: 100%;\n    }\n    body {\n      margin: 0;\n      height: 100%;\n      background-color: #fff\n    }\n    [data-gjs-type=wrapper] {\n      overflow: auto;\n      overflow-x: hidden;\n    }\n\n    * ::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.1)\n    }\n\n    * ::-webkit-scrollbar-thumb {\n      background: rgba(255, 255, 255, 0.2)\n    }\n\n    * ::-webkit-scrollbar {\n      width: 10px\n    }\n  ",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:1,allowScripts:0,showDevices:1,devicePreviewMode:0,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:0,jsInHtml:!0,nativeDnD:1,multipleSelection:1,exportWrapper:0,wrapperIsBody:1,optsHtml:{},optsCss:{},avoidInlineStyle:1,avoidDefaults:1,clearStyles:0,dragMode:0,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",el:"",i18n:{},undoManager:{},assetManager:{},canvas:{},layers:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"768px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]},styleManager:{sectors:[{name:"General",open:!1,buildProps:["float","display","position","top","right","left","bottom"]},{name:"Flex",open:!1,buildProps:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,buildProps:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"],properties:[{property:"text-align",list:[{value:"left",className:"fa fa-align-left"},{value:"center",className:"fa fa-align-center"},{value:"right",className:"fa fa-align-right"},{value:"justify",className:"fa fa-align-justify"}]}]},{name:"Decorations",open:!1,buildProps:["border-radius-c","background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,buildProps:["transition","perspective","transform"]}]},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:0,multiFrames:0},s=n(0),l=n(1),c=n.n(l),u=n(3);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}c.a.$=o.default;var f,p,g=[n(106),n(107),n(77),n(78),n(102),n(101),n(103),n(99),n(104),n(105),n(100),n(98),n(108),n(95),n(109),n(96),n(92),n(69),n(93),n(110),n(97)],m=c.a.Collection;!function(t){var e={Backbone:c.a,$:c.a.$}.$;if(e&&"jQuery"!==e.prototype.constructor.name){var n=e.fn;n.hide=function(){return this.css("display","none")},n.show=function(){return this.css("display","block")},n.focus=function(){var t=this.get(0);return t&&t.focus(),this},n.bind=function(t,e){return this.on(t,e)},n.unbind=function(t,e){if(Object(s.isObject)(t)){for(var n in t)t.hasOwnProperty(n)&&this.off(n,t[n]);return this}return this.off(t,e)},n.click=function(t){return t?this.on("click",t):this.trigger("click")},n.change=function(t){return t?this.on("change",t):this.trigger("change")},n.keydown=function(t){return t?this.on("keydown",t):this.trigger("keydown")},n.delegate=function(t,e,n,i){return i||(i=n),this.on(e,t,function(t){t.data=n,i(t)})},n.scrollLeft=function(){var t=this.get(0),e=(t=9==t.nodeType?t.defaultView:t)instanceof Window?t:null;return e?e.pageXOffset:t.scrollLeft||0},n.scrollTop=function(){var t=this.get(0),e=(t=9==t.nodeType?t.defaultView:t)instanceof Window?t:null;return e?e.pageYOffset:t.scrollTop||0};var i=e.prototype.offset;n.offset=function(t){var e,n;return t&&(e=t.top,n=t.left),void 0!==e&&this.css("top","".concat(e,"px")),void 0!==n&&this.css("left","".concat(n,"px")),i.call(this)},e.map=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n};var r=Array.prototype.indexOf;e.inArray=function(t,e,n){return null==e?-1:r.call(e,t,n)},e.Event=function(t,n){if(!(this instanceof e.Event))return new e.Event(t,n);this.type=t,this.isDefaultPrevented=function(){return!1}}}}();var v={debug:console.log,info:console.info,warning:console.warn,error:console.error},y=c.a.Model.extend({defaults:function(){return{editing:0,selected:new m,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},initialize:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=e,this.set("Config",e),this.set("modules",[]),this.set("toLoad",[]),this.set("storables",[]),this.set("selected",new m),this.set("dmode",e.dragMode);var n=e.el,i=e.log,r=!0===i?Object(s.keys)(v):Object(s.isArray)(i)?i:[];Object(s.bindAll)(this,"initBaseColorPicker"),n&&e.fromElement&&(this.config.components=n.innerHTML),this.attrsOrig=n?Object(s.toArray)(n.attributes).reduce(function(t,e){return t[e.nodeName]=e.nodeValue,t},{}):"",g.forEach(function(e){return t.loadModule(e)}),this.on("change:componentHovered",this.componentHovered,this),this.on("change:changesCount",this.updateChanges,this),r.forEach(function(e){return t.listenLog(e)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(e){var n=e.from,i=e.to;t.listenTo(t,n,function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];t.trigger.apply(t,[i].concat(r)),t.logWarning("The event '".concat(n,"' is deprecated, replace it with '").concat(i,"'"))})})},getContainer:function(){return this.config.el},listenLog:function(t){this.listenTo(this,"log:".concat(t),v[t])},getConfig:function(t){var e=this.config;return Object(s.isUndefined)(t)?e:e[t]},loadOnStart:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.get("StorageManager");this.get("toLoad").forEach(function(t){t.onLoad()});var i=function(){t.get("modules").forEach(function(e){return e.postLoad&&e.postLoad(t)}),e&&e()};n&&n.canAutoload()?this.load(i):i()},updateChanges:function(){var t=this,e=this.get("StorageManager"),n=this.get("changesCount");p&&clearTimeout(p),p=setTimeout(function(){return t.trigger("update")}),this.config.noticeOnUnload&&(window.onbeforeunload=n?function(t){return 1}:null),e.isAutosave()&&n>=e.getStepsBeforeSave()&&this.store()},loadModule:function(t){var e=this.config,n=new(t.default||t),i=n.name.charAt(0).toLowerCase()+n.name.slice(1),r=Object(s.isUndefined)(e[i])?e[n.name]:e[i],o=r||{},a=this.get("StorageManager");if(o.pStylePrefix=e.pStylePrefix||"",Object(s.isUndefined)(r)||r||(o._disable=1),n.storageKey&&n.store&&n.load&&a){o.stm=a;var l="domComponents"==i?"unshift":"push";this.get("storables")[l](n)}return o.em=this,n.init(h({},o)),!n.private&&this.set(n.name,n),n.onLoad&&this.get("toLoad").push(n),this.get("modules").push(n),this},init:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.destroyed&&(this.initialize(e),this.destroyed=0),this.set("Editor",t)},getEditor:function(){return this.get("Editor")},handleUpdates:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.temporary||i.noCount||i.avoidStore||(f&&clearTimeout(f),f=setTimeout(function(){n.set("changesCount",n.get("changesCount")+1,i)},0))},componentHovered:function(t,e,n){var i=this.previous("componentHovered");i&&this.trigger("component:unhovered",i,n),e&&this.trigger("component:hovered",e,n)},getSelected:function(){return this.get("selected").last()},getSelectedAll:function(){var t=this.get("selected");return t&&t.models||[]},setSelected:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.event,r=i&&(i.ctrlKey||i.metaKey),a=(i||{}).shiftKey,l=Object(s.isArray)(t),c=l?t:[t],d=this.get("selected"),h=this.getConfig("multipleSelection");l&&this.removeSelected(d.filter(function(t){return!Object(s.contains)(c,t)})),c.forEach(function(t){var i=Object(u.g)(t,o.default);if(!i||i.get("selectable")){if(r&&h)return e.toggleSelected(i);if(a&&h){e.clearSelection(e.get("Canvas").getWindow());var c,f,p=i.collection,g=i.index();if(e.getSelectedAll().forEach(function(t){var e=t.collection,n=t.index();e===p&&(n<g?c=Object(s.isUndefined)(c)?n:Math.max(c,n):n>g&&(f=Object(s.isUndefined)(f)?n:Math.min(f,n)))}),!Object(s.isUndefined)(c))for(;c!==g;)e.addSelected(p.at(c)),c++;if(!Object(s.isUndefined)(f))for(;f!==g;)e.addSelected(p.at(f)),f--;return e.addSelected(i)}!l&&e.removeSelected(d.filter(function(t){return t!==i})),e.addSelected(i,n)}})},addSelected:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(u.g)(t,o.default);(Object(s.isArray)(i)?i:[i]).forEach(function(t){if(!t||t.get("selectable")){var i=e.get("selected");n.forceChange&&i.remove(t,n),i.push(t,n)}})},removeSelected:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.get("selected").remove(Object(u.g)(t,o.default),e)},toggleSelected:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(u.g)(t,o.default);(Object(s.isArray)(i)?i:[i]).forEach(function(t){e.get("selected").contains(t)?e.removeSelected(t,n):e.addSelected(t,n)})},setHovered:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(u.g)(t,o.default);n&&!n.get("hoverable")||(e.forceChange&&this.set("componentHovered",""),this.set("componentHovered",n,e))},getHovered:function(){return this.get("componentHovered")},setComponents:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get("DomComponents").setComponents(t,e)},getComponents:function(){var t=this.get("DomComponents"),e=this.get("CodeManager");if(t&&e){var n=t.getComponents();return e.getCode(n,"json")}},setStyle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.get("CssComposer");return n.clear(e),n.getAll().add(t,e),this},getStyle:function(){return this.get("CssComposer").getAll()},setState:function(t){return this.set("state",t),this},getState:function(){return this.get("state")||""},getHtml:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.config,n=e.optsHtml,i=e.exportWrapper,r=e.wrapperIsBody,o=e.jsInHtml?this.getJs():"",a=this.get("DomComponents").getComponent();return this.get("CodeManager").getCode(a,"html",h(h({exportWrapper:i,wrapperIsBody:r},n),t))+(o?"<script>".concat(o,"<\/script>"):"")},getCss:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.config,n=e.optsCss,i=e.wrapperIsBody,r=t.avoidProtected,o=Object(s.isUndefined)(t.keepUnusedStyles)?e.keepUnusedStyles:t.keepUnusedStyles,a=this.get("CssComposer"),l=this.get("DomComponents").getComponent();return(r?"":e.protectedCss)+this.get("CodeManager").getCode(l,"css",h({cssc:a,wrapperIsBody:i,keepUnusedStyles:o},n))},getJs:function(){var t=this.get("DomComponents").getWrapper();return this.get("CodeManager").getCode(t,"js").trim()},store:function(t){var e=this,n=this.get("StorageManager"),i={};if(n)return this.get("storables").forEach(function(t){var e=t.store(1);for(var n in e)i[n]=e[n]}),n.store(i,function(n){t&&t(n),e.set("changesCount",0),e.trigger("storage:store",i)}),i},load:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.getCacheLoad(1,function(n){t.get("storables").forEach(function(e){e.load(n),e.postLoad&&e.postLoad(t)}),e&&e(n)})},getCacheLoad:function(t,e){var n=this;if(this.cacheLoad&&!t)return this.cacheLoad;var i=this.get("StorageManager"),r=[];if(!i)return{};this.get("storables").forEach(function(t){var e=t.storageKey;e=Object(s.isFunction)(e)?e():e,(Object(s.isArray)(e)?e:[e]).forEach(function(t){return r.push(t)})}),i.load(r,function(t){n.cacheLoad=t,e&&e(t),setTimeout(function(){return n.trigger("storage:load",t)})})},getDeviceModel:function(){var t=this.get("device");return this.get("DeviceManager").get(t)},runDefault:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.get("Commands").get(this.config.defaultCommand);e&&!this.defaultRunning&&(e.stop(this,this,t),e.run(this,this,t),this.defaultRunning=1)},stopDefault:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.get("Commands").get(this.config.defaultCommand);e&&(e.stop(this,this,t),this.defaultRunning=0)},refreshCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.set("canvasOffset",null),this.set("canvasOffset",this.get("Canvas").getOffset()),t.tools&&this.trigger("canvas:updateTools")},clearSelection:function(t){(t||window).getSelection().removeAllRanges()},getCurrentMedia:function(){var t=this.config,e=this.getDeviceModel(),n=t.mediaCondition,i=t.devicePreviewMode,r=e&&e.get("widthMedia");return e&&r&&!i?"(".concat(n,": ").concat(r,")"):""},getWrapper:function(){return this.get("DomComponents").getWrapper()},setCurrentFrame:function(t){return this.set("currentFrame",t)},getCurrentFrame:function(){return this.get("currentFrame")},getCurrentFrameModel:function(){return(this.getCurrentFrame()||{}).model},getDirtyCount:function(){return this.get("changesCount")},getZoomDecimal:function(){return this.get("Canvas").getZoomDecimal()},getZoomMultiplier:function(){return this.get("Canvas").getZoomMultiplier()},setDragMode:function(t){return this.set("dmode",t)},t:function(){var t;return(t=this.get("I18n")).t.apply(t,arguments)},inAbsoluteMode:function(){return"absolute"===this.get("dmode")},destroyAll:function(){var t=this,e=this.config,n=this.getEditor(),i=(e.grapesjs||{}).editors,r=void 0===i?[]:i;this.stopDefault(),this.get("modules").slice().reverse().forEach(function(t){return t.destroy()}),this.view.remove(),this.stopListening(),this.clear({silent:!0}),this.destroyed=1,["config","view","_previousAttributes","_events","_listeners"].forEach(function(e){return t[e]={}}),r.splice(r.indexOf(n),1),Object(o.default)(e.el).empty().attr(this.attrsOrig)},setEditing:function(t){return this.set("editing",t),this},isEditing:function(){return!!this.get("editing")},log:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.ns,i=e.level,r=void 0===i?"debug":i;if(this.trigger("log",t,e),r&&this.trigger("log:".concat(r),t,e),n){var o="log-".concat(n);this.trigger(o,t,e),r&&this.trigger("".concat(o,":").concat(r),t,e)}},logInfo:function(t,e){this.log(t,h(h({},e),{},{level:"info"}))},logWarning:function(t,e){this.log(t,h(h({},e),{},{level:"warning"}))},logError:function(t,e){this.log(t,h(h({},e),{},{level:"error"}))},initBaseColorPicker:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getConfig(),i=n.colorPicker,r=void 0===i?{}:i,a=n.el,s=n.stylePrefix;return Object(o.default)(t).spectrum(h(h({containerClassName:"".concat(s,"one-bg ").concat(s,"two-color"),appendTo:a||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"â¨¯"},e),r))},data:function(t,e,n){var i="_gjs-data";if(t[i]||(t[i]={}),Object(s.isUndefined)(n))return t[i][e];t[i][e]=n}}),b=c.a.$,w=c.a.View.extend({initialize:function(){var t=this,e=this.model;e.view=this,this.conf=e.config,this.pn=e.get("Panels"),this.cv=e.get("Canvas"),e.on("loaded",function(){t.pn.active(),t.pn.disableButtons(),setTimeout(function(){e.runDefault(),e.trigger("load",e.get("Editor"))})})},render:function(){this.model;var t=this.$el,e=this.conf,n=e.stylePrefix,i=b(e.el||"body ".concat(e.container));return Object(u.a)(e.cssIcons,{unique:1,prepand:1}),t.empty(),e.width&&i.css("width",e.width),e.height&&i.css("height",e.height),t.append(this.cv.render()),t.append(this.pn.render()),t.attr("class","".concat(n,"editor ").concat(n,"one-bg ").concat(n,"two-color")),i.addClass("".concat(n,"editor-cont")).empty().append(t),this}});function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=C(C({},a),t);e.pStylePrefix=e.stylePrefix;var n=new y(e),i=new w({model:n,config:e});return{$:o.default,editor:n,init:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.init(this,C(C({},e),r)),["I18n","Utils","Config","Commands","Keymaps","Modal","Panels","Canvas","Parser","CodeManager","UndoManager","RichTextEditor","DomComponents",["Components","DomComponents"],"LayerManager",["Layers","LayerManager"],"CssComposer",["Css","CssComposer"],"StorageManager",["Storage","StorageManager"],"AssetManager",["Assets","AssetManager"],"BlockManager",["Blocks","BlockManager"],"TraitManager",["Traits","TraitManager"],"SelectorManager",["Selectors","SelectorManager"],"StyleManager",["Styles","StyleManager"],"DeviceManager",["Devices","DeviceManager"]].forEach(function(e){Array.isArray(e)?t[e[0]]=n.get(e[1]):t[e]=n.get(e)}),n.on("loaded",function(){t.UndoManager.clear(),n.get("modules").forEach(function(t){t.postRender&&t.postRender(i)})}),this},getConfig:function(t){return n.getConfig(t)},getHtml:function(t){return n.getHtml(t)},getCss:function(t){return n.getCss(t)},getJs:function(){return n.getJs()},getComponents:function(){return n.get("DomComponents").getComponents()},getWrapper:function(){return n.get("DomComponents").getWrapper()},setComponents:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.setComponents(t,e),this},addComponents:function(t,e){return this.getWrapper().append(t,e)},getStyle:function(){return n.get("CssComposer").getAll()},setStyle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.setStyle(t,e),this},getSelected:function(){return n.getSelected()},getSelectedAll:function(){return n.getSelectedAll()},getSelectedToStyle:function(){var t=n.getSelected();if(t)return this.StyleManager.getModelToStyle(t)},select:function(t,e){return n.setSelected(t,e),this},selectAdd:function(t){return n.addSelected(t),this},selectRemove:function(t){return n.removeSelected(t),this},selectToggle:function(t){return n.toggleSelected(t),this},setDevice:function(t){return n.set("device",t),this},getDevice:function(){return n.get("device")},runCommand:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.get("Commands").run(t,e)},stopCommand:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.get("Commands").stop(t,e)},store:function(t){return n.store(t)},load:function(t){return n.load(t)},getContainer:function(){return e.el},getDirtyCount:function(){return n.getDirtyCount()},refresh:function(t){n.refreshCanvas(t)},setCustomRte:function(t){this.RichTextEditor.customRte=t},setCustomParserCss:function(t){return this.Parser.getConfig().parserCss=t,this},setDragMode:function(t){return n.setDragMode(t),this},log:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.log(t,e),this},t:function(){return n.t.apply(n,arguments)},on:function(t,e){return n.on(t,e),this},once:function(t,e){return n.once(t,e),this},off:function(t,e){return n.off(t,e),this},trigger:function(t){return n.trigger.apply(n,arguments),this},destroy:function(){return n.destroyAll()},getEl:function(){return i.el},getModel:function(){return n},render:function(){return i.render(),i.el}}},_={plugins:[]};function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}!function(){if(function(){for(var t,e=window.navigator.userAgent,n=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],i=0;i<n.length&&!(t=n[i][1].exec(e));i++);return!!t}()){var t=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(e){return e||(e=""),t.apply(document.implementation,[e])}}}();var D=new function(t){var e={};for(var n in _)n in e||(e[n]=_[n]);var i={};return{add:function(t,e){return i[t]?i[t]:(i[t]=e,e)},get:function(t){return i[t]},getAll:function(){return i}}},x=[],I={autorender:1,plugins:[],pluginsOpts:{}};e.default={$:o.default,editors:x,plugins:D,version:"0.16.45",init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.container;if(!e)throw new Error("'container' is required");(t=k(k(k({},I),t),{},{grapesjs:this})).el=Object(s.isElement)(e)?e:document.querySelector(e);var n=new T(t).init(),i=n.getModel();return t.plugins.forEach(function(e){var r=D.get(e),o=t.pluginsOpts[e]||{};if(!r){var a=window[e];r=a&&a.default?a.default:a}r?r(n,o):Object(s.isFunction)(e)?e(n,o):i.logWarning("Plugin ".concat(e," not found"),{context:"plugins",plugin:e})}),i.loadOnStart(),t.autorender&&n.render(),x.push(n),n}}},function(t,e,n){"use strict";n.r(e);var i={assets:[],noAssets:"",stylePrefix:"am-",upload:0,uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,autoAdd:1,customFetch:"",uploadFile:"",embedAsBase64:1,handleAdd:"",dropzone:0,openAssetsOnDrop:1,dropzoneContent:"",beforeUpload:null,showUrlInput:!0},r=n(1),o=n.n(r),a=n(2),s=n.n(a),l=o.a.Model.extend({idAttribute:"src",defaults:{type:"",src:""},getFilename:function(){return this.get("src").split("/").pop()},getExtension:function(){return this.getFilename().split(".").pop()}});function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){s()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var d=l.extend({defaults:u(u({},l.prototype.defaults),{},{type:"image",unitDim:"px",height:0,width:0})}),h=n(0),f=o.a.View.extend({initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.collection=t.collection;var e=t.config||{};this.config=e,this.pfx=e.stylePrefix||"",this.ppfx=e.pStylePrefix||"",this.em=e.em,this.className=this.pfx+"asset",this.listenTo(this.model,"destroy remove",this.remove),this.model.view=this;var n=this.init&&this.init.bind(this);n&&n(t)},template:function(){var t=this.pfx;return'\n      <div class="'.concat(t,'preview-cont">\n        ').concat(this.getPreview(),'\n      </div>\n      <div class="').concat(t,'meta">\n        ').concat(this.getInfo(),'\n      </div>\n      <div class="').concat(t,'close" data-toggle="asset-remove">\n        &Cross;\n      </div>\n    ')},updateTarget:function(t){t&&t.set&&(t.set("attributes",Object(h.clone)(t.get("attributes"))),t.set("src",this.model.get("src")))},getPreview:function(){return""},getInfo:function(){return""},render:function(){var t=this.el;return t.innerHTML=this.template(this,this.model),t.className=this.className,this}}).extend({events:{"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"},getPreview:function(){var t=this.pfx,e=this.model.get("src");return'\n      <div class="'.concat(t,'preview" style="background-image: url(\'').concat(e,'\');"></div>\n      <div class="').concat(t,"preview-bg ").concat(this.ppfx,'checker-bg"></div>\n    ')},getInfo:function(){var t=this.pfx,e=this.model,n=e.get("name"),i=e.get("width"),r=e.get("height"),o=e.get("unitDim"),a=i&&r?"".concat(i,"x").concat(r).concat(o):"";return n=n||e.getFilename(),'\n      <div class="'.concat(t,'name">').concat(n,'</div>\n      <div class="').concat(t,'dimensions">').concat(a,"</div>\n    ")},init:function(t){var e=this.pfx;this.className+=" ".concat(e,"asset-image")},onClick:function(){var t=this.config.onClick,e=this.model;this.collection.trigger("deselectAll"),this.$el.addClass(this.pfx+"highlight"),Object(h.isFunction)(t)?t(e):this.updateTarget(this.collection.target)},onDblClick:function(){var t=this.em,e=this.model,n=this.config.onDblClick;Object(h.isFunction)(n)?n(e):(this.updateTarget(this.collection.target),t&&t.get("Modal").close());var i=this.collection.onSelect;Object(h.isFunction)(i)&&i(e)},onRemove:function(t){t.stopImmediatePropagation(),this.model.collection.remove(this.model)}}),p=n(30),g=o.a.Collection.extend(p.a).extend({types:[{id:"image",model:d,view:f,isType:function(t){return"string"==typeof t?{type:"image",src:t}:t}}]}),m=n(25),v=n.n(m),y=o.a.View.extend({events:{submit:"handleSubmit"},template:function(t){var e=t.pfx,n=t.ppfx,i=t.em,r=(v()(t,["pfx","ppfx","em"]),"");return this.config.showUrlInput&&(r='\n          <form class="'.concat(e,'add-asset">\n            <div class="').concat(n,"field ").concat(e,'add-field">\n              <input placeholder="').concat(i&&i.t("assetManager.inputPlh"),'"/>\n            </div>\n            <button class="').concat(n,'btn-prim">').concat(i&&i.t("assetManager.addButton"),'</button>\n            <div style="clear:both"></div>\n          </form>\n      ')),'\n    <div class="'.concat(e,'assets-cont">\n      <div class="').concat(e,'assets-header">\n        ').concat(r,'\n      </div>\n      <div class="').concat(e,'assets" data-el="assets"></div>\n      <div style="clear:both"></div>\n    </div>\n    ')},initialize:function(t){this.options=t,this.config=t.config,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em;var e=this.collection;this.listenTo(e,"reset",this.renderAssets),this.listenTo(e,"add",this.addToAsset),this.listenTo(e,"remove",this.removedAsset),this.listenTo(e,"deselectAll",this.deselectAll)},handleSubmit:function(t){t.preventDefault();var e=this.getAddInput(),n=e&&e.value.trim(),i=this.config.handleAdd;n&&(e.value="",this.getAssetsEl().scrollTop=0,i?i.bind(this)(n):this.options.globalCollection.add(n,{at:0}))},getAssetsEl:function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},getAddInput:function(){return this.inputUrl&&this.inputUrl.value||(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},removedAsset:function(t){this.collection.length||this.toggleNoAssets()},addToAsset:function(t){1==this.collection.length&&this.toggleNoAssets(1),this.addAsset(t)},addAsset:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.collection,i=this.config,r=new t.typeView({model:t,collection:n,config:i}).render().el;if(e)e.appendChild(r);else{var o=this.getAssetsEl();o&&o.insertBefore(r,o.firstChild)}return r},toggleNoAssets:function(t){var e=this.$el.find(".".concat(this.pfx,"assets"));if(t)e.empty();else{var n=this.config.noAssets;n&&e.append(n)}},deselectAll:function(){var t=this.pfx;this.$el.find(".".concat(t,"highlight")).removeClass("".concat(t,"highlight"))},renderAssets:function(){var t=this,e=document.createDocumentFragment(),n=this.$el.find(".".concat(this.pfx,"assets"));n.empty(),this.toggleNoAssets(this.collection.length),this.collection.each(function(n){return t.addAsset(n,e)}),n.append(e)},render:function(){var t=this.options.fu.render().el;return this.$el.empty(),this.$el.append(t).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this.rendered=1,this}}),b=n(28);function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var E=o.a.View.extend({template:Object(h.template)('\n  <form>\n    <div id="<%= pfx %>title"><%= title %></div>\n    <input type="file" id="<%= uploadId %>" name="file" accept="*/*" <%= disabled ? \'disabled\' : \'\' %> <%= multiUpload ? \'multiple\' : \'\' %>/>\n    <div style="clear:both;"></div>\n  </form>\n  '),events:{},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t;var e=t.config||{};this.config=e,this.em=this.config.em,this.pfx=e.stylePrefix||"",this.ppfx=e.pStylePrefix||"",this.target=this.options.globalCollection||{},this.uploadId=this.pfx+"uploadFile",this.disabled=void 0!==e.disableUpload?e.disableUpload:!e.upload&&!e.embedAsBase64,this.multiUpload=void 0===e.multiUpload||e.multiUpload,this.events["change #"+this.uploadId]="uploadFile";var n=e.uploadFile;n?this.uploadFile=n.bind(this):!e.upload&&e.embedAsBase64&&(this.uploadFile=this.constructor.embedAsBase64),this.delegateEvents()},onUploadStart:function(){var t=this.config.em;t&&t.trigger("asset:upload:start")},onUploadEnd:function(t){var e=this.$el,n=this.config.em;n&&n.trigger("asset:upload:end",t);var i=e.find("input");i&&i.val("")},onUploadError:function(t){var e=this.config.em;console.error(t),this.onUploadEnd(t),e&&e.trigger("asset:upload:error",t)},onUploadResponse:function(t,e){var n,i=this.config.em,r=this.config,o=this.target;try{n="string"==typeof t?JSON.parse(t):t}catch(e){n=t}i&&i.trigger("asset:upload:response",n),r.autoAdd&&o&&o.add(n.data,{at:0}),this.onUploadEnd(t),e&&e(n)},uploadFile:function(t,e){var n=this,i=t.dataTransfer?t.dataTransfer.files:t.target.files,r=this.config,o=r.beforeUpload;if(!1!==(o&&o(i))){var a=new FormData,s=r.params,l=r.customFetch;for(var c in s)a.append(c,s[c]);if(this.multiUpload)for(var u=0;u<i.length;u++)a.append("".concat(r.uploadName,"[]"),i[u]);else i.length&&a.append(r.uploadName,i[0]);this.target;var d=r.upload,h=r.headers,f="X-Requested-With";if(void 0===h[f]&&(h[f]="XMLHttpRequest"),d){this.onUploadStart();var p={method:"post",credentials:r.credentials||"include",headers:h,body:a};return(l?l(d,p):Object(b.a)(d,p).then(function(t){return 1==(t.status/200|0)?t.text():t.text().then(function(t){return Promise.reject(t)})})).then(function(t){return n.onUploadResponse(t,e)}).catch(function(t){return n.onUploadError(t)})}}},initDrop:function(){var t=this;!this.uploadForm&&(this.uploadForm=this.$el.find("form").get(0),"draggable"in this.uploadForm)&&(this.uploadFile,this.uploadForm.ondragover=function(){return this.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return this.className="",!1},this.uploadForm.ondrop=function(e){this.className="",e.preventDefault(),t.uploadFile(e)})},initDropzone:function(t){var e=this,n=0,i=this.config,r=t.model,o=t.el,a=r.get("Editor"),s=(r.get("Config").el,r.get("Canvas").getBody()),l=this.ppfx,c="".concat(l,"dropzone-active"),u="".concat(l,"dropzone"),d=function(){o.className=o.className.replace(c,"").trim(),n=0},h=function(){return n||(o.className+=" ".concat(c),n=1),!1},f=function(){return d(),!1},p=function(t){if(d(),t.preventDefault(),t.stopPropagation(),e.uploadFile(t),i.openAssetsOnDrop&&a){var n=a.getSelected();a.runCommand("open-assets",{target:n,onSelect:function(){a.Modal.close(),a.AssetManager.setTarget(null)}})}return!1};t.$el.append('<div class="'.concat(u,'">').concat(i.dropzoneContent,"</div>")),d(),"draggable"in o&&[o,s].forEach(function(t){t.ondragover=h,t.ondragleave=f,t.ondrop=p})},render:function(){var t=this.$el,e=this.pfx,n=this.em;return t.html(this.template({title:n&&n.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:e})),this.initDrop(),t.attr("class",e+"file-uploader"),this}},{embedAsBase64:function(t,e){var n=this,i=t.dataTransfer?t.dataTransfer.files:t.target.files,r={data:[]};if(FileReader){var o,a=[],s=/^(.+)\/(.+)$/,l=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(i);try{var c=function(){var t=o.value,e=new Promise(function(e,n){var i=new FileReader;i.addEventListener("load",function(r){var o,a=t.name,l=s.exec(t.type);if("image"===(o=l?l[1]:t.type)){var c={src:i.result,name:a,type:o,height:0,width:0},u=new Image;u.addEventListener("error",function(t){n(t)}),u.addEventListener("load",function(){c.height=u.height,c.width=u.width,e(c)}),u.src=c.src}else e(o?{src:i.result,name:a,type:o}:i.result)}),i.addEventListener("error",function(t){n(t)}),i.addEventListener("abort",function(t){n("Aborted")}),i.readAsDataURL(t)});a.push(e)};for(l.s();!(o=l.n()).done;)c()}catch(t){l.e(t)}finally{l.f()}Promise.all(a).then(function(t){r.data=t,n.onUploadResponse(r,e)},function(t){n.onUploadError(t)})}else this.onUploadError(new Error("Unsupported platform, FileReader is not defined"))}});e.default=function(){var t,e,n,r={};return{name:"AssetManager",storageKey:"assets",getConfig:function(){return r},init:function(o){var a=this;for(var s in r=o||{},i)s in r||(r[s]=i[s]);var l=r.pStylePrefix,c=r.em;l&&(r.stylePrefix=l+r.stylePrefix),t=new g([]);var u={collection:new g([]),globalCollection:t,config:r};return n=new E(u),u.fu=n,e=new y(u),t.listenTo(t,"add",function(t){a.getAllVisible().add(t),c&&c.trigger("asset:add",t)}),t.listenTo(t,"remove",function(t){a.getAllVisible().remove(t),c&&c.trigger("asset:remove",t)}),this},add:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===n.at&&(n.at=0),t.add(e,n)},get:function(e){return t.where({src:e})[0]},getAll:function(){return t},getAllVisible:function(){return e.collection},remove:function(t){var e=this.get(t);return this.getAll().remove(e),this},store:function(t){var e={},n=JSON.stringify(this.getAll().toJSON());return e[this.storageKey]=n,!t&&r.stm&&r.stm.store(e),e},load:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.storageKey,n=t[e]||[];if("string"==typeof n)try{n=JSON.parse(t[e])}catch(t){}return n&&n.length&&this.getAll().reset(n),n},getContainer:function(){return e.el},getAssetsEl:function(){return e.el.querySelector("[data-el=assets]")},render:function(t){var n=t||this.getAll().models;return e.rendered||e.render(),e.collection.reset(n),this.getContainer()},addType:function(t,e){this.getAll().addType(t,e)},getType:function(t){return this.getAll().getType(t)},getTypes:function(){return this.getAll().getTypes()},AssetsView:function(){return e},FileUploader:function(){return n},onLoad:function(){this.getAll().reset(r.assets)},postRender:function(t){r.dropzone&&n.initDropzone(t)},setTarget:function(t){e.collection.target=t},onSelect:function(t){e.collection.onSelect=t},onClick:function(t){r.onClick=t},onDblClick:function(t){r.onDblClick=t},destroy:function(){t.reset(),n.collection.reset(),n.remove(),e.remove(),[t,e,n].forEach(function(t){return null}),r={}}}}},function(t,e,n){"use strict";n.r(e);var i=n(0),r={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}]},o=n(20),a=n(2),s=n.n(a),l=n(73),c=n.n(l),u=n(1),d=n.n(u),h=n(3);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach(function(e){s()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var g=d.a.$,m=d.a.View.extend({events:{},eventCapture:["change"],appendInput:1,attributes:function(){return this.model.get("attributes")},templateLabel:function(){var t=this.ppfx,e=this.getLabel();return'<div class="'.concat(t,'label" title="').concat(e,'">').concat(e,"</div>")},templateInput:function(){var t=this.clsField;return'<div class="'.concat(t,'" data-input></div>')},initialize:function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).config,n=void 0===e?{}:e,i=this.model,r=this.eventCapture,o=i.target,a=i.attributes.type;this.config=n,this.em=n.em,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.target=o;var s=this.ppfx;this.clsField="".concat(s,"field ").concat(s,"field-").concat(a),[["change:value",this.onValueChange],["remove",this.removeView]].forEach(function(e){var n=c()(e,2),r=n[0],o=n[1];i.off(r,o),t.listenTo(i,r,o)}),i.view=this,this.listenTo(i,"change:label",this.render),this.listenTo(i,"change:placeholder",this.rerender),r.forEach(function(e){return t.events[e]="onChange"}),this.delegateEvents(),this.init()},getClbOpts:function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},removeView:function(){this.remove(),this.removed()},init:function(){},removed:function(){},onRender:function(){},onUpdate:function(){},onEvent:function(){},onChange:function(t){var e=this.getInputElem();e&&!Object(i.isUndefined)(e.value)&&this.model.set("value",e.value),this.onEvent(p(p({},this.getClbOpts()),{},{event:t}))},getValueForTarget:function(){return this.model.get("value")},setInputValue:function(t){var e=this.getInputElem();e&&(e.value=t)},onValueChange:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.fromTarget)this.setInputValue(t.get("value")),this.postUpdate();else{var i=this.getValueForTarget();t.setTargetValue(i,n)}},renderLabel:function(){var t=this.$el,e=this.target,n=this.getLabel(),i=this.templateLabel(e);this.createLabel&&(i=this.createLabel({label:n,component:e,trait:this})||""),t.find("[data-label]").append(i)},getLabel:function(){var t=this.em,e=this.model.attributes,n=e.label,i=e.name;return t.t("traitManager.traits.labels.".concat(i))||Object(h.c)(n||i).replace(/-/g," ")},getComponent:function(){return this.target},getInputEl:function(){if(!this.$input){var t=this.em,e=this.model,n=e,r=e.attributes.name,o=n.get("placeholder")||n.get("default")||"",a=n.get("type")||"text",s=n.get("min"),l=n.get("max"),c=this.getModelValue(),u=g('<input type="'.concat(a,'" placeholder="').concat(o,'">')),d=t.t("traitManager.traits.attributes.".concat(r))||{};u.attr(d),Object(i.isUndefined)(c)||(n.set({value:c},{silent:!0}),u.prop("value",c)),s&&u.prop("min",s),l&&u.prop("max",l),this.$input=u}return this.$input.get(0)},getInputElem:function(){var t=this.input,e=this.$input;return t||e&&e.get&&e.get(0)||this.getElInput()},getModelValue:function(){var t,e=this.model,n=this.target,r=e.get("name");if(e.get("changeProp"))t=n.get(r);else{var o=n.get("attributes");t=e.get("value")||o[r]}return Object(i.isUndefined)(t)?"":t},getElInput:function(){return this.elInput},renderField:function(){var t=this.$el,e=this.appendInput,n=this.model,r=t.find("[data-input]"),o=r[r.length-1],a=n.el;a||(a=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),Object(i.isString)(a)?(o.innerHTML=a,this.elInput=o.firstChild):(e?o.appendChild(a):o.insertBefore(a,o.firstChild),this.elInput=a),n.el=this.elInput},hasLabel:function(){var t=this.model.attributes.label;return!this.noLabel&&!1!==t},rerender:function(){this.model.el=null,this.render()},postUpdate:function(){this.onUpdate(this.getClbOpts())},render:function(){var t=this.$el,e=this.pfx,n=this.ppfx,r=this.model.attributes,o=r.type,a=r.id,s=this.hasLabel&&this.hasLabel(),l="".concat(e,"trait");this.$input=null;var c='<div class="'.concat(l," ").concat(l,"--").concat(o,'">\n      ').concat(s?'<div class="'.concat(n,'label-wrp" data-label></div>'):"",'\n      <div class="').concat(n,"field-wrp ").concat(n,"field-wrp--").concat(o,'" data-input>\n        ').concat(this.templateInput?Object(i.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"","\n      </div>\n    </div>");return t.empty().append(c),s&&this.renderLabel(),this.renderField(),this.el.className="".concat(l,"__wrp ").concat(l,"__wrp-").concat(a),this.postUpdate(),this.onRender(this.getClbOpts()),this}}),v=d.a.$,y=m.extend({init:function(){this.listenTo(this.model,"change:options",this.rerender)},templateInput:function(){var t=this.ppfx,e=this.clsField;return'<div class="'.concat(e,'">\n      <div data-input></div>\n      <div class="').concat(t,'sel-arrow">\n        <div class="').concat(t,'d-s-arrow"></div>\n      </div>\n    </div>')},getInputEl:function(){if(!this.$input){var t=this.model,e=this.em,n=t.get("name"),r=t.get("options")||[],o=[],a="<select>";r.forEach(function(t){var r,s,l,c="";Object(i.isString)(t)?(r=t,s=t):(r=t.name||t.label||t.value,s="".concat(Object(i.isUndefined)(t.value)?t.id:t.value).replace(/"/g,"&quot;"),c+=(l=t.style?t.style.replace(/"/g,"&quot;"):"")?' style="'.concat(l,'"'):"");var u=e.t("traitManager.traits.options.".concat(n,".").concat(s))||r;a+='<option value="'.concat(s,'"').concat(c,">").concat(u,"</option>"),o.push(s)}),a+="</select>",this.$input=v(a);var s=t.getTargetValue(),l=o.indexOf(s)>=0?s:t.get("default");!Object(i.isUndefined)(l)&&this.$input.val(l)}return this.$input.get(0)}}),b=m.extend({appendInput:0,templateInput:function(){var t=this.ppfx,e=this.clsField;return'<label class="'.concat(e,'" data-input>\n    <i class="').concat(t,'chk-icon"></i>\n  </label>')},onChange:function(){var t=this.getInputElem().checked;this.model.set("value",this.getCheckedValue(t))},getCheckedValue:function(t){var e=t,n=this.model.attributes,r=n.valueTrue,o=n.valueFalse;return e&&!Object(i.isUndefined)(r)&&(e=r),e||Object(i.isUndefined)(o)||(e=o),e},getInputEl:function(){for(var t=!this.$input,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=m.prototype.getInputEl.apply(this,n);if(t){var a,s,l=this.model,c=this.target,u=l.attributes,d=(u.valueTrue,u.valueFalse),h=l.get("name");l.get("changeProp")?s=a=c.get(h):a=!(!(s=c.get("attributes")[h])&&""!==s),Object(i.isUndefined)(d)||s!==d||(a=!1),o.checked=a}return o}}),w=n(32),E=m.extend({getValueForTarget:function(){var t=this.model,e=t.attributes,n=e.value,r=e.unit;return Object(i.isUndefined)(n)||""===n?t.get("default"):n+r},getInputEl:function(){if(!this.input){var t=this.ppfx,e=this.model,n=this.getModelValue(),i=new w.a({contClass:"".concat(t,"field-int"),type:"number",model:e,ppfx:t});this.input=i.render(),this.$input=this.input.inputEl,this.$unit=this.input.unitEl,e.set("value",n,{fromTarget:1}),this.$input.val(n),this.input=i.el}return this.input}}),C=n(38),T=m.extend({templateInput:"",getInputEl:function(){if(!this.input){var t=this.model,e=this.getModelValue(),n=new C.a({model:t,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}).render();n.setValue(e,{fromTarget:1}),this.input=n.el}return this.input}}),_=m.extend({events:{"click button":"handleClick"},templateInput:"",handleClick:function(){var t=this.model,e=this.em,n=t.get("command");n&&(Object(i.isString)(n)?e.get("Commands").run(n):n(e.get("Editor"),t))},renderLabel:function(){this.model.get("label")&&m.prototype.renderLabel.apply(this,arguments)},getInputEl:function(){var t=this.model,e=this.ppfx,n=t.props(),i=n.labelButton,r=n.text,o=n.full,a=i||r,s="".concat(e,"btn");return'<button type="button" class="'.concat(s,"-prim").concat(o?" ".concat(s,"--full"):"",'">').concat(a,"</button>")}}),O=o.a.extend({ns:"Traits",itemView:m,reuseView:1,itemsView:{text:m,number:E,select:y,checkbox:b,color:T,button:_},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.config||{};this.config=e,this.em=t.editor,this.pfx=e.stylePrefix||"",this.ppfx=e.pStylePrefix||"",this.className=this.pfx+"traits";this.listenTo(this.em,"component:toggled",this.updatedCollection),this.updatedCollection()},updatedCollection:function(){var t=this.ppfx,e=this.em.getSelected();this.el.className="".concat(this.className," ").concat(t,"one-bg ").concat(t,"two-color"),this.collection=e?e.get("traits"):[],this.render()}});e.default=function(){var t,e={};return{TraitsView:O,name:"TraitManager",getConfig:function(){return e},init:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=n,Object(i.defaults)(e,r);var o=e.pStylePrefix;return o&&(e.stylePrefix="".concat(o).concat(e.stylePrefix)),t=new O({collection:[],editor:e.em,config:e}),this},postRender:function(){var t=this.getConfig().appendTo;t&&(Object(i.isElement)(t)?t:document.querySelector(t)).appendChild(this.render())},getTraitsViewer:function(){return t},addType:function(e,n){var i=t.itemView;t.itemsView[e]=i.extend(n)},getType:function(e){return t.itemsView[e]},render:function(){return t.render().el},destroy:function(){t.remove(),[e,t].forEach(function(t){return{}})}}}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),o=n(0),a={appendTo:"",appendOnClick:0,blocks:[]},s=n(1),l=n.n(s),c=l.a.Model.extend({defaults:{activate:0,select:0,resetId:0,label:"",disable:0,media:"",content:"",category:"",attributes:{}}}),u=l.a.Collection.extend({model:c}),d=l.a.Model.extend({defaults:{id:"",label:"",open:!0,attributes:{}}}),h=l.a.Collection.extend({model:d}),f=n(3),p=l.a.View.extend({events:{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"},initialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.model;this.em=e.em,this.config=e,this.endDrag=this.endDrag.bind(this),this.ppfx=e.pStylePrefix||"",this.listenTo(n,"destroy remove",this.remove),this.listenTo(n,"change",this.render)},handleClick:function(){var t=this.config,e=this.model,n=this.em;if(t.appendOnClick){var i,r=t.getSorter(),o=e.get("content"),a=n.getSelected();if(r.setDropContent(o),a)if(r.validTarget(a.getEl(),o).valid)i=a;else{var s=a.parent();r.validTarget(s.getEl(),o).valid&&(i=s)}if(!i){var l=n.getWrapper();r.validTarget(l.getEl(),o).valid&&(i=l)}var c=i&&i.append(o)[0];c&&n.setSelected(c,{scroll:1})}},startDrag:function(t){var e=this.config,n=this.em,i=this.model.get("disable");if(0===t.button&&e.getSorter&&!this.el.draggable&&!i){n.refreshCanvas();var r=e.getSorter();r.setDragHelper(this.el,t),r.setDropContent(this.model.get("content")),r.startSort(this.el),Object(f.w)(document,"mouseup",this.endDrag)}},handleDragStart:function(t){var e=this.em,n=this.model,i=n.get("content"),r=Object(o.isObject)(i)?JSON.stringify(i):i;e.set("dragResult"),t.dataTransfer.setData("text",r),e.set("dragContent",i),e.trigger("block:drag:start",n,t)},handleDrag:function(t){this.em.trigger("block:drag",this.model,t)},handleDragEnd:function(){var t=this.em,e=this.model,n=t.get("dragResult");if(n){var i="activeOnRender",r=n.get&&n.get(i);(e.get("activate")||r)&&(n.trigger("active"),n.unset(i)),e.get("select")&&t.setSelected(n),e.get("resetId")&&n.onAll(function(t){return t.resetId()})}t.set({dragResult:null,dragContent:null}),t.trigger("block:drag:stop",n,e)},endDrag:function(t){Object(f.v)(document,"mouseup",this.endDrag);var e=this.config.getSorter();e.moved=0,e.endMove()},render:function(){var t=this.em,e=this.el,n=this.$el,i=this.ppfx,r=this.model,o=r.get("disable"),a=r.get("attributes")||{},s=a.class||"",l="".concat(i,"block"),c=t&&t.t("blockManager.labels.".concat(r.id))||r.get("label"),u=r.get("render"),d=r.get("media"),h=o?"".concat(l,"--disable"):"".concat(i,"four-color-h");n.attr(a),e.className="".concat(s," ").concat(l," ").concat(i,"one-bg ").concat(h).trim(),e.innerHTML="\n      ".concat(d?'<div class="'.concat(l,'__media">').concat(d,"</div>"):"",'\n      <div class="').concat(l,'-label">').concat(c,"</div>\n    "),e.title=e.textContent.trim(),e.setAttribute("draggable",!(!Object(f.k)(t)||o));var p=u&&u({el:e,model:r,className:l,prefix:i});return p&&(e.innerHTML=p),this}}),g=l.a.View.extend({template:Object(o.template)('\n  <div class="<%= pfx %>title">\n    <i class="<%= pfx %>caret-icon"></i>\n    <%= label %>\n  </div>\n  <div class="<%= pfx %>blocks-c"></div>\n  '),events:{},attributes:function(){return this.model.get("attributes")},initialize:function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=t;var e=t.pStylePrefix||"";this.em=t.em,this.pfx=e,this.caretR="fa fa-caret-right",this.caretD="fa fa-caret-down",this.iconClass="".concat(e,"caret-icon"),this.activeClass="".concat(e,"open"),this.className="".concat(e,"block-category"),this.events["click .".concat(e,"title")]="toggle",this.listenTo(this.model,"change:open",this.updateVisibility),this.delegateEvents(),this.model.view=this},updateVisibility:function(){this.model.get("open")?this.open():this.close()},open:function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getBlocksEl().style.display=""},close:function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getBlocksEl().style.display="none"},toggle:function(){var t=this.model;t.set("open",!t.get("open"))},getIconEl:function(){return this.iconEl||(this.iconEl=this.el.querySelector("."+this.iconClass)),this.iconEl},getBlocksEl:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector("."+this.pfx+"blocks-c")),this.blocksEl},append:function(t){this.getBlocksEl().appendChild(t)},render:function(){var t=this.em,e=this.el,n=this.$el,i=this.model,r=t.t("blockManager.categories.".concat(i.id))||i.get("label");return e.innerHTML=this.template({pfx:this.pfx,label:r}),n.addClass(this.className),n.css({order:i.get("order")}),this.updateVisibility(),this}});function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var y=l.a.View.extend({initialize:function(t,e){Object(o.bindAll)(this,"getSorter","onDrag","onDrop"),this.config=e||{},this.categories=t.categories||"",this.renderedCategories=[];var n=this.config.pStylePrefix||"";this.ppfx=n,this.noCatClass="".concat(n,"blocks-no-cat"),this.blockContClass="".concat(n,"blocks-c"),this.catsClass="".concat(n,"block-categories");var i=this.collection;this.listenTo(i,"add",this.addTo),this.listenTo(i,"reset",this.render),this.em=this.config.em,this.tac="test-tac",this.grabbingCls=this.ppfx+"grabbing",this.em&&(this.config.getSorter=this.getSorter,this.canvas=this.em.get("Canvas"))},updateConfig:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=v(v({},this.config),t)},getSorter:function(){if(this.em){if(!this.sorter){var t=this.em.get("Utils"),e=this.canvas;this.sorter=new t.Sorter({container:e.getBody(),placer:e.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:e.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:this.em,canvasRelative:1})}return this.sorter}},onDrag:function(t){this.em.stopDefault(),this.em.trigger("block:drag:start",t)},onMove:function(t){this.em.trigger("block:drag:move",t)},onDrop:function(t){var e=this.em;if(e.runDefault(),t&&t.get){var n="activeOnRender";t.get(n)&&(t.trigger("active"),t.unset(n)),e.trigger("block:drag:stop",t)}},addTo:function(t){this.add(t)},add:function(t,e){var n=this.config,i=e||null,r=new p({model:t,attributes:t.get("attributes")},n).render().el,a=t.get("category");if(a&&this.categories&&!n.ignoreCategories){Object(o.isString)(a)?a={id:a,label:a}:Object(o.isObject)(a)&&!a.id&&(a.id=a.label);var s=this.categories.add(a),l=s.get("id"),c=this.renderedCategories[l],u=this.getCategoriesEl();return t.set("category",s,{silent:!0}),!c&&u&&(c=new g({model:s},this.config).render(),this.renderedCategories[l]=c,u.appendChild(c.el)),void(c&&c.append(r))}i?i.appendChild(r):this.append(r)},getCategoriesEl:function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},getBlocksEl:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},append:function(t){var e=this.getBlocksEl();e&&e.appendChild(t)},render:function(){var t=this,e=this.ppfx,n=document.createDocumentFragment();this.catsEl=null,this.blocksEl=null,this.renderedCategories=[],this.el.innerHTML='\n      <div class="'.concat(this.catsClass,'"></div>\n      <div class="').concat(this.noCatClass,'">\n        <div class="').concat(this.blockContClass,'"></div>\n      </div>\n    '),this.collection.each(function(e){return t.add(e,n)}),this.append(n);var i="".concat(this.blockContClass,"s ").concat(e,"one-bg ").concat(e,"two-color");return this.$el.addClass(i),this.rendered=!0,this}});function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e.default=function(){var t,e,n,i={},r=[];return{name:"BlockManager",init:function(n){var o=(i=n||{}).em;for(var s in a)s in i||(i[s]=a[s]);return t=new u([]),e=new u([]),r=new h,t.listenTo(t,"add",function(t){e.add(t),o&&o.trigger("block:add",t)}),t.listenTo(t,"remove",function(t){e.remove(t),o&&o.trigger("block:remove",t)}),t.listenTo(t,"reset",function(t){e.reset(t.models)}),this},getConfig:function(){return i},onLoad:function(){var t=this.getAll();!t.length&&t.reset(i.blocks)},postRender:function(){n=new y({collection:e,categories:r},i);var t=this.getConfig().appendTo;t&&(Object(o.isElement)(t)?t:document.querySelector(t)).appendChild(this.render(e.models))},add:function(e,n){var i=n||{};return i.id=e,t.add(i)},get:function(e){return t.get(e)},getAll:function(){return t},getAllVisible:function(){return e},remove:function(e){return t.remove(e)},getCategories:function(){return r},getContainer:function(){return n.el},render:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t||this.getAll().models;if(e.external){var a=new u(o);return new y({collection:a,categories:r},w(w({},i),e)).render().el}return n&&(n.updateConfig(e),n.collection.reset(o),n.rendered||(n.render(),n.rendered=1)),this.getContainer()},destroy:function(){t.reset(),t.stopListening(),e.reset(),r.reset(),n&&n.remove(),[t,e,r,n].forEach(function(t){return null}),i={}}}}},function(t,e,n){"use strict";n.r(e);var i="sw-visibility",r="export-template",o="open-sm",a="open-tm",s="open-layers",l="open-blocks",c="fullscreen",u="preview",d={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:i,className:"fa fa-square-o",command:i,context:i,attributes:{title:"View components"}},{id:u,className:"fa fa-eye",command:u,context:u,attributes:{title:"Preview"}},{id:c,className:"fa fa-arrows-alt",command:c,context:c,attributes:{title:"Fullscreen"}},{id:r,className:"fa fa-code",command:r,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:o,className:"fa fa-paint-brush",command:o,active:!0,togglable:0,attributes:{title:"Open Style Manager"}},{id:a,className:"fa fa-cog",command:a,togglable:0,attributes:{title:"Settings"}},{id:s,className:"fa fa-bars",command:s,togglable:0,attributes:{title:"Open Layer Manager"}},{id:l,className:"fa fa-th-large",command:l,togglable:0,attributes:{title:"Open Blocks"}}]}],em:null,delayBtnsShow:300},h=n(1),f=n.n(h),p=n(41),g=f.a.Model.extend({defaults:{id:"",content:"",visible:!0,buttons:[],attributes:{}},initialize:function(t){this.btn=this.get("buttons")||[],this.buttons=new p.default(this.btn),this.set("buttons",this.buttons)}}),m=f.a.Collection.extend({model:g}),v=n(2),y=n.n(v),b=n(0);function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach(function(e){y()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}f.a.$;var C=f.a.View.extend({tagName:function(){return this.model.get("tagName")},events:{click:"clicked"},initialize:function(t){var e=this.model.get("className");this.config=t.config||{},this.em=this.config.em||{};var n=this.config.stylePrefix||"",i=this.config.pStylePrefix||"";this.pfx=n,this.ppfx=this.config.pStylePrefix||"",this.id=n+this.model.get("id"),this.activeCls="".concat(n,"active ").concat(i,"four-color"),this.disableCls="".concat(i,"disabled"),this.btnsVisCls="".concat(n,"visible"),this.className=n+"btn"+(e?" "+e:""),this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"change:active updateActive",this.updateActive),this.listenTo(this.model,"checkActive",this.checkActive),this.listenTo(this.model,"change:bntsVis",this.updateBtnsVis),this.listenTo(this.model,"change:attributes",this.updateAttributes),this.listenTo(this.model,"change:className",this.updateClassName),this.listenTo(this.model,"change:disable",this.updateDisable),this.em&&this.em.get&&(this.commands=this.em.get("Commands"))},updateClassName:function(){var t=this.model,e=this.pfx,n=t.get("className"),i=t.get("attributes").class,r="".concat(i||""," ").concat(e,"btn ").concat(n||"");this.$el.attr("class",r.trim())},updateAttributes:function(){var t=this.em,e=this.model,n=this.$el,i=e.get("attributes")||{},r=t&&t.t&&t.t("panels.buttons.titles.".concat(e.id));n.attr(i),r&&n.attr({title:r}),this.updateClassName()},updateBtnsVis:function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},updateActive:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.model,n=this.commands,i=this.$el,r=this.activeCls,o=t.fromCollection,a=e.get("context"),s=e.get("options"),l=e.get("command"),c={};l&&(n&&Object(b.isString)(l)?c=n.get(l)||{}:Object(b.isFunction)(l)?c=n.create({run:l}):null!==l&&Object(b.isObject)(l)&&(c=n.create(l)),e.get("active")?(!o&&e.collection.deactivateAll(a,e),e.set("active",!0,{silent:!0}).trigger("checkActive"),n.runCommand(c,E(E({},s),{},{sender:e})),c.noStop&&e.set("active",!1)):(i.removeClass(r),n.stopCommand(c,E(E({},s),{},{sender:e,force:1}))))},updateDisable:function(){var t=this.disableCls,e=this.model.get("disable");this.$el[e?"addClass":"removeClass"](t)},checkActive:function(){var t=this.model,e=this.$el,n=this.activeCls;t.get("active")?e.addClass(n):e.removeClass(n)},clicked:function(t){var e=this.model;e.get("bntsVis")||e.get("disable")||!e.get("command")||this.toggleActive()},toggleActive:function(){var t=this.model,e=this.em,n=t.attributes,i=n.active,r=n.togglable;i&&!r||(t.set("active",!i),i?t.get("runDefaultCommand")&&e.runDefault():t.get("stopDefaultCommand")&&e.stopDefault())},render:function(){var t=this.model,e=t.get("label"),n=this.$el;return!t.get("el")&&n.empty(),this.updateAttributes(),e&&n.append(e),this.checkActive(),this.updateDisable(),this}}),T=f.a.View.extend({initialize:function(t){this.opt=t||{},this.config=this.opt.config||{},this.pfx=this.config.stylePrefix||"",this.parentM=this.opt.parentM||null,this.listenTo(this.collection,"add",this.addTo),this.listenTo(this.collection,"reset remove",this.render),this.className=this.pfx+"buttons"},addTo:function(t){this.addToCollection(t)},addToCollection:function(t,e){var n=e||null,i=new C({el:t.get("el"),model:t,config:this.config,parentM:this.parentM}).render().el;return n?n.appendChild(i):this.$el.append(i),i},render:function(){var t=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(e){this.addToCollection(e,t)},this),this.$el.append(t),this.$el.attr("class",Object(b.result)(this,"className")),this}});function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}var O=f.a.View.extend({initialize:function(t){var e=t.config||{},n=this.model;this.config=e,this.pfx=e.stylePrefix||"",this.ppfx=e.pStylePrefix||"",this.buttons=n.get("buttons"),this.className=this.pfx+"panel",this.id=this.pfx+n.get("id"),this.listenTo(n,"change:appendContent",this.appendContent),this.listenTo(n,"change:content",this.updateContent),this.listenTo(n,"change:visible",this.toggleVisible),n.view=this},appendContent:function(){this.$el.append(this.model.get("appendContent"))},updateContent:function(){this.$el.html(this.model.get("content"))},toggleVisible:function(){this.model.get("visible")?this.$el.removeClass("".concat(this.ppfx,"hidden")):this.$el.addClass("".concat(this.ppfx,"hidden"))},attributes:function(){return this.model.get("attributes")},initResize:function(){var t=this.config.em,e=t?t.get("Editor"):"",n=this.model.get("resizable");if(e&&n){var i,r,o,a=!0===n?[1,1,1,1]:n,s=a.length,l=0;2==s?(i=a[0],o=a[0],r=a[1],l=a[1]):4==s&&(i=a[0],r=a[1],o=a[2],l=a[3]);var c=e.Utils.Resizer.init(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach(function(e){y()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({tc:i,cr:r,bc:o,cl:l,tl:0,tr:0,bl:0,br:0,appendTo:this.el,silentFrames:1,avoidContainerUpdate:1,prefix:e.getConfig().stylePrefix,onEnd:function(){t&&t.trigger("change:canvasOffset")},posFetcher:function(t,e){var n=e.target,i=t.style,r=c.getConfig(),o=r.keyWidth,a=r.keyHeight,s=t.getBoundingClientRect(),l="container"==n,u=i[o],d=i[a];return{left:0,top:0,width:u&&!l?parseFloat(u):s.width,height:d&&!l?parseFloat(d):s.height}}},n));c.blur=function(){},c.focus(this.el)}},render:function(){var t=this.$el,e=this.ppfx,n="".concat(this.className," ").concat(this.id," ").concat(e,"one-bg ").concat(e,"two-color");if(t.addClass(n),this.buttons.length){var i=new T({collection:this.buttons,config:this.config});t.append(i.render().el)}return t.append(this.model.get("content")),this}}),k=f.a.View.extend({initialize:function(t){this.opt=t||{},this.config=this.opt.config||{},this.pfx=this.config.stylePrefix||"";var e=this.collection;this.listenTo(e,"add",this.addTo),this.listenTo(e,"reset",this.render),this.listenTo(e,"remove",this.onRemove),this.className=this.pfx+"panels"},onRemove:function(t){var e=t.view;e&&e.remove()},addTo:function(t){this.addToCollection(t)},addToCollection:function(t,e){var n=e||null,i=this.config,r=t.get("el"),o=new O({el:r,model:t,config:i}),a=o.render().el,s=t.get("appendTo");return r||(s?document.querySelector(s).appendChild(a):n?n.appendChild(a):this.$el.append(a)),o.initResize(),a},render:function(){var t=this,e=this.$el,n=document.createDocumentFragment();return e.empty(),this.collection.each(function(e){return t.addToCollection(e,n)}),e.append(n),e.attr("class",this.className),this}});e.default=function(){var t,e,n={};return{name:"Panels",init:function(i){for(var r in n=i||{},d)r in n||(n[r]=d[r]);var o=n.pStylePrefix;return o&&(n.stylePrefix=o+n.stylePrefix),t=new m(n.defaults),e=new k({collection:t,config:n}),this},getPanels:function(){return t},getPanelsEl:function(){return e.el},addPanel:function(e){return t.add(e)},removePanel:function(e){return t.remove(e)},getPanel:function(e){var n=t.where({id:e});return n.length?n[0]:null},addButton:function(t,e){var n=this.getPanel(t);return n?n.get("buttons").add(e):null},removeButton:function(t,e){var n=this.getPanel(t);return n&&n.get("buttons").remove(e)},getButton:function(t,e){var n=this.getPanel(t);if(n){var i=n.get("buttons").where({id:e});return i.length?i[0]:null}return null},render:function(){return e.render().el},active:function(){this.getPanels().each(function(t){t.get("buttons").each(function(t){t.get("active")&&t.trigger("updateActive")})})},disableButtons:function(){this.getPanels().each(function(t){t.get("buttons").each(function(t){t.get("disable")&&t.trigger("change:disable")})})},destroy:function(){t.reset(),t.stopListening(),e.remove(),[n,t,e].forEach(function(t){return{}})},Panel:g}}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),o=n(0),a={stylePrefix:"sm-",sectors:[],appendTo:"",hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:0,avoidComputed:["width","height"]},s=n(1),l=n.n(s),c=n(24),u=function(){return{build:function(t){var e=[];"string"==typeof t&&(t=[t]);for(var n=0,i=t.length;n<i;n++){var r={},o=t[n];switch(r.property=o,o){case"border-radius-c":r.property="border-radius"}switch(o){case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"width":case"max-width":case"min-width":case"height":case"max-height":case"min-height":case"flex-basis":r.fixedValues=["initial","inherit","auto"];break;case"font-size":r.fixedValues=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"];break;case"letter-spacing":case"line-height":r.fixedValues=["normal","initial","inherit"]}switch(o){case"float":case"position":case"text-align":r.type="radio";break;case"display":case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":case"align-self":case"font-family":case"font-weight":case"border-style":case"box-shadow-type":case"background-repeat":case"background-position":case"background-attachment":case"background-size":case"transition-property":case"transition-timing-function":case"cursor":case"overflow":case"overflow-x":case"overflow-y":r.type="select";break;case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"letter-spacing":case"line-height":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-h":case"box-shadow-v":case"box-shadow-blur":case"box-shadow-spread":case"transition-duration":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"order":case"flex-grow":case"flex-shrink":case"flex-basis":r.type="integer";break;case"margin":case"padding":case"border-radius":case"border":case"transform":r.type="composite";break;case"color":case"text-shadow-color":case"background-color":case"border-color":case"box-shadow-color":r.type="color";break;case"text-shadow":case"box-shadow":case"background":case"transition":r.type="stack";break;case"background-image":r.type="file"}switch(o){case"float":case"background-color":case"text-shadow":r.defaults="none";break;case"display":r.defaults="block";break;case"flex-direction":r.defaults="row";break;case"flex-wrap":r.defaults="nowrap";break;case"justify-content":r.defaults="flex-start";break;case"align-items":case"align-content":r.defaults="stretch";break;case"align-self":r.defaults="auto";break;case"position":r.defaults="static";break;case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"box-shadow-h":case"box-shadow-v":case"box-shadow-spread":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"order":case"flex-grow":r.defaults=0;break;case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":r.defaults="0px";break;case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"flex-shrink":r.defaults=1;break;case"box-shadow-blur":r.defaults="5px";break;case"top":case"right":case"bottom":case"left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"background-size":case"cursor":case"flex-basis":r.defaults="auto";break;case"font-family":r.defaults="Arial, Helvetica, sans-serif";break;case"font-size":case"border-width":r.defaults="medium";break;case"font-weight":r.defaults="400";break;case"letter-spacing":case"line-height":r.defaults="normal";break;case"color":case"text-shadow-color":case"border-color":case"box-shadow-color":r.defaults="black";break;case"text-align":r.defaults="left";break;case"border-style":r.defaults="solid";break;case"box-shadow-type":r.defaults="";break;case"background-repeat":r.defaults="repeat";break;case"background-position":r.defaults="left top";break;case"background-attachment":r.defaults="scroll";break;case"transition-property":r.defaults="width";break;case"transition-duration":r.defaults="2";break;case"transition-timing-function":r.defaults="ease";break;case"overflow":case"overflow-x":case"overflow-y":r.defaults="visible"}switch(o){case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":r.requires={display:["flex"]};break;case"order":case"flex-basis":case"flex-grow":case"flex-shrink":case"align-self":r.requiresParent={display:["flex"]}}switch(o){case"top":case"bottom":case"margin-top":case"margin-bottom":case"padding-top":case"padding-bottom":case"min-height":case"max-height":case"height":r.units=["px","%","vh"];break;case"right":case"left":case"margin-right":case"margin-left":case"padding-right":case"padding-left":case"min-width":case"max-width":case"width":r.units=["px","%","vw"];break;case"flex-basis":r.units=["px","%","vw","vh"];break;case"text-shadow-v":case"text-shadow-h":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"box-shadow-h":case"box-shadow-v":r.units=["px","%"];break;case"font-size":case"letter-spacing":case"line-height":r.units=["px","em","rem","%"];break;case"border-width":r.units=["px","em"];break;case"box-shadow-blur":case"box-shadow-spread":case"perspective":r.units=["px"];break;case"transition-duration":r.units=["s"];break;case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":r.units=["deg"]}switch(o){case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-blur":case"transition-duration":case"perspective":case"flex-basis":r.min=0}switch(o){case"text-shadow":case"box-shadow":case"background":r.preview=!0}switch(o){case"background":r.detached=!0}switch(o){case"transform-rotate-x":r.functionName="rotateX";break;case"transform-rotate-y":r.functionName="rotateY";break;case"transform-rotate-z":r.functionName="rotateZ";break;case"transform-scale-x":r.functionName="scaleX";break;case"transform-scale-y":r.functionName="scaleY";break;case"transform-scale-z":r.functionName="scaleZ";break;case"background-image":r.functionName="url"}switch(o){case"float":r.list=[{value:"none"},{value:"left"},{value:"right"}];break;case"display":r.list=[{value:"block"},{value:"inline"},{value:"inline-block"},{value:"flex"},{value:"none"}];break;case"flex-direction":r.list=[{value:"row"},{value:"row-reverse"},{value:"column"},{value:"column-reverse"}];break;case"flex-wrap":r.list=[{value:"nowrap"},{value:"wrap"},{value:"wrap-reverse"}];break;case"justify-content":r.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"space-evenly"}];break;case"align-items":r.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"align-content":r.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"stretch"}];break;case"align-self":r.list=[{value:"auto"},{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"position":r.list=[{value:"static"},{value:"relative"},{value:"absolute"},{value:"fixed"}];break;case"font-family":var a=", sans-serif",s=["Arial, Helvetica"+a,"Arial Black, Gadget"+a,"Brush Script MT"+a,"Comic Sans MS, cursive"+a,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+a,"Impact, Charcoal"+a,"Lucida Sans Unicode, Lucida Grande"+a,"Tahoma, Geneva"+a,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+a,"Verdana, Geneva"+a];r.list=[];for(var l=0,c=s.length;l<c;l++){var u={};u.value=s[l],u.name=s[l].split(",")[0],r.list.push(u)}break;case"font-weight":r.list=[{value:"100",name:"Thin"},{value:"200",name:"Extra-Light"},{value:"300",name:"Light"},{value:"400",name:"Normal"},{value:"500",name:"Medium"},{value:"600",name:"Semi-Bold"},{value:"700",name:"Bold"},{value:"800",name:"Extra-Bold"},{value:"900",name:"Ultra-Bold"}];break;case"text-align":r.list=[{value:"left"},{value:"center"},{value:"right"},{value:"justify"}];break;case"border-style":r.list=[{value:"none"},{value:"solid"},{value:"dotted"},{value:"dashed"},{value:"double"},{value:"groove"},{value:"ridge"},{value:"inset"},{value:"outset"}];break;case"box-shadow-type":r.list=[{value:"",name:"Outside"},{value:"inset",name:"Inside"}];break;case"background-repeat":r.list=[{value:"repeat"},{value:"repeat-x"},{value:"repeat-y"},{value:"no-repeat"}];break;case"background-position":r.list=[{value:"left top"},{value:"left center"},{value:"left bottom"},{value:"right top"},{value:"right center"},{value:"right bottom"},{value:"center top"},{value:"center center"},{value:"center bottom"}];break;case"background-attachment":r.list=[{value:"scroll"},{value:"fixed"},{value:"local"}];break;case"background-size":r.list=[{value:"auto"},{value:"cover"},{value:"contain"}];break;case"transition-property":r.list=[{value:"all"},{value:"width"},{value:"height"},{value:"background-color"},{value:"transform"},{value:"box-shadow"},{value:"opacity"}];break;case"transition-timing-function":r.list=[{value:"linear"},{value:"ease"},{value:"ease-in"},{value:"ease-out"},{value:"ease-in-out"}];break;case"cursor":r.list=[{value:"auto"},{value:"pointer"},{value:"copy"},{value:"crosshair"},{value:"grab"},{value:"grabbing"},{value:"help"},{value:"move"},{value:"text"}];break;case"overflow":case"overflow-x":case"overflow-y":r.list=[{value:"visible"},{value:"hidden"},{value:"scroll"},{value:"auto"}]}switch(o){case"margin":r.properties=this.build(["margin-top","margin-right","margin-bottom","margin-left"]);break;case"padding":r.properties=this.build(["padding-top","padding-right","padding-bottom","padding-left"]);break;case"text-shadow":r.properties=this.build(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"]);break;case"border":r.properties=this.build(["border-width","border-style","border-color"]);break;case"border-radius":r.properties=this.build(["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"]);break;case"box-shadow":r.properties=this.build(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"]);break;case"background":r.properties=this.build(["background-image","background-repeat","background-position","background-attachment","background-size"]);break;case"transition":r.properties=this.build(["transition-property","transition-duration","transition-timing-function"]);break;case"transform":r.properties=this.build(["transform-rotate-x","transform-rotate-y","transform-rotate-z","transform-scale-x","transform-scale-y","transform-scale-z"])}e.push(r)}return e}}},d=l.a.Model.extend({defaults:{id:"",name:"",open:!0,buildProps:"",extendBuilded:1,properties:[]},initialize:function(t){var e,n=t||{},i=this.buildProperties(n.buildProps),r=this.get("name")||"";!this.get("id")&&this.set("id",r.replace(/ /g,"_").toLowerCase()),e=i?this.extendProperties(i):this.get("properties");var o=new c.default(e);o.sector=this,this.set("properties",o)},extendProperties:function(t,e,n){for(var i=t.length,r=e||this.get("properties"),a=this.get("extendBuilded"),s=[],l=0,c=r.length;l<c;l++){for(var u=r[l],d=0,h=0;h<i;h++){var f=t[h];if(u.property!=f.property&&u.id!=f.property);else{var p=u.properties;p&&p.length&&(u.properties=this.extendProperties(f.properties||[],p,1)),t[h]=a?Object(o.extend)(f,u):u,s[h]=t[h],d=1}}d||(t.push(u),s.push(u))}return n?s.filter(function(t){return t}):t},buildProperties:function(t){var e=t||[];if(e.length)return this.propFactory||(this.propFactory=new u),this.propFactory.build(e)}}),h=l.a.Collection.extend({model:d,initialize:function(){this.listenTo(this,"reset",this.onReset)},onReset:function(t){((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).previousModels||[]).forEach(function(t){return t.get("properties").reset()})}}),f=n(3),p=n(9),g=n(19),m=l.a.View.extend({template:Object(o.template)('\n  <div class="<%= pfx %>title" data-sector-title>\n    <i id="<%= pfx %>caret" class="fa"></i>\n    <%= label %>\n  </div>'),events:{"click [data-sector-title]":"toggle"},initialize:function(t){this.config=t.config||{},this.em=this.config.em,this.pfx=this.config.stylePrefix||"",this.target=t.target||{},this.propTarget=t.propTarget||{},this.caretR="fa-caret-right",this.caretD="fa-caret-down";var e=this.model;this.listenTo(e,"change:open",this.updateOpen),this.listenTo(e,"updateVisibility",this.updateVisibility),this.listenTo(e,"destroy remove",this.remove)},updateVisibility:function(){var t;this.model.get("properties").each(function(e){e.get("visible")&&(t=1)}),this.el.style.display=t?"":"none"},updateOpen:function(){this.model.get("open")?this.show():this.hide()},show:function(){this.$el.addClass(this.pfx+"open"),this.getPropertiesEl().style.display="",this.$caret.removeClass(this.caretR).addClass(this.caretD)},hide:function(){this.$el.removeClass(this.pfx+"open"),this.getPropertiesEl().style.display="none",this.$caret.removeClass(this.caretD).addClass(this.caretR)},getPropertiesEl:function(){return this.$el.find(".".concat(this.pfx,"properties")).get(0)},toggle:function(t){var e=this.model.get("open")?0:1;this.model.set("open",e)},render:function(){var t=this.pfx,e=this.model,n=this.em,i=this.$el,r=e.attributes,o=r.id,a=r.name,s=n&&n.t("styleManager.sectors.".concat(o))||a;return i.html(this.template({pfx:t,label:s})),this.$caret=i.find("#".concat(t,"caret")),this.renderProperties(),i.attr("class","".concat(t,"sector ").concat(t,"sector__").concat(o," no-select")),this.updateOpen(),this},renderProperties:function(){var t=this.model.get("properties");if(t){var e=new g.default({collection:t,target:this.target,propTarget:this.propTarget,config:this.config});this.$el.append(e.render().el)}}});function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var b="hc-state",w=l.a.View.extend({initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.config||{};this.pfx=e.stylePrefix||"",this.ppfx=e.pStylePrefix||"",this.target=t.target||{},this.config=e;var n={};Object(o.extend)(n,l.a.Events);var i=document.body,r=document.createElement("el-".concat((new Date).getTime()));i.appendChild(r),n.computedDefault=y({},window.getComputedStyle(r)),i.removeChild(r),this.propTarget=n;var a=this.collection;this.listenTo(a,"add",this.addTo),this.listenTo(a,"reset",this.render),this.listenTo(this.target,"component:toggled component:update:classes change:state change:device frame:resized",this.targetUpdated)},remove:function(){var t=this;l.a.View.prototype.remove.apply(this,arguments),["target","config","propTarget"].forEach(function(e){return t[e]={}})},addTo:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.addToCollection(t,null,n)},toggleStateCls:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;t.forEach(function(t){var n=t.getEl();n&&n.classList&&n.classList[e?"add":"remove"](b)})},targetUpdated:function(t){var e=this.target,n=this.propTarget,i=e.getSelectedAll(),r=e.getSelected(),o=t&&t.toHTML?t:r;if(o&&this.toggleStateCls([o]),r){var a=e.get("Config").devicePreviewMode?"":e.get("state"),s=e.get("SelectorManager").getConfig().componentFirst,l=r.getEl();if(n.helper=null,n.targets=null,l&&Object(f.r)(l)){var c=a?":".concat(a):null;n.computed=window.getComputedStyle(l,c)}var u=e.get("StyleManager");r=u.getModelToStyle(r),a&&(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.get("CssComposer"),r=i.getAll(),o=i.getClassRule(b);o?(r.remove(o),r.add(o)):o=i.setClassRule(b),o.set("important",1),o.setStyle(t),n.helper=o}(r.getStyle()),this.toggleStateCls(i,1)),n.model=r,s&&(n.targets=i.map(function(t){return u.getModelToStyle(t)}).filter(Boolean)),n.trigger("update")}},setTarget:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.target,i=Object(o.isArray)(t)?t:[t],r=e.targetIsClass,a=e.stylable,s=[];i.forEach(function(t){var e=t;if(Object(o.isString)(t)){var i,l=n.get("CssComposer").getAll();r&&(i=l.filter(function(e){return e.get("selectors").getFullString()===t})[0]),i||(i=l.filter(function(e){return e.get("selectorsAdd")===t})[0]),i||(i=l.add({selectors:[],selectorsAdd:t})),a&&i.set({stylable:a}),e=i}s.push(e)});var l=this.propTarget;return l.targets=s,l.trigger("update",{targets:s}),s},addToCollection:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.pfx,r=this.target,o=this.propTarget,a=this.config,s=this.el,l=e||s,c=new m({model:t,id:"".concat(i).concat(t.get("id")),name:t.get("name"),properties:t.get("properties"),target:r,propTarget:o,config:a}).render().el;return Object(p.b)(l,c,n.at),c},render:function(){var t=this,e=document.createDocumentFragment(),n=this.$el,i=this.pfx,r=this.ppfx;return n.empty(),this.collection.each(function(n){return t.addToCollection(n,e)}),n.append(e),n.addClass("".concat(i,"sectors ").concat(r,"one-bg ").concat(r,"two-color")),this}});function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e.default=function(){var t,e,n,i={};return{PropertyFactory:{build:function(t){var e=[];"string"==typeof t&&(t=[t]);for(var n=0,i=t.length;n<i;n++){var r={},o=t[n];switch(r.property=o,o){case"border-radius-c":r.property="border-radius"}switch(o){case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"width":case"max-width":case"min-width":case"height":case"max-height":case"min-height":case"flex-basis":r.fixedValues=["initial","inherit","auto"];break;case"font-size":r.fixedValues=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"];break;case"letter-spacing":case"line-height":r.fixedValues=["normal","initial","inherit"]}switch(o){case"float":case"position":case"text-align":r.type="radio";break;case"display":case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":case"align-self":case"font-family":case"font-weight":case"border-style":case"box-shadow-type":case"background-repeat":case"background-position":case"background-attachment":case"background-size":case"transition-property":case"transition-timing-function":case"cursor":case"overflow":case"overflow-x":case"overflow-y":r.type="select";break;case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"letter-spacing":case"line-height":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-h":case"box-shadow-v":case"box-shadow-blur":case"box-shadow-spread":case"transition-duration":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"order":case"flex-grow":case"flex-shrink":case"flex-basis":r.type="integer";break;case"margin":case"padding":case"border-radius":case"border":case"transform":r.type="composite";break;case"color":case"text-shadow-color":case"background-color":case"border-color":case"box-shadow-color":r.type="color";break;case"text-shadow":case"box-shadow":case"background":case"transition":r.type="stack";break;case"background-image":r.type="file"}switch(o){case"float":case"background-color":case"text-shadow":r.defaults="none";break;case"display":r.defaults="block";break;case"flex-direction":r.defaults="row";break;case"flex-wrap":r.defaults="nowrap";break;case"justify-content":r.defaults="flex-start";break;case"align-items":case"align-content":r.defaults="stretch";break;case"align-self":r.defaults="auto";break;case"position":r.defaults="static";break;case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"box-shadow-h":case"box-shadow-v":case"box-shadow-spread":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"order":case"flex-grow":r.defaults=0;break;case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":r.defaults="0px";break;case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"flex-shrink":r.defaults=1;break;case"box-shadow-blur":r.defaults="5px";break;case"top":case"right":case"bottom":case"left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"background-size":case"cursor":case"flex-basis":r.defaults="auto";break;case"font-family":r.defaults="Arial, Helvetica, sans-serif";break;case"font-size":case"border-width":r.defaults="medium";break;case"font-weight":r.defaults="400";break;case"letter-spacing":case"line-height":r.defaults="normal";break;case"color":case"text-shadow-color":case"border-color":case"box-shadow-color":r.defaults="black";break;case"text-align":r.defaults="left";break;case"border-style":r.defaults="solid";break;case"box-shadow-type":r.defaults="";break;case"background-repeat":r.defaults="repeat";break;case"background-position":r.defaults="left top";break;case"background-attachment":r.defaults="scroll";break;case"transition-property":r.defaults="width";break;case"transition-duration":r.defaults="2";break;case"transition-timing-function":r.defaults="ease";break;case"overflow":case"overflow-x":case"overflow-y":r.defaults="visible"}switch(o){case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":r.requires={display:["flex"]};break;case"order":case"flex-basis":case"flex-grow":case"flex-shrink":case"align-self":r.requiresParent={display:["flex"]}}switch(o){case"top":case"bottom":case"margin-top":case"margin-bottom":case"padding-top":case"padding-bottom":case"min-height":case"max-height":case"height":r.units=["px","%","vh"];break;case"right":case"left":case"margin-right":case"margin-left":case"padding-right":case"padding-left":case"min-width":case"max-width":case"width":r.units=["px","%","vw"];break;case"flex-basis":r.units=["px","%","vw","vh"];break;case"text-shadow-v":case"text-shadow-h":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"box-shadow-h":case"box-shadow-v":r.units=["px","%"];break;case"font-size":case"letter-spacing":case"line-height":r.units=["px","em","rem","%"];break;case"border-width":r.units=["px","em"];break;case"box-shadow-blur":case"box-shadow-spread":case"perspective":r.units=["px"];break;case"transition-duration":r.units=["s"];break;case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":r.units=["deg"]}switch(o){case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-blur":case"transition-duration":case"perspective":case"flex-basis":r.min=0}switch(o){case"text-shadow":case"box-shadow":case"background":r.preview=!0}switch(o){case"background":r.detached=!0}switch(o){case"transform-rotate-x":r.functionName="rotateX";break;case"transform-rotate-y":r.functionName="rotateY";break;case"transform-rotate-z":r.functionName="rotateZ";break;case"transform-scale-x":r.functionName="scaleX";break;case"transform-scale-y":r.functionName="scaleY";break;case"transform-scale-z":r.functionName="scaleZ";break;case"background-image":r.functionName="url"}switch(o){case"float":r.list=[{value:"none"},{value:"left"},{value:"right"}];break;case"display":r.list=[{value:"block"},{value:"inline"},{value:"inline-block"},{value:"flex"},{value:"none"}];break;case"flex-direction":r.list=[{value:"row"},{value:"row-reverse"},{value:"column"},{value:"column-reverse"}];break;case"flex-wrap":r.list=[{value:"nowrap"},{value:"wrap"},{value:"wrap-reverse"}];break;case"justify-content":r.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"space-evenly"}];break;case"align-items":r.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"align-content":r.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"stretch"}];break;case"align-self":r.list=[{value:"auto"},{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"position":r.list=[{value:"static"},{value:"relative"},{value:"absolute"},{value:"fixed"}];break;case"font-family":var a=", sans-serif",s=["Arial, Helvetica"+a,"Arial Black, Gadget"+a,"Brush Script MT"+a,"Comic Sans MS, cursive"+a,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+a,"Impact, Charcoal"+a,"Lucida Sans Unicode, Lucida Grande"+a,"Tahoma, Geneva"+a,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+a,"Verdana, Geneva"+a];r.list=[];for(var l=0,c=s.length;l<c;l++){var u={};u.value=s[l],u.name=s[l].split(",")[0],r.list.push(u)}break;case"font-weight":r.list=[{value:"100",name:"Thin"},{value:"200",name:"Extra-Light"},{value:"300",name:"Light"},{value:"400",name:"Normal"},{value:"500",name:"Medium"},{value:"600",name:"Semi-Bold"},{value:"700",name:"Bold"},{value:"800",name:"Extra-Bold"},{value:"900",name:"Ultra-Bold"}];break;case"text-align":r.list=[{value:"left"},{value:"center"},{value:"right"},{value:"justify"}];break;case"border-style":r.list=[{value:"none"},{value:"solid"},{value:"dotted"},{value:"dashed"},{value:"double"},{value:"groove"},{value:"ridge"},{value:"inset"},{value:"outset"}];break;case"box-shadow-type":r.list=[{value:"",name:"Outside"},{value:"inset",name:"Inside"}];break;case"background-repeat":r.list=[{value:"repeat"},{value:"repeat-x"},{value:"repeat-y"},{value:"no-repeat"}];break;case"background-position":r.list=[{value:"left top"},{value:"left center"},{value:"left bottom"},{value:"right top"},{value:"right center"},{value:"right bottom"},{value:"center top"},{value:"center center"},{value:"center bottom"}];break;case"background-attachment":r.list=[{value:"scroll"},{value:"fixed"},{value:"local"}];break;case"background-size":r.list=[{value:"auto"},{value:"cover"},{value:"contain"}];break;case"transition-property":r.list=[{value:"all"},{value:"width"},{value:"height"},{value:"background-color"},{value:"transform"},{value:"box-shadow"},{value:"opacity"}];break;case"transition-timing-function":r.list=[{value:"linear"},{value:"ease"},{value:"ease-in"},{value:"ease-out"},{value:"ease-in-out"}];break;case"cursor":r.list=[{value:"auto"},{value:"pointer"},{value:"copy"},{value:"crosshair"},{value:"grab"},{value:"grabbing"},{value:"help"},{value:"move"},{value:"text"}];break;case"overflow":case"overflow-x":case"overflow-y":r.list=[{value:"visible"},{value:"hidden"},{value:"scroll"},{value:"auto"}]}switch(o){case"margin":r.properties=this.build(["margin-top","margin-right","margin-bottom","margin-left"]);break;case"padding":r.properties=this.build(["padding-top","padding-right","padding-bottom","padding-left"]);break;case"text-shadow":r.properties=this.build(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"]);break;case"border":r.properties=this.build(["border-width","border-style","border-color"]);break;case"border-radius":r.properties=this.build(["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"]);break;case"box-shadow":r.properties=this.build(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"]);break;case"background":r.properties=this.build(["background-image","background-repeat","background-position","background-attachment","background-size"]);break;case"transition":r.properties=this.build(["transition-property","transition-duration","transition-timing-function"]);break;case"transform":r.properties=this.build(["transform-rotate-x","transform-rotate-y","transform-rotate-z","transform-scale-x","transform-scale-y","transform-scale-z"])}e.push(r)}return e}},name:"StyleManager",getConfig:function(){return i},init:function(r){var o=(i=C(C({},a),r)).pStylePrefix;return this.em=i.em,o&&(i.stylePrefix=o+i.stylePrefix),t=new c.default,e=new h([],i),n=new w({collection:e,target:i.em,config:i}),this},onLoad:function(){e.add(i.sectors,{silent:!0})},postRender:function(){var t=this.getConfig().appendTo;t&&(Object(o.isElement)(t)?t:document.querySelector(t)).appendChild(this.render())},addSector:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getSector(t);return r||(n.id=t,r=e.add(n,i)),r},getSector:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.where({id:t})[0];return!i&&n.warn&&this._logNoSector(t),i},removeSector:function(t){return this.getSectors().remove(this.getSector(t,{warn:1}))},getSectors:function(){return e},addProperty:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getSector(t,{warn:1}),r=null;return i&&(r=i.get("properties").add(e,n)),r},getProperty:function(t,e){var n,i=this.getSector(t,{warn:1});return i&&(n=i.get("properties").filter(function(t){return t.get("property")===e||t.get("id")===e})[0]),n||null},removeProperty:function(t,e){var n=this.getProperties(t);return n&&n.remove(this.getProperty(t,e))},getProperties:function(t){var e=null,n=this.getSector(t,{warn:1});return n&&(e=n.get("properties")),e},getModelToStyle:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.em,r=e.skipAdd,o=t.get("classes"),a=t.getId();if(n){var s,l=n.getConfig(),c=n.get("UndoManager"),u=n.get("CssComposer"),d=n.get("SelectorManager"),h=d?d.getConfig():{},f=l.devicePreviewMode?"":n.get("state"),p=o.getStyleable(),g=p.length,m=!h.componentFirst||e.useClasses,v={noCount:1},y={state:f,addOpts:v};if(c.stop(),g&&m){var b=n.getCurrentMedia();(s=u.get(p,f,b))||r||(s=u.add(p,f,b,{},v))}else l.avoidInlineStyle&&(!(s=u.getIdRule(a,y))&&!r&&(s=u.setIdRule(a,{},y)),t.is("wrapper")&&s.set("wrapper",1));s&&(t=s),c.start()}return t},addType:function(e,n){t.addType(e,n)},getType:function(e){return t.getType(e)},getTypes:function(){return t.getTypes()},createType:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.model,r=void 0===n?{}:n,o=e.view,a=void 0===o?{}:o,s=this.getType(t);if(s)return new s.view(C({model:new s.model(r),config:i},a))},setTarget:function(t,e){return n.setTarget(t,e)},getEmitter:function(){return n.propTarget},render:function(){return n.render().el},_logNoSector:function(t){var e=this.em;e&&e.logWarning("'".concat(t,"' sector not found"))},destroy:function(){[t,e].forEach(function(t){t.reset(),t.stopListening()}),n.remove(),[i,t,e,n].forEach(function(t){return{}}),this.em={}}}}},function(t,e,n){"use strict";n.r(e);var i=n(0),r={stylePrefix:"cm-",inlineCss:!1},o=n(2),a=n.n(o),s=n(1),l=n.n(s);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var d=l.a.Model.extend({build:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.components(),i={},r=e.em;if(e.cleanId&&r){var o=r.get("CssComposer").getAll().toJSON().map(function(t){var e=t.selectors,n=e&&1===e.length&&e.models[0];return n&&n.isId()&&n.get("name")}).filter(function(t){return t});i.attributes=function(t,e){var n=e.id;return n&&"i"===n[0]&&!t.get("script")&&!t.get("attributes").id&&o.indexOf(n)<0&&delete e.id,e}}return e.exportWrapper?t.toHTML(u(u({},i),e.wrapperIsBody&&{tag:"body"})):this.buildModels(n,i)},buildModels:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";return t.forEach(function(t){return n+=t.toHTML(e)}),n}}),h=n(31),f=l.a.Model.extend({build:function(t){var e=t.toJSON();return this.beforeEach(e),Object(i.each)(e,function(t,n){var i=e[n];if(i instanceof l.a.Model)e[n]=this.build(i);else if(i instanceof l.a.Collection){var r=i;e[n]=[],r.length&&r.each(function(t,i){e[n][i]=this.build(t)},this)}},this),e},beforeEach:function(t){delete t.status}}),p=l.a.Model.extend({mapModel:function(t){var e="",n=t.get("script-export")||t.get("script"),r=t.get("type"),o=t.get("components"),s=t.getId();if(n){var l=t.get("attributes");l=Object(i.extend)({},l,{id:s}),t.set("attributes",l,{silent:1});var c=t.getScriptString(n),u=t.get("script-props");if(t.get("scriptUpdated")&&!u)this.mapJs[r+"-"+s]={ids:[s],code:c};else{var d,h=this.mapJs[r];if(u&&(d=t.__getScriptProps()),h)h.ids.push(s),d&&(h.props[s]=d);else{var f={ids:[s],code:c};d&&(f.props=a()({},s,d)),this.mapJs[r]=f}}}return o.each(function(t){e+=this.mapModel(t)},this),e},build:function(t){this.mapJs={},this.mapModel(t);var e="";for(var n in this.mapJs){var i=this.mapJs[n];if(i.props)e+="\n          var props = ".concat(JSON.stringify(i.props),";\n          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');\n          var els = document.querySelectorAll(ids);\n          for (var i = 0, len = els.length; i < len; i++) {\n            var el = els[i];\n            (").concat(i.code,".bind(el))(props[el.id]);\n          }");else{var r="#"+i.ids.join(", #");e+="\n          var items = document.querySelectorAll('".concat(r,"');\n          for (var i = 0, len = items.length; i < len; i++) {\n            (function(){\n").concat(i.code,"\n}.bind(items[i]))();\n          }")}}return e}}),g=n(13),m=n.n(g);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}n(83),n(44),n(86);var y=l.a.Model.extend({CodeMirror:m.a,defaults:{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0},init:function(t){return Object(i.bindAll)(this,"onChange"),this.editor=m.a.fromTextArea(t,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=t,this.editor.on("change",this.onChange),this},onChange:function(){this.trigger("update",this)},getEditor:function(){return this.editor},getElement:function(){return this.element},setElement:function(t){return this.element=t,this},refresh:function(){return this.getEditor().refresh(),this},focus:function(){return this.getEditor().focus(),this},getContent:function(){var t=this.getEditor();return t&&t.getValue()},setContent:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.editor;i&&(i.setValue(t),i.autoFormatRange&&(m.a.commands.selectAll(i),i.autoFormatRange(i.getCursor(!0),i.getCursor(!1)),m.a.commands.goDocStart(i)),!n.noRefresh&&setTimeout(function(){return e.refresh()}))}}),b=l.a.View.extend({template:Object(i.template)('\n  <div class="<%= pfx %>editor" id="<%= pfx %><%= codeName %>">\n  \t<div id="<%= pfx %>title"><%= label %></div>\n  \t<div id="<%= pfx %>code"></div>\n  </div>'),initialize:function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix},render:function(){var t=this.model.toJSON();return t.pfx=this.pfx,this.$el.html(this.template(t)),this.$el.attr("class",this.pfx+"editor-c"),this.$el.find("#"+this.pfx+"code").append(this.model.get("input")),this}});e.default=function(){var t={},e={},n={},o={},a={};return{getConfig:function(){return t},config:t,EditorView:b,name:"CodeManager",init:function(e){for(var i in t=e||{},r)i in t||(t[i]=r[i]);var o=t.pStylePrefix;return o&&(t.stylePrefix=o+t.stylePrefix),n.html=new d,n.css=new h.a,n.json=new f,n.js=new p,a.CodeMirror=new y,this.loadDefaultGenerators().loadDefaultViewers(),this},addGenerator:function(t,n){return e[t]=n,this},getGenerator:function(t){return e[t]||null},getGenerators:function(){return e},addViewer:function(t,e){return o[t]=e,this},getViewer:function(t){return o[t]||null},getViewers:function(){return o},createViewer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(i.isUndefined)(t.type)?"CodeMirror":t.type,n=this.getViewer(e)&&this.getViewer(e).clone(),r=document.createElement("div"),o=document.createElement("textarea");return r.appendChild(o),n.set(t),n.init(o),n.setElement(r),n},updateViewer:function(t,e){t.setContent(e)},getCode:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.em=t.em;var r=this.getGenerator(n);return r?r.build(e,i):""},loadDefaultGenerators:function(){for(var t in n)this.addGenerator(t,n[t]);return this},loadDefaultViewers:function(){for(var t in a)this.addViewer(t,a[t]);return this},destroy:function(){[t,e,n,o,a].forEach(function(t){return{}})}}}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),o={devices:[]},a=n(1),s=n.n(a),l=s.a.Model.extend({idAttribute:"name",defaults:{name:"",width:null,height:"",widthMedia:null,priority:null},initialize:function(){var t=this;null===this.get("widthMedia")&&this.set("widthMedia",this.get("width")),null===this.get("width")&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0),["width","height","widthMedia"].forEach(function(e){return t.checkUnit(e)})},checkUnit:function(t){var e=this.get(t)||"";(parseFloat(e)||0).toString()===e.toString()&&this.set(t,"".concat(e,"px"))}}),c=s.a.Collection.extend({model:l,comparator:function(t,e){var n=Number.MAX_VALUE;return(e.get("priority")||n)-(t.get("priority")||n)},getSorted:function(){return this.sort()}}),u=n(0),d=s.a.View.extend({template:Object(u.template)('\n    <div class="<%= ppfx %>device-label"><%= deviceLabel %></div>\n    <div class="<%= ppfx %>field <%= ppfx %>select">\n      <span id="<%= ppfx %>input-holder">\n        <select class="<%= ppfx %>devices"></select>\n      </span>\n      <div class="<%= ppfx %>sel-arrow">\n        <div class="<%= ppfx %>d-s-arrow"></div>\n      </div>\n    </div>\n    <button style="display:none" class="<%= ppfx %>add-trasp">+</button>'),events:{change:"updateDevice"},initialize:function(t){this.config=t.config||{},this.em=this.config.em,this.ppfx=this.config.pStylePrefix||"",this.events["click ."+this.ppfx+"add-trasp"]=this.startAdd,this.listenTo(this.em,"change:device",this.updateSelect),this.delegateEvents()},startAdd:function(){},updateDevice:function(){var t=this.em;if(t){var e=this.devicesEl,n=e?e.val():"";t.set("device",n)}},updateSelect:function(){var t=this.em,e=this.devicesEl;if(t&&t.getDeviceModel&&e){var n=t.getDeviceModel(),i=n?n.get("name"):"";e.val(i)}},getOptions:function(){var t=this.collection,e=this.em,n="";return t.each(function(t){var i=t.attributes,r=i.name,o=i.id,a=e&&e.t&&e.t("deviceManager.devices.".concat(o))||r;n+='<option value="'.concat(r,'">').concat(a,"</option>")}),n},render:function(){var t=this.em,e=this.ppfx,n=this.$el,i=this.el;return n.html(this.template({ppfx:e,deviceLabel:t&&t.t&&t.t("deviceManager.device")})),this.devicesEl=n.find(".".concat(e,"devices")),this.devicesEl.append(this.getOptions()),i.className="".concat(e,"devices-c"),this}});function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e.default=function(){var t,e,n={};return{name:"DeviceManager",init:function(i){var r=this;for(var a in n=i||{},o)a in n||(n[a]=o[a]);return t=new c,(n.devices||[]).forEach(function(t){return r.add(t.id||t.name,t.width,t)}),e=new d({collection:t,config:n}),this},add:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=f(f({},i),{},{id:e,name:i.name||e,width:n});return t.add(r)},get:function(e){return t.get(e)},getAll:function(){return t},render:function(){return e.render().el},destroy:function(){t.reset(),t.stopListening(),e.remove(),[t,e].forEach(function(t){return null}),n={}}}}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),o={id:"gjs-",autosave:1,autoload:1,type:"local",stepsBeforeSave:1,storeComponents:1,storeStyles:1,storeHtml:1,storeCss:1,checkLocal:1,params:{},headers:{},urlStore:"",urlLoad:"",beforeSend:function(t,e){},onComplete:function(t,e){},contentTypeJson:!0,credentials:"include",fetchOptions:""},a=n(1),s=n.n(a),l=s.a.Model.extend({defaults:{checkLocal:!0},store:function(t,e){for(var n in this.checkStorageEnvironment(),t)localStorage.setItem(n,t[n]);"function"==typeof e&&e()},load:function(t,e){this.checkStorageEnvironment();for(var n={},i=0,r=t.length;i<r;i++){var o=localStorage.getItem(t[i]);o&&(n[t[i]]=o)}return"function"==typeof e&&e(n),n},remove:function(t){this.checkStorageEnvironment();for(var e=0,n=t.length;e<n;e++)localStorage.removeItem(t[e])},checkStorageEnvironment:function(){this.get("checkLocal")&&!localStorage&&console.warn("Your browser doesn't support localStorage")}}),c=n(28),u=n(0);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var f=s.a.Model.extend({fetch:c.a,defaults:{urlStore:"",urlLoad:"",params:{},beforeSend:function(){},onComplete:function(){},contentTypeJson:!1,credentials:"include",fetchOptions:""},onStart:function(){this.get("em");var t=this.get("beforeSend");t&&t()},onError:function(t,e){if(e)e(t);else{var n=this.get("em");console.error(t),n&&n.trigger("storage:error",t)}},onResponse:function(t,e){var n=this.get("em"),i=this.get("onComplete"),r=this.get("contentTypeJson")&&t&&"string"==typeof t?JSON.parse(t):t;i&&i(r),e&&e(r),n&&n.trigger("storage:response",r)},store:function(t,e,n){var i={};for(var r in t)i[r]=t[r];this.request(this.get("urlStore"),{body:i},e,n)},load:function(t,e,n){this.request(this.get("urlLoad"),{method:"get"},e,n)},request:function(t){var e,n,i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=this.get("contentTypeJson"),l=this.get("headers")||{},c=this.get("params"),d="X-Requested-With",f="Content-Type",p=r.body||{};for(var g in c)p[g]=c[g];if(Object(u.isUndefined)(l[d])&&(l[d]="XMLHttpRequest"),Object(u.isUndefined)(l[f])&&s&&(l[f]="application/json; charset=utf-8"),s)n=JSON.stringify(p);else for(var m in n=new FormData,p)n.append(m,p[m]);"post"===(e={method:r.method||"post",credentials:this.get("credentials"),headers:l}).method&&(e.body=n);var v=this.get("fetchOptions")||{},y=Object(u.isFunction)(v)?v(e):e;this.onStart(),this.fetch(t,h(h({},e),y||{})).then(function(t){return 1==(t.status/200|0)?t.text():t.text().then(function(t){return Promise.reject(t)})}).then(function(t){return i.onResponse(t,o)}).catch(function(t){return i.onError(t,a)})}});function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var m="storage:start",v="storage:end",y="storage:error";e.default=function(){var t,e={},n={},i={};return{name:"StorageManager",init:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=g(g({},o),n),t=e.em,e._disable&&(e.type=0),i.remote=new f(e),i.local=new l(e),e.currentStorage=e.type,this.loadDefaultProviders().setCurrent(e.type),this},getConfig:function(){return e},isAutosave:function(){return!!e.autosave},setAutosave:function(t){return e.autosave=!!t,this},getStepsBeforeSave:function(){return e.stepsBeforeSave},setStepsBeforeSave:function(t){return e.stepsBeforeSave=t,this},add:function(t,e){return n[t]=e,this},get:function(t){return n[t]||null},getStorages:function(){return n},getCurrent:function(){return e.currentStorage},setCurrent:function(t){return e.currentStorage=t,this},store:function(t,n){var i=this,r=this.get(this.getCurrent()),o={};for(var a in this.onStart("store",t),t)o[e.id+a]=t[a];return r?r.store(o,function(t){n&&n(t),i.onEnd("store",t)},function(t){i.onError("store",t)}):null},load:function(t,n){var i=this,r=this.get(this.getCurrent()),o=[],a={};"string"==typeof t&&(t=[t]),this.onStart("load",t);for(var s=0,l=t.length;s<l;s++)o.push(e.id+t[s]);r?r.load(o,function(t){var r=new RegExp("^"+e.id);for(var o in t){var s=o.replace(r,"");a[s]=t[o]}n&&n(a),i.onEnd("load",a)},function(t){n&&n(a),i.onError("load",t)}):n&&n(a)},loadDefaultProviders:function(){for(var t in i)this.add(t,i[t]);return this},getCurrentStorage:function(){return this.get(this.getCurrent())},onStart:function(e,n){t&&(t.trigger(m),e&&t.trigger("".concat(m,":").concat(e),n))},onEnd:function(e,n){t&&(t.trigger(v),e&&t.trigger("".concat(v,":").concat(e),n))},onError:function(e,n){t&&(t.trigger(y,n),e&&t.trigger("".concat(y,":").concat(e),n),this.onEnd(e,n))},canAutoload:function(){return this.getCurrentStorage()&&this.getConfig().autoload},destroy:function(){[e,t,n,i].forEach(function(t){return{}})}}}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),o={textTags:["br","b","i","u","a","ul","ol"],parserCss:null,parserHtml:null},a=n(0),s={4:"media",5:"font-face",6:"page",7:"keyframes",11:"counter-style",12:"supports",13:"document",14:"font-feature-values",15:"viewport"},l=Object(a.keys)(s),c=["5","6","11","15"],u=["font-face","page","counter-style","viewport"],d=function(){for(var t=[],e=[],n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),i=0,r=n.length;i<r;i++){var o=n[i].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(o)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(o)){var a=o.split(".").filter(Boolean);e.push(a)}else t.push(o)}return{result:e,add:t}},h=function(t){for(var e=t.style,n={},i=0,r=e.length;i<r;i++){var o=e[i],a=e.getPropertyValue(o),s=e.getPropertyPriority(o);n[o]="".concat(a).concat(s?" !".concat(s):"")}return n},f=function(t){return(t.conditionText||t.media&&t.media.mediaText||t.name||t.selectorText||"").trim()},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={},r=t.length,o=t[r-1],a=o?o.split(/:(.+)/):[],s=a[1],l=n.atRule,c=n.selectorsAdd,d=n.mediaText;return u.indexOf(l)>=0&&(i.singleAtRule=1),l&&(i.atRuleType=l),c&&(i.selectorsAdd=c),d&&(i.mediaText=d),s&&(t[r-1]=a[0],i.state=s,a.splice(a.length-1,1)),i.selectors=t,i.style=e,i},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{parse:function(e){var n=this,i=[],r=t.parserCss,o=t.em,a=o&&o.get&&o.get("Editor");return(r?r(e,a):function(t){var e=document.createElement("style");e.innerHTML=t,document.head.appendChild(e);var n=e.sheet;return document.head.removeChild(e),function t(e){for(var n=[],i=e.cssRules||[],r=0,o=i.length;r<o;r++){var a=i[r],u=a.type.toString(),g=0,m="",v="",y=a.selectorText||a.keyText,b=c.indexOf(u)>=0;if(b)g=1,m=s[u],v=f(a);else if(l.indexOf(u)>=0){var w=t(a);v=f(a);for(var E=0,C=w.length;E<C;E++){var T=w[E];v&&(T.mediaText=v),T.atRuleType=s[u]}n=n.concat(w)}if(y||b){for(var _=h(a),O=d(y),k=O.add,D=void 0,x=0,I=(y=O.result).length;x<I;x++){var S=p(y[x],_,{atRule:s[u]});n.push(S),D=S}if(k.length){var R=k.join(", ");if(D)D.selectorsAdd=R;else{var A={selectors:[],selectorsAdd:R,style:_};g&&(A.singleAtRule=g),m&&(A.atRuleType=m),v&&(A.mediaText=v),n.push(A)}}}}return n}(n)}(e)).forEach(function(t){return i=i.concat(n.checkNode(t))}),o&&o.trigger("parse:css",{input:e,output:i}),i},checkNode:function(t){var e=t,n=e.selectors,i=e.style;if(Object(a.isString)(n)){var r=[],o=d(n),s=o.result,l=o.add.join(", "),c={atRule:t.atRule,mediaText:t.params};s.length?s.forEach(function(t){r.push(p(t,i,c))}):r.push(p([],i,c)),l&&(r[r.length-1].selectorsAdd=l),t=r}return t}}},m=n(29);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e.default=function(){var t,e,n={};return{compTypes:"",parserCss:null,parserHtml:null,name:"Parser",getConfig:function(){return n},init:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(n=y(y({},o),i)).Parser=this,t=new m.a(n),e=new g(n),this.em=n.em,this.parserCss=e,this.parserHtml=t,this},parseHtml:function(n){var i=this.em,r=this.compTypes;return t.compTypes=i?i.get("DomComponents").getTypes():r,t.parse(n,e)},parseCss:function(t){return e.parse(t)},destroy:function(){var i=this;[n,t,e].forEach(function(t){return{}}),["em","parserCss","parserHtml"].forEach(function(t){return i[t]={}})}}}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),o=n(0),a=n(3),s={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],escapeName:0,selectedName:0,iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',render:0,componentFirst:0},l=n(10),c=n(12),u=n(7),d=n.n(u),h=n(1),f=n.n(h),p="contentEditable",g=f.a.View.extend({template:function(){var t=this.pfx,e=this.model,n=this.config,i=e.get("label")||"";return'\n      <span id="'.concat(t,'checkbox" class="').concat(t,'tag-status" data-tag-status></span>\n      <span id="').concat(t,'tag-label" data-tag-name>').concat(i,'</span>\n      <span id="').concat(t,'close" class="').concat(t,'tag-close" data-tag-remove>\n        ').concat(n.iconTagRemove,"\n      </span>\n    ")},events:{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"},initialize:function(t){var e=t.config||{};this.config=e,this.coll=t.coll||null,this.pfx=e.stylePrefix||"",this.ppfx=e.pStylePrefix||"",this.em=e.em,this.listenTo(this.model,"change:active",this.updateStatus)},getInputEl:function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},startEditTag:function(){var t=this.em,e=this.getInputEl();e[p]=!0,e.focus(),t&&t.setEditing(1)},endEditTag:function(){var t=this.model,e=this.getInputEl(),n=e.textContent,i=this.em,r=i&&i.get("SelectorManager");if(e[p]=!1,i&&i.setEditing(0),r){var o=r.escapeName(n);r.get(o)?e.innerText=t.get("label"):t.set({name:o,label:n})}},changeStatus:function(){var t=this.model;t.set("active",!t.get("active"))},removeTag:function(){var t=this.em,e=this.model;(t&&t.getSelectedAll()).forEach(function(t){!e.get("protected")&&t&&t.getSelectors().remove(e)})},updateStatus:function(){var t=this.model,e=this.$el,n=this.config,i=n.iconTagOn,r=n.iconTagOff,o=e.find("[data-tag-status]");t.get("active")?(o.html(i),e.removeClass("opac50")):(o.html(r),e.addClass("opac50"))},render:function(){var t=this.pfx,e=this.ppfx;return this.$el.html(this.template()),this.$el.attr("class","".concat(t,"tag ").concat(e,"three-bg")),this.updateStatus(),this}}),m=f.a.View.extend({template:function(t){var e=t.labelInfo,n=t.labelStates,i=t.labelHead,r=t.iconSync,o=t.iconAdd,a=t.pfx,s=t.ppfx;return'\n    <div id="'.concat(a,'up" class="').concat(a,'header">\n      <div id="').concat(a,'label" class="').concat(a,'header-label">').concat(i,'</div>\n      <div id="').concat(a,'status-c" class="').concat(a,'header-status">\n        <span id="').concat(a,'input-c" data-states-c>\n          <div class="').concat(s,"field ").concat(s,'select">\n            <span id="').concat(s,'input-holder">\n              <select id="').concat(a,'states" data-states>\n                <option value="">').concat(n,'</option>\n              </select>\n            </span>\n            <div class="').concat(s,'sel-arrow">\n              <div class="').concat(s,'d-s-arrow"></div>\n            </div>\n          </div>\n        </span>\n      </div>\n    </div>\n    <div id="').concat(a,'tags-field" class="').concat(s,'field">\n      <div id="').concat(a,'tags-c" data-selectors></div>\n      <input id="').concat(a,'new" data-input/>\n      <span id="').concat(a,'add-tag" class="').concat(a,"tags-btn ").concat(a,'tags-btn__add" data-add>\n        ').concat(o,'\n      </span>\n      <span class="').concat(a,"tags-btn ").concat(a,'tags-btn__sync" style="display: none" data-sync-style>\n        ').concat(r,'\n      </span>\n    </div>\n    <div class="').concat(a,'sels-info">\n      <div class="').concat(a,'label-sel">').concat(e,':</div>\n      <div class="').concat(a,'sels" data-selected></div>\n      <div style="clear:both"></div>\n    </div>')},events:{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"},initialize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=t.config||{},this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.className=this.pfx+"tags",this.stateInputId=this.pfx+"states",this.stateInputC=this.pfx+"input-c",this.states=this.config.states||[];var e=this.config.em,n=this.collection;this.target=this.config.em,this.em=e;var i=this.getStyleEmitter();this.listenTo(e,"component:toggled component:update:classes",this.componentChanged),this.listenTo(i,"update",this.componentChanged),this.listenTo(e,"component:update:classes change:state",this.__handleStateChange),this.listenTo(e,"styleable:change change:device",this.checkSync),this.listenTo(n,"add",this.addNew),this.listenTo(n,"reset",this.renderClasses),this.listenTo(n,"remove",this.tagRemoved),this.delegateEvents()},syncStyle:function(){var t,e=this.em,n=this.getTarget(),i=e.get("CssComposer"),r=this.getCommonSelectors({opts:{noDisabled:1}}),o=e.get("state"),a=e.getCurrentMedia(),s=[],l=i.get(r,o,a)||i.add(r,o,a);this.getTargets().forEach(function(e){var n=i.getIdRule(e.getId(),{state:o,mediaText:a});t=n.getStyle(),n.setStyle({}),s.push(n)}),t&&l.addStyle(t),e.trigger("component:toggled"),e.trigger("component:sync-style",{component:n,selectors:r,mediaText:a,rule:l,ruleComponents:s,state:o})},getStyleEmitter:function(){var t=this.em,e=t&&t.get("StyleManager");return e&&e.getEmitter()||{}},tagRemoved:function(t){this.updateStateVis()},getStateOptions:function(){var t=this.states,e=this.em,n=[];return t.forEach(function(t){return n.push('<option value="'.concat(t.name,'">').concat(e.t("selectorManager.states.".concat(t.name))||t.label||t.name,"</option>"))}),n.join("")},addNew:function(t){this.addToClasses(t)},startNewTag:function(){this.$addBtn.css({display:"none"}),this.$input.show().focus()},endNewTag:function(){this.$addBtn.css({display:""}),this.$input.hide().val("")},onInputKeyUp:function(t){13===t.keyCode?this.addNewTag(this.$input.val()):27===t.keyCode&&this.endNewTag()},checkStates:function(){var t=this.em.getState(),e=this.getStates();e&&e.val(t)},componentChanged:Object(o.debounce)(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).targets;this.updateSelection(t)}),updateSelection:function(t){var e=t||this.getTargets(),n=[];return(e=Object(o.isArray)(e)?e:[e])&&e.length&&(n=this.getCommonSelectors({targets:e}),this.checkSync({validSelectors:n})),this.collection.reset(n),this.updateStateVis(e),n},getCommonSelectors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.targets,n=t.opts,i=void 0===n?{}:n,r=(e||this.getTargets()).map(function(t){return t.getSelectors&&t.getSelectors().getValid(i)}).filter(function(t){return t});return this._commonSelectors.apply(this,d()(r))},_commonSelectors:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.length?1===n.length?n[0]:2===n.length?n[0].filter(function(t){return n[1].indexOf(t)>=0}):n.slice(1).reduce(function(e,n){return t._commonSelectors(e,n)},n[0]):[]},checkSync:Object(o.debounce)(function(){var t,e=this.$btnSyncEl,n=this.config,i=this.collection,r=this.getTarget();if(r&&n.componentFirst&&i.length){var a=r.getStyle();t=!Object(o.isEmpty)(a)}e&&e[t?"show":"hide"]()}),getTarget:function(){return this.target.getSelected()},getTargets:function(){return this.target.getSelectedAll()},updateStateVis:function(t){var e=this.em,n=e&&e.getConfig("avoidInlineStyle"),i=this.collection.length||n?"":"none";this.getStatesC().css("display",i),this.updateSelector(t)},__handleStateChange:function(){this.updateSelector(this.getTargets())},updateSelector:function(t){var e=this,n=this.el.querySelector("[data-selected]"),i=[],r=t||this.getTargets();(r=Object(o.isArray)(r)?r:[r]).forEach(function(t){return i.push(e.__getName(t))}),n&&(n.innerHTML=i.join(", ")),this.checkStates()},__getName:function(t){var e,n=this.pfx,i=this.config,r=this.em,a=i.selectedName,s=i.componentFirst;if(Object(o.isString)(t))e='<span class="'.concat(n,'sel-gen">').concat(t,"</span>");else{var l=t&&t.get&&t.getSelectors();if(!l)return;var c=l.getStyleable(),u=r.get("state"),d=t.getId?'<span class="'.concat(n,'sel-cmp">').concat(t.getName(),'</span><span class="').concat(n,'sel-id">#').concat(t.getId(),"</span>"):"";e=(e=this.collection.getFullString(c))?'<span class="'.concat(n,'sel-rule">').concat(e,"</span>"):t.get("selectorsAdd")||d,e=s&&d?d:e,e+=u?'<span class="'.concat(n,'sel-state">:').concat(u,"</span>"):"",e=a?a({result:e,state:u,target:t}):e}return e&&'<span class="'.concat(n,'sel">').concat(e,"</span>")},stateChanged:function(t){var e=this.em,n=t.target.value;e.set("state",n)},addNewTag:function(t){var e=this,n=this.em;if(t.trim()){if(n){var i=n.get("SelectorManager").add({label:t});this.getTargets().forEach(function(t){t.getSelectors().add(i),e.collection.add(i),e.updateStateVis()})}this.endNewTag()}},addToClasses:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getClasses(),i=new g({model:t,config:this.config,coll:this.collection}).render().el;return e?e.appendChild(i):n.append(i),i},renderClasses:function(){var t=this,e=document.createDocumentFragment(),n=this.getClasses();n.empty(),this.collection.each(function(n){return t.addToClasses(n,e)}),n.append(e)},getClasses:function(){return this.$el.find("[data-selectors]")},getStates:function(){if(!this.$states){var t=this.$el.find("[data-states]");this.$states=t[0]&&t}return this.$states},getStatesC:function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},render:function(){var t=this.em,e=this.pfx,n=this.ppfx,i=this.config,r=this.$el,o=this.el,a=i.render,s={iconSync:i.iconSync,iconAdd:i.iconAdd,labelHead:t.t("selectorManager.label"),labelStates:t.t("selectorManager.emptyState"),labelInfo:t.t("selectorManager.selected"),ppfx:n,pfx:e,el:o};r.html(this.template(s));var l=a&&a(s);l&&l!==o&&r.empty().append(l),this.$input=r.find("[data-input]"),this.$addBtn=r.find("[data-add]"),this.$classes=r.find("#"+e+"tags-c"),this.$btnSyncEl=r.find("[data-sync-style]"),this.$input.hide();var c=this.getStates();return c&&c.append(this.getStateOptions()),this.renderClasses(),r.attr("class","".concat(this.className," ").concat(n,"one-bg ").concat(n,"two-color")),this}});function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var b=function(t){return Object(o.isString)(t)&&"#"==t[0]},w=function(t){return Object(o.isString)(t)&&"."==t[0]};e.default=function(t){var e,n=t||{};return{Selector:l.a,Selectors:c.a,name:"SelectorManager",getConfig:function(){return n},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(n=y(y({},s),t)).em,r=n.pStylePrefix;return this.em=i,r&&(n.stylePrefix=r+n.stylePrefix),this.selectorTags=new m({collection:new c.a([],{em:i,config:n}),config:n}),(e=new c.a(n.selectors)).on("add",function(t){return i.trigger("selector:add",t)}),e.on("remove",function(t){return i.trigger("selector:remove",t)}),e.on("change",function(t){return i.trigger("selector:update",t,t.previousAttributes(),t.changedAttributes())}),i.on("change:state",function(t,e){return i.trigger("selector:state",e)}),this},postRender:function(){var t=this.getConfig().appendTo;t&&(Object(o.isElement)(t)?t:document.querySelector(t)).appendChild(this.render([]))},select:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(t)?t:[t],i=this.em.get("StyleManager").setTarget(n,e).filter(function(t){return t}).map(function(t){return Object(a.l)(t)||Object(a.q)(t)&&!t.get("selectorsAdd")?t:t.getSelectorsString()});return this.selectorTags.componentChanged({targets:i}),this},setState:function(t){return this.em.setState(t),this},getState:function(){return this.em.getState()},addSelector:function(t){var i=y({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});Object(o.isObject)(t)?i=t:i.name=t,b(i.name)?(i.name=i.name.substr(1),i.type=l.a.TYPE_ID):w(i.name)&&(i.name=i.name.substr(1)),i.label&&!i.name&&(i.name=this.escapeName(i.label));var r=i.name;return(r?this.get(r,i.type):e.where(i)[0])||e.add(i,{config:n})},getSelector:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.a.TYPE_CLASS;return b(t)?(t=t.substr(1),n=l.a.TYPE_ID):w(t)&&(t=t.substr(1)),e.where({name:t,type:n})[0]},add:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.isArray)(t)?t.map(function(t){return e.addSelector(t,n)}):this.addSelector(t,n)},addClass:function(t){var e=this,n=[];return Object(o.isString)(t)&&(t=t.trim().split(" ")),t.forEach(function(t){return n.push(e.addSelector(t))}),n},get:function(t,e){var n=this;if(Object(o.isArray)(t)){var i=[];return t.map(function(t){return n.getSelector(t)}).filter(function(t){return t}).forEach(function(t){return i.indexOf(t)<0&&i.push(t)}),i}return this.getSelector(t,e)},getAll:function(){return e},escapeName:function(t){var e=n.escapeName;return e?e(t):l.a.escapeName(t)},render:function(t){return t?(this.selectorTags=new m({collection:new c.a(t),config:n}),this.selectorTags.render().el):this.selectorTags.render().el},destroy:function(){e.reset(),e.stopListening(),this.selectorTags.remove(),[n,e].forEach(function(t){return{}}),this.em={},this.selectorTags={}}}}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),o={stylePrefix:"mdl-",title:"",content:"",backdrop:!0},a=n(1),s=n.n(a),l=s.a.Model.extend({defaults:{title:"",content:"",open:!1}});function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var d=s.a.View.extend({template:function(t){var e=t.pfx,n=t.ppfx,i=t.content,r=t.title;return'<div class="'.concat(e,"dialog ").concat(n,"one-bg ").concat(n,'two-color">\n      <div class="').concat(e,'header">\n        <div class="').concat(e,'title">').concat(r,'</div>\n        <div class="').concat(e,'btn-close" data-close-modal>&Cross;</div>\n      </div>\n      <div class="').concat(e,'content">\n        <div id="').concat(e,'c">').concat(i,'</div>\n        <div style="clear:both"></div>\n      </div>\n    </div>\n    <div class="').concat(e,'collector" style="display: none"></div>')},events:{click:"onClick","click [data-close-modal]":"hide"},initialize:function(t){var e=this.model,n=t.config||{},i=n.stylePrefix||"";this.config=n,this.pfx=i,this.ppfx=n.pStylePrefix||"",this.listenTo(e,"change:open",this.updateOpen),this.listenTo(e,"change:title",this.updateTitle),this.listenTo(e,"change:content",this.updateContent)},onClick:function(t){this.config.backdrop&&t.target===this.el&&this.hide()},getCollector:function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},getContent:function(){var t=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(t,"content #").concat(t,"c"))),this.$content},getTitle:function(){return this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),this.$title.get(0)},updateContent:function(){var t=this.getContent(),e=t.children(),n=this.getCollector(),i=this.model.get("content");e.length&&n.append(e),t.empty().append(i)},updateTitle:function(){var t=this.getTitle();t&&(t.innerHTML=this.model.get("title"))},updateOpen:function(){this.el.style.display=this.model.get("open")?"":"none"},hide:function(){this.model.set("open",0)},show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.model.set("open",1),this.updateAttr(t.attributes)},updateAttr:function(t){var e=this.pfx,n=this.$el,i=this.el,r=[].slice.call(i.attributes).map(function(t){return t.name});n.removeAttr(r.join(" ")),n.attr(u(u({},t||{}),{},{class:"".concat(e,"container ").concat(t&&t.class||"").trim()}))},render:function(){var t=this.$el,e=this.model.toJSON();return e.pfx=this.pfx,e.ppfx=this.ppfx,t.html(this.template(e)),this.updateAttr(),this.updateOpen(),this}});function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e.default=function(){var t,e,n={};return{name:"Modal",getConfig:function(){return n},init:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(n=f(f({},o),i)).em;this.em=r;var a=n.pStylePrefix;return a&&(n.stylePrefix=a+n.stylePrefix),(t=new l(n)).on("change:open",function(t,e){return function(t,e){e&&e.trigger("modal:".concat(t?"open":"close"))}(e,r)}),e=new d({model:t,config:n}),this},postRender:function(t){var e=t.model.getConfig().el||t.el;this.render().appendTo(e)},open:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),e.show(t),this},close:function(){return e.hide(),this},onceClose:function(t){return this.em.once("modal:close",t),this},onceOpen:function(t){return this.em.once("modal:open",t),this},isOpen:function(){return!!t.get("open")},setTitle:function(e){return t.set("title",e),this},getTitle:function(){return t.get("title")},setContent:function(e){return t.set("content"," "),t.set("content",e),this},getContent:function(){return t.get("content")},getContentEl:function(){return e.getContent().get(0)},getModel:function(){return t},render:function(){return e.render().$el},destroy:function(){e.remove(),[n,t,e].forEach(function(t){return{}}),this.em={}}}}},function(t,e,n){"use strict";n.r(e);var i=n(17),r=n(2),o=n.n(r),a=n(1),s=n.n(a),l=n(0),c=n(3);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var h=s.a.$,f=s.a.View.extend({initialize:function(t){this.opt=t||{},Object(l.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var e=t||{};this.elT=0,this.elL=0,this.borderOffset=e.borderOffset||10;var n=e.container;this.el="string"==typeof n?document.querySelector(n):n,this.$el=h(this.el),this.containerSel=e.containerSel||"div",this.itemSel=e.itemSel||"div",this.draggable=e.draggable||!0,this.nested=e.nested||0,this.pfx=e.pfx||"",this.ppfx=e.ppfx||"",this.freezeClass=e.freezeClass||this.pfx+"freezed",this.onStart=e.onStart||"",this.onEndMove=e.onEndMove||"",this.direction=e.direction||"v",this.onMoveClb=e.onMove||"",this.relative=e.relative||0,this.ignoreViewChildren=e.ignoreViewChildren||0,this.ignoreModels=e.ignoreModels||0,this.plh=e.placer||"",this.wmargin=e.wmargin||0,this.offTop=e.offsetTop||0,this.offLeft=e.offsetLeft||0,this.document=e.document||document,this.$document=h(this.document),this.dropContent=null,this.em=e.em||"",this.dragHelper=null,this.canvasRelative=e.canvasRelative||0,this.selectOnEnd=!e.avoidSelectOnEnd,this.scale=e.scale,this.activeTextModel=null,this.em&&this.em.on&&(this.em.on("change:canvasOffset",this.updateOffset),this.updateOffset())},getScale:function(){return Object(l.result)(this,scale)||1},getContainerEl:function(t){if(t&&(this.el=t),!this.el){var e=this.opt.container;this.el="string"==typeof e?document.querySelector(e):e,this.$el=h(this.el)}return this.el},getDocuments:function(t){var e=this.em,n=t?t.ownerDocument:e&&e.get("Canvas").getBody().ownerDocument,i=[document];return n&&i.push(n),i},updateOffset:function(){var t=this.em.get("canvasOffset")||{};this.offTop=t.top,this.offLeft=t.left},setDropContent:function(t){this.dropModel=null,this.dropContent=t},updateTextViewCursorPosition:function(t){var e=this.em.get("Canvas"),n=e.getDocument(),i=null;if(n.caretRangeFromPoint){var r=Object(c.h)(t);i=n.caretRangeFromPoint(r.clientX,r.clientY)}else t.rangeParent&&(i=n.createRange()).setStart(t.rangeParent,t.rangeOffset);var o=e.getWindow().getSelection();e.getFrameEl().focus(),o.removeAllRanges(),i&&o.addRange(i)},setContentEditable:function(t,e){if(t){var n=t.getEl();n.contentEditable!=e&&(n.contentEditable=e)}},toggleSortCursor:function(t){var e=this.em,n=e&&e.get("Canvas");n&&(t?n.startAutoscroll():n.stopAutoscroll())},setDragHelper:function(t,e){for(var n=e||"",i=t.cloneNode(1),r=t.getBoundingClientRect(),o=getComputedStyle(t),a="",s=0;s<o.length;s++){var l=o[s];a+="".concat(l,":").concat(o.getPropertyValue(l),";")}document.body.appendChild(i),i.className+=" ".concat(this.pfx,"bdrag"),i.setAttribute("style",a),this.dragHelper=i,i.style.width="".concat(r.width,"px"),i.style.height="".concat(r.height,"px"),n&&this.moveDragHelper(n),this.em&&h(this.em.get("Canvas").getBody().ownerDocument).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper),h(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},moveDragHelper:function(t){var e=t.target.ownerDocument;if(this.dragHelper&&e){var n=t.pageY,i=t.pageX,r=0,o=0,a=(e.defaultView||e.parentWindow).frameElement,s=this.dragHelper.style;if(a){var l=a.getBoundingClientRect();r=l.top+document.documentElement.scrollTop,o=l.left+document.documentElement.scrollLeft,n=t.clientY,i=t.clientX}s.top=n+r+"px",s.left=i+o+"px"}},matches:function(t,e,n){return c.t.call(t,e)},closest:function(t,e){if(t){for(var n=t.parentNode;n&&1===n.nodeType;){if(this.matches(n,e))return n;n=n.parentNode}return null}},offset:function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},createPlaceholder:function(){var t=this.pfx,e=document.createElement("div"),n=document.createElement("div");return e.className=t+"placeholder",e.style.display="none",e.style["pointer-events"]="none",n.className=t+"placeholder-int",e.appendChild(n),e},startSort:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.em,r=this.itemSel,o=this.containerSel,a=this.getContainerEl(n.container),s=this.getDocuments(t),l=this.onStart,u=this.plh;this.dropModel=null,this.target=null,this.prevTarget=null,this.moved=0,t&&!this.matches(t,"".concat(r,", ").concat(o))&&(t=this.closest(t,r)),this.eV=t,u||(u=this.createPlaceholder(),a.appendChild(u),this.plh=u),t&&((e=this.getSourceModel(t))&&e.set&&e.set("status","freezed"),this.srcModel=e),Object(c.w)(a,"mousemove dragover",this.onMove),Object(c.w)(s,"mouseup dragend touchend",this.endMove),Object(c.w)(s,"keydown",this.rollback),l&&l({target:e,parent:e&&e.parent(),index:e&&e.index()}),i&&i.clearSelection(),this.toggleSortCursor(1),i&&i.trigger("sorter:drag:start",t,e)},getTargetModel:function(t){var e=t||this.target;return h(e).data("model")},getSourceModel:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.target,r=n.avoidChildren,o=void 0===r?1:r,a=this.em,s=this.eV,l=t||s,c=this.dropModel,u=this.dropContent,f=function(t){return t&&i&&t.opt&&t.opt.avoidChildren&&e.isTextableActive(t,i)};if(u&&a){if(f(c)&&(c=null),!c){var p=a.get("DomComponents").getComponents(),g={avoidChildren:o,avoidStore:1,avoidUpdateStyle:1},m=p.add(u,d(d({},g),{},{temporary:1}));if(c=(c=p.remove(m,g))instanceof Array?c[0]:c,this.dropModel=c,f(c))return this.getSourceModel(l,{target:i,avoidChildren:0})}return c}return l&&h(l).data("model")},selectTargetModel:function(t,e){if(!(t instanceof s.a.Collection||e&&e===t)){var n=this.targetModel;n&&n!==this.srcModel&&n.set("status",""),t&&t.set&&(t.set("status","selected-parent"),this.targetModel=t)}},onMove:function(t){var e=t,n=this.em,i=this.onMoveClb,r=this.plh;this.moved=1;var o=r.style.display;o&&"none"!==o||(r.style.display="block");var a=this.offset(this.el);this.elT=this.wmargin?Math.abs(a.top):a.top,this.elL=this.wmargin?Math.abs(a.left):a.left;var s=t.pageY-this.elT+this.el.scrollTop,c=t.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&n){var u=n.get("Canvas").getMouseRelativeCanvas(t,{noScroll:1});c=u.x,s=u.y}this.rX=c,this.rY=s,this.eventMove=t;var d=this.getSourceModel(),f=this.dimsFromTarget(t.target,c,s),p=this.target,g=p&&this.getTargetModel(p);if(this.selectTargetModel(g,d),g||(r.style.display="none"),p){this.lastDims=f;var m=this.findPosition(f,c,s);this.isTextableActive(d,g)?(this.activeTextModel=g,this.setContentEditable(g,!0),r.style.display="none",this.lastPos=m,this.updateTextViewCursorPosition(e)):(this.disableTextable(),this.activeTextModel=null,this.lastPos&&this.lastPos.index==m.index&&this.lastPos.method==m.method||(this.movePlaceholder(this.plh,f,m,this.prevTargetDim),this.$plh||(this.$plh=h(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=m)),Object(l.isFunction)(i)&&i({event:t,target:d,parent:g,index:m.index+("after"==m.method?1:0)}),n&&n.trigger("sorter:drag",{target:p,targetModel:g,sourceModel:d,dims:f,pos:m,x:c,y:s})}},isTextableActive:function(t,e){return t&&t.get&&t.get("textable")&&e&&e.is("text")},disableTextable:function(){var t=this.activeTextModel;t&&t.getView().disableEditing()},isInFlow:function(t,e){if(!t)return!1;e=e||document.body;var n=t;return n.offsetHeight,!!this.styleInFlow(n,e)},styleInFlow:function(t,e){if(!Object(c.s)(t)){var n=t.style||{},i=h(t),r=e&&h(e);if(!(n.overflow&&"visible"!==n.overflow||"none"!==i.css("float")||r&&"flex"==r.css("display")&&"column"!==r.css("flex-direction"))){switch(n.position){case"static":case"relative":case"":break;default:return}switch(t.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(i.css("display")){case"block":case"list-item":case"table":case"flex":return!0}}}},validTarget:function(t,e){var n=this.getTargetModel(t),i=this.getSourceModel(e,{target:n}),r={valid:!0,src:e=i&&i.view&&i.view.el,srcModel:i,trg:t=n&&n.view&&n.view.el,trgModel:n};if(!e||!t)return r.valid=!1,r;var o=i.get("draggable");o=o instanceof Array?o.join(", "):o,r.dragInfo=o,o=Object(l.isString)(o)?this.matches(t,o):o,r.draggable=o;var a=n.get("droppable");return a=(a=a instanceof s.a.Collection?1:a)instanceof Array?a.join(", "):a,r.dropInfo=a,a=Object(l.isString)(a)?this.matches(e,a):a,a=o&&this.isTextableActive(i,n)?1:a,r.droppable=a,a&&o||(r.valid=!1),r},dimsFromTarget:function(t,e,n){var i=this.em,r=[];if(!t)return r;if(this.matches(t,"".concat(this.itemSel,", ").concat(this.containerSel))||(t=this.closest(t,this.itemSel)),this.draggable instanceof Array&&(t=this.closest(t,this.draggable.join(","))),!t)return r;if(this.prevTarget&&this.prevTarget!=t&&(this.prevTarget=null),!this.prevTarget){this.targetP=this.closest(t,this.containerSel);var o=this.validTarget(t);if(i&&i.trigger("sorter:drag:validation",o),!o.valid&&this.targetP)return this.dimsFromTarget(this.targetP,e,n);this.prevTarget=t,this.prevTargetDim=this.getDim(t),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(t)}if(this.prevTarget==t&&(r=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,e,n)||!this.nested&&!this.cacheDims.length){var a=this.targetP;a&&this.validTarget(a).valid&&(r=this.cacheDimsP,this.target=a)}return this.lastPos=null,r},getTargetFromEl:function(t){var e,n=t,i=this.targetPrev,r=this.em,o=this.containerSel,a=this.itemSel;if(this.matches(n,"".concat(a,", ").concat(o))||(n=this.closest(n,a)),this.draggable instanceof Array&&(n=this.closest(n,this.draggable.join(","))),i&&i!=n&&(this.targetPrev=""),!this.targetPrev){e=this.closest(n,o);var s=this.validTarget(n);if(r&&r.trigger("sorter:drag:validation",s),!s.valid&&e)return this.getTargetFromEl(e);this.targetPrev=n}return this.nearElBorders(n)&&(e=this.closest(n,o))&&this.validTarget(e).valid&&(n=e),n},nearElBorders:function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument.body,i=this.getCurrentPos(),r=i.x,o=i.y,a=e.top+n.scrollTop,s=e.left+n.scrollLeft,l=e.width,c=e.height;if(o<a+10||o>a+c-10||r<s+10||r>s+l-10)return 1},getCurrentPos:function(){var t=this.eventMove;return{x:t.pageX||0,y:t.pageY||0}},getDim:function(t){var e,n,i,r,o=this.em;if(this.canvasRelative&&o){var a=o.get("Canvas"),s=a.getElementPos(t,{noScroll:1}),l=a.getElementOffsets(t);e=s.top-l.marginTop,n=s.left-l.marginLeft,i=s.height+l.marginTop+l.marginBottom,r=s.width+l.marginLeft+l.marginRight}else{var c=this.offset(t);e=this.relative?t.offsetTop:c.top-(this.wmargin?-1:1)*this.elT,n=this.relative?t.offsetLeft:c.left-(this.wmargin?-1:1)*this.elL,i=t.offsetHeight,r=t.offsetWidth}return[e,n,i,r]},getChildrenDim:function(t){var e=this,n=[];if(!t)return n;var i=this.getTargetModel(t);if(i&&i.view&&!this.ignoreViewChildren){var r=i.getCurrentView?i.getCurrentView():i.view;t=r.getChildrenContainer()}return Object(l.each)(t.children,function(i,r){var o=Object(c.g)(i,h),a=o&&o.index?o.index():r;if(Object(c.s)(i)||e.matches(i,e.itemSel)){var s=e.getDim(i),l=e.direction;l="v"==l||"h"!=l&&e.isInFlow(i,t),s.push(l,i,a),n.push(s)}}),n},nearBorders:function(t,e,n){var i=0,r=this.borderOffset,o=e||0,a=n||0,s=t[0],l=t[1],c=t[2],u=t[3];return(s+r>a||a>s+c-r||l+r>o||o>l+u-r)&&(i=1),!!i},findPosition:function(t,e,n){for(var i={index:0,indexEl:0,method:"before"},r=0,o=0,a=0,s=0,l=0,c=0,u=0,d=0,h=0,f=t.length;h<f;h++)if(a=(d=t[h])[1]+d[3],u=d[0]+d[2],l=d[1]+d[3]/2,c=d[0]+d[2]/2,!(o&&d[1]>o||s&&c>=s||r&&a<r))if(i.index=h,i.indexEl=d[6],d[4]){if(n<c){i.method="before";break}i.method="after"}else n<u&&(s=u),e<l?(o=l,i.method="before"):(r=l,i.method="after");return i},movePlaceholder:function(t,e,n,i){var r=0,o=0,a=0,s=0,l="px",c=n.method,u=e[n.index];if(t.classList.remove("vertical"),t.classList.add("horizontal"),u)u[4]?(a=u[3]+l,s="auto",r="before"==c?u[0]-0:u[0]+u[2]-0,o=u[1]):(a="auto",s=u[2]-0+l,r=u[0]+0,o="before"==c?u[1]-0:u[1]+u[3]-0,t.classList.remove("horizontal"),t.classList.add("vertical"));else{if(!this.nested)return void(t.style.display="none");i&&(r=i[0]+5,o=i[1]+5,a=parseInt(i[3])-10+l,s="auto")}t.style.top=r+l,t.style.left=o+l,a&&(t.style.width=a),s&&(t.style.height=s)},endMove:function(t){var e,n=this,i=this.eV,r=[],o=this.getDocuments(),a=this.getContainerEl(),s=this.onEndMove,u=this.target,h=this.lastPos;if(Object(c.v)(a,"mousemove dragover",this.onMove),Object(c.v)(o,"mouseup dragend touchend",this.endMove),Object(c.v)(o,"keydown",this.rollback),this.plh.style.display="none",i&&(e=this.getSourceModel(),this.selectOnEnd&&e&&e.set&&(e.set("status",""),e.set("status","selected"))),this.moved){var f=this.toMove;(Object(l.isArray)(f)?f:f?[f]:[i]).forEach(function(t){r.push(n.move(u,t,h))})}this.plh&&(this.plh.style.display="none");var p=this.dragHelper;if(p&&(p.parentNode.removeChild(p),this.dragHelper=null),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),this.toMove=null,this.eventMove=0,this.dropModel=null,Object(l.isFunction)(s)){var g={target:e,parent:e&&e.parent(),index:e&&e.index()};r.length?r.forEach(function(t){return s(t,n,g)}):s(null,this,d(d({},g),{},{cancelled:1}))}},move:function(t,e,n){var i=this.em,r=this.activeTextModel,o=this.dropContent,a=Object(c.e)(e);i&&i.trigger("component:dragEnd:before",t,a,n);var l,u,f,p=n.indexEl,g=[],m=this.validTarget(t,a),v=h(t).data("collection"),y=m.srcModel,b=m.droppable,w=m.trgModel,E=m.draggable,C=m.dropInfo||w&&w.get("droppable"),T=m.dragInfo||y&&y.get("draggable");b=w instanceof s.a.Collection?1:b;var _=this.isTextableActive(y,w);if(v&&b&&E){var O={at:p="after"===n.method?p+1:p,noIncrement:1};if(o?(l=o,O.silent=!1,O.avoidUpdateStyle=1):(O.temporary=1,u=v.add({},d({},O)),y.collection&&(l=y.collection.remove(y,{temporary:1}))),_){var k=r.getView();r.trigger("active");var D=k.activeRte,x=y.getEl();delete y.opt.temporary,y.getView().render(),x.setAttribute("data-gjs-textable","true");var I=x.outerHTML;D.insertHTML&&D.insertHTML(I)}else f=v.add(l,O);o?this.dropContent=null:v.remove(u),this.prevTarget=null}else i&&(!v&&g.push("Target collection not found"),!b&&C&&g.push("Target is not droppable, accepts [".concat(C,"]")),!E&&T&&g.push("Component not draggable, acceptable by [".concat(T,"]")),i.logWarning("Invalid target position",{errors:g,model:y,context:"sorter",target:w}));return i&&(i.trigger("component:dragEnd",v,l,g),i.trigger("sorter:drag:end",{targetCollection:v,modelToDrop:l,warns:g,validResult:m,dst:t,srcEl:a})),f},rollback:function(t){Object(c.v)(this.getDocuments(),"keydown",this.rollback),27==(t.which||t.keyCode)&&(this.moved=0,this.endMove())}}),p=n(15),g=n.n(p),m=n(16),v=n.n(m);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var w={mousePosFetcher:null,updateTarget:null,ratioDefault:0,posFetcher:null,onStart:null,onMove:null,onEnd:null,onUpdateContainer:function(){},step:1,minDim:10,maxDim:"",unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:1,silentFrames:0,avoidContainerUpdate:0,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:1,tc:1,tr:1,cl:1,cr:1,bl:1,bc:1,br:1},E=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return g()(this,t),this.setOptions(e),Object(l.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop"),this}return v()(t,[{key:"getConfig",value:function(){return this.opts}},{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=Object(l.defaults)(t,w),this.setup()}},{key:"setup",value:function(){var t=this.opts,e=t.prefix||"",n=t.appendTo||document.body,i=this.container;for(i||((i=document.createElement("div")).className="".concat(e,"resizer-c"),n.appendChild(i),this.container=i);i.firstChild;)i.removeChild(i.firstChild);var r={};for(var o in["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(e){return r[e]=t[e]?function(t,e){var n=e.prefix||"",i=document.createElement("i");return i.className=n+"resizer-h "+n+"resizer-h-"+t,i.setAttribute("data-"+n+"handler",t),i}(e,t):""}),r){var a=r[o];a&&i.appendChild(a)}this.handlers=r,this.mousePosFetcher=t.mousePosFetcher,this.updateTarget=t.updateTarget,this.posFetcher=t.posFetcher,this.onStart=t.onStart,this.onMove=t.onMove,this.onEnd=t.onEnd,this.onUpdateContainer=t.onUpdateContainer}},{key:"toggleFrames",value:function(t){if(this.opts.silentFrames){var e=document.querySelectorAll("iframe");Object(l.each)(e,function(e){return e.style.pointerEvents=t?"none":""})}}},{key:"isHandler",value:function(t){var e=this.handlers;for(var n in e)if(e[n]===t)return!0;return!1}},{key:"getFocusedEl",value:function(){return this.el}},{key:"getParentEl",value:function(){return this.el.parentElement}},{key:"getDocumentEl",value:function(){return[this.el.ownerDocument,document]}},{key:"getElementPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.posFetcher||"";return n?n(t,e):function(t,e){var n=e||window,i=t.getBoundingClientRect();return{left:i.left+n.pageXOffset,top:i.top+n.pageYOffset,width:i.width,height:i.height}}(t)}},{key:"focus",value:function(t){t&&t===this.el||(this.el=t,this.updateContainer({forceShow:1}),Object(c.w)(this.getDocumentEl(),"mousedown",this.handleMouseDown))}},{key:"blur",value:function(){this.container.style.display="none",this.el&&(Object(c.v)(this.getDocumentEl(),"mousedown",this.handleMouseDown),this.el=null)}},{key:"start",value:function(t){if(0===t.button){t.preventDefault(),t.stopPropagation();var e=this.el,n=this.getParentEl(),i=this.opts||{},r="data-"+i.prefix+"handler",o=this.getElementPos(e,{target:"el"}),a=this.getElementPos(n);this.handlerAttr=t.target.getAttribute(r),this.clickedHandler=t.target,this.startDim={t:o.top,l:o.left,w:o.width,h:o.height},this.rectDim={t:o.top,l:o.left,w:o.width,h:o.height},this.startPos={x:t.clientX,y:t.clientY},this.parentDim={t:a.top,l:a.left,w:a.width,h:a.height};var s=this.getDocumentEl();Object(c.w)(s,"mousemove",this.move),Object(c.w)(s,"keydown",this.handleKeyDown),Object(c.w)(s,"mouseup",this.stop),Object(l.isFunction)(this.onStart)&&this.onStart(t,{docs:s,config:i,el:e,resizer:this}),this.toggleFrames(1),this.move(t)}}},{key:"move",value:function(t){var e=this.onMove,n=this.mousePosFetcher,i=n?n(t):{x:t.clientX,y:t.clientY};this.currentPos=i,this.delta={x:i.x-this.startPos.x,y:i.y-this.startPos.y},this.keys={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey},this.rectDim=this.calc(this),this.updateRect(0),e&&e(t),0===t.which&&this.stop(t)}},{key:"stop",value:function(t){var e=this.opts,n=this.getDocumentEl();Object(c.v)(n,"mousemove",this.move),Object(c.v)(n,"keydown",this.handleKeyDown),Object(c.v)(n,"mouseup",this.stop),this.updateRect(1),this.toggleFrames(),Object(l.isFunction)(this.onEnd)&&this.onEnd(t,{docs:n,config:e})}},{key:"updateRect",value:function(t){var e=this.el,n=this.opts,i=this.rectDim,r=this.updateTarget,o=this.getSelectedHandler(),a=n.unitHeight,s=n.unitWidth,c=n.keyWidth,u=n.keyHeight;if(Object(l.isFunction)(r))r(e,i,{store:t,selectedHandler:o,resizer:this,config:n});else{var d=e.style;d[c]=i.w+s,d[u]=i.h+a}this.updateContainer()}},{key:"updateContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.opts,n=this.container,i=this.el,r=n.style;!e.avoidContainerUpdate&&i&&t.forceShow&&(r.display="block"),this.onUpdateContainer({el:n,resizer:this,opts:b(b({},e),t)})}},{key:"getSelectedHandler",value:function(){var t=this.handlers;if(this.selectedHandler)for(var e in t)if(t[e]===this.selectedHandler)return e}},{key:"handleKeyDown",value:function(t){27===t.keyCode&&(this.rectDim=this.startDim,this.stop(t))}},{key:"handleMouseDown",value:function(t){var e=t.target;this.isHandler(e)?(this.selectedHandler=e,this.start(t)):e!==this.el&&(this.selectedHandler="",this.blur())}},{key:"calc",value:function(t){var e,n=this.opts||{},i=n.step,r=this.startDim,o=n.minDim,a=n.maxDim,s=t.delta.x,l=t.delta.y,u=this.parentDim.w,d=this.parentDim.h,h=this.opts.unitWidth,f=this.opts.unitHeight,p="%"===h?r.w/100*u:r.w,g="%"===f?r.h/100*d:r.h,m={t:0,l:0,w:p,h:g};if(t){var v=t.handlerAttr;~v.indexOf("r")&&(e="%"===h?Object(c.u)((p+s*i)/u*100,.01):Object(c.u)(p+s*i,i),e=Math.max(o,e),a&&(e=Math.min(a,e)),m.w=e),~v.indexOf("b")&&(e="%"===f?Object(c.u)((g+l*i)/d*100,.01):Object(c.u)(g+l*i,i),e=Math.max(o,e),a&&(e=Math.min(a,e)),m.h=e),~v.indexOf("l")&&(e="%"===h?Object(c.u)((p-s*i)/u*100,.01):Object(c.u)(p-s*i,i),e=Math.max(o,e),a&&(e=Math.min(a,e)),m.w=e),~v.indexOf("t")&&(e="%"===f?Object(c.u)((g-l*i)/d*100,.01):Object(c.u)(g-l*i,i),e=Math.max(o,e),a&&(e=Math.min(a,e)),m.h=e);var y=n.ratioDefault?!t.keys.shift:t.keys.shift;if(v.indexOf("c")<0&&y){var b=r.w/r.h;m.w/m.h>b?m.h=Math.round(m.w/b):m.w=Math.round(m.h*b)}return~v.indexOf("l")&&(m.l=r.w-m.w),~v.indexOf("t")&&(m.t=r.h-m.h),m}}}]),t}(),C={init:function(t){return new E(t)}};e.default=function(){return{name:"Utils",init:function(){return this},destroy:function(){},Sorter:f,Resizer:C,Dragger:i.a}}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),o=n(8),a=n.n(o),s=n(0),l={placeholder:"eg. Text here"},c={locale:"en",localeFallback:"en",detectLocale:1,debug:0,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",traits:{labels:{},attributes:{id:l,alt:l,title:l,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}}}}};function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var h=function(t){return!Array.isArray(t)&&null!==t&&"object"===a()(t)};e.default=function(){return{name:"I18n",config:c,init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.config=d(d(d({},c),t),{},{messages:d(d({},c.messages),t.messages||{})}),this.config.detectLocale&&(this.config.locale=this._localLang()),this.em=t.em,this},getConfig:function(){return this.config},setLocale:function(t){var e=this.em,n=this.config,i={value:t,valuePrev:n.locale};return e&&e.trigger("i18n:locale",i),n.locale=t,this},getLocale:function(){return this.config.locale},getMessages:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.config.messages;return t&&!n[t]&&this._debug("'".concat(t,"' i18n lang not found"),e),t?n[t]:n},setMessages:function(t){var e=this.em;return this.config.messages=t,e&&e.trigger("i18n:update",t),this},addMessages:function(t){var e=this.em,n=this.config.messages;return e&&e.trigger("i18n:add",t),this.setMessages(function t(){for(var e=d({},arguments.length<=0?void 0:arguments[0]),n=1;n<arguments.length;n++){var i=d({},n<0||arguments.length<=n?void 0:arguments[n]);for(var r in i){var o=e[r],a=i[r];h(o)&&h(a)?e[r]=t(o,a):e[r]=a}}return e}(n,t)),this},t:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.config,i=e.params||{},r=e.l||this.getLocale(),o=e.lFlb||n.localeFallback,a=this._getMsg(t,r,e);return a||(a=this._getMsg(t,o,e)),!a&&this._debug("'".concat(t,"' i18n key not found in '").concat(r,"' lang"),e),a&&Object(s.isString)(a)?this._addParams(a,i):a},_localLang:function(){var t=window.navigator||{},e=t.language||t.userLanguage;return e?e.split("-")[0]:"en"},_addParams:function(t,e){var n=new RegExp("{([\\w\\d-]*)}","g");return t.replace(n,function(t,n){return e[n]||""}).trim()},_getMsg:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getMessages(e,n);if(i){var r=i[t];return!r&&t.indexOf(".")>0&&(r=t.split(".").reduce(function(t,e){if(!Object(s.isUndefined)(t))return t[e]},i)),r}},_debug:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.em,i=this.config;(e.debug||i.debug)&&n&&n.logWarning(t)},destroy:function(){this.config=c,this.em={}}}}},function(t,e,n){"use strict";n.r(e);var i=n(7),r=n.n(i),o=n(2),a=n.n(o),s=n(15),l=n.n(s),c=n(16),u=n.n(c),d=n(3);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var p="_rte",g=function(t){var e=t.selection().anchorNode,n=e&&e.parentNode,i=e&&e.nextSibling;return n&&"A"==n.nodeName||i&&"A"==i.nodeName},m={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(t){return t.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(t){return t.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(t){return t.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(t){return t.exec("strikeThrough")}},link:{icon:'<span style="transform:rotate(45deg)">&supdsub;</span>',name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(t,e){return t&&t.selection()&&g(t)?1:0},result:function(t){g(t)?t.exec("unlink"):t.insertHTML('<a class="link" href="">'.concat(t.selection(),"</a>"))}}},v=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t);var i=n.el;if(i[p])return i[p];i[p]=this,this.setEl(i),this.updateActiveActions=this.updateActiveActions.bind(this);var r=n.actions||[];r.forEach(function(t,e){"string"==typeof t?t=m[t]:m[t.name]&&(t=f(f({},m[t.name]),t)),r[e]=t});var o=r.length?r:Object.keys(m).map(function(t){return m[t]});n.classes=f(f({},{actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"}),n.classes);var a=n.classes,s=n.actionbar;if(this.actionbar=s,this.settings=n,this.classes=a,this.actions=o,!s){var c=n.actionbarContainer;(s=document.createElement("div")).className=a.actionbar,c.appendChild(s),this.actionbar=s,o.forEach(function(t){return e.addAction(t)})}return n.styleWithCSS&&this.exec("styleWithCSS"),this.syncActions(),this}return u()(t,[{key:"destroy",value:function(){this.el=0,this.doc=0,this.actionbar=0,this.settings={},this.classes={},this.actions=[]}},{key:"setEl",value:function(t){this.el=t,this.doc=t.ownerDocument}},{key:"updateActiveActions",value:function(){var t=this;this.getActions().forEach(function(e){var n=e.btn,i=e.update,r=f({},t.classes),o=r.active,a=r.inactive,s=r.disabled,l=e.state,c=e.name,u=t.doc;if(n.className=n.className.replace(o,"").trim(),n.className=n.className.replace(a,"").trim(),n.className=n.className.replace(s,"").trim(),l)switch(l(t,u)){case 1:n.className+=" ".concat(o);break;case 0:n.className+=" ".concat(a);break;case-1:n.className+=" ".concat(s)}else u.queryCommandSupported(c)&&u.queryCommandState(c)&&(n.className+=" ".concat(o));i&&i(t,e)})}},{key:"enable",value:function(){return this.enabled||(this.actionbarEl().style.display="",this.el.contentEditable=!0,Object(d.w)(this.el,"mouseup keyup",this.updateActiveActions),this.syncActions(),this.updateActiveActions(),this.el.focus(),this.enabled=1),this}},{key:"disable",value:function(){return this.actionbarEl().style.display="none",this.el.contentEditable=!1,Object(d.v)(this.el,"mouseup keyup",this.updateActiveActions),this.enabled=0,this}},{key:"syncActions",value:function(){var t=this;this.getActions().forEach(function(e){if(t.settings.actionbar&&(!e.state||e.state&&e.state(t,t.doc)>=0)){var n=e.event||"click";e.btn["on".concat(n)]=function(n){e.result(t,e),t.updateActiveActions()}}})}},{key:"addAction",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).sync,n=document.createElement("span"),i=t.icon,r=t.attributes||{};for(var o in n.className=this.classes.button,t.btn=n,r)n.setAttribute(o,r[o]);"string"==typeof i?n.innerHTML=i:n.appendChild(i),this.actionbarEl().appendChild(n),e&&(this.actions.push(t),this.syncActions())}},{key:"getActions",value:function(){return this.actions}},{key:"selection",value:function(){return this.doc.getSelection()}},{key:"exec",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.doc.execCommand(t,!1,e)}},{key:"actionbarEl",value:function(){return this.actionbar}},{key:"insertHTML",value:function(t){var e=this.doc,n=e.getSelection();if(n&&n.rangeCount){var i=e.createElement("div"),r=n.getRangeAt(0);r.deleteContents(),i.innerHTML=t,Array.prototype.slice.call(i.childNodes).forEach(function(t){r.insertNode(t)}),n.removeAllRanges(),n.addRange(r),this.el.focus()}}}]),t}(),y={stylePrefix:"rte-",adjustToolbar:1,actions:["bold","italic","underline","strikethrough","link"]};function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e.default=function(){var t,e,n,i,o,a={},s=function(){var e=t.style,n="-1000px";e.top=n,e.left=n,e.display="none"};return{customRte:null,name:"RichTextEditor",getConfig:function(){return a},init:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(a=w(w({},y),n)).pStylePrefix;return i&&(a.stylePrefix=i+a.stylePrefix),this.pfx=a.stylePrefix,e=a.actions||[],(t=document.createElement("div")).className="".concat(i,"rte-toolbar ").concat(i,"one-bg"),o=this.initRte(document.createElement("div")),Object(d.w)(t,"mousedown",function(t){return t.stopPropagation()}),this},destroy:function(){var r=this.customRte;o&&o.destroy(),r&&r.destroy&&r.destroy(),this.actionbar=0,this.actions=0,[a,t,e,n,i,o].forEach(function(t){return{}})},postRender:function(e){var n=e.model.get("Canvas");t.style.pointerEvents="all",s(),n.getToolsEl().appendChild(t)},initRte:function(e){var n=this.pfx,i=t,s=this.actionbar,l=this.actions||r()(a.actions),c={actionbar:"".concat(n,"actionbar"),button:"".concat(n,"action"),active:"".concat(n,"active"),inactive:"".concat(n,"inactive"),disabled:"".concat(n,"disabled")},u=new v({el:e,classes:c,actions:l,actionbar:s,actionbarContainer:i});return o&&o.setEl(e),u.actionbar&&(this.actionbar=u.actionbar),u.actions&&(this.actions=u.actions),u},add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=t,o.addAction(e,{sync:1})},get:function(t){var e;return o.getActions().forEach(function(n){n.name==t&&(e=n)}),e},getAll:function(){return o.getActions()},remove:function(t){var e=this.getAll(),n=this.get(t);if(n){var i=n.btn,r=e.indexOf(n);i.parentNode.removeChild(i),e.splice(r,1)}return n},getToolbarEl:function(){return t},updatePosition:function(){var e=a.em.get("Canvas"),i=t.style,r=e.getTargetToElementFixed(n,t,{event:"rteToolbarPosUpdate"});i.top=r.top+"px",i.left="0px"},enable:function(e,r){n=e.el;var o=a.em.get("Canvas"),s=a.em,l=e.getChildrenContainer(),c=this.customRte;if(i=o.getElementPos(n),t.style.display="",r=c?c.enable(l,r):this.initRte(l).enable(),s){setTimeout(this.updatePosition.bind(this),0);var u="change:canvasOffset canvasScroll frame:scroll component:update";s.off(u,this.updatePosition,this),s.on(u,this.updatePosition,this),s.trigger("rte:enable",e,r)}return r},disable:function(t,e){var n=a.em,i=this.customRte,r=t.getChildrenContainer();i?i.disable(r,e):e&&e.disable(),s(),n&&n.trigger("rte:disable",t,e)}}}},function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),o=n(0),a={stylePrefix:"css-",staticRules:"",rules:[]},s=n(34),l=n(33),c=n(37),u=n(12),d=n(10);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}e.default=function(){var t,e,n,i={};return{Selectors:u.a,name:"CssComposer",getConfig:function(){return i},storageKey:function(){var t=[],e=i.stm&&i.stm.getConfig()||{};return e.storeCss&&t.push("css"),e.storeStyles&&t.push("styles"),t},init:function(r){for(var o in i=r||{},a)o in i||(i[o]=a[o]);var s=i.pStylePrefix;s&&(i.stylePrefix=s+i.stylePrefix);var u=i.em&&i.em.config.style||"";return i.rules=u||i.rules,t=i.em,e=new l.a([],i),n=new c.a({collection:e,config:i}),this},onLoad:function(){e.add(i.rules)},postLoad:function(t){var e=this,n="add remove",i=this.getAll(),r=t.get("UndoManager");r&&r.add(i),t.stopListening(i,n,this.handleChange),t.listenTo(i,n,this.handleChange),i.each(function(t){return e.handleChange(t,null,{avoidStore:1})})},handleChange:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="change:style",o=t.get("UndoManager");o&&o.add(e);var a=t.handleUpdates.bind(t);t.stopListening(e,r,a),t.listenTo(e,r,a),!i.avoidStore&&a("","",i)},load:function(t){var n=t||"";!n&&i.stm&&(n=i.em.getCacheLoad());var r=n.styles||"";if(n.styles)try{r=JSON.parse(n.styles)}catch(t){}else n.css&&(r=i.em.get("Parser").parseCss(n.css));return Object(o.isArray)(r)?r.length&&e.reset(r):r&&e.reset(r),r},store:function(t){if(i.stm){var n={},r=this.storageKey();return r.indexOf("css")>=0&&(n.css=i.em.getCss()),r.indexOf("styles")>=0&&(n.styles=JSON.stringify(e)),t||i.stm.store(n),n}},add:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=n||"",c=r||"",u=f({},o),d=this.get(t,l,c,u);return d&&d.config&&!d.config.singleAtRule||(u.state=l,u.mediaText=c,u.selectors=[],(d=new s.a(u,i)).get("selectors").add(t,a),e.add(d,a)),d},get:function(t,n,i,r){var o=null;return e.each(function(e){o||e.compare(t,n,i,r)&&(o=e)}),o},getAll:function(){return e},clear:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().reset(null,t),this},addCollection:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=t instanceof Array?t:[t],o=0,a=r.length;o<a;o++){var s=r[o]||{};if(s.selectors){var l=i.em&&i.em.get("SelectorManager");l||console.warn("Selector Manager not found");for(var c=s.selectors,u=c instanceof Array?c:[c],d=[],h=0,p=u.length;h<p;h++){var g=l.add(u[h]);d.push(g)}var m=this.get(d,s.state,s.mediaText,s),v=this.add(d,s.state,s.mediaText,s),y=!m||!e.avoidUpdateStyle,b=s.style||{};if(y){var w=e.extend?f(f({},v.get("style")),b):b;v.set("style",w)}n.push(v)}}return n},setRule:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.atRuleType,o=i.atRuleParams,a=t.get("Parser").parserCss.checkNode({selectors:e,style:n})[0],s=a.state,l=a.selectorsAdd,c=t.get("SelectorManager").add(a.selectors),u=this.add(c,s,o,{selectorsAdd:l,atRule:r});return u.setStyle(n,i),u},getRule:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.get("SelectorManager"),r=t.get("Parser").parserCss.checkNode({selectors:e})[0],o=i.get(r.selectors),a=r.state,s=r.selectorsAdd,l=n.atRuleType,c=n.atRuleParams;return o&&this.get(o,a,c,{selectorsAdd:s,atRule:l})},getRules:function(t){return this.getAll().filter(function(e){return e.getSelectors().getFullString()===t})},setIdRule:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.addOpts,o=void 0===r?{}:r,a=i.state||"",s=i.mediaText||t.getCurrentMedia(),l=t.get("SelectorManager").add({name:e,type:d.a.TYPE_ID},o),c=this.add(l,a,s,{},o);return c.setStyle(n,f(f({},i),o)),c},getIdRule:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.state||"",r=n.mediaText||t.getCurrentMedia(),o=t.get("SelectorManager").get(e,d.a.TYPE_ID);return o&&this.get(o,i,r)},setClassRule:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.state||"",o=i.mediaText||t.getCurrentMedia(),a=t.get("SelectorManager").add({name:e,type:d.a.TYPE_CLASS}),s=this.add(a,r,o);return s.setStyle(n,i),s},getClassRule:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.state||"",r=n.mediaText||t.getCurrentMedia(),o=t.get("SelectorManager").get(e,d.a.TYPE_CLASS);return o&&this.get(o,i,r)},render:function(){return n.render().el},destroy:function(){e.reset(),e.stopListening(),n.remove(),[t,e,n].forEach(function(t){return null}),i={}}}}},function(t,e,n){"use strict";n.r(e);var i=n(7),r=n.n(i),o=n(2),a=n.n(o),s=n(0),l=n(22),c={stylePrefix:"com-",defaults:[],strict:1},u=n(5);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var f=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]];e.default=function(){var t,e={},i={},o={},a={};return{CommandAbstract:l.default,name:"Commands",init:function(){var i=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=h(h({},c),a),t=e.em;var l=e.pStylePrefix;return l&&(e.stylePrefix=l+e.stylePrefix),Object.keys(e.defaults).forEach(function(t){var n=e.defaults[t];n.id&&i.add(n.id,n)}),o["tlb-delete"]={run:function(t){return t.runCommand("core:component-delete")}},o["tlb-clone"]={run:function(t){t.runCommand("core:copy"),t.runCommand("core:paste")}},o["tlb-move"]={run:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.getModel(),o=n&&n.event,a=n.target,l=a||t.getSelected(),c=a?[a]:r()(t.getSelectedAll()),d=o&&"dragstart"==o.type,h={preserveSelected:1};if(!l||!l.get("draggable"))return i.logWarning("The element is not draggable");var f=l.get("dmode")||i.get("dmode"),p=function(){return i.stopDefault(h)},g=Object(s.includes)(["absolute","translate"],f);c.forEach(function(t){return t.trigger("disable")}),d?setTimeout(p,0):p();var m=function(t){i.trigger("".concat(u.b,":start"),t)},v=function(t){i.trigger(u.b,t)},y=function(e,n,r){c.forEach(function(t){return t.set("status","selected")}),t.select(c),l.emitUpdate(),i.trigger("".concat(u.b,":end"),r),setTimeout(function(){return i.runDefault(h)}),(g||r.cancelled)&&i.set("_cmpDrag",1)};if(g)t.runCommand("core:component-drag",{guidesInfo:1,mode:f,target:l,onStart:m,onDrag:v,onEnd:y,event:o});else{d&&o.dataTransfer.setDragImage(l.view.el,0,0);var b=t.Commands.get("move-comp");b.onStart=m,b.onDrag=v,b.onEndMoveFromModel=y,b.initSorterFromModels(c)}c.forEach(function(t){return t.set("status","freezed-selected")})}},o["core:undo"]=function(t){return t.UndoManager.undo()},o["core:redo"]=function(t){return t.UndoManager.redo()},f.forEach(function(e){var i=e[2],r=n(91)("./".concat(e[1])).default,a="core:".concat(e[0]);o[a]=r,i&&(o[i]=r,["run","stop"].forEach(function(e){t.on("".concat(e,":").concat(i),function(){for(var n,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=t).trigger.apply(n,["".concat(e,":").concat(a)].concat(r))})}))}),e.em&&(e.model=e.em.get("Canvas")),this.loadDefaultCommands(),this},add:function(t,e){return Object(s.isFunction)(e)&&(e={run:e}),e.stop||(e.noStop=1),delete e.initialize,e.id=t,i[t]=l.default.extend(e),this},get:function(n){var r=i[n];return Object(s.isFunction)(r)?(r=new r(e),i[n]=r):r||t.logWarning("'".concat(n,"' command not found")),r},extend:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.get(t);if(n){var i=h(h({},n.constructor.prototype),e);this.add(t,i);var r=f.filter(function(e){return"core:".concat(e[0])===t&&e[2]})[0];r&&this.add(r[2],i)}return this},has:function(t){return!!i[t]},getAll:function(){return i},run:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.runCommand(this.get(t),e)},stop:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.stopCommand(this.get(t),e)},isActive:function(t){return this.getActive().hasOwnProperty(t)},getActive:function(){return a},loadDefaultCommands:function(){for(var t in o)this.add(t,o[t]);return this},runCommand:function(n){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n&&n.run){var o=n.id,s=t.get("Editor");this.isActive(o)&&!r.force&&e.strict||(i=n.callRun(s,r),o&&n.stop&&!n.noStop&&!r.abort&&(a[o]=i))}return i},stopCommand:function(n){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n&&n.run){var o=n.id,s=t.get("Editor");(this.isActive(o)||r.force||!e.strict)&&(o&&delete a[o],i=n.callStop(s,r))}return i},create:function(t){return t.stop||(t.noStop=1),new(l.default.extend(t))(e)},destroy:function(){[t,e,i,o,a].forEach(function(t){return{}})}}}}]).default}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("grapesjs")):"function"==typeof define&&define.amd?define(["grapesjs"],e):"object"==typeof exports?exports["grapesjs-preset-webpage"]=e(require("grapesjs")):t["grapesjs-preset-webpage"]=e(t.grapesjs)}("undefined"!=typeof self?self:this,function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(e,n){e.exports=t},function(t,e,n){(function(t){function i(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(10),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,n(2))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cmdImport="gjs-open-import-webpage",e.cmdDeviceDesktop="set-device-desktop",e.cmdDeviceTablet="set-device-tablet",e.cmdDeviceMobile="set-device-mobile",e.cmdClear="canvas-clear"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(0)),o=i(n(5)),a=i(n(6)),s=i(n(7)),l=i(n(8)),c=i(n(9)),u=i(n(12)),d=i(n(13)),h=i(n(14)),f=i(n(16)),p=i(n(17)),g=i(n(18)),m=i(n(19));e.default=r.default.plugins.add("gjs-preset-webpage",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={blocks:["link-block","quote","text-basic"],modalImportTitle:"Import",modalImportButton:"Import",modalImportLabel:"",modalImportContent:"",importViewerOptions:{},textCleanCanvas:"Are you sure to clean the canvas?",showStylesOnChange:1,textGeneral:"General",textLayout:"Layout",textTypography:"Typography",textDecorations:"Decorations",textExtra:"Extra",customStyleManager:[],blocksBasicOpts:{},navbarOpts:{},countdownOpts:{},formsOpts:{},exportOpts:{},aviaryOpts:0,filestackOpts:0};for(var i in n)i in e||(e[i]=n[i]);var r=e.blocksBasicOpts,v=e.navbarOpts,y=e.countdownOpts,b=e.formsOpts,w=e.exportOpts,E=e.aviaryOpts,C=e.filestackOpts;r&&(0,o.default)(t,r),v&&(0,a.default)(t,v),y&&(0,s.default)(t,y),b&&(0,l.default)(t,b),w&&(0,c.default)(t,w),E&&(0,u.default)(t,E),C&&(0,d.default)(t,C),(0,p.default)(t,e),(0,f.default)(t,e),(0,h.default)(t,e),(0,g.default)(t,e),(0,m.default)(t,e)})},function(t,e,n){t.exports=function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=o.default.plugins.add("gjs-blocks-basic",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i({blocks:["column1","column2","column3","column3-7","text","link","image","video","map"],flexGrid:0,stylePrefix:"",addBasicStyle:!0,category:"Basic",labelColumn1:"1 Column",labelColumn2:"2 Columns",labelColumn3:"3 Columns",labelColumn37:"2 Columns 3/7",labelText:"Text",labelLink:"Link",labelImage:"Image",labelVideo:"Video",labelMap:"Map"},e);n(2).default(t,r)})},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,r=t.BlockManager,o=n.blocks,a=n.stylePrefix,s=n.flexGrid,l=n.addBasicStyle,c=a+"row",u=a+"cell",d=s?"\n    ."+c+" {\n      display: flex;\n      justify-content: flex-start;\n      align-items: stretch;\n      flex-wrap: nowrap;\n      padding: 10px;\n    }\n    @media (max-width: 768px) {\n      ."+c+" {\n        flex-wrap: wrap;\n      }\n    }":"\n    ."+c+" {\n      display: table;\n      padding: 10px;\n      width: 100%;\n    }\n    @media (max-width: 768px) {\n      ."+a+"cell, ."+a+"cell30, ."+a+"cell70 {\n        width: 100%;\n        display: block;\n      }\n    }",h=s?"\n    ."+u+" {\n      min-height: 75px;\n      flex-grow: 1;\n      flex-basis: 100%;\n    }":"\n    ."+u+" {\n      width: 8%;\n      display: table-cell;\n      height: 75px;\n    }",f="\n  ."+a+"cell30 {\n    width: 30%;\n  }",p="\n  ."+a+"cell70 {\n    width: 70%;\n  }",g={tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0,minDim:1},m=i({},g,{cr:1,bc:0,currentUnit:1,minDim:1,step:.2});s&&(m.keyWidth="flex-basis");var v={class:c,"data-gjs-droppable":"."+u,"data-gjs-resizable":g,"data-gjs-name":"Row"},y={class:u,"data-gjs-draggable":"."+c,"data-gjs-resizable":m,"data-gjs-name":"Cell"};s&&(y["data-gjs-unstylable"]=["width"],y["data-gjs-stylable-require"]=["flex-basis"]);var b=["."+c,"."+u];t.on("selector:add",function(t){return b.indexOf(t.getFullName())>=0&&t.set("private",1)});var w=function(t){var e=[];for(var n in t){var i=t[n],r=i instanceof Array||i instanceof Object;i=r?JSON.stringify(i):i,e.push(n+"="+(r?"'"+i+"'":'"'+i+'"'))}return e.length?" "+e.join(" "):""},E=function(t){return o.indexOf(t)>=0},C=w(v),T=w(y);E("column1")&&r.add("column1",{label:n.labelColumn1,category:n.category,attributes:{class:"gjs-fonts gjs-f-b1"},content:"<div "+C+">\n        <div "+T+"></div>\n      </div>\n      "+(l?"<style>\n          "+d+"\n          "+h+"\n        </style>":"")}),E("column2")&&r.add("column2",{label:n.labelColumn2,attributes:{class:"gjs-fonts gjs-f-b2"},category:n.category,content:"<div "+C+">\n        <div "+T+"></div>\n        <div "+T+"></div>\n      </div>\n      "+(l?"<style>\n          "+d+"\n          "+h+"\n        </style>":"")}),E("column3")&&r.add("column3",{label:n.labelColumn3,category:n.category,attributes:{class:"gjs-fonts gjs-f-b3"},content:"<div "+C+">\n        <div "+T+"></div>\n        <div "+T+"></div>\n        <div "+T+"></div>\n      </div>\n      "+(l?"<style>\n          "+d+"\n          "+h+"\n        </style>":"")}),E("column3-7")&&r.add("column3-7",{label:n.labelColumn37,category:n.category,attributes:{class:"gjs-fonts gjs-f-b37"},content:"<div "+C+">\n        <div "+T+' style="'+(s?"flex-basis":"width")+': 30%;"></div>\n        <div '+T+' style="'+(s?"flex-basis":"width")+': 70%;"></div>\n      </div>\n      '+(l?"<style>\n          "+d+"\n          "+h+"\n          "+f+"\n          "+p+"\n        </style>":"")}),E("text")&&r.add("text",{label:n.labelText,category:n.category,attributes:{class:"gjs-fonts gjs-f-text"},content:{type:"text",content:"Insert your text here",style:{padding:"10px"},activeOnRender:1}}),E("link")&&r.add("link",{label:n.labelLink,category:n.category,attributes:{class:"fa fa-link"},content:{type:"link",content:"Link",style:{color:"#d983a6"}}}),E("image")&&r.add("image",{label:n.labelImage,category:n.category,attributes:{class:"gjs-fonts gjs-f-image"},content:{style:{color:"black"},type:"image",activeOnRender:1}}),E("video")&&r.add("video",{label:n.labelVideo,category:n.category,attributes:{class:"fa fa-youtube-play"},content:{type:"video",src:"img/video2.webm",style:{height:"350px",width:"615px"}}}),E("map")&&r.add("map",{label:n.labelMap,category:n.category,attributes:{class:"fa fa-map-o"},content:{type:"map",style:{height:"350px"}}})}}])}(n(0))},function(t,e,n){t.exports=function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hNavbarRef="h-navbar",e.navbarRef="navbar",e.navbarItemsRef="navbar-items",e.menuRef="navbar-menu"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(3),s=i(a),l=n(4),c=i(l),u=n(0);e.default=o.default.plugins.add("gjs-navbar",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,i={blocks:[u.hNavbarRef],defaultStyle:1,navbarClsPfx:"navbar",labelNavbar:"Navbar",labelNavbarContainer:"Navbar Container",labelMenu:"Navbar Menu",labelMenuLink:"Menu link",labelBurger:"Burger",labelBurgerLine:"Burger Line",labelNavbarBlock:"Navbar",labelNavbarCategory:"Extra",labelHome:"Home",labelAbout:"About",labelContact:"Contact"};for(var r in i)r in n||(n[r]=i[r]);(0,s.default)(t,n),(0,c.default)(t,n)})},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,r=t.BlockManager,o=n.navbarClsPfx||"navbar",a=n.defaultStyle?"\n  <style>\n    ."+o+"-items-c {\n      display: inline-block;\n      float: right;\n    }\n\n    ."+o+" {\n      background-color: #222;\n      color: #ddd;\n      min-height: 50px;\n      width: 100%;\n    }\n\n    ."+o+"-container {\n      max-width: 950px;\n      margin: 0 auto;\n      width: 95%;\n    }\n\n    ."+o+'-container::after {\n      content: "";\n      clear: both;\n      display: block;\n    }\n\n    .'+o+"-brand {\n      vertical-align: top;\n      display: inline-block;\n      padding: 5px;\n      min-height: 50px;\n      min-width: 50px;\n      color: inherit;\n      text-decoration: none;\n    }\n\n    ."+o+"-menu {\n      padding: 10px 0;\n      display: block;\n      float: right;\n      margin: 0;\n    }\n\n    ."+o+"-menu-link {\n      margin: 0;\n      color: inherit;\n      text-decoration: none;\n      display: inline-block;\n      padding: 10px 15px;\n    }\n\n    ."+o+"-burger {\n      margin: 10px 0;\n      width: 45px;\n      padding: 5px 10px;\n      display: none;\n      float: right;\n      cursor: pointer;\n    }\n\n    ."+o+"-burger-line {\n      padding: 1px;\n      background-color: white;\n      margin: 5px 0;\n    }\n\n    @media (max-width: 768px) {\n      ."+o+"-burger {\n        display: block;\n      }\n\n      ."+o+"-items-c {\n        display: none;\n        width: 100%;\n      }\n\n      ."+o+"-menu {\n        width: 100%;\n      }\n\n      ."+o+"-menu-link {\n        display: block;\n      }\n    }\n  </style>\n  ":"";n.blocks.indexOf(i.hNavbarRef)>=0&&r.add(i.hNavbarRef,{label:'\n        <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n          <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z" fill-rule="nonzero"></path>\n          <rect class="gjs-block-svg-path" x="15" y="10" width="5" height="1"></rect>\n          <rect class="gjs-block-svg-path" x="15" y="13" width="5" height="1"></rect>\n          <rect class="gjs-block-svg-path" x="15" y="11.5" width="5" height="1"></rect>\n        </svg>\n        <div class="gjs-block-label">'+n.labelNavbarBlock+"</div>",category:n.labelNavbarCategory,content:'\n        <div class="'+o+'" data-gjs-droppable="false" data-gjs-custom-name="'+n.labelNavbar+'" data-gjs="'+i.navbarRef+'">\n          <div class="'+o+'-container" data-gjs-droppable="false" data-gjs-draggable="false"\n            data-gjs-removable="false" data-gjs-copyable="false" data-gjs-highlightable="false"\n            data-gjs-custom-name="'+n.labelNavbarContainer+'">\n\n            <a href="/" class="'+o+'-brand" data-gjs-droppable="true"></a>\n\n            <div class="'+o+'-burger" data-gjs-type="burger-menu">\n              <div class="'+o+'-burger-line" data-gjs-custom-name="'+n.labelBurgerLine+'" data-gjs-droppable="false" data-gjs-draggable="false"></div>\n              <div class="'+o+'-burger-line" data-gjs-custom-name="'+n.labelBurgerLine+'" data-gjs-droppable="false" data-gjs-draggable="false"></div>\n              <div class="'+o+'-burger-line" data-gjs-custom-name="'+n.labelBurgerLine+'" data-gjs-droppable="false" data-gjs-draggable="false"></div>\n            </div>\n\n            <div class="'+o+'-items-c" data-gjs="'+i.navbarItemsRef+'">\n              <nav class="'+o+'-menu" data-gjs="'+i.menuRef+'" data-gjs-custom-name="'+n.labelMenu+'">\n                <a href="#" class="'+o+'-menu-link" data-gjs-custom-name="'+n.labelMenuLink+'" data-gjs-draggable="[data-gjs='+i.menuRef+']">'+n.labelHome+'</a>\n                <a href="#" class="'+o+'-menu-link" data-gjs-custom-name="'+n.labelMenuLink+'" data-gjs-draggable="[data-gjs='+i.menuRef+']">'+n.labelAbout+'</a>\n                <a href="#" class="'+o+'-menu-link" data-gjs-custom-name="'+n.labelMenuLink+'" data-gjs-draggable="[data-gjs='+i.menuRef+']">'+n.labelContact+"</a>\n              </nav>\n            </div>\n\n          </div>\n        </div>\n        "+a+"\n      "})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,r=t.DomComponents,o=r.getType("default"),a=o.model;r.addType("burger-menu",{model:a.extend({defaults:i({},a.prototype.defaults,{"custom-name":n.labelBurger,draggable:!1,droppable:!1,copyable:!1,removable:!1,script:function(){var t,e=0,n=function(){var t,e=document.createElement("void"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}(),i=function(t){e=1;var n=function(t){var e=window.getComputedStyle(t),n=e.display,i=(e.position,e.visibility,e.height,parseInt(e["max-height"]));if("none"!==n&&"0"!==i)return t.offsetHeight;t.style.height="auto",t.style.display="block",t.style.position="absolute",t.style.visibility="hidden";var r=t.offsetHeight;return t.style.height="",t.style.display="",t.style.position="",t.style.visibility="",r}(t),i=t.style;i.display="block",i.transition="max-height 0.25s ease-in-out",i.overflowY="hidden",""==i["max-height"]&&(i["max-height"]=0),0==parseInt(i["max-height"])?(i["max-height"]="0",setTimeout(function(){i["max-height"]=n+"px"},10)):i["max-height"]="0"};"gjs-collapse"in this||this.addEventListener("click",function(r){if(r.preventDefault(),!e){var o=this.closest("[data-gjs=navbar]"),a=o.querySelector("[data-gjs=navbar-items]");i(a),t||(a.addEventListener(n,function(){e=0;var t=a.style;0==parseInt(t["max-height"])&&(t.display="",t["max-height"]="")}),t=1)}}),this["gjs-collapse"]=1}})},{isComponent:function(t){if(t.getAttribute&&"burger-menu"==t.getAttribute("data-gjs-type"))return{type:"burger-menu"}}}),view:o.view})}}])}(n(0))},function(t,e,n){t.exports=function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countdownRef="countdown"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(3),s=i(a),l=n(4),c=i(l),u=n(0);e.default=o.default.plugins.add("gjs-component-countdown",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,i={blocks:[u.countdownRef],defaultStyle:!0,startTime:"",endText:"EXPIRED",dateInputType:"date",countdownClsPfx:"countdown",labelCountdown:"Countdown",labelCountdownCategory:"Extra",labelDays:"days",labelHours:"hours",labelMinutes:"minutes",labelSeconds:"seconds"};for(var r in i)r in n||(n[r]=i[r]);(0,s.default)(t,n),(0,c.default)(t,n)})},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,r=t.DomComponents,o=r.getType("default"),a=r.getType("text"),s=o.model,l=o.view,c=(a.model,a.view,n.countdownClsPfx);r.addType("countdown",{model:s.extend({defaults:i({},s.prototype.defaults,{startfrom:n.startTime,endText:n.endText,droppable:!1,traits:[{label:"Start",name:"startfrom",changeProp:1,type:n.dateInputType},{label:"End text",name:"endText",changeProp:1}],script:function(){var t=new Date("{[ startfrom ]}").getTime(),e=this.querySelector("[data-js=countdown]"),n=this.querySelector("[data-js=countdown-endtext]"),i=this.querySelector("[data-js=countdown-day]"),r=this.querySelector("[data-js=countdown-hour]"),o=this.querySelector("[data-js=countdown-minute]"),a=this.querySelector("[data-js=countdown-second]"),s=this.gjs_countdown_interval;s&&s&&clearInterval(s);var l=function(t,e,n,s){i.innerHTML=t<10?"0"+t:t,r.innerHTML=e<10?"0"+e:e,o.innerHTML=n<10?"0"+n:n,a.innerHTML=s<10?"0"+s:s},c=function(){var i=(new Date).getTime(),r=t-i,o=Math.floor(r/864e5),a=Math.floor(r%864e5/36e5),s=Math.floor(r%36e4/6e4),c=Math.floor(r%6e4/1e3);l(o,a,s,c),r<0&&(clearInterval(u),n.innerHTML="{[ endText ]}",e.style.display="none",n.style.display="")};if(t){var u=setInterval(c,1e3);this.gjs_countdown_interval=u,n.style.display="none",e.style.display="",c()}else l(0,0,0,0)}})},{isComponent:function(t){if(t.getAttribute&&"countdown"==t.getAttribute("data-gjs-type"))return{type:"countdown"}}}),view:l.extend({init:function(){this.listenTo(this.model,"change:startfrom change:endText",this.updateScript);var t=this.model.get("components");t.length||(t.reset(),t.add('\n            <span data-js="countdown" class="'+c+'-cont">\n              <div class="'+c+'-block">\n                <div data-js="countdown-day" class="'+c+'-digit"></div>\n                <div class="'+c+'-label">'+n.labelDays+'</div>\n              </div>\n              <div class="'+c+'-block">\n                <div data-js="countdown-hour" class="'+c+'-digit"></div>\n                <div class="'+c+'-label">'+n.labelHours+'</div>\n              </div>\n              <div class="'+c+'-block">\n                <div data-js="countdown-minute" class="'+c+'-digit"></div>\n                <div class="'+c+'-label">'+n.labelMinutes+'</div>\n              </div>\n              <div class="'+c+'-block">\n                <div data-js="countdown-second" class="'+c+'-digit"></div>\n                <div class="'+c+'-label">'+n.labelSeconds+'</div>\n              </div>\n            </span>\n            <span data-js="countdown-endtext" class="'+c+'-endtext"></span>\n          '))}})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,r=t.BlockManager,o=n.countdownClsPfx,a=n.defaultStyle?"<style>\n    ."+o+" {\n      text-align: center;\n      font-family: Helvetica, serif;\n    }\n\n    ."+o+"-block {\n      display: inline-block;\n      margin: 0 10px;\n      padding: 10px;\n    }\n\n    ."+o+"-digit {\n      font-size: 5rem;\n    }\n\n    ."+o+"-endtext {\n      font-size: 5rem;\n    }\n\n    ."+o+"-cont,\n    ."+o+"-block {\n      display: inline-block;\n    }\n  </style>":"";n.blocks.indexOf(i.countdownRef)>=0&&r.add(i.countdownRef,{label:n.labelCountdown,category:n.labelCountdownCategory,attributes:{class:"fa fa-clock-o"},content:'\n        <div class="'+o+'" data-gjs-type="countdown"></div>\n        '+a+"\n      "})};var i=n(0)}])}(n(0))},function(t,e,n){t.exports=function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=r.default.plugins.add("gjs-plugin-forms",function(t,e){var i=e||{},r=t.getConfig(),o=(r.stylePrefix,{blocks:["form","input","textarea","select","button","label","checkbox","radio"],labelTraitMethod:"Method",labelTraitAction:"Action",labelTraitState:"State",labelTraitId:"ID",labelTraitFor:"For",labelInputName:"Input",labelTextareaName:"Textarea",labelSelectName:"Select",labelCheckboxName:"Checkbox",labelRadioName:"Radio",labelButtonName:"Button",labelTraitName:"Name",labelTraitPlaceholder:"Placeholder",labelTraitValue:"Value",labelTraitRequired:"Required",labelTraitType:"Type",labelTraitOptions:"Options",labelTraitChecked:"Checked",labelTypeText:"Text",labelTypeEmail:"Email",labelTypePassword:"Password",labelTypeNumber:"Number",labelTypeSubmit:"Submit",labelTypeReset:"Reset",labelTypeButton:"Button",labelNameLabel:"Label",labelForm:"Form",labelSelectOption:"- Select option -",labelOption:"Option",labelStateNormal:"Normal",labelStateSuccess:"Success",labelStateError:"Error"});for(var a in o)a in i||(i[a]=o[a]);n(2).default(t,i),n(3).default(t,i),n(4).default(t,i)})},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,r=t.DomComponents,o=r.getType("default"),a=r.getType("text"),s=o.model,l=o.view,c=a.model,u=a.view,d={name:"id",label:n.labelTraitId},h={name:"for",label:n.labelTraitFor},f={name:"name",label:n.labelTraitName},p={name:"placeholder",label:n.labelTraitPlaceholder},g={name:"value",label:n.labelTraitValue},m={type:"checkbox",name:"required",label:n.labelTraitRequired},v={label:n.labelTraitChecked,type:"checkbox",name:"checked",changeProp:1};r.addType("form",{model:s.extend({defaults:i({},s.prototype.defaults,{droppable:":not(form)",draggable:":not(form)",traits:[{type:"select",label:n.labelTraitMethod,name:"method",options:[{value:"post",name:"POST"},{value:"get",name:"GET"}]},{label:n.labelTraitAction,name:"action"}]}),init:function(){this.listenTo(this,"change:formState",this.updateFormState)},updateFormState:function(){switch(this.get("formState")){case"success":this.showState("success");break;case"error":this.showState("error");break;default:this.showState("normal")}},showState:function(t){var e,n,i=t||"normal";"success"==i?(e="none",n="block"):"error"==i?(e="block",n="none"):(e="none",n="none");var r=this.getStateModel("success"),o=this.getStateModel("error"),a=r.getStyle(),s=o.getStyle();a.display=n,s.display=e,r.setStyle(a),o.setStyle(s)},getStateModel:function(t){for(var e,n=t||"success",i=this.get("components"),r=0;r<i.length;r++){var o=i.models[r];if(o.get("form-state-type")==n){e=o;break}}if(!e){var a=formMsgSuccess;"error"==n&&(a=formMsgError),e=i.add({"form-state-type":n,type:"text",removable:!1,copyable:!1,draggable:!1,attributes:{"data-form-state":n},content:a})}return e}},{isComponent:function(t){if("FORM"==t.tagName)return{type:"form"}}}),view:l.extend({events:{submit:function(t){t.preventDefault()}}})}),r.addType("input",{model:s.extend({defaults:i({},s.prototype.defaults,{"custom-name":n.labelInputName,tagName:"input",draggable:"form, form *",droppable:!1,traits:[f,p,{label:n.labelTraitType,type:"select",name:"type",options:[{value:"text",name:n.labelTypeText},{value:"email",name:n.labelTypeEmail},{value:"password",name:n.labelTypePassword},{value:"number",name:n.labelTypeNumber}]},m]})},{isComponent:function(t){if("INPUT"==t.tagName)return{type:"input"}}}),view:l});var y=r.getType("input"),b=y.model;r.addType("textarea",{model:y.model.extend({defaults:i({},b.prototype.defaults,{"custom-name":n.labelTextareaName,tagName:"textarea",traits:[f,p,m]})},{isComponent:function(t){if("TEXTAREA"==t.tagName)return{type:"textarea"}}}),view:l}),r.addType("select",{model:s.extend({defaults:i({},b.prototype.defaults,{"custom-name":n.labelSelectName,tagName:"select",traits:[f,{label:n.labelTraitOptions,type:"select-options"},m]})},{isComponent:function(t){if("SELECT"==t.tagName)return{type:"select"}}}),view:o.view.extend({events:{mousedown:"handleClick"},handleClick:function(t){t.preventDefault()}})}),r.addType("checkbox",{model:s.extend({defaults:i({},b.prototype.defaults,{"custom-name":n.labelCheckboxName,copyable:!1,attributes:{type:"checkbox"},traits:[d,f,g,m,v]}),init:function(){this.listenTo(this,"change:checked",this.handleChecked)},handleChecked:function(){var t=this.get("checked"),e=this.get("attributes"),n=this.view;t?e.checked="checked":delete e.checked,n&&(n.el.checked=t),this.set("attributes",i({},e))}},{isComponent:function(t){if("INPUT"==t.tagName&&"checkbox"==t.type)return{type:"checkbox"}}}),view:l.extend({events:{click:"handleClick"},handleClick:function(t){t.preventDefault()}})});var w=r.getType("checkbox");r.addType("radio",{model:w.model.extend({defaults:i({},w.model.prototype.defaults,{"custom-name":n.labelRadioName,attributes:{type:"radio"}})},{isComponent:function(t){if("INPUT"==t.tagName&&"radio"==t.type)return{type:"radio"}}}),view:w.view}),r.addType("button",{model:s.extend({defaults:i({},b.prototype.defaults,{"custom-name":n.labelButtonName,tagName:"button",traits:[{type:"content",label:"Text"},{label:n.labelTraitType,type:"select",name:"type",options:[{value:"submit",name:n.labelTypeSubmit},{value:"reset",name:n.labelTypeReset},{value:"button",name:n.labelTypeButton}]}]})},{isComponent:function(t){if("BUTTON"==t.tagName)return{type:"button"}}}),view:l.extend({events:{click:"handleClick"},init:function(){this.listenTo(this.model,"change:content",this.updateContent)},updateContent:function(){this.el.innerHTML=this.model.get("content")},handleClick:function(t){t.preventDefault()}})}),r.addType("label",{model:c.extend({defaults:i({},c.prototype.defaults,{"custom-name":n.labelNameLabel,tagName:"label",traits:[h]})},{isComponent:function(t){if("LABEL"==t.tagName)return{type:"label"}}}),view:u})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],t.TraitManager),n=e.getType("text");e.addType("content",{events:{keyup:"onChange"},onValueChange:function(){var t=this.model;t.target.set("content",t.get("value"))},getInputEl:function(){return this.inputEl||(this.inputEl=n.prototype.getInputEl.bind(this)(),this.inputEl.value=this.target.get("content")),this.inputEl}}),e.addType("select-options",{events:{keyup:"onChange"},onValueChange:function(){for(var t=this.model.get("value").trim(),e=t.split("\n"),n=[],i=0;i<e.length;i++){var r=e[i],o=r.split("::"),a={tagName:"option",attributes:{}};o[1]?(a.content=o[1],a.attributes.value=o[0]):(a.content=o[0],a.attributes.value=o[0]),n.push(a)}this.target.get("components").reset(n),this.target.view.render()},getInputEl:function(){if(!this.$input){for(var t=this.model,e=this.target,n=(t.get("name"),""),i=e.get("components"),r=0;r<i.length;r++){var o=i.models[r];n+=(o.get("attributes").value||"")+"::"+o.get("content")+"\n"}this.$input=document.createElement("textarea"),this.$input.value=n}return this.$input}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,i=t.BlockManager;n.blocks.indexOf("form")>=0&&i.add("form",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,5.5 C22,5.2 21.5,5 20.75,5 L3.25,5 C2.5,5 2,5.2 2,5.5 L2,8.5 C2,8.8 2.5,9 3.25,9 L20.75,9 C21.5,9 22,8.8 22,8.5 L22,5.5 Z M21,8 L3,8 L3,6 L21,6 L21,8 Z" fill-rule="nonzero"></path>\n        <path class="gjs-block-svg-path" d="M22,10.5 C22,10.2 21.5,10 20.75,10 L3.25,10 C2.5,10 2,10.2 2,10.5 L2,13.5 C2,13.8 2.5,14 3.25,14 L20.75,14 C21.5,14 22,13.8 22,13.5 L22,10.5 Z M21,13 L3,13 L3,11 L21,11 L21,13 Z" fill-rule="nonzero"></path>\n        <rect class="gjs-block-svg-path" x="2" y="15" width="10" height="3" rx="0.5"></rect>\n      </svg>\n      <div class="gjs-block-label">'+n.labelForm+"</div>",category:"Forms",content:'\n        <form class="form">\n          <div class="form-group">\n            <label class="label">Name</label>\n            <input placeholder="Type here your name" class="input"/>\n          </div>\n          <div class="form-group">\n            <label class="label">Email</label>\n            <input type="email" placeholder="Type here your email" class="input"/>\n          </div>\n          <div class="form-group">\n            <label class="label">Gender</label>\n            <input type="checkbox" class="checkbox" value="M">\n            <label class="checkbox-label">M</label>\n            <input type="checkbox" class="checkbox" value="F">\n            <label class="checkbox-label">F</label>\n          </div>\n          <div class="form-group">\n            <label class="label">Message</label>\n            <textarea class="textarea"></textarea>\n          </div>\n          <div class="form-group">\n            <button type="submit" class="button">Send</button>\n          </div>\n        </form>\n      '}),n.blocks.indexOf("input")>=0&&i.add("input",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z"></path>\n        <polygon class="gjs-block-svg-path" points="4 10 5 10 5 14 4 14"></polygon>\n      </svg>\n      <div class="gjs-block-label">'+n.labelInputName+"</div>",category:"Forms",content:'<input class="input"/>'}),n.blocks.indexOf("textarea")>=0&&i.add("textarea",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,7.5 C22,6.6 21.5,6 20.75,6 L3.25,6 C2.5,6 2,6.6 2,7.5 L2,16.5 C2,17.4 2.5,18 3.25,18 L20.75,18 C21.5,18 22,17.4 22,16.5 L22,7.5 Z M21,17 L3,17 L3,7 L21,7 L21,17 Z"></path>\n        <polygon class="gjs-block-svg-path" points="4 8 5 8 5 12 4 12"></polygon>\n        <polygon class="gjs-block-svg-path" points="19 7 20 7 20 17 19 17"></polygon>\n        <polygon class="gjs-block-svg-path" points="20 8 21 8 21 9 20 9"></polygon>\n        <polygon class="gjs-block-svg-path" points="20 15 21 15 21 16 20 16"></polygon>\n      </svg>\n      <div class="gjs-block-label">'+n.labelTextareaName+"</div>",category:"Forms",content:'<textarea class="textarea"></textarea>'}),n.blocks.indexOf("select")>=0&&i.add("select",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z" fill-rule="nonzero"></path>\n        <polygon class="gjs-block-svg-path" transform="translate(18.500000, 12.000000) scale(1, -1) translate(-18.500000, -12.000000) " points="18.5 11 20 13 17 13"></polygon>\n        <rect class="gjs-block-svg-path" x="4" y="11.5" width="11" height="1"></rect>\n      </svg>\n      <div class="gjs-block-label">'+n.labelSelectName+"</div>",category:"Forms",content:'<select class="select">\n        '+(n.labelSelectOption?'<option value="">'+n.labelSelectOption+"</option>":"")+'\n        <option value="1">'+n.labelOption+" 1</option>\n        </select>"}),n.blocks.indexOf("button")>=0&&i.add("button",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z" fill-rule="nonzero"></path>\n        <rect class="gjs-block-svg-path" x="4" y="11.5" width="16" height="1"></rect>\n      </svg>\n      <div class="gjs-block-label">'+n.labelButtonName+"</div>",category:"Forms",content:'<button class="button">Send</button>'}),n.blocks.indexOf("label")>=0&&i.add("label",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,11.875 C22,11.35 21.5,11 20.75,11 L3.25,11 C2.5,11 2,11.35 2,11.875 L2,17.125 C2,17.65 2.5,18 3.25,18 L20.75,18 C21.5,18 22,17.65 22,17.125 L22,11.875 Z M21,17 L3,17 L3,12 L21,12 L21,17 Z" fill-rule="nonzero"></path>\n        <rect class="gjs-block-svg-path" x="2" y="5" width="14" height="5" rx="0.5"></rect>\n        <polygon class="gjs-block-svg-path" fill-rule="nonzero" points="4 13 5 13 5 16 4 16"></polygon>\n      </svg>\n      <div class="gjs-block-label">'+n.labelNameLabel+"</div>",category:"Forms",content:'<label class="label">Label</label>'}),n.blocks.indexOf("checkbox")>=0&&i.add("checkbox",{label:n.labelCheckboxName,attributes:{class:"fa fa-check-square"},category:"Forms",content:'<input type="checkbox" class="checkbox"/>'}),n.blocks.indexOf("radio")>=0&&i.add("radio",{label:n.labelRadioName,attributes:{class:"fa fa-dot-circle-o"},category:"Forms",content:'<input type="radio" class="radio"/>'})}}])}(n(0))},function(t,e,n){(function(e,i){!function(e,i){t.exports=i(n(0))}(0,function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=50)}([function(t,e,n){"use strict";function i(t){return o(t,l.uint8array?new Uint8Array(t.length):new Array(t.length))}function r(t){return t}function o(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function a(t){var n=65536,i=e.getTypeOf(t),r=!0;if("uint8array"===i?r=f.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=f.applyCanBeUsed.nodebuffer),r)for(;n>1;)try{return f.stringifyByChunk(t,i,n)}catch(t){n=Math.floor(n/2)}return f.stringifyByChar(t)}function s(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var l=n(3),c=n(29),u=n(14),d=n(66),h=n(9);e.newBlob=function(t,n){e.checkSupport("blob");try{return new Blob([t],{type:n})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(t,e,n){var i=[],r=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;r<o;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,t.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&1===String.fromCharCode.apply(null,u.allocBuffer(1)).length}catch(t){return!1}}()}};e.applyFromCharCode=a;var p={};p.string={string:r,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return o(t,new Uint8Array(t.length))},nodebuffer:function(t){return o(t,u.allocBuffer(t.length))}},p.array={string:a,array:r,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u.newBufferFrom(t)}},p.arraybuffer={string:function(t){return a(new Uint8Array(t))},array:function(t){return s(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:r,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:a,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:r,nodebuffer:function(t){return u.newBufferFrom(t)}},p.nodebuffer={string:a,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return s(t,new Uint8Array(t.length))},nodebuffer:r},e.transformTo=function(t,n){if(n||(n=""),!t)return n;e.checkSupport(t);var i=e.getTypeOf(n);return p[i][t](n)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":l.nodebuffer&&u.isBuffer(t)?"nodebuffer":l.uint8array&&t instanceof Uint8Array?"uint8array":l.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!l[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},e.delay=function(t,e,n){d(function(){t.apply(n||null,e||[])})},e.inherits=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n},e.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},e.prepareContent=function(t,n,r,o,a){return h.Promise.resolve(n).then(function(t){return l.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new h.Promise(function(e,n){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){n(t.target.error)},i.readAsArrayBuffer(t)}):t}).then(function(n){var s=e.getTypeOf(n);return s?("arraybuffer"===s?n=e.transformTo("uint8array",n):"string"===s&&(a?n=c.decode(n):r&&!0!==o&&(n=i(n))),n):h.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(t,e,n){"use strict";function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},t.exports=i},function(t,e,n){"use strict";(function(t){function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=o.prototype:(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return a(this,t,e,n)}function a(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),o.TYPED_ARRAY_SUPPORT?(t=e).__proto__=o.prototype:t=c(t,e),t}(t,e,n,i):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|d(e,n),a=(t=r(t,i)).write(e,n);return a!==i&&(t=t.slice(0,a)),t}(t,e,n):function(t,e){if(o.isBuffer(e)){var n=0|u(e.length);return 0===(t=r(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?r(t,0):c(t,e);if("Buffer"===e.type&&B(e.data))return c(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(s(e),t=r(t,e<0?0:0|u(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function c(t,e){var n=e.length<0?0:0|u(e.length);t=r(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function u(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function d(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return M(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return L(t).length;default:if(i)return M(t).length;e=(""+e).toLowerCase(),i=!0}}function h(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function f(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=o.from(e,i)),o.isBuffer(e))return 0===e.length?-1:p(t,e,n,i,r);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):p(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function p(t,e,n,i,r){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var a,s=1,l=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,l/=2,c/=2,n/=2}if(r){var u=-1;for(a=n;a<l;a++)if(o(t,a)===o(e,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*s}else-1!==u&&(a-=a-u),u=-1}else for(n+c>l&&(n=l-c),a=n;a>=0;a--){for(var d=!0,h=0;h<c;h++)if(o(t,a+h)!==o(e,h)){d=!1;break}if(d)return a}return-1}function g(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function m(t,e,n,i){return K(M(e,t.length-n),t,n,i)}function v(t,e,n,i){return K(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function y(t,e,n,i){return v(t,e,n,i)}function b(t,e,n,i){return K(L(e),t,n,i)}function w(t,e,n,i){return K(function(t,e){for(var n,i,r,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function E(t,e,n){return 0===e&&n===t.length?j.fromByteArray(t):j.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,a,s,l,c=t[r],u=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=t[r+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=d}return function(t){var e=t.length;if(e<=$)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=$));return n}(i)}function T(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function _(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function O(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=P(t[o]);return r}function k(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function x(t,e,n,i,r,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<a)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function I(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function S(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function R(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function A(t,e,n,i,r){return r||R(t,0,n,4),F.write(t,e,n,i,23,4),n+4}function N(t,e,n,i,r){return r||R(t,0,n,8),F.write(t,e,n,i,52,8),n+8}function P(t){return t<16?"0"+t.toString(16):t.toString(16)}function M(t,e){e=e||1/0;for(var n,i=t.length,r=null,o=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function L(t){return j.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}var j=n(54),F=n(55),B=n(24);e.Buffer=o,e.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=i(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return a(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return function(t,e,n,i){return s(e),e<=0?r(t,e):void 0!==n?"string"==typeof i?r(t,e).fill(n,i):r(t,e).fill(n):r(t,e)}(null,t,e,n)},o.allocUnsafe=function(t){return l(null,t)},o.allocUnsafeSlow=function(t){return l(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,a=Math.min(n,i);r<a;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!B(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=o.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},o.byteLength=d,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)h(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)h(this,e,e+3),h(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)h(this,e,e+7),h(this,e+1,e+6),h(this,e+2,e+5),h(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return _(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,i,r){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var a=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),l=Math.min(a,s),c=this.slice(i,r),u=t.slice(e,n),d=0;d<l;++d)if(c[d]!==u[d]){a=c[d],s=u[d];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return f(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return f(this,t,e,n,!1)},o.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return g(this,t,e,n);case"utf8":case"utf-8":return m(this,t,e,n);case"ascii":return v(this,t,e,n);case"latin1":case"binary":return y(this,t,e,n);case"base64":return b(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;o.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),o.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=o.prototype;else{var r=e-t;n=new o(r,void 0);for(var a=0;a<r;++a)n[a]=this[a+t]}return n},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},o.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),F.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),F.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),F.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),F.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||x(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||x(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):S(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):S(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);x(this,t,e,n,r-1,-r)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);x(this,t,e,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):S(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):S(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return A(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return A(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,a=i-n;if(this===t&&n<e&&e<i)for(r=a-1;r>=0;--r)t[r+e]=this[r+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},o.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var a;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=o.isBuffer(t)?t:M(new o(t,i).toString()),l=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%l]}return this};var H=/[^+\/0-9A-Za-z-_]/g}).call(e,n(10))},function(t,e,n){"use strict";(function(t){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer=void 0!==t,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var i=new ArrayBuffer(0);try{e.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),e.blob=0===r.getBlob("application/zip").size}catch(t){e.blob=!1}}}try{e.nodestream=!!n(25).Readable}catch(t){e.nodestream=!1}}).call(e,n(2).Buffer)},function(t,e,n){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,a;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(a=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,r),r+=o.length;return a}},a={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(r)},function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);c.call(this,t),u.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",r)}function r(){this.allowHalfOpen||this._writableState.ended||s(o,this)}function o(t){t.end()}var a=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=i;var s=n(16),l=n(8);l.inherits=n(7);var c=n(26),u=n(17);l.inherits(i,c);for(var d=a(u.prototype),h=0;h<d.length;h++){var f=d[h];i.prototype[f]||(i.prototype[f]=u.prototype[f])}},function(t,e,n){"use strict";function i(){l.call(this,"utf-8 decode"),this.leftOver=null}function r(){l.call(this,"utf-8 encode")}for(var o=n(0),a=n(3),s=n(14),l=n(1),c=new Array(256),u=0;u<256;u++)c[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;c[254]=c[254]=1;e.utf8encode=function(t){return a.nodebuffer?s.newBufferFrom(t,"utf-8"):function(t){var e,n,i,r,o,s=t.length,l=0;for(r=0;r<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=a.uint8array?new Uint8Array(l):new Array(l),o=0,r=0;o<l;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e}(t)},e.utf8decode=function(t){return a.nodebuffer?o.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,i,r,a=t.length,s=new Array(2*a);for(n=0,e=0;e<a;)if((i=t[e++])<128)s[n++]=i;else if((r=c[i])>4)s[n++]=65533,e+=r-1;else{for(i&=2===r?31:3===r?15:7;r>1&&e<a;)i=i<<6|63&t[e++],r--;r>1?s[n++]=65533:i<65536?s[n++]=i:(i-=65536,s[n++]=55296|i>>10&1023,s[n++]=56320|1023&i)}return s.length!==n&&(s.subarray?s=s.subarray(0,n):s.length=n),o.applyFromCharCode(s)}(t=o.transformTo(a.uint8array?"uint8array":"array",t))},o.inherits(i,l),i.prototype.processChunk=function(t){var n=o.transformTo(a.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var i=n;(n=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),n.set(i,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var r=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+c[t[n]]>e?n:e}(n),s=n;r!==n.length&&(a.uint8array?(s=n.subarray(0,r),this.leftOver=n.subarray(r,n.length)):(s=n.slice(0,r),this.leftOver=n.slice(r,n.length))),this.push({data:e.utf8decode(s),meta:t.meta})},i.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=i,o.inherits(r,l),r.prototype.processChunk=function(t){this.push({data:e.utf8encode(t.data),meta:t.meta})},e.Utf8EncodeWorker=r},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(e,n(2).Buffer)},function(t,e,n){"use strict";var i;i="undefined"!=typeof Promise?Promise:n(80),t.exports={Promise:i}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){function i(){r.call(this)}t.exports=i;var r=n(12).EventEmitter;n(7)(i,r),i.Readable=n(56),i.Writable=n(62),i.Duplex=n(63),i.Transform=n(64),i.PassThrough=n(65),i.Stream=i,i.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&c.pause&&c.pause()}function i(){c.readable&&c.resume&&c.resume()}function o(){u||(u=!0,t.end())}function a(){u||(u=!0,"function"==typeof t.destroy&&t.destroy())}function s(t){if(l(),0===r.listenerCount(this,"error"))throw t}function l(){c.removeListener("data",n),t.removeListener("drain",i),c.removeListener("end",o),c.removeListener("close",a),c.removeListener("error",s),t.removeListener("error",s),c.removeListener("end",l),c.removeListener("close",l),t.removeListener("close",l)}var c=this;c.on("data",n),t.on("drain",i),t._isStdio||e&&!1===e.end||(c.on("end",o),c.on("close",a));var u=!1;return c.on("error",s),t.on("error",s),c.on("end",l),c.on("close",l),t.on("close",l),t.emit("pipe",c),t}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function r(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,s,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(o(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(r(n))for(s=Array.prototype.slice.call(arguments,1),a=(c=n.slice()).length,l=0;l<a;l++)c[l].apply(this,s);return!0},n.prototype.addListener=function(t,e){var a;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,a,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,o=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(){p&&h&&(p=!1,h.length?f=h.concat(f):g=-1,f.length&&a())}function a(){if(!p){var t=r(o);p=!0;for(var e=f.length;e;){for(h=f,f=[];++g<e;)h&&h[g].run();g=-1,e=f.length}h=null,p=!1,function(t){if(u===clearTimeout)return clearTimeout(t);if((u===i||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}(t)}}function s(t,e){this.fun=t,this.array=e}function l(){}var c,u,d=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{u="function"==typeof clearTimeout?clearTimeout:i}catch(t){u=i}}();var h,f=[],p=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new s(t,e)),1!==f.length||p||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){"use strict";(function(e){t.exports={isNode:void 0!==e,newBufferFrom:function(t,n){return new e(t,n)},allocBuffer:function(t){return e.alloc?e.alloc(t):new e(t)},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}}).call(e,n(2).Buffer)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=function(t,n,i,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,i)});case 4:return e.nextTick(function(){t.call(null,n,i,r)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}:t.exports=e.nextTick}).call(e,n(13))},function(t,e,n){"use strict";(function(e,i){function r(){}function o(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function a(t,e){C=C||n(5),t=t||{},this.objectMode=!!t.objectMode,e instanceof C&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,r){--e.pendingcb,n?m(r,i):r(i),t._writableState.errorEmitted=!0,t.emit("error",i)}(t,n,i,e,r);else{var o=h(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||d(t,n),i?v(u,t,n,o,r):u(t,n,o,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new g(this),this.corkedRequestsFree.next=new g(this)}function s(t){if(C=C||n(5),!(this instanceof s||this instanceof C))return new s(t);this._writableState=new a(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),w.call(this)}function l(t,e,n,i,r){n=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=new y(e,n)),e}(e,n,i),y.isBuffer(n)&&(i="buffer");var a=e.objectMode?1:n.length;e.length+=a;var s=e.length<e.highWaterMark;if(s||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest=new o(n,i,r),l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else c(t,e,!1,a,n,i,r);return s}function c(t,e,n,i,r,o,a){e.writelen=i,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function u(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),p(t,e)}function d(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var a=0;n;)r[a]=n,n=n.next,a+=1;c(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,e.corkedRequestsFree=o.next,o.next=null}else{for(;n;){var s=n.chunk,l=n.encoding,u=n.callback;if(c(t,e,!1,e.objectMode?1:s.length,s,l,u),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function h(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function f(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function p(t,e){var n=h(e);return n&&(0===e.pendingcb?(f(t,e),e.finished=!0,t.emit("finish")):f(t,e)),n}function g(t){var e=this;this.next=null,this.entry=null,this.finish=function(n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}t.exports=s;var m=n(16),v=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:m,y=n(2).Buffer;s.WritableState=a;var b=n(8);b.inherits=n(7);var w,E={deprecate:n(60)};!function(){try{w=n(11)}catch(t){}finally{w||(w=n(12).EventEmitter)}}();var C;y=n(2).Buffer;b.inherits(s,w),a.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(a.prototype,"buffer",{get:E.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}(),s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},s.prototype.write=function(t,e,n){var i=this._writableState,o=!1;return"function"==typeof e&&(n=e,e=null),y.isBuffer(t)?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=r),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),m(e,n)}(this,n):function(t,e,n,i){var r=!0;if(!y.isBuffer(n)&&"string"!=typeof n&&null!=n&&!e.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");t.emit("error",o),m(i,o),r=!1}return r}(this,i,t,n)&&(i.pendingcb++,o=l(this,i,t,e,n)),o},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||d(this,t))},s.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);this._writableState.defaultEncoding=t},s.prototype._write=function(t,e,n){n(new Error("not implemented"))},s.prototype._writev=null,s.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,p(t,e),n&&(e.finished?m(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,i,n)}}).call(e,n(13),n(58).setImmediate)},function(t,e,n){"use strict";function i(t){this.afterTransform=function(e,n){return function(t,e,n){var i=t._transformState;i.transforming=!1;var r=i.writecb;if(!r)return t.emit("error",new Error("no writecb in Transform class"));i.writechunk=null,i.writecb=null,null!=n&&t.push(n),r(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function r(t){if(!(this instanceof r))return new r(t);a.call(this,t),this._transformState=new i(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){o(e,t)}):o(e)})}function o(t,e){if(e)return t.emit("error",e);var n=t._writableState,i=t._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(i.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}t.exports=r;var a=n(5),s=n(8);s.inherits=n(7),s.inherits(r,a),r.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},r.prototype._transform=function(t,e,n){throw new Error("not implemented")},r.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},r.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(32)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";function i(t,e,n,i,r){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=r}var r=n(9),o=n(36),a=n(37),s=n(38);a=n(37);i.prototype={getContentWorker:function(){var t=new o(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new o(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},i.createWorkerFrom=function(t,e,n){return t.pipe(new s).pipe(new a("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},t.exports=i},function(t,e,n){"use strict";var i=n(0),r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,n,i){var o=r,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}(0|e,t,t.length,0):function(t,e,n,i){var o=r,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e.charCodeAt(s))];return-1^t}(0|e,t,t.length,0):0}},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(11)},function(t,e,n){"use strict";(function(e){function i(t,e){T=T||n(5),t=t||{},this.objectMode=!!t.objectMode,e instanceof T&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(C||(C=n(27).StringDecoder),this.decoder=new C(t.encoding),this.encoding=t.encoding)}function r(t){if(T=T||n(5),!(this instanceof r))return new r(t);this._readableState=new i(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),b.call(this)}function o(t,e,n,i,r){var o=function(t,e){var n=null;return y.isBuffer(e)||"string"==typeof e||null==e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(e,n);if(o)t.emit("error",o);else if(null===n)e.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,s(t)}}(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!r){var a=new Error("stream.push() after EOF");t.emit("error",a)}else if(e.endEmitted&&r){a=new Error("stream.unshift() after end event");t.emit("error",a)}else{var l;!e.decoder||r||i||(n=e.decoder.write(n),l=!e.objectMode&&0===n.length),r||(e.reading=!1),l||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&s(t))),function(t,e){e.readingMore||(e.readingMore=!0,m(c,t,e))}(t,e)}else r||(e.reading=!1);return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(e)}function a(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=k?t=k:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function s(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(O("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?m(l,t):l(t))}function l(t){O("emit readable"),t.emit("readable"),h(t)}function c(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(O("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function u(t){O("readable nexttick read 0"),t.read(0)}function d(t,e){e.reading||(O("resume read 0"),t.read(0)),e.resumeScheduled=!1,t.emit("resume"),h(t),e.flowing&&!e.reading&&t.read(0)}function h(t){var e=t._readableState;if(O("flow",e.flowing),e.flowing)do{var n=t.read()}while(null!==n&&e.flowing)}function f(t,e){var n,i=e.buffer,r=e.length,o=!!e.decoder,a=!!e.objectMode;if(0===i.length)return null;if(0===r)n=null;else if(a)n=i.shift();else if(!t||t>=r)n=o?i.join(""):1===i.length?i[0]:y.concat(i,r),i.length=0;else if(t<i[0].length){n=(u=i[0]).slice(0,t),i[0]=u.slice(t)}else if(t===i[0].length)n=i.shift();else{n=o?"":new y(t);for(var s=0,l=0,c=i.length;l<c&&s<t;l++){var u=i[0],d=Math.min(t-s,u.length);o?n+=u.slice(0,d):u.copy(n,s,0,d),d<u.length?i[0]=u.slice(d):i.shift(),s+=d}}return n}function p(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");e.endEmitted||(e.ended=!0,m(g,e,t))}function g(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}t.exports=r;var m=n(16),v=n(24),y=n(2).Buffer;r.ReadableState=i;var b,w=(n(12),function(t,e){return t.listeners(e).length});!function(){try{b=n(11)}catch(t){}finally{b||(b=n(12).EventEmitter)}}();y=n(2).Buffer;var E=n(8);E.inherits=n(7);var C,T,_=n(57),O=void 0;O=_&&_.debuglog?_.debuglog("stream"):function(){},E.inherits(r,b),r.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding)!==n.encoding&&(t=new y(t,e),e=""),o(this,n,t,e,!1)},r.prototype.unshift=function(t){return o(this,this._readableState,t,"",!0)},r.prototype.isPaused=function(){return!1===this._readableState.flowing},r.prototype.setEncoding=function(t){return C||(C=n(27).StringDecoder),this._readableState.decoder=new C(t),this._readableState.encoding=t,this};var k=8388608;r.prototype.read=function(t){O("read",t);var e=this._readableState,n=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return O("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?p(this):s(this),null;if(0===(t=a(t,e))&&e.ended)return 0===e.length&&p(this),null;var i,r=e.needReadable;return O("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&O("length less than watermark",r=!0),(e.ended||e.reading)&&O("reading or ended",r=!1),r&&(O("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),r&&!e.reading&&(t=a(n,e)),null===(i=t>0?f(t,e):null)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&p(this),null!==i&&this.emit("data",i),i},r.prototype._read=function(t){this.emit("error",new Error("not implemented"))},r.prototype.pipe=function(t,n){function i(t){O("onunpipe"),t===d&&o()}function r(){O("onend"),t.end()}function o(){O("cleanup"),t.removeListener("close",l),t.removeListener("finish",c),t.removeListener("drain",g),t.removeListener("error",s),t.removeListener("unpipe",i),d.removeListener("end",r),d.removeListener("end",o),d.removeListener("data",a),y=!0,!f.awaitDrain||t._writableState&&!t._writableState.needDrain||g()}function a(e){O("ondata"),!1===t.write(e)&&(1!==f.pipesCount||f.pipes[0]!==t||1!==d.listenerCount("data")||y||(O("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++),d.pause())}function s(e){O("onerror",e),u(),t.removeListener("error",s),0===w(t,"error")&&t.emit("error",e)}function l(){t.removeListener("finish",c),u()}function c(){O("onfinish"),t.removeListener("close",l),u()}function u(){O("unpipe"),d.unpipe(t)}var d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=t;break;case 1:f.pipes=[f.pipes,t];break;default:f.pipes.push(t)}f.pipesCount+=1,O("pipe count=%d opts=%j",f.pipesCount,n);var p=(!n||!1!==n.end)&&t!==e.stdout&&t!==e.stderr?r:o;f.endEmitted?m(p):d.once("end",p),t.on("unpipe",i);var g=function(t){return function(){var e=t._readableState;O("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&w(t,"data")&&(e.flowing=!0,h(t))}}(d);t.on("drain",g);var y=!1;return d.on("data",a),t._events&&t._events.error?v(t._events.error)?t._events.error.unshift(s):t._events.error=[s,t._events.error]:t.on("error",s),t.once("close",l),t.once("finish",c),t.emit("pipe",d),f.flowing||(O("pipe resume"),d.resume()),t},r.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<i;r++)n[r].emit("unpipe",this);return this}var o=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},r.prototype.on=function(t,e){var n=b.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&!this._readableState.endEmitted){var i=this._readableState;i.readableListening||(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading?i.length&&s(this):m(u,this))}return n},r.prototype.addListener=r.prototype.on,r.prototype.resume=function(){var t=this._readableState;return t.flowing||(O("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,m(d,t,e))}(this,t)),this},r.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this},r.prototype.wrap=function(t){var e=this._readableState,n=!1,i=this;for(var r in t.on("end",function(){if(O("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&i.push(t)}i.push(null)}),t.on("data",function(r){O("wrapped data"),e.decoder&&(r=e.decoder.write(r)),(!e.objectMode||null!=r)&&(e.objectMode||r&&r.length)&&(i.push(r)||(n=!0,t.pause()))}),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));return function(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n],n)}(["error","close","destroy","pause","resume"],function(e){t.on(e,i.emit.bind(i,e))}),i._read=function(e){O("wrapped _read",e),n&&(n=!1,t.resume())},i},r._fromList=f}).call(e,n(13))},function(t,e,n){"use strict";function i(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(h.isEncoding===f||!f(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=a,this.end=s,e=4;break;case"utf8":this.fillLast=o,e=4;break;case"base64":this.text=l,this.end=c,e=3;break;default:return this.write=u,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=h.allocUnsafe(e)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:-1}function o(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"ï¿½".repeat(n);if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"ï¿½".repeat(n+1);if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"ï¿½".repeat(n+2)}}(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function a(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function s(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function u(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}var h=n(61).Buffer,f=h.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};e.StringDecoder=i,i.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},i.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"ï¿½".repeat(this.lastTotal-this.lastNeed):e},i.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var o=r(e[i]);return o>=0?(o>0&&(t.lastNeed=o-1),o):--i<n?0:(o=r(e[i]))>=0?(o>0&&(t.lastNeed=o-2),o):--i<n?0:(o=r(e[i]))>=0?(o>0&&(2===o?o=0:t.lastNeed=o-3),o):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},i.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}t.exports=i;var r=n(18),o=n(8);o.inherits=n(7),o.inherits(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";var i=n(0),r=n(3),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t){for(var e,n,r,a,s,l,c,u=[],d=0,h=t.length,f=h,p="string"!==i.getTypeOf(t);d<t.length;)f=h-d,p?(e=t[d++],n=d<h?t[d++]:0,r=d<h?t[d++]:0):(e=t.charCodeAt(d++),n=d<h?t.charCodeAt(d++):0,r=d<h?t.charCodeAt(d++):0),a=e>>2,s=(3&e)<<4|n>>4,l=f>1?(15&n)<<2|r>>6:64,c=f>2?63&r:64,u.push(o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(c));return u.join("")},e.decode=function(t){var e,n,i,a,s,l,c=0,u=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var d,h=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===o.charAt(64)&&h--,t.charAt(t.length-2)===o.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=r.uint8array?new Uint8Array(0|h):new Array(0|h);c<t.length;)e=o.indexOf(t.charAt(c++))<<2|(a=o.indexOf(t.charAt(c++)))>>4,n=(15&a)<<4|(s=o.indexOf(t.charAt(c++)))>>2,i=(3&s)<<6|(l=o.indexOf(t.charAt(c++))),d[u++]=e,64!==s&&(d[u++]=n),64!==l&&(d[u++]=i);return d}},function(t,e){var n=t.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(69);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(19),r=n(15).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){"use strict";(function(e){function i(t,e,n){switch(t){case"blob":return a.newBlob(a.transformTo("arraybuffer",e),n);case"base64":return c.encode(e);default:return a.transformTo(t,e)}}function r(t,n){var i,r=0,o=null,a=0;for(i=0;i<n.length;i++)a+=n[i].length;switch(t){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(o=new Uint8Array(a),i=0;i<n.length;i++)o.set(n[i],r),r+=n[i].length;return o;case"nodebuffer":return e.concat(n);default:throw new Error("concat : unsupported type '"+t+"'")}}function o(t,e,n){var i=e;switch(e){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=e,this._mimeType=n,a.checkSupport(i),this._worker=t.pipe(new s(i)),t.lock()}catch(t){this._worker=new l("error"),this._worker.error(t)}}var a=n(0),s=n(82),l=n(1),c=n(29),u=n(3),d=n(9),h=null;if(u.nodestream)try{h=n(83)}catch(t){}o.prototype={accumulate:function(t){return function(t,e){return new d.Promise(function(n,o){var a=[],s=t._internalType,l=t._outputType,c=t._mimeType;t.on("data",function(t,n){a.push(t),e&&e(n)}).on("error",function(t){a=[],o(t)}).on("end",function(){try{var t=i(l,r(s,a),c);n(t)}catch(t){o(t)}a=[]}).resume()})}(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,function(t){e.call(n,t.data,t.meta)}):this._worker.on(t,function(){a.delay(e,arguments,n)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(a.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:"nodebuffer"!==this._outputType},t)}},t.exports=o}).call(e,n(2).Buffer)},function(t,e,n){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},function(t,e,n){"use strict";function i(t){o.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=r.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}var r=n(0),o=n(1);r.inherits(i,o),i.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=i},function(t,e,n){"use strict";function i(t){o.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}var r=n(0),o=n(1);r.inherits(i,o),i.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}o.prototype.processChunk.call(this,t)},t.exports=i},function(t,e,n){"use strict";function i(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var r=n(1),o=n(22);n(0).inherits(i,r),i.prototype.processChunk=function(t){this.streamInfo.crc32=o(t.data,this.streamInfo.crc32||0),this.push(t)},t.exports=i},function(t,e,n){"use strict";var i=n(1);e.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},e.DEFLATE=n(86)},function(t,e,n){"use strict";t.exports=function(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+e[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}},function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,r){var o=i,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},function(t,e,n){"use strict";function i(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}var r=n(4),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var s=new r.Buf8(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1,e.string2buf=function(t){var e,n,i,o,a,s=t.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return i(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,r,o,a,l=e||t.length,c=new Array(2*l);for(r=0,n=0;n<l;)if((o=t[n++])<128)c[r++]=o;else if((a=s[o])>4)c[r++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<l;)o=o<<6|63&t[n++],a--;a>1?c[r++]=65533:o<65536?c[r++]=o:(o-=65536,c[r++]=55296|o>>10&1023,c[r++]=56320|1023&o)}return i(c,r)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\b"},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(47),a=n(100),s=n(101),l=n(49);t.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||r.uint8array?"nodebuffer"===e?new s(t):r.uint8array?new l(i.transformTo("uint8array",t)):new o(i.transformTo("array",t)):new a(t)}},function(t,e,n){"use strict";function i(t){r.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}var r=n(48);n(0).inherits(i,r),i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,n){"use strict";function i(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}var r=n(0);i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},t.exports=i},function(t,e,n){"use strict";function i(t){r.call(this,t)}var r=n(47);n(0).inherits(i,r),i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(51)),o=i(n(52)),a=i(n(103));e.default=r.default.plugins.add("gjs-plugin-export",function(t,e){var n=e||{},i=t.getConfig().stylePrefix,r=document.createElement("BUTTON"),s={addExportBtn:1,btnLabel:"Export to ZIP",preHtml:'<!doctype html><html lang="en"><head><meta charset="utf-8"><link rel="stylesheet" href="./css/style.css"></head><body>',postHtml:"</body><html>",preCss:"",postCss:""};for(var l in s)l in n||(n[l]=s[l]);r.innerHTML=n.btnLabel,r.className=i+"btn-prim",t.Commands.add("gjs-export-zip",{run:function(){var e=new o.default,i=e.folder("css"),r="grapesjs_template_"+Date.now()+".zip";e.file("index.html",n.preHtml+t.getHtml()+n.postHtml),i.file("style.css",n.preCss+t.getCss()+n.postCss),e.generateAsync({type:"blob"}).then(function(t){a.default.saveAs(t,r)})}}),n.addExportBtn&&t.on("run:export-template",function(){t.Modal.getContentEl().appendChild(r),r.onclick=function(){t.runCommand("gjs-export-zip")}})})},function(e,n){e.exports=t},function(t,e,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}i.prototype=n(53),i.prototype.loadAsync=n(98),i.support=n(3),i.defaults=n(35),i.version="3.1.5",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=n(9),t.exports=i},function(t,e,n){"use strict";function i(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var r=n(6),o=n(0),a=n(1),s=n(34),l=n(35),c=n(21),u=n(84),d=n(85),h=n(14),f=n(97),p=function(t,e,n){var i,r=o.getTypeOf(e),s=o.extend(n||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=m(t)),s.createFolders&&(i=g(t))&&v.call(this,i,!0);var d="string"===r&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!d),(e instanceof c&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e="",s.compression="STORE",r="string");var p;p=e instanceof c||e instanceof a?e:h.isNode&&h.isStream(e)?new f(t,e):o.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var y=new u(t,p,s);this.files[t]=y},g=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},m=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},v=function(t,e){return e=void 0!==e?e:l.createFolders,t=m(t),this.files[t]||p.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i))},filter:function(t){var e=[];return this.forEach(function(n,i){t(n,i)&&e.push(i)}),e},file:function(t,e,n){if(1===arguments.length){if(i(t)){var r=t;return this.filter(function(t,e){return!e.dir&&r.test(t)})}var o=this.files[this.root+t];return o&&!o.dir?o:null}return t=this.root+t,p.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(i(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=v.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=o.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";e=d.generateWorker(this,n,i)}catch(t){(e=new a("error")).error(t)}return new s(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};t.exports=y},function(t,e,n){"use strict";function i(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function r(t){return a[t>>18&63]+a[t>>12&63]+a[t>>6&63]+a[63&t]}function o(t,e,n){for(var i,o=[],a=e;a<n;a+=3)i=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(r(i));return o.join("")}e.byteLength=function(t){return 3*t.length/4-i(t)},e.toByteArray=function(t){var e,n,r,o,a,c=t.length;o=i(t),a=new l(3*c/4-o),n=o>0?c-4:c;var u=0;for(e=0;e<n;e+=4)r=s[t.charCodeAt(e)]<<18|s[t.charCodeAt(e+1)]<<12|s[t.charCodeAt(e+2)]<<6|s[t.charCodeAt(e+3)],a[u++]=r>>16&255,a[u++]=r>>8&255,a[u++]=255&r;return 2===o?(r=s[t.charCodeAt(e)]<<2|s[t.charCodeAt(e+1)]>>4,a[u++]=255&r):1===o&&(r=s[t.charCodeAt(e)]<<10|s[t.charCodeAt(e+1)]<<4|s[t.charCodeAt(e+2)]>>2,a[u++]=r>>8&255,a[u++]=255&r),a},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,r="",s=[],l=0,c=n-i;l<c;l+=16383)s.push(o(t,l,l+16383>c?c:l+16383));return 1===i?(e=t[n-1],r+=a[e>>2],r+=a[e<<4&63],r+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],r+=a[e>>10],r+=a[e>>4&63],r+=a[e<<2&63],r+="="),s.push(r),s.join("")};for(var a=[],s=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,d=c.length;u<d;++u)a[u]=c[u],s[c.charCodeAt(u)]=u;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,h=n?-1:1,f=t[e+d];for(d+=h,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+t[e+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+t[e+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),o-=c}return(f?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,d=u>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(e*l-1)*Math.pow(2,r),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;t[n+f]=255&s,f+=p,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;t[n+f]=255&a,f+=p,a/=256,c-=8);t[n+f-p]|=128*g}},function(t,e,n){var i=function(){try{return n(11)}catch(t){}}();(e=t.exports=n(26)).Stream=i||e,e.Readable=e,e.Writable=n(17),e.Duplex=n(5),e.Transform=n(18),e.PassThrough=n(28)},function(t,e){},function(t,n,r){function o(t,e){this._id=t,this._clearFn=e}var a=Function.prototype.apply;n.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(59),n.setImmediate=e,n.clearImmediate=i},function(t,e,n){(function(t,e){!function(t,n){"use strict";function i(t){delete s[t]}function r(t){if(l)setTimeout(r,0,t);else{var e=s[t];if(e){l=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{i(t),l=!1}}}}if(!t.setImmediate){var o,a=1,s={},l=!1,c=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?o=function(t){e.nextTick(function(){r(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&r(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),o=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){r(t.data)},o=function(e){t.port2.postMessage(e)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var t=c.documentElement;o=function(e){var n=c.createElement("script");n.onreadystatechange=function(){r(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():o=function(t){setTimeout(r,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return s[a]=i,o(a),a++},u.clearImmediate=i}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(10),n(13))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(e,n(10))},function(t,e,n){function i(t,e){for(var n in t)e[n]=t[n]}function r(t,e,n){return a(t,e,n)}var o=n(2),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=o:(i(o,e),e.Buffer=r),i(a,r),r.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return a(t,e,n)},r.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=a(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},r.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a(t)},r.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},function(t,e,n){t.exports=n(17)},function(t,e,n){t.exports=n(5)},function(t,e,n){t.exports=n(18)},function(t,e,n){t.exports=n(28)},function(t,e,n){n(67),t.exports=n(30).setImmediate},function(t,e,n){var i=n(68),r=n(76);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){var i=n(15),r=n(30),o=n(31),a=n(70),s=function(t,e,n){var l,c,u,d=t&s.F,h=t&s.G,f=t&s.S,p=t&s.P,g=t&s.B,m=t&s.W,v=h?r:r[e]||(r[e]={}),y=v.prototype,b=h?i:f?i[e]:(i[e]||{}).prototype;for(l in h&&(n=e),n)(c=!d&&b&&void 0!==b[l])&&l in v||(u=c?b[l]:n[l],v[l]=h&&"function"!=typeof b[l]?n[l]:g&&c?o(u,i):m&&b[l]==u?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(u):p&&"function"==typeof u?o(Function.call,u):u,p&&((v.virtual||(v.virtual={}))[l]=u,t&s.R&&y&&!y[l]&&a(y,l,u)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(71),r=n(75);t.exports=n(20)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(72),r=n(73),o=n(74),a=Object.defineProperty;e.f=n(20)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(19);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(20)&&!n(32)(function(){return 7!=Object.defineProperty(n(33)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(19);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i,r,o,a=n(31),s=n(77),l=n(78),c=n(33),u=n(15),d=u.process,h=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,g=0,m={},v=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},y=function(t){v.call(t.data)};h&&f||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++g]=function(){s("function"==typeof t?t:Function(t),e)},i(g),g},f=function(t){delete m[t]},"process"==n(79)(d)?i=function(t){d.nextTick(a(v,t,1))}:p?(o=(r=new p).port2,r.port1.onmessage=y,i=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",y,!1)):i="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),v.call(t)}}:function(t){setTimeout(a(v,t,1),0)}),t.exports={set:h,clear:f}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){t.exports=n(15).document&&document.documentElement},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";function i(){}function r(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,t!==i&&l(this,t)}function o(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(t,e,n){u(function(){var i;try{i=e(n)}catch(e){return d.reject(t,e)}i===t?d.reject(t,new TypeError("Cannot resolve promise with itself")):d.resolve(t,i)})}function s(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function l(t,e){function n(e){r||(r=!0,d.reject(t,e))}function i(e){r||(r=!0,d.resolve(t,e))}var r=!1,o=c(function(){e(i,n)});"error"===o.status&&n(o.value)}function c(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}var u=n(81),d={},h=["REJECTED"],f=["FULFILLED"],p=["PENDING"];t.exports=r,r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){if("function"!=typeof t&&this.state===f||"function"!=typeof e&&this.state===h)return this;var n=new this.constructor(i);return this.state!==p?a(n,this.state===f?t:e,this.outcome):this.queue.push(new o(n,t,e)),n},o.prototype.callFulfilled=function(t){d.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){a(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){d.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){a(this.promise,this.onRejected,t)},d.resolve=function(t,e){var n=c(s,e);if("error"===n.status)return d.reject(t,n.value);var i=n.value;if(i)l(t,i);else{t.state=f,t.outcome=e;for(var r=-1,o=t.queue.length;++r<o;)t.queue[r].callFulfilled(e)}return t},d.reject=function(t,e){t.state=h,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},r.resolve=function(t){return t instanceof this?t:d.resolve(new this(i),t)},r.reject=function(t){var e=new this(i);return d.reject(e,t)},r.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),a=0,s=-1,l=new this(i);++s<n;)!function(t,i){e.resolve(t).then(function(t){o[i]=t,++a!==n||r||(r=!0,d.resolve(l,o))},function(t){r||(r=!0,d.reject(l,t))})}(t[s],s);return l},r.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var o=-1,a=new this(i);++o<n;)!function(t){e.resolve(t).then(function(t){r||(r=!0,d.resolve(a,t))},function(t){r||(r=!0,d.reject(a,t))})}(t[o]);return a}},function(t,e,n){"use strict";(function(e){function n(){c=!0;for(var t,e,n=u.length;n;){for(e=u,u=[],t=-1;++t<n;)e[t]();n=u.length}c=!1}var i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,a=new r(n),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),i=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var l=new e.MessageChannel;l.port1.onmessage=n,i=function(){l.port2.postMessage(0)}}var c,u=[];t.exports=function(t){1!==u.push(t)||c||i()}}).call(e,n(10))},function(t,e,n){"use strict";function i(t){r.call(this,"ConvertWorker to "+t),this.destType=t}var r=n(1),o=n(0);o.inherits(i,r),i.prototype.processChunk=function(t){this.push({data:o.transformTo(this.destType,t.data),meta:t.meta})},t.exports=i},function(t,e,n){"use strict";function i(t,e,n){r.call(this,e),this._helper=t;var i=this;t.on("data",function(t,e){i.push(t)||i._helper.pause(),n&&n(e)}).on("error",function(t){i.emit("error",t)}).on("end",function(){i.push(null)})}var r=n(25).Readable;n(0).inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},function(t,e,n){"use strict";var i=n(34),r=n(36),o=n(6),a=n(21),s=n(1),l=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var r="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var a=!this._dataBinary;a&&!r&&(e=e.pipe(new o.Utf8EncodeWorker)),!a&&r&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(t){(e=new s("error")).error(t)}return new i(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof a&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)l.prototype[c[d]]=u;t.exports=l},function(t,e,n){"use strict";var i=n(39),r=n(96),o=function(t,e){var n=t||e,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r};e.generateWorker=function(t,e,n){var i=new r(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach(function(t,n){a++;var r=o(n.options.compression,e.compression),s=n.options.compressionOptions||e.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(r,s).withStreamInfo("file",{name:t,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)}),i.entriesCount=a}catch(t){i.error(t)}return i}},function(t,e,n){"use strict";function i(t,e){s.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=n(87),a=n(0),s=n(1),l=r?"uint8array":"array";e.magic="\b\0",a.inherits(i,s),i.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(l,t.data),!1)},i.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},i.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},e.compressWorker=function(t){return new i("Deflate",t)},e.uncompressWorker=function(){return new i("Inflate",{})}},function(t,e,n){"use strict";var i={};(0,n(4).assign)(i,n(88),n(91),n(44)),t.exports=i},function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);this.options=a.assign({level:h,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=o.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==d)throw new Error(l[n]);if(e.header&&o.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=o.deflateSetDictionary(this.strm,r))!==d)throw new Error(l[n]);this._dict_set=!0}}function r(t,e){var n=new i(e);if(n.push(t,!0),n.err)throw n.msg||l[n.err];return n.result}var o=n(89),a=n(4),s=n(42),l=n(23),c=n(43),u=Object.prototype.toString,d=0,h=-1,f=0,p=8;i.prototype.push=function(t,e){var n,i,r=this.strm,l=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?r.input=s.string2buf(t):"[object ArrayBuffer]"===u.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new a.Buf8(l),r.next_out=0,r.avail_out=l),1!==(n=o.deflate(r,i))&&n!==d)return this.onEnd(n),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(s.buf2binstring(a.shrinkBuf(r.output,r.next_out))):this.onData(a.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&1!==n);return 4===i?(n=o.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===d):2!==i||(this.onEnd(d),r.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=i,e.deflate=r,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,r(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,r(t,e)}},function(t,e,n){"use strict";function i(t,e){return t.msg=D[e],e}function r(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(T.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){_._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,a(t.strm)}function l(t,e){t.pending_buf[t.pending++]=e}function c(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function u(t,e,n,i){var r=t.avail_in;return r>i&&(r=i),0===r?0:(t.avail_in-=r,T.arraySet(e,t.input,t.next_in,r,n),1===t.state.wrap?t.adler=O(t.adler,e,r,n):2===t.state.wrap&&(t.adler=k(t.adler,e,r,n)),t.next_in+=r,t.total_in+=r,r)}function d(t,e){var n,i,r=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-nt?t.strstart-(t.w_size-nt):0,c=t.window,u=t.w_mask,d=t.prev,h=t.strstart+et,f=c[o+a-1],p=c[o+a];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+a]===p&&c[n+a-1]===f&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<h);if(i=et-(h-o),o=h-et,i>a){if(t.match_start=e,a=i,i>=s)break;f=c[o+a-1],p=c[o+a]}}}while((e=d[e&u])>l&&0!=--r);return a<=t.lookahead?a:t.lookahead}function h(t){var e,n,i,r,o,a=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-nt)){T.arraySet(t.window,t.window,a,a,0),t.match_start-=a,t.strstart-=a,t.block_start-=a,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=a?i-a:0}while(--n);e=n=a;do{i=t.prev[--e],t.prev[e]=i>=a?i-a:0}while(--n);r+=a}if(0===t.strm.avail_in)break;if(n=u(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=tt)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+tt-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<tt)););}while(t.lookahead<nt&&0!==t.strm.avail_in)}function f(t,e){for(var n,i;;){if(t.lookahead<nt){if(h(t),t.lookahead<nt&&e===x)return dt;if(0===t.lookahead)break}if(n=0,t.lookahead>=tt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+tt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-nt&&(t.match_length=d(t,n)),t.match_length>=tt)if(i=_._tr_tally(t,t.strstart-t.match_start,t.match_length-tt),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=tt){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+tt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=_._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(s(t,!1),0===t.strm.avail_out))return dt}return t.insert=t.strstart<tt-1?t.strstart:tt-1,e===R?(s(t,!0),0===t.strm.avail_out?ft:pt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?dt:ht}function p(t,e){for(var n,i,r;;){if(t.lookahead<nt){if(h(t),t.lookahead<nt&&e===x)return dt;if(0===t.lookahead)break}if(n=0,t.lookahead>=tt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+tt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=tt-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-nt&&(t.match_length=d(t,n),t.match_length<=5&&(t.strategy===F||t.match_length===tt&&t.strstart-t.match_start>4096)&&(t.match_length=tt-1)),t.prev_length>=tt&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-tt,i=_._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-tt),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+tt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=tt-1,t.strstart++,i&&(s(t,!1),0===t.strm.avail_out))return dt}else if(t.match_available){if((i=_._tr_tally(t,0,t.window[t.strstart-1]))&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return dt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=_._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<tt-1?t.strstart:tt-1,e===R?(s(t,!0),0===t.strm.avail_out?ft:pt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?dt:ht}function g(t,e){for(var n,i,r,o,a=t.window;;){if(t.lookahead<=et){if(h(t),t.lookahead<=et&&e===x)return dt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=tt&&t.strstart>0&&((i=a[r=t.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r])){o=t.strstart+et;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);t.match_length=et-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=tt?(n=_._tr_tally(t,1,t.match_length-tt),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=_._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return dt}return t.insert=0,e===R?(s(t,!0),0===t.strm.avail_out?ft:pt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?dt:ht}function m(t,e){for(var n;;){if(0===t.lookahead&&(h(t),0===t.lookahead)){if(e===x)return dt;break}if(t.match_length=0,n=_._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return dt}return t.insert=0,e===R?(s(t,!0),0===t.strm.avail_out?ft:pt):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?dt:ht}function v(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=V,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new T.Buf16(2*J),this.dyn_dtree=new T.Buf16(2*(2*X+1)),this.bl_tree=new T.Buf16(2*(2*Z+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new T.Buf16(Q+1),this.heap=new T.Buf16(2*G+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new T.Buf16(2*G+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=z,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?rt:ct,t.adler=2===e.wrap?0:1,e.last_flush=x,_._tr_init(e),N):i(t,M)}function w(t){var e=b(t);return e===N&&function(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=C[t.level].max_lazy,t.good_match=C[t.level].good_length,t.nice_match=C[t.level].nice_length,t.max_chain_length=C[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=tt-1,t.match_available=0,t.ins_h=0}(t.state),e}function E(t,e,n,r,o,a){if(!t)return M;var s=1;if(e===j&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>W||n!==V||r<8||r>15||e<0||e>9||a<0||a>H)return i(t,M);8===r&&(r=9);var l=new y;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+tt-1)/tt),l.window=new T.Buf8(2*l.w_size),l.head=new T.Buf16(l.hash_size),l.prev=new T.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new T.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=n,w(t)}var C,T=n(4),_=n(90),O=n(40),k=n(41),D=n(23),x=0,I=1,S=3,R=4,A=5,N=0,P=1,M=-2,L=-3,K=-5,j=-1,F=1,B=2,$=3,H=4,U=0,z=2,V=8,W=9,q=15,Y=8,G=286,X=30,Z=19,J=2*G+1,Q=15,tt=3,et=258,nt=et+tt+1,it=32,rt=42,ot=69,at=73,st=91,lt=103,ct=113,ut=666,dt=1,ht=2,ft=3,pt=4,gt=3;C=[new v(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(h(t),0===t.lookahead&&e===x)return dt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,s(t,!1),0===t.strm.avail_out))return dt;if(t.strstart-t.block_start>=t.w_size-nt&&(s(t,!1),0===t.strm.avail_out))return dt}return t.insert=0,e===R?(s(t,!0),0===t.strm.avail_out?ft:pt):(t.strstart>t.block_start&&(s(t,!1),t.strm.avail_out),dt)}),new v(4,4,8,4,f),new v(4,5,16,8,f),new v(4,6,32,32,f),new v(4,4,16,16,p),new v(8,16,32,32,p),new v(8,16,128,128,p),new v(8,32,128,256,p),new v(32,128,258,1024,p),new v(32,258,258,4096,p)],e.deflateInit=function(t,e){return E(t,e,V,q,Y,U)},e.deflateInit2=E,e.deflateReset=w,e.deflateResetKeep=b,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?M:(t.state.gzhead=e,N):M},e.deflate=function(t,e){var n,s,u,d;if(!t||!t.state||e>A||e<0)return t?i(t,M):M;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===ut&&e!==R)return i(t,0===t.avail_out?K:M);if(s.strm=t,n=s.last_flush,s.last_flush=e,s.status===rt)if(2===s.wrap)t.adler=0,l(s,31),l(s,139),l(s,8),s.gzhead?(l(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),l(s,255&s.gzhead.time),l(s,s.gzhead.time>>8&255),l(s,s.gzhead.time>>16&255),l(s,s.gzhead.time>>24&255),l(s,9===s.level?2:s.strategy>=B||s.level<2?4:0),l(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(l(s,255&s.gzhead.extra.length),l(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=k(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=ot):(l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=B||s.level<2?4:0),l(s,gt),s.status=ct);else{var h=V+(s.w_bits-8<<4)<<8;h|=(s.strategy>=B||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(h|=it),h+=31-h%31,s.status=ct,c(s,h),0!==s.strstart&&(c(s,t.adler>>>16),c(s,65535&t.adler)),t.adler=1}if(s.status===ot)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(t.adler=k(t.adler,s.pending_buf,s.pending-u,u)),a(t),u=s.pending,s.pending!==s.pending_buf_size));)l(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(t.adler=k(t.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=at)}else s.status=at;if(s.status===at)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(t.adler=k(t.adler,s.pending_buf,s.pending-u,u)),a(t),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(t.adler=k(t.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.gzindex=0,s.status=st)}else s.status=st;if(s.status===st)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(t.adler=k(t.adler,s.pending_buf,s.pending-u,u)),a(t),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(t.adler=k(t.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.status=lt)}else s.status=lt;if(s.status===lt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(t),s.pending+2<=s.pending_buf_size&&(l(s,255&t.adler),l(s,t.adler>>8&255),t.adler=0,s.status=ct)):s.status=ct),0!==s.pending){if(a(t),0===t.avail_out)return s.last_flush=-1,N}else if(0===t.avail_in&&r(e)<=r(n)&&e!==R)return i(t,K);if(s.status===ut&&0!==t.avail_in)return i(t,K);if(0!==t.avail_in||0!==s.lookahead||e!==x&&s.status!==ut){var f=s.strategy===B?m(s,e):s.strategy===$?g(s,e):C[s.level].func(s,e);if(f!==ft&&f!==pt||(s.status=ut),f===dt||f===ft)return 0===t.avail_out&&(s.last_flush=-1),N;if(f===ht&&(e===I?_._tr_align(s):e!==A&&(_._tr_stored_block(s,0,0,!1),e===S&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(t),0===t.avail_out))return s.last_flush=-1,N}return e!==R?N:s.wrap<=0?P:(2===s.wrap?(l(s,255&t.adler),l(s,t.adler>>8&255),l(s,t.adler>>16&255),l(s,t.adler>>24&255),l(s,255&t.total_in),l(s,t.total_in>>8&255),l(s,t.total_in>>16&255),l(s,t.total_in>>24&255)):(c(s,t.adler>>>16),c(s,65535&t.adler)),a(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?N:P)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==rt&&e!==ot&&e!==at&&e!==st&&e!==lt&&e!==ct&&e!==ut?i(t,M):(t.state=null,e===ct?i(t,L):N):M},e.deflateSetDictionary=function(t,e){var n,i,r,a,s,l,c,u,d=e.length;if(!t||!t.state)return M;if(2===(a=(n=t.state).wrap)||1===a&&n.status!==rt||n.lookahead)return M;for(1===a&&(t.adler=O(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new T.Buf8(n.w_size),T.arraySet(u,e,d-n.w_size,n.w_size,0),e=u,d=n.w_size),s=t.avail_in,l=t.next_in,c=t.input,t.avail_in=d,t.next_in=0,t.input=e,h(n);n.lookahead>=tt;){i=n.strstart,r=n.lookahead-(tt-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+tt-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--r);n.strstart=i,n.lookahead=tt-1,h(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=tt-1,n.match_available=0,t.next_in=l,t.input=c,t.avail_in=s,n.wrap=a,N},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";function i(t){for(var e=t.length;--e>=0;)t[e]=0}function r(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function a(t){return t<256?Y[t]:Y[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function l(t,e,n){t.bi_valid>L-n?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>L-t.bi_valid,t.bi_valid+=n-L):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function c(t,e,n){l(t,n[2*e],n[2*e+1])}function u(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function d(t,e,n){var i,r,o=new Array(M+1),a=0;for(i=1;i<=M;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=e;r++){var s=t[2*r+1];0!==s&&(t[2*r]=u(o[s]++,s))}}function h(t){var e;for(e=0;e<R;e++)t.dyn_ltree[2*e]=0;for(e=0;e<A;e++)t.dyn_dtree[2*e]=0;for(e=0;e<N;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*j]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function f(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function p(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function g(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&p(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!p(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function m(t,e,n){var i,r,o,s,u=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],r=t.pending_buf[t.l_buf+u],u++,0===i?c(t,r,e):(c(t,(o=G[r])+S+1,e),0!==(s=H[o])&&l(t,r-=X[o],s),c(t,o=a(--i),n),0!==(s=U[o])&&l(t,i-=Z[o],s))}while(u<t.last_lit);c(t,j,e)}function v(t,e){var n,i,r,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=P,n=0;n<l;n++)0!==o[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=a[2*r+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)g(t,o,n);r=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],g(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,g(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,o,a,s,l=e.dyn_tree,c=e.max_code,u=e.stat_desc.static_tree,d=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(o=0;o<=M;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<P;n++)(o=l[2*l[2*(i=t.heap[n])+1]+1]+1)>p&&(o=p,g++),l[2*i+1]=o,i>c||(t.bl_count[o]++,a=0,i>=f&&(a=h[i-f]),s=l[2*i],t.opt_len+=s*(o+a),d&&(t.static_len+=s*(u[2*i+1]+a)));if(0!==g){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(o=p;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--n])>c||(l[2*r+1]!==o&&(t.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(t,e),d(o,c,t.bl_count)}function y(t,e,n){var i,r,o=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=e[2*(i+1)+1],++s<l&&r===a||(s<c?t.bl_tree[2*r]+=s:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[2*F]++):s<=10?t.bl_tree[2*B]++:t.bl_tree[2*$]++,s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}function b(t,e,n){var i,r,o=-1,a=e[1],s=0,u=7,d=4;for(0===a&&(u=138,d=3),i=0;i<=n;i++)if(r=a,a=e[2*(i+1)+1],!(++s<u&&r===a)){if(s<d)do{c(t,r,t.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(c(t,r,t.bl_tree),s--),c(t,F,t.bl_tree),l(t,s-3,2)):s<=10?(c(t,B,t.bl_tree),l(t,s-3,3)):(c(t,$,t.bl_tree),l(t,s-11,7));s=0,o=r,0===a?(u=138,d=3):r===a?(u=6,d=3):(u=7,d=4)}}function w(t,e,n,i){l(t,(k<<1)+(i?1:0),3),function(t,e,n,i){f(t),i&&(s(t,n),s(t,~n)),E.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}var E=n(4),C=4,T=0,_=1,O=2,k=0,D=1,x=2,I=29,S=256,R=S+1+I,A=30,N=19,P=2*R+1,M=15,L=16,K=7,j=256,F=16,B=17,$=18,H=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(2*(R+2));i(W);var q=new Array(2*A);i(q);var Y=new Array(512);i(Y);var G=new Array(256);i(G);var X=new Array(I);i(X);var Z=new Array(A);i(Z);var J,Q,tt,et=!1;e._tr_init=function(t){et||(function(){var t,e,n,i,o,a=new Array(M+1);for(n=0,i=0;i<I-1;i++)for(X[i]=n,t=0;t<1<<H[i];t++)G[n++]=i;for(G[n-1]=i,o=0,i=0;i<16;i++)for(Z[i]=o,t=0;t<1<<U[i];t++)Y[o++]=i;for(o>>=7;i<A;i++)for(Z[i]=o<<7,t=0;t<1<<U[i]-7;t++)Y[256+o++]=i;for(e=0;e<=M;e++)a[e]=0;for(t=0;t<=143;)W[2*t+1]=8,t++,a[8]++;for(;t<=255;)W[2*t+1]=9,t++,a[9]++;for(;t<=279;)W[2*t+1]=7,t++,a[7]++;for(;t<=287;)W[2*t+1]=8,t++,a[8]++;for(d(W,R+1,a),t=0;t<A;t++)q[2*t+1]=5,q[2*t]=u(t,5);J=new r(W,H,S+1,R,M),Q=new r(q,U,0,A,M),tt=new r(new Array(0),z,0,N,K)}(),et=!0),t.l_desc=new o(t.dyn_ltree,J),t.d_desc=new o(t.dyn_dtree,Q),t.bl_desc=new o(t.bl_tree,tt),t.bi_buf=0,t.bi_valid=0,h(t)},e._tr_stored_block=w,e._tr_flush_block=function(t,e,n,i){var r,o,a=0;t.level>0?(t.strm.data_type===O&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return T;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return _;for(e=32;e<S;e++)if(0!==t.dyn_ltree[2*e])return _;return T}(t)),v(t,t.l_desc),v(t,t.d_desc),a=function(t){var e;for(y(t,t.dyn_ltree,t.l_desc.max_code),y(t,t.dyn_dtree,t.d_desc.max_code),v(t,t.bl_desc),e=N-1;e>=3&&0===t.bl_tree[2*V[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==e?w(t,e,n,i):t.strategy===C||o===r?(l(t,(D<<1)+(i?1:0),3),m(t,W,q)):(l(t,(x<<1)+(i?1:0),3),function(t,e,n,i){var r;for(l(t,e-257,5),l(t,n-1,5),l(t,i-4,4),r=0;r<i;r++)l(t,t.bl_tree[2*V[r]+1],3);b(t,t.dyn_ltree,e-1),b(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),m(t,t.dyn_ltree,t.dyn_dtree)),h(t),i&&f(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(G[n]+S+1)]++,t.dyn_dtree[2*a(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){l(t,D<<1,3),c(t,j,W),function(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=o.inflateInit2(this.strm,e.windowBits);if(n!==l.Z_OK)throw new Error(c[n]);this.header=new d,o.inflateGetHeader(this.strm,this.header)}function r(t,e){var n=new i(e);if(n.push(t,!0),n.err)throw n.msg||c[n.err];return n.result}var o=n(92),a=n(4),s=n(42),l=n(44),c=n(23),u=n(43),d=n(95),h=Object.prototype.toString;i.prototype.push=function(t,e){var n,i,r,c,u,d,f=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof t?f.input=s.binstring2buf(t):"[object ArrayBuffer]"===h.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new a.Buf8(p),f.next_out=0,f.avail_out=p),(n=o.inflate(f,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&g&&(d="string"==typeof g?s.string2buf(g):"[object ArrayBuffer]"===h.call(g)?new Uint8Array(g):g,n=o.inflateSetDictionary(this.strm,d)),n===l.Z_BUF_ERROR&&!0===m&&(n=l.Z_OK,m=!1),n!==l.Z_STREAM_END&&n!==l.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==l.Z_STREAM_END&&(0!==f.avail_in||i!==l.Z_FINISH&&i!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(r=s.utf8border(f.output,f.next_out),c=f.next_out-r,u=s.buf2string(f.output,r),f.next_out=c,f.avail_out=p-c,c&&a.arraySet(f.output,f.output,r,c,0),this.onData(u)):this.onData(a.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==l.Z_STREAM_END);return n===l.Z_STREAM_END&&(i=l.Z_FINISH),i===l.Z_FINISH?(n=o.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l.Z_OK):i!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),f.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=i,e.inflate=r,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,r(t,e)},e.ungzip=r},function(t,e,n){"use strict";function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=A,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new f.Buf32(ut),e.distcode=e.distdyn=new f.Buf32(dt),e.sane=1,e.back=-1,_):D}function a(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,o(t)):D}function s(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?D:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,a(t))):D}function l(t,e){var n,i;return t?(i=new r,t.state=i,i.window=null,(n=s(t,e))!==_&&(t.state=null),n):D}function c(t){if(ft){var e;for(d=new f.Buf32(512),h=new f.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(v(b,t.lens,0,288,d,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;v(w,t.lens,0,32,h,0,t.work,{bits:5}),ft=!1}t.lencode=d,t.lenbits=9,t.distcode=h,t.distbits=5}function u(t,e,n,i){var r,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new f.Buf8(o.wsize)),i>=o.wsize?(f.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>i&&(r=i),f.arraySet(o.window,e,n-i,r,o.wnext),(i-=r)?(f.arraySet(o.window,e,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}var d,h,f=n(4),p=n(40),g=n(41),m=n(93),v=n(94),y=0,b=1,w=2,E=4,C=5,T=6,_=0,O=1,k=2,D=-2,x=-3,I=-4,S=-5,R=8,A=1,N=2,P=3,M=4,L=5,K=6,j=7,F=8,B=9,$=10,H=11,U=12,z=13,V=14,W=15,q=16,Y=17,G=18,X=19,Z=20,J=21,Q=22,tt=23,et=24,nt=25,it=26,rt=27,ot=28,at=29,st=30,lt=31,ct=32,ut=852,dt=592,ht=15,ft=!0;e.inflateReset=a,e.inflateReset2=s,e.inflateResetKeep=o,e.inflateInit=function(t){return l(t,ht)},e.inflateInit2=l,e.inflate=function(t,e){var n,r,o,a,s,l,d,h,ut,dt,ht,ft,pt,gt,mt,vt,yt,bt,wt,Et,Ct,Tt,_t,Ot,kt=0,Dt=new f.Buf8(4),xt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return D;(n=t.state).mode===U&&(n.mode=z),s=t.next_out,o=t.output,d=t.avail_out,a=t.next_in,r=t.input,l=t.avail_in,h=n.hold,ut=n.bits,dt=l,ht=d,Tt=_;t:for(;;)switch(n.mode){case A:if(0===n.wrap){n.mode=z;break}for(;ut<16;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}if(2&n.wrap&&35615===h){n.check=0,Dt[0]=255&h,Dt[1]=h>>>8&255,n.check=g(n.check,Dt,2,0),h=0,ut=0,n.mode=N;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=st;break}if((15&h)!==R){t.msg="unknown compression method",n.mode=st;break}if(ut-=4,Ct=8+(15&(h>>>=4)),0===n.wbits)n.wbits=Ct;else if(Ct>n.wbits){t.msg="invalid window size",n.mode=st;break}n.dmax=1<<Ct,t.adler=n.check=1,n.mode=512&h?$:U,h=0,ut=0;break;case N:for(;ut<16;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}if(n.flags=h,(255&n.flags)!==R){t.msg="unknown compression method",n.mode=st;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=st;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(Dt[0]=255&h,Dt[1]=h>>>8&255,n.check=g(n.check,Dt,2,0)),h=0,ut=0,n.mode=P;case P:for(;ut<32;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}n.head&&(n.head.time=h),512&n.flags&&(Dt[0]=255&h,Dt[1]=h>>>8&255,Dt[2]=h>>>16&255,Dt[3]=h>>>24&255,n.check=g(n.check,Dt,4,0)),h=0,ut=0,n.mode=M;case M:for(;ut<16;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(Dt[0]=255&h,Dt[1]=h>>>8&255,n.check=g(n.check,Dt,2,0)),h=0,ut=0,n.mode=L;case L:if(1024&n.flags){for(;ut<16;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(Dt[0]=255&h,Dt[1]=h>>>8&255,n.check=g(n.check,Dt,2,0)),h=0,ut=0}else n.head&&(n.head.extra=null);n.mode=K;case K:if(1024&n.flags&&((ft=n.length)>l&&(ft=l),ft&&(n.head&&(Ct=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),f.arraySet(n.head.extra,r,a,ft,Ct)),512&n.flags&&(n.check=g(n.check,r,ft,a)),l-=ft,a+=ft,n.length-=ft),n.length))break t;n.length=0,n.mode=j;case j:if(2048&n.flags){if(0===l)break t;ft=0;do{Ct=r[a+ft++],n.head&&Ct&&n.length<65536&&(n.head.name+=String.fromCharCode(Ct))}while(Ct&&ft<l);if(512&n.flags&&(n.check=g(n.check,r,ft,a)),l-=ft,a+=ft,Ct)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=F;case F:if(4096&n.flags){if(0===l)break t;ft=0;do{Ct=r[a+ft++],n.head&&Ct&&n.length<65536&&(n.head.comment+=String.fromCharCode(Ct))}while(Ct&&ft<l);if(512&n.flags&&(n.check=g(n.check,r,ft,a)),l-=ft,a+=ft,Ct)break t}else n.head&&(n.head.comment=null);n.mode=B;case B:if(512&n.flags){for(;ut<16;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}if(h!==(65535&n.check)){t.msg="header crc mismatch",n.mode=st;break}h=0,ut=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=U;break;case $:for(;ut<32;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}t.adler=n.check=i(h),h=0,ut=0,n.mode=H;case H:if(0===n.havedict)return t.next_out=s,t.avail_out=d,t.next_in=a,t.avail_in=l,n.hold=h,n.bits=ut,k;t.adler=n.check=1,n.mode=U;case U:if(e===C||e===T)break t;case z:if(n.last){h>>>=7&ut,ut-=7&ut,n.mode=rt;break}for(;ut<3;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}switch(n.last=1&h,ut-=1,3&(h>>>=1)){case 0:n.mode=V;break;case 1:if(c(n),n.mode=Z,e===T){h>>>=2,ut-=2;break t}break;case 2:n.mode=Y;break;case 3:t.msg="invalid block type",n.mode=st}h>>>=2,ut-=2;break;case V:for(h>>>=7&ut,ut-=7&ut;ut<32;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=st;break}if(n.length=65535&h,h=0,ut=0,n.mode=W,e===T)break t;case W:n.mode=q;case q:if(ft=n.length){if(ft>l&&(ft=l),ft>d&&(ft=d),0===ft)break t;f.arraySet(o,r,a,ft,s),l-=ft,a+=ft,d-=ft,s+=ft,n.length-=ft;break}n.mode=U;break;case Y:for(;ut<14;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}if(n.nlen=257+(31&h),h>>>=5,ut-=5,n.ndist=1+(31&h),h>>>=5,ut-=5,n.ncode=4+(15&h),h>>>=4,ut-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=st;break}n.have=0,n.mode=G;case G:for(;n.have<n.ncode;){for(;ut<3;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}n.lens[xt[n.have++]]=7&h,h>>>=3,ut-=3}for(;n.have<19;)n.lens[xt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,_t={bits:n.lenbits},Tt=v(y,n.lens,0,19,n.lencode,0,n.work,_t),n.lenbits=_t.bits,Tt){t.msg="invalid code lengths set",n.mode=st;break}n.have=0,n.mode=X;case X:for(;n.have<n.nlen+n.ndist;){for(;vt=(kt=n.lencode[h&(1<<n.lenbits)-1])>>>16&255,yt=65535&kt,!((mt=kt>>>24)<=ut);){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}if(yt<16)h>>>=mt,ut-=mt,n.lens[n.have++]=yt;else{if(16===yt){for(Ot=mt+2;ut<Ot;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}if(h>>>=mt,ut-=mt,0===n.have){t.msg="invalid bit length repeat",n.mode=st;break}Ct=n.lens[n.have-1],ft=3+(3&h),h>>>=2,ut-=2}else if(17===yt){for(Ot=mt+3;ut<Ot;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}ut-=mt,Ct=0,ft=3+(7&(h>>>=mt)),h>>>=3,ut-=3}else{for(Ot=mt+7;ut<Ot;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}ut-=mt,Ct=0,ft=11+(127&(h>>>=mt)),h>>>=7,ut-=7}if(n.have+ft>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=st;break}for(;ft--;)n.lens[n.have++]=Ct}}if(n.mode===st)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=st;break}if(n.lenbits=9,_t={bits:n.lenbits},Tt=v(b,n.lens,0,n.nlen,n.lencode,0,n.work,_t),n.lenbits=_t.bits,Tt){t.msg="invalid literal/lengths set",n.mode=st;break}if(n.distbits=6,n.distcode=n.distdyn,_t={bits:n.distbits},Tt=v(w,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,_t),n.distbits=_t.bits,Tt){t.msg="invalid distances set",n.mode=st;break}if(n.mode=Z,e===T)break t;case Z:n.mode=J;case J:if(l>=6&&d>=258){t.next_out=s,t.avail_out=d,t.next_in=a,t.avail_in=l,n.hold=h,n.bits=ut,m(t,ht),s=t.next_out,o=t.output,d=t.avail_out,a=t.next_in,r=t.input,l=t.avail_in,h=n.hold,ut=n.bits,n.mode===U&&(n.back=-1);break}for(n.back=0;vt=(kt=n.lencode[h&(1<<n.lenbits)-1])>>>16&255,yt=65535&kt,!((mt=kt>>>24)<=ut);){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}if(vt&&0==(240&vt)){for(bt=mt,wt=vt,Et=yt;vt=(kt=n.lencode[Et+((h&(1<<bt+wt)-1)>>bt)])>>>16&255,yt=65535&kt,!(bt+(mt=kt>>>24)<=ut);){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}h>>>=bt,ut-=bt,n.back+=bt}if(h>>>=mt,ut-=mt,n.back+=mt,n.length=yt,0===vt){n.mode=it;break}if(32&vt){n.back=-1,n.mode=U;break}if(64&vt){t.msg="invalid literal/length code",n.mode=st;break}n.extra=15&vt,n.mode=Q;case Q:if(n.extra){for(Ot=n.extra;ut<Ot;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,ut-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=tt;case tt:for(;vt=(kt=n.distcode[h&(1<<n.distbits)-1])>>>16&255,yt=65535&kt,!((mt=kt>>>24)<=ut);){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}if(0==(240&vt)){for(bt=mt,wt=vt,Et=yt;vt=(kt=n.distcode[Et+((h&(1<<bt+wt)-1)>>bt)])>>>16&255,yt=65535&kt,!(bt+(mt=kt>>>24)<=ut);){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}h>>>=bt,ut-=bt,n.back+=bt}if(h>>>=mt,ut-=mt,n.back+=mt,64&vt){t.msg="invalid distance code",n.mode=st;break}n.offset=yt,n.extra=15&vt,n.mode=et;case et:if(n.extra){for(Ot=n.extra;ut<Ot;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,ut-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=st;break}n.mode=nt;case nt:if(0===d)break t;if(ft=ht-d,n.offset>ft){if((ft=n.offset-ft)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=st;break}ft>n.wnext?(ft-=n.wnext,pt=n.wsize-ft):pt=n.wnext-ft,ft>n.length&&(ft=n.length),gt=n.window}else gt=o,pt=s-n.offset,ft=n.length;ft>d&&(ft=d),d-=ft,n.length-=ft;do{o[s++]=gt[pt++]}while(--ft);0===n.length&&(n.mode=J);break;case it:if(0===d)break t;o[s++]=n.length,d--,n.mode=J;break;case rt:if(n.wrap){for(;ut<32;){if(0===l)break t;l--,h|=r[a++]<<ut,ut+=8}if(ht-=d,t.total_out+=ht,n.total+=ht,ht&&(t.adler=n.check=n.flags?g(n.check,o,ht,s-ht):p(n.check,o,ht,s-ht)),ht=d,(n.flags?h:i(h))!==n.check){t.msg="incorrect data check",n.mode=st;break}h=0,ut=0}n.mode=ot;case ot:if(n.wrap&&n.flags){for(;ut<32;){if(0===l)break t;l--,h+=r[a++]<<ut,ut+=8}if(h!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=st;break}h=0,ut=0}n.mode=at;case at:Tt=O;break t;case st:Tt=x;break t;case lt:return I;case ct:default:return D}return t.next_out=s,t.avail_out=d,t.next_in=a,t.avail_in=l,n.hold=h,n.bits=ut,(n.wsize||ht!==t.avail_out&&n.mode<st&&(n.mode<rt||e!==E))&&u(t,t.output,t.next_out,ht-t.avail_out)?(n.mode=lt,I):(dt-=t.avail_in,ht-=t.avail_out,t.total_in+=dt,t.total_out+=ht,n.total+=ht,n.wrap&&ht&&(t.adler=n.check=n.flags?g(n.check,o,ht,t.next_out-ht):p(n.check,o,ht,t.next_out-ht)),t.data_type=n.bits+(n.last?64:0)+(n.mode===U?128:0)+(n.mode===Z||n.mode===W?256:0),(0===dt&&0===ht||e===E)&&Tt===_&&(Tt=S),Tt)},e.inflateEnd=function(t){if(!t||!t.state)return D;var e=t.state;return e.window&&(e.window=null),t.state=null,_},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?D:(n.head=e,e.done=!1,_):D},e.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==H?D:n.mode===H&&p(1,e,i,0)!==n.check?x:u(t,e,i,i)?(n.mode=lt,I):(n.havedict=1,_):D},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,i,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y,b,w,E,C,T,_,O,k;n=t.state,i=t.next_in,O=t.input,r=i+(t.avail_in-5),o=t.next_out,k=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,d=n.wnext,h=n.window,f=n.hold,p=n.bits,g=n.lencode,m=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(f+=O[i++]<<p,p+=8,f+=O[i++]<<p,p+=8),b=g[f&v];e:for(;;){if(f>>>=w=b>>>24,p-=w,0==(w=b>>>16&255))k[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=g[(65535&b)+(f&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}E=65535&b,(w&=15)&&(p<w&&(f+=O[i++]<<p,p+=8),E+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=O[i++]<<p,p+=8,f+=O[i++]<<p,p+=8),b=m[f&y];n:for(;;){if(f>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=m[(65535&b)+(f&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(C=65535&b,p<(w&=15)&&(f+=O[i++]<<p,(p+=8)<w&&(f+=O[i++]<<p,p+=8)),(C+=f&(1<<w)-1)>l){t.msg="invalid distance too far back",n.mode=30;break t}if(f>>>=w,p-=w,C>(w=o-a)){if((w=C-w)>u&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(T=0,_=h,0===d){if(T+=c-w,w<E){E-=w;do{k[o++]=h[T++]}while(--w);T=o-C,_=k}}else if(d<w){if(T+=c+d-w,(w-=d)<E){E-=w;do{k[o++]=h[T++]}while(--w);if(T=0,d<E){E-=w=d;do{k[o++]=h[T++]}while(--w);T=o-C,_=k}}}else if(T+=d-w,w<E){E-=w;do{k[o++]=h[T++]}while(--w);T=o-C,_=k}for(;E>2;)k[o++]=_[T++],k[o++]=_[T++],k[o++]=_[T++],E-=3;E&&(k[o++]=_[T++],E>1&&(k[o++]=_[T++]))}else{T=o-C;do{k[o++]=k[T++],k[o++]=k[T++],k[o++]=k[T++],E-=3}while(E>2);E&&(k[o++]=k[T++],E>1&&(k[o++]=k[T++]))}break}}break}}while(i<r&&o<s);i-=E=p>>3,f&=(1<<(p-=E<<3))-1,t.next_in=i,t.next_out=o,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=f,n.bits=p}},function(t,e,n){"use strict";var i=n(4),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,l,c,u,d,h){var f,p,g,m,v,y,b,w,E,C=h.bits,T=0,_=0,O=0,k=0,D=0,x=0,I=0,S=0,R=0,A=0,N=null,P=0,M=new i.Buf16(16),L=new i.Buf16(16),K=null,j=0;for(T=0;T<=15;T++)M[T]=0;for(_=0;_<l;_++)M[e[n+_]]++;for(D=C,k=15;k>=1&&0===M[k];k--);if(D>k&&(D=k),0===k)return c[u++]=20971520,c[u++]=20971520,h.bits=1,0;for(O=1;O<k&&0===M[O];O++);for(D<O&&(D=O),S=1,T=1;T<=15;T++)if(S<<=1,(S-=M[T])<0)return-1;if(S>0&&(0===t||1!==k))return-1;for(L[1]=0,T=1;T<15;T++)L[T+1]=L[T]+M[T];for(_=0;_<l;_++)0!==e[n+_]&&(d[L[e[n+_]]++]=_);if(0===t?(N=K=d,y=19):1===t?(N=r,P-=257,K=o,j-=257,y=256):(N=a,K=s,y=-1),A=0,_=0,T=O,v=u,x=D,I=0,g=-1,m=(R=1<<D)-1,1===t&&R>852||2===t&&R>592)return 1;for(;;){b=T-I,d[_]<y?(w=0,E=d[_]):d[_]>y?(w=K[j+d[_]],E=N[P+d[_]]):(w=96,E=0),f=1<<T-I,O=p=1<<x;do{c[v+(A>>I)+(p-=f)]=b<<24|w<<16|E|0}while(0!==p);for(f=1<<T-1;A&f;)f>>=1;if(0!==f?(A&=f-1,A+=f):A=0,_++,0==--M[T]){if(T===k)break;T=e[n+d[_]]}if(T>D&&(A&m)!==g){for(0===I&&(I=D),v+=O,S=1<<(x=T-I);x+I<k&&!((S-=M[x+I])<=0);)x++,S<<=1;if(R+=1<<x,1===t&&R>852||2===t&&R>592)return 1;c[g=A&m]=D<<24|x<<16|v-u|0}}return 0!==A&&(c[v+A]=T-I<<24|64<<16|0),h.bits=D,0}},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,n){"use strict";function i(t,e,n,i){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var r=n(0),o=n(1),a=n(6),s=n(22),l=n(45),c=function(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i},u=function(t,e,n,i,o,u){var d,h,f=t.file,p=t.compression,g=u!==a.utf8encode,m=r.transformTo("string",u(f.name)),v=r.transformTo("string",a.utf8encode(f.name)),y=f.comment,b=r.transformTo("string",u(y)),w=r.transformTo("string",a.utf8encode(y)),E=v.length!==f.name.length,C=w.length!==y.length,T="",_="",O="",k=f.dir,D=f.date,x={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(x.crc32=t.crc32,x.compressedSize=t.compressedSize,x.uncompressedSize=t.uncompressedSize);var I=0;e&&(I|=8),g||!E&&!C||(I|=2048);var S=0,R=0;k&&(S|=16),"UNIX"===o?(R=798,S|=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16}(f.unixPermissions,k)):(R=20,S|=function(t,e){return 63&(t||0)}(f.dosPermissions)),d=D.getUTCHours(),d<<=6,d|=D.getUTCMinutes(),d<<=5,d|=D.getUTCSeconds()/2,h=D.getUTCFullYear()-1980,h<<=4,h|=D.getUTCMonth()+1,h<<=5,h|=D.getUTCDate(),E&&(_=c(1,1)+c(s(m),4)+v,T+="up"+c(_.length,2)+_),C&&(O=c(1,1)+c(s(b),4)+w,T+="uc"+c(O.length,2)+O);var A="";return A+="\n\0",A+=c(I,2),A+=p.magic,A+=c(d,2),A+=c(h,2),A+=c(x.crc32,4),A+=c(x.compressedSize,4),A+=c(x.uncompressedSize,4),A+=c(m.length,2),A+=c(T.length,2),{fileRecord:l.LOCAL_FILE_HEADER+A+m+T,dirRecord:l.CENTRAL_FILE_HEADER+c(R,2)+A+c(b.length,2)+"\0\0\0\0"+c(S,4)+c(i,4)+m+T+b}},d=function(t){return l.DATA_DESCRIPTOR+c(t.crc32,4)+c(t.compressedSize,4)+c(t.uncompressedSize,4)};r.inherits(i,o),i.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},i.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=u(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},i.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=u(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:d(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},i.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,i=function(t,e,n,i,o){var a=r.transformTo("string",o(i));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(t,2)+c(t,2)+c(e,4)+c(n,4)+c(a.length,2)+a}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},i.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},i.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},i.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},i.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},t.exports=i},function(t,e,n){"use strict";function i(t,e){o.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}var r=n(0),o=n(1);r.inherits(i,o),i.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},i.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=i},function(t,e,n){"use strict";function i(t){return new o.Promise(function(e,n){var i=t.decompressed.getContentWorker().pipe(new l);i.on("error",function(t){n(t)}).on("end",function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}var r=n(0),o=n(9),a=n(6),s=(r=n(0),n(99)),l=n(38),c=n(14);t.exports=function(t,e){var n=this;return e=r.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(t)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var n=new s(e);return n.load(t),n}).then(function(t){var n=[o.Promise.resolve(t)],r=t.files;if(e.checkCRC32)for(var a=0;a<r.length;a++)n.push(i(r[a]));return o.Promise.all(n)}).then(function(t){for(var i=t.shift(),r=i.files,o=0;o<r.length;o++){var a=r[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:e.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},function(t,e,n){"use strict";function i(t){this.files=[],this.loadOptions=t}var r=n(46),o=n(0),a=n(45),s=n(102),l=(n(6),n(3));i.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=l.uint8array?"uint8array":"array",n=o.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(t=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(i>0)this.isSignature(e,a.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=r(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=i},function(t,e,n){"use strict";function i(t){r.call(this,t)}var r=n(48);n(0).inherits(i,r),i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,n){"use strict";function i(t){r.call(this,t)}var r=n(49);n(0).inherits(i,r),i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,n){"use strict";function i(t,e){this.options=t,this.loadOptions=e}var r=n(46),o=n(0),a=n(21),s=n(22),l=n(6),c=n(39),u=n(3);i.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in c)if(c.hasOwnProperty(e)&&c[e].magic===t)return c[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,i,r=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<r;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i}},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var r=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=r(t.value);return 1!==e.readInt(1)?null:s(this.fileName)!==e.readInt(4)?null:l.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=r(t.value);return 1!==e.readInt(1)?null:s(this.fileComment)!==e.readInt(4)?null:l.utf8decode(e.readData(t.length-5))}return null}},t.exports=i},function(t,e,n){var i,r=r||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l=function(t){setTimeout(function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()},4e4)},c=function(t,e,n){for(var i=(e=[].concat(e)).length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,n||t)}catch(t){s(t)}}},u=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},d=function(e,s,d){d||(e=u(e));var h,f=this,p="application/octet-stream"===e.type,g=function(){c(f,"writestart progress write writeend".split(" "))};if(f.readyState=f.INIT,r)return h=n().createObjectURL(e),void setTimeout(function(){var t,e;i.href=h,i.download=s,t=i,e=new MouseEvent("click"),t.dispatchEvent(e),g(),l(h),f.readyState=f.DONE});!function(){if((a||p&&o)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var e=a?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,f.readyState=f.DONE,g()},i.readAsDataURL(e),void(f.readyState=f.INIT)}h||(h=n().createObjectURL(e)),p?t.location.href=h:t.open(h,"_blank")||(t.location.href=h),f.readyState=f.DONE,g(),l(h)}()},h=d.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=u(t)),navigator.msSaveOrOpenBlob(t,e)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(t,e,n){return new d(t,e||t.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==t&&t.exports?t.exports.saveAs=r:null!==n(104)&&null!==n(105)&&void 0!==(i=function(){return r}.call(e,n,e,t))&&(t.exports=i)},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})}])})}).call(e,n(1).setImmediate,n(1).clearImmediate)},function(t,e,n){(function(t,e){!function(t,n){"use strict";function i(t){delete s[t]}function r(t){if(l)setTimeout(r,0,t);else{var e=s[t];if(e){l=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{i(t),l=!1}}}}if(!t.setImmediate){var o,a=1,s={},l=!1,c=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?o=function(t){e.nextTick(function(){r(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&r(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),o=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){r(t.data)},o=function(e){t.port2.postMessage(e)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var t=c.documentElement;o=function(e){var n=c.createElement("script");n.onreadystatechange=function(){r(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():o=function(t){setTimeout(r,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return s[a]=i,o(a),a++},u.clearImmediate=i}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(2),n(11))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(){p&&h&&(p=!1,h.length?f=h.concat(f):g=-1,f.length&&a())}function a(){if(!p){var t=r(o);p=!0;for(var e=f.length;e;){for(h=f,f=[];++g<e;)h&&h[g].run();g=-1,e=f.length}h=null,p=!1,function(t){if(u===clearTimeout)return clearTimeout(t);if((u===i||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}(t)}}function s(t,e){this.fun=t,this.array=e}function l(){}var c,u,d=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{u="function"==typeof clearTimeout?clearTimeout:i}catch(t){u=i}}();var h,f=[],p=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new s(t,e)),1!==f.length||p||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){t.exports=function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=r.default.plugins.add("gjs-aviary",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,i=t.getModel(),r=void 0,o={key:"1",onApply:null,getFilename:null,closeOnApply:!0,config:{}};for(var a in o)a in n||(n[a]=o[a]);var s=n.config;s.apiKey=n.key,s.onSave=function(t,e){r.set("src",e);var i="function"==typeof n.getFilename?n.getFilename:u,o=i(r);("function"==typeof n.onApply?n.onApply:d)(e,o,r),n.closeOnApply&&l.close()};var l=new Aviary.Feather(s),c=t.Commands,u=function(t){var e=t.get("src").split("/").pop();return Date.now()+"_"+e.slice(-15)},d=function(e,n){t.AssetManager.add({src:e,name:n})},h=document.createElement("img");c.add("image-editor",{run:function(t,e,n){var o=n||{},a=o.model||t.getSelected();r=a,h.src=a.get("src"),l.launch({image:h}),i.trigger("gjs-aviary:launch",a,l)}})})},function(e,n){e.exports=t}])}(n(0))},function(t,e,n){t.exports=function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=r.default.plugins.add("gjs-plugin-filestack",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e,i=t.getConfig(),r=i.stylePrefix||"",o=void 0,a={key:"",btnEl:"",btnText:"Add images",filestackOpts:{accept:"image/*",maxFiles:10},onComplete:function(t,e){}};for(var s in a)s in n||(n[s]=a[s]);if(!filestack)throw new Error("Filestack instance not found");if(!n.key)throw new Error("Filestack's API key not found");var l=filestack.init(n.key);t.on("run:open-assets",function(){var e=t.Modal,i=e.getContentEl(),a=i.querySelector("."+r+"am-file-uploader"),s=i.querySelector("."+r+"am-assets-header"),u=i.querySelector("."+r+"am-assets-cont");a&&(a.style.display="none"),s&&(s.style.display="none"),u.style.width="100%",o||((o=n.btnEl)||((o=document.createElement("button")).className=r+"btn-prim "+r+"btn-filestack",o.innerHTML=n.btnText),o.onclick=function(){l.pick(n.filestackOpts).then(function(t){var e=t.filesUploaded,i=e instanceof Array?e:[e],r=c(i);n.onComplete(i,r)})}),u.insertBefore(o,s)});var c=function(e){var n=e.map(function(t){return t.src=t.url,t});return t.AssetManager.add(n)}})},function(e,n){e.exports=t}])}(n(0))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n(15)),r=n(3);e.default=function(t,e){var n=t.Commands,o=e.textCleanCanvas;n.add(r.cmdImport,(0,i.default)(t,e)),n.add(r.cmdDeviceDesktop,function(t){return t.setDevice("Desktop")}),n.add(r.cmdDeviceTablet,function(t){return t.setDevice("Tablet")}),n.add(r.cmdDeviceMobile,function(t){return t.setDevice("Mobile portrait")}),n.add(r.cmdClear,function(t){return confirm(o)&&t.runCommand("core:canvas-clear")})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.default=function(t,e){var n=t.getConfig("stylePrefix"),r=t.Modal,o=t.CodeManager.getViewer("CodeMirror").clone(),a=document.createElement("div"),s=e.modalImportLabel,l=e.modalImportContent,c=o.editor,u=document.createElement("button");return u.type="button",u.innerHTML=e.modalImportButton,u.className=n+"btn-prim "+n+"btn-import",u.onclick=function(e){t.setComponents(c.getValue().trim()),r.close()},o.set(i({codeName:"htmlmixed",theme:"hopscotch",readOnly:0},e.importViewerOptions)),{run:function(t){var i=this;if(!c){var d=document.createElement("textarea");if(s){var h=document.createElement("div");h.className=n+"import-label",h.innerHTML=s,a.appendChild(h)}a.appendChild(d),a.appendChild(u),o.init(d),c=o.editor}r.setTitle(e.modalImportTitle),r.setContent(a);var f="function"==typeof l?l(t):l;o.setContent(f||""),r.open().getModel().once("change:open",function(){return t.stopCommand(i.id)}),c.refresh()},stop:function(){r.close()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t.BlockManager,i=function(t){return e.blocks.indexOf(t)>=0};i("link-block")&&n.add("link-block",{category:"Basic",label:"Link Block",attributes:{class:"fa fa-link"},content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}}),i("quote")&&n.add("quote",{label:"Quote",category:"Basic",attributes:{class:"fa fa-quote-right"},content:'<blockquote class="quote">\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit\n      </blockquote>'}),i("text-basic")&&n.add("text-basic",{category:"Basic",label:"Text section",attributes:{class:"gjs-fonts gjs-f-h1p"},content:'<section class="bdg-sect">\n      <h1 class="heading">Insert title here</h1>\n      <p class="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>\n      </section>'})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],t.DomComponents).getType("default");e.model,e.view}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3);e.default=function(t,e){var n=t.Panels,r=t.getConfig(),o="sw-visibility",a="export-template",s="open-sm",l="open-layers",c="open-blocks",u="fullscreen",d="preview";r.showDevices=0,n.getPanels().reset([{id:"commands",buttons:[{}]},{id:"options",buttons:[{id:o,command:o,context:o,className:"fa fa-square-o"},{id:d,context:d,command:function(t){return t.runCommand(d)},className:"fa fa-eye"},{id:u,command:u,context:u,className:"fa fa-arrows-alt"},{id:a,className:"fa fa-code",command:function(t){return t.runCommand(a)}},{id:"undo",className:"fa fa-undo",command:function(t){return t.runCommand("core:undo")}},{id:"redo",className:"fa fa-repeat",command:function(t){return t.runCommand("core:redo")}},{id:i.cmdImport,className:"fa fa-download",command:function(t){return t.runCommand(i.cmdImport)}},{id:i.cmdClear,className:"fa fa-trash",command:function(t){return t.runCommand(i.cmdClear)}}]},{id:"views",buttons:[{id:s,command:s,active:!0,className:"fa fa-paint-brush"},{id:"open-tm",command:"open-tm",className:"fa fa-cog"},{id:l,command:l,className:"fa fa-bars"},{id:c,command:c,className:"fa fa-th-large"}]}]),n.addPanel({id:"devices-c"}).get("buttons").add([{id:i.cmdDeviceDesktop,command:i.cmdDeviceDesktop,className:"fa fa-desktop",active:1},{id:i.cmdDeviceTablet,command:i.cmdDeviceTablet,className:"fa fa-tablet"},{id:i.cmdDeviceMobile,command:i.cmdDeviceMobile,className:"fa fa-mobile"}]);var h=n.getButton("views",c);t.on("load",function(){return h&&h.set("active",1)}),e.showStylesOnChange&&t.on("component:selected",function(){var e=n.getButton("views",s),i=n.getButton("views",l);i&&i.get("active")||!t.getSelected()||e&&e.set("active",1)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t.StyleManager,i=e.customStyleManager;n.getSectors().reset(i&&i.length?i:[{name:e.textGeneral,open:!1,buildProps:["float","display","position","top","right","left","bottom"]},{name:e.textLayout,open:!1,buildProps:["width","height","max-width","min-height","margin","padding"]},{name:e.textTypography,open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"],properties:[{property:"text-align",list:[{value:"left",className:"fa fa-align-left"},{value:"center",className:"fa fa-align-center"},{value:"right",className:"fa fa-align-right"},{value:"justify",className:"fa fa-align-justify"}]}]},{name:e.textDecorations,open:!1,buildProps:["border-radius-c","background-color","border-radius","border","box-shadow","background"]},{name:e.textExtra,open:!1,buildProps:["transition","perspective","transform"]}])}}])}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("grapesjs")):"function"==typeof define&&define.amd?define(["grapesjs"],e):"object"==typeof exports?exports["grapesjs-plugin-ckeditor"]=e(require("grapesjs")):t["grapesjs-plugin-ckeditor"]=e(t.grapesjs)}("undefined"!=typeof self?self:this,function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),r=function(t){return t.stopPropagation()};e.default=i.default.plugins.add("gjs-plugin-ckeditor",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={options:{},position:"left"};for(var o in n)o in e||(e[o]=n[o]);if(!CKEDITOR)throw new Error("CKEDITOR instance not found");t.setCustomRte({enable:function(n,o){if(o&&"destroyed"!=o.status)return this.focus(n,o),o;n.contentEditable=!0;var a=t.RichTextEditor.getToolbarEl();[].forEach.call(a.children,function(t){t.style.display="none"});var s=e.options;return s.extraPlugins?"string"==typeof s.extraPlugins?s.extraPlugins+=",sharedspace":s.extraPlugins.push("sharedspace"):s.extraPlugins="sharedspace",e.options.sharedSpaces||(e.options.sharedSpaces={top:a}),(o=CKEDITOR.inline(n,e.options)).on("contentDom",function(){var t=o.editable();t.attachListener(t,"click",function(){n.click()})}),o.on("instanceReady",function(e){var n=a.querySelector("#cke_"+o.name);n&&(n.style.display="block"),t.trigger("canvasScroll")}),o.on("dialogShow",function(t){var e=i.default.$(".cke_dialog_background_cover, .cke_dialog");["off","on"].forEach(function(t){return e[t]("mousedown",r)})}),this.focus(n,o),o},disable:function(t,e){t.contentEditable=!1,e&&e.focusManager&&e.focusManager.blur(!0)},focus:function(t,e){e&&e.focusManager.hasFocus||(t.contentEditable=!0,e&&e.focus())}}),t.on("rteToolbarPosUpdate",function(t){switch(e.position){case"center":var n=t.elementWidth/2-t.targetWidth/2;t.left=t.elementLeft+n;break;case"right":var i=t.targetWidth;t.left=t.elementLeft+t.elementWidth-i}t.top<=t.canvasTop&&(t.top=t.elementTop+t.elementHeight),t.left<t.canvasLeft&&(t.left=t.canvasLeft)})})},function(e,n){e.exports=t}])}),function(t,e){function n(){t.Slim.parse(document)}if(t)if(t.Slim=function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e,n,i){if(!(e>=1)){for(var r=t.width,o=t.height,a=Math.max(i.width,Math.min(n.width,Math.round(t.width*e))),s=Math.max(i.height,Math.min(n.height,Math.round(t.height*e))),l=t;r>a&&o>s;){var c=document.createElement("canvas");(r=Math.round(.5*l.width))<a&&(r=a),(o=Math.round(.5*l.height))<s&&(o=s),c.width=r,c.height=o,c.getContext("2d").drawImage(l,0,0,r,o),v(l),l=c,c=null}t.width=a,t.height=s,t.getContext("2d").drawImage(l,0,0,a,s),l!==t&&v(l)}}!function(){function t(t,n){n=n||{bubbles:!1,cancelable:!1,detail:e};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),i}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}();var i=function(t,e,n){var r,o,a=document.createElement("img");if(a.onerror=e,a.onload=function(){!o||n&&n.noRevoke||i.revokeObjectURL(o),e&&e(i.scale(a,n))},i.isInstanceOf("Blob",t)||i.isInstanceOf("File",t))r=o=i.createObjectURL(t),a._type=t.type;else{if("string"!=typeof t)return!1;r=t,n&&n.crossOrigin&&(a.crossOrigin=n.crossOrigin)}return r?(a.src=r,a):i.readFile(t,function(t){var n=t.target;n&&n.result?a.src=n.result:e&&e(t)})},r=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;i.isInstanceOf=function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},i.transformCoordinates=function(){},i.getTransformedOptions=function(t,e){var n,i,r,o,a=e.aspectRatio;if(!a)return e;for(i in n={},e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n.crop=!0,(r=t.naturalWidth||t.width)/(o=t.naturalHeight||t.height)>a?(n.maxWidth=o*a,n.maxHeight=o):(n.maxWidth=r,n.maxHeight=r/a),n},i.renderImageToCanvas=function(t,e,n,i,r,o,a,s,l,c){return t.getContext("2d").drawImage(e,n,i,r,o,a,s,l,c),t},i.hasCanvasOption=function(t){return t.canvas||t.crop||!!t.aspectRatio},i.scale=function(t,n){function r(){var t=Math.max((l||E)/E,(c||C)/C);t>1&&(E*=t,C*=t)}function o(){var t=Math.min((a||E)/E,(s||C)/C);t<1&&(E*=t,C*=t)}n=n||{};var a,s,l,c,u,d,h,f,p,g,m,v=document.createElement("canvas"),y=t.getContext||i.hasCanvasOption(n)&&v.getContext,b=t.naturalWidth||t.width,w=t.naturalHeight||t.height,E=b,C=w;if(y&&(h=(n=i.getTransformedOptions(t,n)).left||0,f=n.top||0,n.sourceWidth?(u=n.sourceWidth,n.right!==e&&n.left===e&&(h=b-u-n.right)):u=b-h-(n.right||0),n.sourceHeight?(d=n.sourceHeight,n.bottom!==e&&n.top===e&&(f=w-d-n.bottom)):d=w-f-(n.bottom||0),E=u,C=d),a=n.maxWidth,s=n.maxHeight,l=n.minWidth,c=n.minHeight,y&&a&&s&&n.crop?(E=a,C=s,(m=u/d-a/s)<0?(d=s*u/a,n.top===e&&n.bottom===e&&(f=(w-d)/2)):m>0&&(u=a*d/s,n.left===e&&n.right===e&&(h=(b-u)/2))):((n.contain||n.cover)&&(l=a=a||l,c=s=s||c),n.cover?(o(),r()):(r(),o())),y){if((p=n.pixelRatio)>1&&(v.style.width=E+"px",v.style.height=C+"px",E*=p,C*=p,v.getContext("2d").scale(p,p)),(g=n.downsamplingRatio)>0&&g<1&&E<u&&C<d)for(;u*g>E;)v.width=u*g,v.height=d*g,i.renderImageToCanvas(v,t,h,f,u,d,0,0,v.width,v.height),u=v.width,d=v.height,(t=document.createElement("canvas")).width=u,t.height=d,i.renderImageToCanvas(t,v,0,0,u,d,0,0,u,d);return v.width=E,v.height=C,i.transformCoordinates(v,n),i.renderImageToCanvas(v,t,h,f,u,d,0,0,E,C)}return t.width=E,t.height=C,t},i.createObjectURL=function(t){return!!r&&r.createObjectURL(t)},i.revokeObjectURL=function(t){return!!r&&r.revokeObjectURL(t)},i.readFile=function(t,e,n){if(window.FileReader){var i=new FileReader;if(i.onload=i.onerror=e,i[n=n||"readAsDataURL"])return i[n](t),i}return!1};var o=i.hasCanvasOption,a=i.transformCoordinates,s=i.getTransformedOptions;i.hasCanvasOption=function(t){return!!t.orientation||o.call(i,t)},i.transformCoordinates=function(t,e){a.call(i,t,e);var n=t.getContext("2d"),r=t.width,o=t.height,s=t.style.width,l=t.style.height,c=e.orientation;if(c&&!(c>8))switch(c>4&&(t.width=o,t.height=r,t.style.width=l,t.style.height=s),c){case 2:n.translate(r,0),n.scale(-1,1);break;case 3:n.translate(r,o),n.rotate(Math.PI);break;case 4:n.translate(0,o),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-o);break;case 7:n.rotate(.5*Math.PI),n.translate(r,-o),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-r,0)}},i.getTransformedOptions=function(t,e){var n,r,o=s.call(i,t,e),a=o.orientation;if(!a||a>8||1===a)return o;for(r in n={},o)o.hasOwnProperty(r)&&(n[r]=o[r]);switch(o.orientation){case 2:n.left=o.right,n.right=o.left;break;case 3:n.left=o.right,n.top=o.bottom,n.right=o.left,n.bottom=o.top;break;case 4:n.top=o.bottom,n.bottom=o.top;break;case 5:n.left=o.top,n.top=o.left,n.right=o.bottom,n.bottom=o.right;break;case 6:n.left=o.top,n.top=o.right,n.right=o.bottom,n.bottom=o.left;break;case 7:n.left=o.bottom,n.top=o.right,n.right=o.top,n.bottom=o.left;break;case 8:n.left=o.bottom,n.top=o.left,n.right=o.top,n.bottom=o.right}return o.orientation>4&&(n.maxWidth=o.maxHeight,n.maxHeight=o.maxWidth,n.minWidth=o.minHeight,n.minHeight=o.minWidth,n.sourceWidth=o.sourceHeight,n.sourceHeight=o.sourceWidth),n};var l=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);i.blobSlice=l&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},i.metaDataParsers={jpeg:{65505:[]}},i.parseMetaData=function(t,e,n){var r=this,o=(n=n||{}).maxMetaDataSize||262144,a={};!!(window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&i.blobSlice)&&i.readFile(i.blobSlice.call(t,0,o),function(t){if(t.target.error)e(a);else{var o,s,l,c,u=t.target.result,d=new DataView(u),h=2,f=d.byteLength-4,p=h;if(65496===d.getUint16(0)){for(;h<f&&((o=d.getUint16(h))>=65504&&o<=65519||65534===o)&&!(h+(s=d.getUint16(h+2)+2)>d.byteLength);){if(l=i.metaDataParsers.jpeg[o])for(c=0;c<l.length;c+=1)l[c].call(r,d,h,s,a,n);p=h+=s}!n.disableImageHead&&p>6&&(u.slice?a.imageHead=u.slice(0,p):a.imageHead=new Uint8Array(u).subarray(0,p))}e(a)}},"readAsArrayBuffer")||e(a)},i.ExifMap=function(){return this},i.ExifMap.prototype.map={Orientation:274},i.ExifMap.prototype.get=function(t){return this[t]||this[this.map[t]]},i.getExifThumbnail=function(t,e,n){var i,r,o;if(n&&!(e+n>t.byteLength)){for(i=[],r=0;r<n;r+=1)o=t.getUint8(e+r),i.push((o<16?"0":"")+o.toString(16));return"data:image/jpeg,%"+i.join("%")}},i.exifTagTypes={1:{getValue:function(t,e){return t.getUint8(e)},size:1},2:{getValue:function(t,e){return String.fromCharCode(t.getUint8(e))},size:1,ascii:!0},3:{getValue:function(t,e,n){return t.getUint16(e,n)},size:2},4:{getValue:function(t,e,n){return t.getUint32(e,n)},size:4},5:{getValue:function(t,e,n){return t.getUint32(e,n)/t.getUint32(e+4,n)},size:8},9:{getValue:function(t,e,n){return t.getInt32(e,n)},size:4},10:{getValue:function(t,e,n){return t.getInt32(e,n)/t.getInt32(e+4,n)},size:8}},i.exifTagTypes[7]=i.exifTagTypes[1],i.getExifValue=function(t,e,n,r,o,a){var s,l,c,u,d,h,f=i.exifTagTypes[r];if(f&&!((l=(s=f.size*o)>4?e+t.getUint32(n+8,a):n+8)+s>t.byteLength)){if(1===o)return f.getValue(t,l,a);for(c=[],u=0;u<o;u+=1)c[u]=f.getValue(t,l+u*f.size,a);if(f.ascii){for(d="",u=0;u<c.length&&"\0"!==(h=c[u]);u+=1)d+=h;return d}return c}},i.parseExifTag=function(t,e,n,r,o){var a=t.getUint16(n,r);o.exif[a]=i.getExifValue(t,e,n,t.getUint16(n+2,r),t.getUint32(n+4,r),r)},i.parseExifTags=function(t,e,n,i,r){var o,a,s;if(!(n+6>t.byteLength||(o=t.getUint16(n,i),a=n+2+12*o,a+4>t.byteLength))){for(s=0;s<o;s+=1)this.parseExifTag(t,e,n+2+12*s,i,r);return t.getUint32(a,i)}},i.parseExifData=function(t,e,n,r,o){if(!o.disableExif){var a,s,l,c=e+10;if(1165519206===t.getUint32(e+4)&&!(c+8>t.byteLength)&&0===t.getUint16(e+8)){switch(t.getUint16(c)){case 18761:a=!0;break;case 19789:a=!1;break;default:return}42===t.getUint16(c+2,a)&&(s=t.getUint32(c+4,a),r.exif=new i.ExifMap,(s=i.parseExifTags(t,c,c+s,a,r))&&!o.disableExifThumbnail&&(l={exif:{}},s=i.parseExifTags(t,c,c+s,a,l),l.exif[513]&&(r.exif.Thumbnail=i.getExifThumbnail(t,c+l.exif[513],l.exif[514]))),r.exif[34665]&&!o.disableExifSub&&i.parseExifTags(t,c,c+r.exif[34665],a,r),r.exif[34853]&&!o.disableExifGps&&i.parseExifTags(t,c,c+r.exif[34853],a,r))}}},i.metaDataParsers.jpeg[65505].push(i.parseExifData);var c=function(){var t=[],n=[],i=[],r="transform",o=window.getComputedStyle(document.documentElement,"");"webkit"===(Array.prototype.slice.call(o).join("").match(/-(moz|webkit|ms)-/)||""===o.OLink&&["","o"])[1]&&(r="webkitTransform");var a=function(t,n,i){var r=t;if(r.length!==e){for(var o={chainers:[],then:function(t){return this.snabbt(t)},snabbt:function(t){var e=this.chainers.length;return this.chainers.forEach(function(n,i){n.snabbt(s(t,i,e))}),o},setValue:function(t){return this.chainers.forEach(function(e){e.setValue(t)}),o},finish:function(){return this.chainers.forEach(function(t){t.finish()}),o},rollback:function(){return this.chainers.forEach(function(t){t.rollback()}),o}},a=0,c=r.length;a<c;++a)"string"==typeof n?o.chainers.push(l(r[a],n,s(i,a,c))):o.chainers.push(l(r[a],s(n,a,c),i));return o}return"string"==typeof n?l(r,n,s(i,0,1)):l(r,s(n,0,1),i)},s=function(t,e,n){if(!t)return t;var i=F(t);j(t.delay)&&(i.delay=t.delay(e,n)),j(t.callback)&&(i.complete=function(){t.callback.call(this,e,n)});var r=j(t.allDone),o=j(t.complete);(o||r)&&(i.complete=function(){o&&t.complete.call(this,e,n),r&&e==n-1&&t.allDone()}),j(t.valueFeeder)&&(i.valueFeeder=function(i,r){return t.valueFeeder(i,r,e,n)}),j(t.easing)&&(i.easing=function(i){return t.easing(i,e,n)});return["position","rotation","skew","rotationPost","scale","width","height","opacity","fromPosition","fromRotation","fromSkew","fromRotationPost","fromScale","fromWidth","fromHeight","fromOpacity","transformOrigin","duration","delay"].forEach(function(r){j(t[r])&&(i[r]=t[r](e,n))}),i},l=function(t,e,i){if("attention"===e)return c(t,i);if("stop"===e)return u(t);if("detach"===e)return h(t);var r=e;g();var o=v(t),a=o;a=y(r,a,!0);var l=F(o);l=y(r,l);var d=b(a,l,r),f=T(d);n.push([t,f]),f.updateElement(t,!0);var p=[],m={snabbt:function(t){return p.unshift(s(t,0,1)),m},then:function(t){return this.snabbt(t)}};return E(function e(i){if(f.tick(i),f.updateElement(t),!f.isStopped())return f.completed()?void(r.loop>1&&!f.isStopped()?(r.loop-=1,f.restart(),E(e)):(r.complete&&r.complete.call(t),p.length&&(r=p.pop(),a=y(r,l,!0),l=y(r,F(l)),r=b(a,l,r),f=T(r),n.push([t,f]),f.tick(i),E(e)))):E(e)}),r.manual?f:m},c=function(t,e){var i=y(e,A({}));e.movement=i;var r=_(e);n.push([t,r]),E(function n(i){r.tick(i),r.updateElement(t),r.completed()?(e.callback&&e.callback(t),e.loop&&e.loop>1&&(e.loop--,r.restart(),E(n))):E(n)})},u=function(t){for(var e=0,i=n.length;e<i;++e){var r=n[e],o=r[0],a=r[1];o===t&&a.stop()}},d=function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n][0]===e)return n;return-1},h=function(t){var e,r,o=[],a=n.concat(i),s=a.length;for(r=0;r<s;++r)e=a[r][0],(t.contains(e)||t===e)&&o.push(e);for(s=o.length,r=0;r<s;++r)f(o[r])},f=function(t){u(t);var e=d(n,t);e>=0&&n.splice(e,1),(e=d(i,t))>=0&&i.splice(e,1)},p=function(t,e){for(var n=0,i=t.length;n<i;++n){var r=t[n],o=r[0],a=r[1];if(o===e){var s=a.getCurrentState();return a.stop(),s}}},g=function(){i=i.filter(function(t){return m(t[0]).body})},m=function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e},v=function(t){var e=p(n,t);return e||p(i,t)},y=function(t,e,n){e||(e=A({position:[0,0,0],rotation:[0,0,0],rotationPost:[0,0,0],scale:[1,1],skew:[0,0]}));var i="position",r="rotation",o="skew",a="rotationPost",s="scale",l="scalePost",c="width",u="height",d="opacity";return n&&(i="fromPosition",r="fromRotation",o="fromSkew",a="fromRotationPost",s="fromScale",l="fromScalePost",c="fromWidth",u="fromHeight",d="fromOpacity"),e.position=M(t[i],e.position),e.rotation=M(t[r],e.rotation),e.rotationPost=M(t[a],e.rotationPost),e.skew=M(t[o],e.skew),e.scale=M(t[s],e.scale),e.scalePost=M(t[l],e.scalePost),e.opacity=t[d],e.width=t[c],e.height=t[u],e},b=function(t,e,n){return n.startState=t,n.endState=e,n},w=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},E=function(e){0===t.length&&w(C),t.push(e)},C=function(e){for(var r=t.length,o=0;o<r;++o)t[o](e);t.splice(0,r);var a=n.filter(function(t){return t[1].completed()});i=(i=i.filter(function(t){for(var e=0,n=a.length;e<n;++e)if(t[0]===a[e][0])return!1;return!0})).concat(a),n=n.filter(function(t){return!t[1].completed()}),0!==t.length&&w(C)},T=function(t){var n=t.startState,i=t.endState,r=M(t.duration,500),o=M(t.delay,0),a=t.perspective,s=D(M(t.easing,"linear"),t),l=0===r?i.clone():n.clone();t.transformOrigin,l.transformOrigin=t.transformOrigin;var c,u,d=0,h=0,f=!1,p=!1,g=t.manual,m=0,v=o/r;return u=t.valueFeeder?P(t.valueFeeder,n,i,l):N(n,i,l),{stop:function(){f=!0},isStopped:function(){return f},finish:function(t){g=!1,d=h-r*m,c=t,s.resetFrom=m},rollback:function(t){g=!1,u.setReverse(),d=h-r*(1-m),c=t,s.resetFrom=m},restart:function(){d=e,s.resetFrom(0)},tick:function(t){if(!f){if(g)return h=t,void this.updateCurrentTransform();if(d||(d=t),t-d>o){p=!0,h=t-o;var e=Math.min(Math.max(0,h-d),r);s.tick(e/r),this.updateCurrentTransform(),this.completed()&&c&&c()}}},getCurrentState:function(){return l},setValue:function(t){p=!0,m=Math.min(Math.max(t,1e-4),1+v)},updateCurrentTransform:function(){var t=s.getValue();if(g){var e=Math.max(1e-5,m-v);s.tick(e),t=s.getValue()}u.tween(t)},completed:function(){return!!f||0!==d&&s.completed()},updateElement:function(t,e){if(p||e){var n=u.asMatrix(),i=u.getProperties();L(t,n,a),K(t,i)}}}},_=function(t){var n=t.movement;t.initialVelocity=.1,t.equilibriumPosition=0;var i=O(t),r=!1,o=n.position,a=n.rotation,s=n.rotationPost,l=n.scale,c=n.skew,u=A({position:o?[0,0,0]:e,rotation:a?[0,0,0]:e,rotationPost:s?[0,0,0]:e,scale:l?[0,0]:e,skew:c?[0,0]:e});return{stop:function(){r=!0},isStopped:function(t){return r},tick:function(t){r||i.equilibrium||(i.tick(),this.updateMovement())},updateMovement:function(){var t=i.getValue();o&&(u.position[0]=n.position[0]*t,u.position[1]=n.position[1]*t,u.position[2]=n.position[2]*t),a&&(u.rotation[0]=n.rotation[0]*t,u.rotation[1]=n.rotation[1]*t,u.rotation[2]=n.rotation[2]*t),s&&(u.rotationPost[0]=n.rotationPost[0]*t,u.rotationPost[1]=n.rotationPost[1]*t,u.rotationPost[2]=n.rotationPost[2]*t),l&&(u.scale[0]=1+n.scale[0]*t,u.scale[1]=1+n.scale[1]*t),c&&(u.skew[0]=n.skew[0]*t,u.skew[1]=n.skew[1]*t)},updateElement:function(t){L(t,u.asMatrix()),K(t,u.getProperties())},getCurrentState:function(){return u},completed:function(){return i.equilibrium||r},restart:function(){i=O(t)}}},O=function(t){var e=M(t.startPosition,0),n=M(t.equilibriumPosition,1),i=M(t.initialVelocity,0),r=M(t.springConstant,.8),o=M(t.springDeceleration,.9),a=M(t.springMass,10),s=!1;return{tick:function(t){0===t||s||(e+=i+=-(e-n)*r/a,i*=o,Math.abs(e-n)<.001&&Math.abs(i)<.001&&(s=!0))},resetFrom:function(t){e=t,i=0},getValue:function(){return s?n:e},completed:function(){return s}}},k={linear:function(t){return t},ease:function(t){return(Math.cos(t*Math.PI+Math.PI)+1)/2},easeIn:function(t){return t*t},easeOut:function(t){return 1-Math.pow(t-1,2)}},D=function(t,e){if("spring"==t)return O(e);var n=t;j(t)||(n=k[t]);var i,r=n,o=0;return{tick:function(t){o=r(t),i=t},resetFrom:function(t){i=0},getValue:function(){return o},completed:function(){return i>=1&&i}}},x=function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1},I=function(t,e){e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]},S=function(){var t=new Float32Array(16),e=new Float32Array(16),n=new Float32Array(16);return x(t),{data:t,asCSS:function(){for(var e="matrix3d(",n=0;n<15;++n)e+=Math.abs(t[n])<1e-4?"0,":t[n].toFixed(10)+",";return e+(Math.abs(t[15])<1e-4?"0)":t[15].toFixed(10)+")")},clear:function(){x(t)},translate:function(i,r,o){return I(t,e),function(t,e,n,i){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e,t[13]=n,t[14]=i,t[15]=1}(n,i,r,o),R(e,n,t),this},rotateX:function(i){return I(t,e),function(t,e){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=Math.cos(e),t[6]=-Math.sin(e),t[7]=0,t[8]=0,t[9]=Math.sin(e),t[10]=Math.cos(e),t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(n,i),R(e,n,t),this},rotateY:function(i){return I(t,e),function(t,e){t[0]=Math.cos(e),t[1]=0,t[2]=Math.sin(e),t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=-Math.sin(e),t[9]=0,t[10]=Math.cos(e),t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(n,i),R(e,n,t),this},rotateZ:function(i){return I(t,e),function(t,e){t[0]=Math.cos(e),t[1]=-Math.sin(e),t[2]=0,t[3]=0,t[4]=Math.sin(e),t[5]=Math.cos(e),t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(n,i),R(e,n,t),this},scale:function(i,r){return I(t,e),function(t,e,n){t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(n,i,r),R(e,n,t),this},skew:function(i,r){return I(t,e),function(t,e,n){t[0]=1,t[1]=Math.tan(e),t[2]=0,t[3]=0,t[4]=Math.tan(n),t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(n,i,r),R(e,n,t),this}}},R=function(t,e,n){return n[0]=t[0]*e[0]+t[1]*e[4]+t[2]*e[8]+t[3]*e[12],n[1]=t[0]*e[1]+t[1]*e[5]+t[2]*e[9]+t[3]*e[13],n[2]=t[0]*e[2]+t[1]*e[6]+t[2]*e[10]+t[3]*e[14],n[3]=t[0]*e[3]+t[1]*e[7]+t[2]*e[11]+t[3]*e[15],n[4]=t[4]*e[0]+t[5]*e[4]+t[6]*e[8]+t[7]*e[12],n[5]=t[4]*e[1]+t[5]*e[5]+t[6]*e[9]+t[7]*e[13],n[6]=t[4]*e[2]+t[5]*e[6]+t[6]*e[10]+t[7]*e[14],n[7]=t[4]*e[3]+t[5]*e[7]+t[6]*e[11]+t[7]*e[15],n[8]=t[8]*e[0]+t[9]*e[4]+t[10]*e[8]+t[11]*e[12],n[9]=t[8]*e[1]+t[9]*e[5]+t[10]*e[9]+t[11]*e[13],n[10]=t[8]*e[2]+t[9]*e[6]+t[10]*e[10]+t[11]*e[14],n[11]=t[8]*e[3]+t[9]*e[7]+t[10]*e[11]+t[11]*e[15],n[12]=t[12]*e[0]+t[13]*e[4]+t[14]*e[8]+t[15]*e[12],n[13]=t[12]*e[1]+t[13]*e[5]+t[14]*e[9]+t[15]*e[13],n[14]=t[12]*e[2]+t[13]*e[6]+t[14]*e[10]+t[15]*e[14],n[15]=t[12]*e[3]+t[13]*e[7]+t[14]*e[11]+t[15]*e[15],n},A=function(t){var n=S(),i={opacity:e,width:e,height:e};return{position:t.position,rotation:t.rotation,rotationPost:t.rotationPost,skew:t.skew,scale:t.scale,scalePost:t.scalePost,opacity:t.opacity,width:t.width,height:t.height,clone:function(){return A({position:this.position?this.position.slice(0):e,rotation:this.rotation?this.rotation.slice(0):e,rotationPost:this.rotationPost?this.rotationPost.slice(0):e,skew:this.skew?this.skew.slice(0):e,scale:this.scale?this.scale.slice(0):e,scalePost:this.scalePost?this.scalePost.slice(0):e,height:this.height,width:this.width,opacity:this.opacity})},asMatrix:function(){var t=n;return t.clear(),this.transformOrigin&&t.translate(-this.transformOrigin[0],-this.transformOrigin[1],-this.transformOrigin[2]),this.scale&&t.scale(this.scale[0],this.scale[1]),this.skew&&t.skew(this.skew[0],this.skew[1]),this.rotation&&(t.rotateX(this.rotation[0]),t.rotateY(this.rotation[1]),t.rotateZ(this.rotation[2])),this.position&&t.translate(this.position[0],this.position[1],this.position[2]),this.rotationPost&&(t.rotateX(this.rotationPost[0]),t.rotateY(this.rotationPost[1]),t.rotateZ(this.rotationPost[2])),this.scalePost&&t.scale(this.scalePost[0],this.scalePost[1]),this.transformOrigin&&t.translate(this.transformOrigin[0],this.transformOrigin[1],this.transformOrigin[2]),t},getProperties:function(){return i.opacity=this.opacity,i.width=this.width+"px",i.height=this.height+"px",i}}},N=function(t,n,i){var r=t,o=n,a=i,s=o.position!==e,l=o.rotation!==e,c=o.rotationPost!==e,u=o.scale!==e,d=o.skew!==e,h=o.width!==e,f=o.height!==e,p=o.opacity!==e;return{tween:function(t){if(s){var e=o.position[0]-r.position[0],n=o.position[1]-r.position[1],i=o.position[2]-r.position[2];a.position[0]=r.position[0]+t*e,a.position[1]=r.position[1]+t*n,a.position[2]=r.position[2]+t*i}if(l){var g=o.rotation[0]-r.rotation[0],m=o.rotation[1]-r.rotation[1],v=o.rotation[2]-r.rotation[2];a.rotation[0]=r.rotation[0]+t*g,a.rotation[1]=r.rotation[1]+t*m,a.rotation[2]=r.rotation[2]+t*v}if(c){var y=o.rotationPost[0]-r.rotationPost[0],b=o.rotationPost[1]-r.rotationPost[1],w=o.rotationPost[2]-r.rotationPost[2];a.rotationPost[0]=r.rotationPost[0]+t*y,a.rotationPost[1]=r.rotationPost[1]+t*b,a.rotationPost[2]=r.rotationPost[2]+t*w}if(d){var E=o.scale[0]-r.scale[0],C=o.scale[1]-r.scale[1];a.scale[0]=r.scale[0]+t*E,a.scale[1]=r.scale[1]+t*C}if(u){var T=o.skew[0]-r.skew[0],_=o.skew[1]-r.skew[1];a.skew[0]=r.skew[0]+t*T,a.skew[1]=r.skew[1]+t*_}if(h){var O=o.width-r.width;a.width=r.width+t*O}if(f){var k=o.height-r.height;a.height=r.height+t*k}if(p){var D=o.opacity-r.opacity;a.opacity=r.opacity+t*D}},asMatrix:function(){return a.asMatrix()},getProperties:function(){return a.getProperties()},setReverse:function(){var t=r;r=o,o=t}}},P=function(t,n,i,r){var o=t(0,S()),a=n,s=i,l=r,c=!1;return{tween:function(n){c&&(n=1-n),o.clear(),o=t(n,o);var i=s.width-a.width,r=s.height-a.height,u=s.opacity-a.opacity;s.width!==e&&(l.width=a.width+n*i),s.height!==e&&(l.height=a.height+n*r),s.opacity!==e&&(l.opacity=a.opacity+n*u)},asMatrix:function(){return o},getProperties:function(){return l.getProperties()},setReverse:function(){c=!0}}},M=function(t,e){return void 0===t?e:t},L=function(t,e,n){var i="";n&&(i="perspective("+n+"px) ");var o=e.asCSS();t.style[r]=i+o},K=function(t,e){for(var n in e)t.style[n]=e[n]},j=function(t){return"function"==typeof t},F=function(t){if(!t)return t;var e={};for(var n in t)e[n]=t[n];return e};return a.createMatrix=S,a.setElementTransform=L,a}(),u=function(){function t(t,r,o,a,s,l){var c,u,d,h,f,p,g,m,v,y,b,w,E,C,T,_,O,k,D,x,I,S,R,A,N=t.data,P=l+l+1,M=a-1,L=s-1,K=l+1,j=K*(K+1)/2,F=new e,B=F;for(d=1;d<P;d++)if(B=B.next=new e,d==K)var $=B;B.next=F;var H=null,U=null;g=p=0;var z=n[l],V=i[l];for(u=0;u<s;u++){for(_=O=k=D=m=v=y=b=0,w=K*(x=N[p]),E=K*(I=N[p+1]),C=K*(S=N[p+2]),T=K*(R=N[p+3]),m+=j*x,v+=j*I,y+=j*S,b+=j*R,B=F,d=0;d<K;d++)B.r=x,B.g=I,B.b=S,B.a=R,B=B.next;for(d=1;d<K;d++)h=p+((M<d?M:d)<<2),m+=(B.r=x=N[h])*(A=K-d),v+=(B.g=I=N[h+1])*A,y+=(B.b=S=N[h+2])*A,b+=(B.a=R=N[h+3])*A,_+=x,O+=I,k+=S,D+=R,B=B.next;for(H=F,U=$,c=0;c<a;c++)N[p+3]=R=b*z>>V,0!=R?(R=255/R,N[p]=(m*z>>V)*R,N[p+1]=(v*z>>V)*R,N[p+2]=(y*z>>V)*R):N[p]=N[p+1]=N[p+2]=0,m-=w,v-=E,y-=C,b-=T,w-=H.r,E-=H.g,C-=H.b,T-=H.a,h=g+((h=c+l+1)<M?h:M)<<2,m+=_+=H.r=N[h],v+=O+=H.g=N[h+1],y+=k+=H.b=N[h+2],b+=D+=H.a=N[h+3],H=H.next,w+=x=U.r,E+=I=U.g,C+=S=U.b,T+=R=U.a,_-=x,O-=I,k-=S,D-=R,U=U.next,p+=4;g+=a}for(c=0;c<a;c++){for(O=k=D=_=v=y=b=m=0,w=K*(x=N[p=c<<2]),E=K*(I=N[p+1]),C=K*(S=N[p+2]),T=K*(R=N[p+3]),m+=j*x,v+=j*I,y+=j*S,b+=j*R,B=F,d=0;d<K;d++)B.r=x,B.g=I,B.b=S,B.a=R,B=B.next;for(f=a,d=1;d<=l;d++)p=f+c<<2,m+=(B.r=x=N[p])*(A=K-d),v+=(B.g=I=N[p+1])*A,y+=(B.b=S=N[p+2])*A,b+=(B.a=R=N[p+3])*A,_+=x,O+=I,k+=S,D+=R,B=B.next,d<L&&(f+=a);for(p=c,H=F,U=$,u=0;u<s;u++)N[(h=p<<2)+3]=R=b*z>>V,R>0?(R=255/R,N[h]=(m*z>>V)*R,N[h+1]=(v*z>>V)*R,N[h+2]=(y*z>>V)*R):N[h]=N[h+1]=N[h+2]=0,m-=w,v-=E,y-=C,b-=T,w-=H.r,E-=H.g,C-=H.b,T-=H.a,h=c+((h=u+K)<L?h:L)*a<<2,m+=_+=H.r=N[h],v+=O+=H.g=N[h+1],y+=k+=H.b=N[h+2],b+=D+=H.a=N[h+3],H=H.next,w+=x=U.r,E+=I=U.g,C+=S=U.b,T+=R=U.a,_-=x,O-=I,k-=S,D-=R,U=U.next,p+=a}return t}function e(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],i=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];return function(e,n,i,r,o,a){if(!(isNaN(a)||a<1)){a|=0;var s=function(t,e,n,i,r){if("string"==typeof t)t=document.getElementById(t);else if(!t instanceof HTMLCanvasElement)return;var o,a=t.getContext("2d");try{try{o=a.getImageData(e,n,i,r)}catch(t){throw new Error("unable to access local image data: "+t)}}catch(t){throw new Error("unable to access image data: "+t)}return o}(e,n,i,r,o);s=t(s,0,0,r,o,a),e.getContext("2d").putImageData(s,n,i)}}}();HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){for(var i=atob(this.toDataURL(e,n).split(",")[1]),r=i.length,o=new Uint8Array(r),a=0;a<r;a++)o[a]=i.charCodeAt(a);t(new Blob([o],{type:e||"image/png"}))}});var d=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=e,p=new Image;p.onload=function(){return f=p.naturalWidth>p.naturalHeight},p.src="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";var g=null,m=function(){return null===g&&(g=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream),g},v=function(t){t.width=1,t.height=1,t.getContext("2d").fillRect(0,0,1,1)},y=function(t){return t.replace(/\-./g,function(t){return t.charAt(1).toUpperCase()})},b=function(t){for(var e=[],n=Array.prototype.slice.call(t.attributes),i=n.length,r=0;r<i;r++)e.push({name:n[r].name,value:n[r].value});return e},w=function(t){return{x:void 0===t.offsetX?t.layerX:t.offsetX,y:void 0===t.offsetY?t.layerY:t.offsetY}},E=function(t,e){var n,i={},r=e||{};for(n in t)t.hasOwnProperty(n)&&(i[n]=void 0===r[n]?t[n]:r[n]);return i},C=27,T=13,_=["touchstart","pointerdown","mousedown"],O=["touchmove","pointermove","mousemove"],k=["touchend","touchcancel","pointerup","mouseup"],D={jpeg:"image/jpeg",jpg:"image/jpeg",jpe:"image/jpeg",png:"image/png",gif:"image/gif",bmp:"image/bmp"},x=/(\.png|\.bmp|\.gif|\.jpg|\.jpe|\.jpg|\.jpeg)$/,I=function(t,e){var n=document.createElement(t);return e&&(n.className=e),n},S=function(t,e,n){e.forEach(function(e){t.addEventListener(e,n,!1)})},R=function(t,e,n){e.forEach(function(e){t.removeEventListener(e,n,!1)})},A=function(t){var e=function(t){var e=t.changedTouches?t.changedTouches[0]:t;if(e)return{x:e.pageX,y:e.pageY}}(t);return e.x-=window.pageXOffset||document.documentElement.scrollLeft,e.y-=window.pageYOffset||document.documentElement.scrollTop,e},N=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},P=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},M=function(t){return t[t.length-1]},L=function(t,e,n){return Math.max(e,Math.min(n,t))},K=function(t,e){if(!e)return!1;for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},j=function(t){var n=arguments.length>1&&arguments[1]!==e?arguments[1]:"POST",i=arguments[2],r=arguments[3],o=arguments[4],a=arguments[5],s=arguments[6],l=new XMLHttpRequest;o&&l.upload.addEventListener("progress",function(t){o(t.loaded,t.total)}),l.open(n,t,!0),r&&r(l,i),l.onreadystatechange=function(){if(4===l.readyState&&l.status>=200&&l.status<300){var t=l.responseText;if(!t.length)return void a();if(-1!==t.indexOf("Content-Length"))return void s("file-too-big");var e=void 0;try{e=JSON.parse(l.responseText)}catch(t){}if("object"===(void 0===e?"undefined":h(e))&&"failure"===e.status)return void s(e.message);a(e||t)}else if(4===l.readyState){var n=void 0;try{n=JSON.parse(l.responseText)}catch(t){}if("object"===(void 0===n?"undefined":h(n))&&"failure"===n.status)return void s(n.message);s("fail")}},l.send(i)},F=function(t){t&&(t.style.webkitTransform="",t.style.transform="")},B=function(t){var e=void 0;for(e in D)if(D.hasOwnProperty(e)&&D[e]===t)return e;return t},$=function(t){return t.split("/").pop().split("?").shift()},H=function(t){var n=arguments.length>1&&arguments[1]!==e?arguments[1]:"";return(n+t).slice(-n.length)},U=function(t){return t.getFullYear()+"-"+H(t.getMonth()+1,"00")+"-"+H(t.getDate(),"00")+"_"+H(t.getHours(),"00")+"-"+H(t.getMinutes(),"00")+"-"+H(t.getSeconds(),"00")},z=function(t){return t.type||"image/jpeg"},V=function(t){return"string"!=typeof t?U(new Date):$(t).split(".").shift()},W=function(t,e){var n=t.slice(0,t.size,t.type);return n.name=e,n.lastModified=Date.now(),n.lastModifiedDate=n.lastModified,n},q=function(t){return/^data:image/.test(t)},Y=function(t,e,n,i){var r=new XMLHttpRequest;r.open("GET",t,!0),e(r),r.responseType="blob",r.onload=function(e){if(r.status>=200&&r.status<300||0===r.status&&this.response instanceof Blob){var o=$(t),a=function(t){var e=void 0;for(e in D)if(D.hasOwnProperty(e)&&-1!==t.indexOf(D[e]))return D[e];return null}(this.response.type);x.test(o)||(o+="."+B(a));var s=W(this.response,o);n(rt(s,a))}else i(r.status+": "+r.statusText)},r.onerror=function(){i()},r.send()},G=function(t,e){for(var n=function(t){var e=t.split(",")[1].replace(/\s/g,"");return atob(e)}(t),i=new ArrayBuffer(n.length),r=new Uint8Array(i),o=0;o<n.length;o++)r[o]=n.charCodeAt(o);var a=at(t);return void 0===e&&(e=U(new Date)+"."+B(a)),W(X(i,a),e)},X=function(t,e){var n=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(n){var i=new n;return i.append(t),i.getBlob(e)}return new Blob([t],{type:e})},Z=function(t,e,n){var r="string"!=typeof t||0!==t.indexOf("data:image");i.parseMetaData(t,function(o){var a={canvas:!0,crossOrigin:r};e&&(a.maxWidth=e.width,a.maxHeight=e.height),o.exif&&f&&(a.orientation=o.exif.get("Orientation")),i(t,function(t){return"error"===t.type?void n():void n(t,o)},a)})},J=function(t,e,n){var i,r,o,a;return e/t<n?(i=.5*(t-(o=(a=e)/n)),r=0):(i=0,r=.5*(e-(a=(o=t)*n))),{x:i,y:r,height:a,width:o}},Q=function(t){var i=arguments.length>1&&arguments[1]!==e?arguments[1]:{},r=arguments[2],o=I("canvas"),a=i.rotation,s=i.crop,l=i.size,c=i.filters,u=i.minSize;if(s){var d=a%180!=0,h={width:d?t.height:t.width,height:d?t.width:t.height};s.x<0&&(s.x=0),s.y<0&&(s.y=0),s.width>h.width&&(s.width=h.width),s.height>h.height&&(s.height=h.height),s.y+s.height>h.height&&(s.y=Math.max(0,h.height-s.height)),s.x+s.width>h.width&&(s.x=Math.max(0,h.width-s.width));var f=s.x/h.width,p=s.y/h.height,g=s.width/h.width,m=s.height/h.height;o.width=Math.round(s.width),o.height=Math.round(s.height);var v=o.getContext("2d");90===a?(v.translate(.5*o.width,.5*o.height),v.rotate(-90*Math.PI/180),v.drawImage(t,(1-p)*t.width-t.width*m,s.x,s.height,s.width,.5*-o.height,.5*-o.width,o.height,o.width)):180===a?(v.translate(.5*o.width,.5*o.height),v.rotate(-180*Math.PI/180),v.drawImage(t,(1-(f+g))*h.width,(1-(p+m))*h.height,g*h.width,m*h.height,.5*-o.width,.5*-o.height,o.width,o.height)):270===a?(v.translate(.5*o.width,.5*o.height),v.rotate(-270*Math.PI/180),v.drawImage(t,s.y,(1-f)*t.height-t.height*g,s.height,s.width,.5*-o.height,.5*-o.width,o.height,o.width)):v.drawImage(t,s.x,s.y,s.width,s.height,0,0,o.width,o.height)}if(l){var y=l.width/o.width,b=l.height/o.height;n(o,Math.min(y,b),l,u),c.sharpen>0&&tt(o,et(c.sharpen))}r(o)},tt=function(t,e){t.getContext("2d").putImageData(e(function(t){return t.getContext("2d").getImageData(0,0,t.width,t.height)}(t),t.width,t.height),0,0)},et=function(t){return function(e,n,i){for(var r=[0,-1,0,-1,5,-1,0,-1,0],o=Math.round(Math.sqrt(r.length)),a=.5*o|0,s=function(t,e,n){var i=document.createElement("canvas");i.width=t,i.height=e;var r=i.getContext("2d").createImageData(i.width,i.height);return n&&r.set(n.data),r}(n,i),l=s.data,c=e.data,u=i,d=void 0;u--;)for(d=n;d--;){for(var h=u,f=d,p=4*(u*n+d),g=0,m=0,v=0,y=0;y<o;y++)for(var b=0;b<o;b++){var w=h+y-a,E=f+b-a;if(w>=0&&w<i&&E>=0&&E<n){var C=4*(w*n+E),T=r[y*o+b];g+=c[C]*T,m+=c[C+1]*T,v+=c[C+2]*T,c[C+3]*T}}l[p]=g*t+c[p]*(1-t),l[p+1]=m*t+c[p+1]*(1-t),l[p+2]=v*t+c[p+2]*(1-t),l[p+3]=c[p+3]}return s}},nt=function(t,e){if(!t)return null;var i=document.createElement("canvas"),r=i.getContext("2d");return i.width=t.width,i.height=t.height,r.drawImage(t,0,0),e>0&&1!==e&&n(i,e,{width:Math.round(t.width*e),height:Math.round(t.height*e)},{width:0,height:0}),i},it=function(t){return"object"===("undefined"==typeof value?"undefined":h(value))&&null!==value?JSON.parse(JSON.stringify(t)):t},rt=function(t){var n=arguments.length>1&&arguments[1]!==e?arguments[1]:null;if(!t)return null;var i=t.slice(0,t.size,n||t.type);return i.name=t.name,i.lastModified=new Date(t.lastModified),i},ot=function(t,n,i){if(!t||!n)return null;var r=t;return"IMG"===t.nodeName&&((r=document.createElement("canvas")).width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)),r.toDataURL(n,function(t){return"image/jpeg"===t}(n)&&"number"==typeof i?i/100:e)},at=function(t){if(!t)return null;var e=t.substr(0,16).match(/^.+;/);return e.length?e[0].substring(5,e[0].length-1):null},st=function(t){return Array.prototype.slice.call(t)},lt=function(t){t.parentNode.removeChild(t)},ct=function(t){var e=I("div");return t.parentNode&&(t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)),e.appendChild(t),e},ut=function(t,e,n,i){var r=(i-90)*Math.PI/180;return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}},dt=function(t,e,n,i){return function(t,e,n,i,r){var o=ut(t,e,n,r),a=ut(t,e,n,i),s=r-i<=180?"0":"1";return["M",o.x,o.y,"A",n,n,0,s,0,a.x,a.y].join(" ")}(t,e,n,0,360*i)},ht=function(){var n={n:function(t,e,n,i){var r,o,a,s,l,c,u;return(a=t.y+t.height)-(r=L(e.y,0,a))<n.min.height&&(r=a-n.min.height),(l=i?(a-r)/i:t.width)<n.min.width&&(r=a-(l=n.min.width)*i),c=.5*(l-t.width),s=t.x-c,o=t.x+t.width+c,(s<0||Math.round(o)>Math.round(n.width))&&(u=Math.min(t.x,n.width-(t.x+t.width)),s=t.x-u,r=a-(l=(o=t.x+t.width+u)-s)*i),{x:s,y:r,width:o-s,height:a-r}},s:function(t,e,n,i){var r,o,a,s,l,c,u;return r=t.y,(a=L(e.y,r,n.height))-r<n.min.height&&(a=r+n.min.height),(l=i?(a-r)/i:t.width)<n.min.width&&(a=r+(l=n.min.width)*i),c=.5*(l-t.width),s=t.x-c,o=t.x+t.width+c,(s<0||Math.round(o)>Math.round(n.width))&&(u=Math.min(t.x,n.width-(t.x+t.width)),s=t.x-u,a=r+(l=(o=t.x+t.width+u)-s)*i),{x:s,y:r,width:o-s,height:a-r}},e:function(t,e,n,i){var r,o,a,s,l,c,u;return s=t.x,(o=L(e.x,s,n.width))-s<n.min.width&&(o=s+n.min.width),(l=i?(o-s)*i:t.height)<n.min.height&&(o=s+(l=n.min.height)/i),c=.5*(l-t.height),r=t.y-c,a=t.y+t.height+c,(r<0||Math.round(a)>Math.round(n.height))&&(u=Math.min(t.y,n.height-(t.y+t.height)),r=t.y-u,o=s+(l=(a=t.y+t.height+u)-r)/i),{x:s,y:r,width:o-s,height:a-r}},w:function(t,e,n,i){var r,o,a,s,l,c,u,d;return(o=t.x+t.width)-(s=L(e.x,0,o))<n.min.width&&(s=o-n.min.width),(c=i?(o-s)*i:t.height)<n.min.height&&(s=o-(c=n.min.height)/i),u=.5*(c-t.height),r=t.y-u,a=t.y+t.height+u,(r<0||Math.round(a)>Math.round(n.height))&&(d=Math.min(t.y,n.height-(t.y+t.height)),r=t.y-d,l=(c=(a=t.y+t.height+d)-r)/i,s=o-l),{x:s,y:r,width:o-s,height:a-r}},ne:function(t,e,n,i){var r,o,a,s,l,c;return s=t.x,a=t.y+t.height,(o=L(e.x,s,n.width))-s<n.min.width&&(o=s+n.min.width),(l=i?(o-s)*i:L(a-e.y,n.min.height,a))<n.min.height&&(o=s+(l=n.min.height)/i),((r=t.y-(l-t.height))<0||Math.round(a)>Math.round(n.height))&&(c=Math.min(t.y,n.height-(t.y+t.height)),o=s+(l=a-(r=t.y-c))/i),{x:s,y:r,width:o-s,height:a-r}},se:function(t,e,n,i){var r,o,a,s,l,c;return s=t.x,r=t.y,(o=L(e.x,s,n.width))-s<n.min.width&&(o=s+n.min.width),(l=i?(o-s)*i:L(e.y-t.y,n.min.height,n.height-r))<n.min.height&&(o=s+(l=n.min.height)/i),a=t.y+t.height+(l-t.height),(r<0||Math.round(a)>Math.round(n.height))&&(c=Math.min(t.y,n.height-(t.y+t.height)),o=s+(l=(a=t.y+t.height+c)-r)/i),{x:s,y:r,width:o-s,height:a-r}},sw:function(t,e,n,i){var r,o,a,s,l,c;return o=t.x+t.width,r=t.y,o-(s=L(e.x,0,o))<n.min.width&&(s=o-n.min.width),(l=i?(o-s)*i:L(e.y-t.y,n.min.height,n.height-r))<n.min.height&&(s=o-(l=n.min.height)/i),a=t.y+t.height+(l-t.height),(r<0||Math.round(a)>Math.round(n.height))&&(c=Math.min(t.y,n.height-(t.y+t.height)),s=o-(l=(a=t.y+t.height+c)-r)/i),{x:s,y:r,width:o-s,height:a-r}},nw:function(t,e,n,i){var r,o,a,s,l,c;return o=t.x+t.width,a=t.y+t.height,o-(s=L(e.x,0,o))<n.min.width&&(s=o-n.min.width),(l=i?(o-s)*i:L(a-e.y,n.min.height,a))<n.min.height&&(s=o-(l=n.min.height)/i),((r=t.y-(l-t.height))<0||Math.round(a)>Math.round(n.height))&&(c=Math.min(t.y,n.height-(t.y+t.height)),s=o-(l=a-(r=t.y-c))/i),{x:s,y:r,width:o-s,height:a-r}}};return function(){function i(){var n=arguments.length>0&&arguments[0]!==e?arguments[0]:document.createElement("div");t(this,i),this._element=n,this._interaction=null,this._minWidth=1,this._minHeight=1,this._ratio=null,this._rect={x:0,y:0,width:0,height:0},this._space={width:0,height:0},this._rectChanged=!1,this._init()}return d(i,[{key:"_init",value:function(){this._element.className="slim-crop-area";var t=I("div","grid");for(var e in this._element.appendChild(t),n)if(n.hasOwnProperty(e)){var i=I("button",e);this._element.appendChild(i)}var r=I("button","c");this._element.appendChild(r),S(document,_,this)}},{key:"reset",value:function(){this._interaction=null,this._rect={x:0,y:0,width:0,height:0},this._rectChanged=!0,this._redraw(),this._element.dispatchEvent(new CustomEvent("change"))}},{key:"rescale",value:function(t){1!==t&&(this._interaction=null,this._rectChanged=!0,this._rect.x*=t,this._rect.y*=t,this._rect.width*=t,this._rect.height*=t,this._redraw(),this._element.dispatchEvent(new CustomEvent("change")))}},{key:"limit",value:function(t,e){this._space.width=t,this._space.height=e}},{key:"offset",value:function(t,e){this._space.x=t,this._space.y=e}},{key:"resize",value:function(t,e,n,i){this._interaction=null,this._rect={x:L(t,0,this._space.width-this._minWidth),y:L(e,0,this._space.height-this._minHeight),width:L(n,this._minWidth,this._space.width),height:L(i,this._minHeight,this._space.height)},this._rectChanged=!0,this._redraw(),this._element.dispatchEvent(new CustomEvent("change"))}},{key:"handleEvent",value:function(t){switch(t.type){case"touchstart":case"pointerdown":case"mousedown":this._onStartDrag(t);break;case"touchmove":case"pointermove":case"mousemove":this._onDrag(t);break;case"touchend":case"touchcancel":case"pointerup":case"mouseup":this._onStopDrag(t)}}},{key:"_onStartDrag",value:function(t){this._element.contains(t.target)&&(t.preventDefault(),S(document,O,this),S(document,k,this),this._interaction={type:t.target.className,offset:A(t)},this._interaction.offset.x-=this._rect.x,this._interaction.offset.y-=this._rect.y,this._element.setAttribute("data-dragging","true"),this._redraw())}},{key:"_onDrag",value:function(t){t.preventDefault();var e=A(t),i=this._interaction.type;"c"===i?(this._rect.x=L(e.x-this._interaction.offset.x,0,this._space.width-this._rect.width),this._rect.y=L(e.y-this._interaction.offset.y,0,this._space.height-this._rect.height)):n[i]&&(this._rect=n[i](this._rect,{x:e.x-this._space.x,y:e.y-this._space.y},{x:0,y:0,width:this._space.width,height:this._space.height,min:{width:this._minWidth,height:this._minHeight}},this._ratio)),this._rectChanged=!0,this._element.dispatchEvent(new CustomEvent("input"))}},{key:"_onStopDrag",value:function(t){t.preventDefault(),R(document,O,this),R(document,k,this),this._interaction=null,this._element.setAttribute("data-dragging","false"),this._element.dispatchEvent(new CustomEvent("change"))}},{key:"_redraw",value:function(){var t=this;if(this._rectChanged){var e="translate("+this._rect.x+"px,"+this._rect.y+"px);";this._element.style.cssText="\n\t\t\t\t\t-webkit-transform: "+e+";\n\t\t\t\t\ttransform: "+e+";\n\t\t\t\t\twidth:"+this._rect.width+"px;\n\t\t\t\t\theight:"+this._rect.height+"px;\n\t\t\t\t",this._rectChanged=!1}this._interaction&&requestAnimationFrame(function(){return t._redraw()})}},{key:"destroy",value:function(){this._interaction=!1,this._rectChanged=!1,R(document,_,this),R(document,O,this),R(document,k,this),lt(this._element)}},{key:"element",get:function(){return this._element}},{key:"space",get:function(){return this._space}},{key:"area",get:function(){return{x:this._rect.x/this._space.width,y:this._rect.y/this._space.height,width:this._rect.width/this._space.width,height:this._rect.height/this._space.height}}},{key:"dirty",get:function(){return 0!==this._rect.x||0!==this._rect.y||0!==this._rect.width||0!==this._rect.height}},{key:"minWidth",set:function(t){this._minWidth=Math.max(t,1)}},{key:"minHeight",set:function(t){this._minHeight=Math.max(t,1)}},{key:"ratio",set:function(t){this._ratio=t}}]),i}()}(),ft=function(){var n=["input","change"],i=function(){function i(){var n=arguments.length>0&&arguments[0]!==e?arguments[0]:document.createElement("div"),r=arguments.length>1&&arguments[1]!==e?arguments[1]:{};t(this,i),this._element=n,this._options=E(i.options(),r),this._ratio=null,this._output=null,this._rotating=!1,this._input=null,this._preview=null,this._previewBlurred=null,this._blurredPreview=!1,this._cropper=null,this._straightCrop=null,this._previewWrapper=null,this._currentWindowSize={},this._btnGroup=null,this._maskFrame=null,this._dirty=!1,this._wrapperRotation=0,this._wrapperScale=1,this._init()}return d(i,[{key:"_init",value:function(){var t=this;this._element.className="slim-image-editor",this._container=I("div","slim-container"),this._wrapper=I("div","slim-wrapper"),this._stage=I("div","slim-stage"),this._container.appendChild(this._stage),this._cropper=new ht,n.forEach(function(e){t._cropper.element.addEventListener(e,t)}),this._stage.appendChild(this._cropper.element),this._previewWrapper=I("div","slim-image-editor-preview slim-crop-preview"),this._previewBlurred=I("canvas","slim-crop-blur"),this._previewWrapper.appendChild(this._previewBlurred),this._wrapper.appendChild(this._previewWrapper),this._previewMask=I("div","slim-crop-mask"),this._preview=I("img"),this._previewMask.appendChild(this._preview),this._cropper.element.appendChild(this._previewMask),this._btnGroup=I("div","slim-editor-btn-group"),i.Buttons.forEach(function(e){var n=P(e),i=t._options["button"+n+"Label"],r=t._options["button"+n+"Title"],o=t._options["button"+n+"ClassName"],a=I("button","slim-editor-btn slim-btn-"+e+(o?" "+o:""));a.innerHTML=i,a.title=r||i,a.type="button",a.setAttribute("data-action",e),a.addEventListener("click",t),t._btnGroup.appendChild(a)}),this._utilsGroup=I("div","slim-editor-utils-group");var e=I("button","slim-editor-utils-btn slim-btn-rotate"+(this._options.buttonRotateClassName?" "+this._options.buttonRotateClassName:""));e.setAttribute("data-action","rotate"),e.addEventListener("click",this),e.title=this._options.buttonRotateTitle,this._utilsGroup.appendChild(e),this._container.appendChild(this._wrapper),this._element.appendChild(this._container),this._element.appendChild(this._utilsGroup),this._element.appendChild(this._btnGroup)}},{key:"dirty",value:function(){this._dirty=!0}},{key:"handleEvent",value:function(t){switch(t.type){case"click":this._onClick(t);break;case"change":this._onGridChange(t);break;case"input":this._onGridInput(t);break;case"keydown":this._onKeyDown(t);break;case"resize":this._onResize(t)}}},{key:"_onKeyDown",value:function(t){switch(t.keyCode){case T:this._confirm();break;case C:this._cancel()}}},{key:"_onClick",value:function(t){t.target.classList.contains("slim-btn-cancel")&&this._cancel(),t.target.classList.contains("slim-btn-confirm")&&this._confirm(),t.target.classList.contains("slim-btn-rotate")&&this._rotate()}},{key:"_onResize",value:function(){this._currentWindowSize={width:window.innerWidth,height:window.innerHeight},this._redraw(),this._redrawCropper(this._cropper.area),this._updateWrapperScale(),this._redrawWrapper()}},{key:"_redrawWrapper",value:function(){var t=c.createMatrix();t.scale(this._wrapperScale,this._wrapperScale),t.rotateZ(this._wrapperRotation*(Math.PI/180)),c.setElementTransform(this._previewWrapper,t)}},{key:"_onGridInput",value:function(){this._redrawCropMask()}},{key:"_onGridChange",value:function(){this._redrawCropMask()}},{key:"_updateWrapperRotation",value:function(){this._options.minSize.width>this._input.height||this._options.minSize.height>this._input.width?this._wrapperRotation+=180:this._wrapperRotation+=90}},{key:"_updateWrapperScale",value:function(){if(this._wrapperRotation%180!=0){var t=this._container.offsetWidth,e=this._container.offsetHeight,n=this._wrapper.offsetHeight,i=this._wrapper.offsetWidth,r=t/n;r*i>e&&(r=e/i),this._wrapperScale=r}else this._wrapperScale=1}},{key:"_cancel",value:function(){this._rotating||this._element.dispatchEvent(new CustomEvent("cancel"))}},{key:"_confirm",value:function(){if(!this._rotating){var t=this._wrapperRotation%180!=0,e=function(t,e,n){return{x:t.x*e,y:t.y*n,width:t.width*e,height:t.height*n}}(this._cropper.area,t?this._input.height:this._input.width,t?this._input.width:this._input.height);this._element.dispatchEvent(new CustomEvent("confirm",{detail:{rotation:this._wrapperRotation%360,crop:e}}))}}},{key:"_rotate",value:function(){var t=this;if(!this._rotating){this._rotating=!0,this._updateWrapperRotation();var e=1===this.ratio||null===this._ratio?this._cropper.area:null;e&&function(t,e){var n=.5,i=.5,r=Math.PI/180*e,o=Math.cos(r),a=Math.sin(r),s=t.x,l=t.y,c=t.x+t.width,u=t.y+t.height,d=o*(s-n)+a*(l-i)+n,h=o*(l-i)-a*(s-n)+i,f=o*(c-n)+a*(u-i)+n,p=o*(u-i)-a*(c-n)+i;d<=f?(t.x=d,t.width=f-d):(t.x=f,t.width=d-f),h<=p?(t.y=h,t.height=p-h):(t.y=p,t.height=h-p)}(e,90),this._updateWrapperScale(),this._hideCropper(),c(this._previewWrapper,{rotation:[0,0,this._wrapperRotation*(Math.PI/180)],scale:[this._wrapperScale,this._wrapperScale],easing:"spring",springConstant:.8,springDeceleration:.65,complete:function(){t._redrawCropper(e),t._showCropper(),t._rotating=!1}})}}},{key:"_showCropper",value:function(){c(this._stage,{easing:"ease",duration:250,fromOpacity:0,opacity:1})}},{key:"_hideCropper",value:function(){c(this._stage,{duration:0,fromOpacity:0,opacity:0})}},{key:"_redrawCropMask",value:function(){var t=this,e=this._wrapperRotation%360,n=this._wrapperScale,i=this._wrapper.offsetWidth,r=this._wrapper.offsetHeight,o=this._cropper.area,a={x:0,y:0};0===e?(a.x=-o.x,a.y=-o.y):90===e?(a.x=-(1-o.y),a.y=-o.x):180===e?(a.x=-(1-o.x),a.y=-(1-o.y)):270===e&&(a.x=-o.y,a.y=-(1-o.x)),a.x*=i,a.y*=r,cancelAnimationFrame(this._maskFrame),this._maskFrame=requestAnimationFrame(function(){var i="scale("+n+") rotate("+-e+"deg) translate("+a.x+"px, "+a.y+"px);";t._preview.style.cssText="\n\t\t\t\t\twidth: "+t._previewSize.width+"px;\n\t\t\t\t\theight: "+t._previewSize.height+"px;\n\t\t\t\t\t-webkit-transform: "+i+";\n\t\t\t\t\ttransform: "+i+";\n\t\t\t\t"})}},{key:"open",value:function(t,e,n,i,r){var o=this;if(!this._input||this._dirty||this._ratio!==e||this._wrapperRotation!==i){this._currentWindowSize={width:window.innerWidth,height:window.innerHeight},this._dirty=!1,this._wrapperRotation=i||0,this._blurredPreview=!1,this._ratio=e,this._previewSize=null,this._element.style.opacity="0",this._input=t;var a=this._wrapperRotation%180!=0,s=function(t,e,n){return{x:t.x/e,y:t.y/n,width:t.width/e,height:t.height/n}}(n,a?t.height:t.width,a?t.width:t.height);this._preview.onload=function(){o._preview.onload=null,o._cropper.ratio=o.ratio,o._redraw(),o._redrawCropper(s),r(),o._element.style.opacity=""};var l=nt(this._input,Math.min(this._container.offsetWidth/this._input.width,this._container.offsetHeight/this._input.height)*this._options.devicePixelRatio);this._preview.src="",this._preview.src=l.toDataURL(),l.width=1,l.height=1,l=null}else r()}},{key:"_redrawCropper",value:function(t){var e=this._wrapperRotation%180!=0,n=e?this._input.height/this._input.width:this._input.width/this._input.height,i=this._wrapper.offsetWidth,r=this._wrapper.offsetHeight,o=this._container.offsetWidth,a=this._container.offsetHeight;this._updateWrapperScale();var s=this._wrapperScale*(e?r:i),l=this._wrapperScale*(e?i:r),c=e?.5*(o-s):this._wrapper.offsetLeft,u=e?.5*(a-l):this._wrapper.offsetTop;this._stage.style.cssText="\n\t\t\t\tleft:"+c+"px;\n\t\t\t\ttop:"+u+"px;\n\t\t\t\twidth:"+s+"px;\n\t\t\t\theight:"+l+"px;\n\t\t\t",this._cropper.limit(s,s/n),this._cropper.offset(c+this._element.offsetLeft,u+this._element.offsetTop),this._cropper.minWidth=this._wrapperScale*this._options.minSize.width*this.scalar,this._cropper.minHeight=this._wrapperScale*this._options.minSize.height*this.scalar;var d;d=t?{x:t.x*s,y:t.y*l,width:t.width*s,height:t.height*l}:J(s,l,this._ratio||l/s),this._cropper.resize(d.x,d.y,d.width,d.height)}},{key:"_redraw",value:function(){var t=this._input.height/this._input.width,e=this._container.clientWidth,n=this._container.clientHeight,i=e,r=i*t;r>n&&(i=(r=n)/t);var o=(e-(i=Math.round(i)))/2,a=(n-(r=Math.round(r)))/2;this._wrapper.style.cssText="\n\t\t\t\tleft:"+o+"px;\n\t\t\t\ttop:"+a+"px;\n\t\t\t\twidth:"+i+"px;\n\t\t\t\theight:"+r+"px;\n\t\t\t",this._previewBlurred.style.cssText="\n\t\t\t\twidth:"+i+"px;\n\t\t\t\theight:"+r+"px;\n\t\t\t",this._preview.style.cssText="\n\t\t\t\twidth:"+i+"px;\n\t\t\t\theight:"+r+"px;\n\t\t\t",this._previewSize={width:i,height:r},this._blurredPreview||(this._previewBlurred.width=300,this._previewBlurred.height=this._previewBlurred.width*t,function(t,e){var n=e.getContext("2d");!function(t){return t.width&&t.height}(e)?(e.width=t.width,e.height=t.height,n.drawImage(t,0,0)):n.drawImage(t,0,0,e.width,e.height)}(this._input,this._previewBlurred),function(t){u(t,0,0,t.width,t.height,3)}(this._previewBlurred),this._blurredPreview=!0)}},{key:"show",value:function(){var t=arguments.length>0&&arguments[0]!==e?arguments[0]:function(){};this._currentWindowSize.width===window.innerWidth&&this._currentWindowSize.height===window.innerHeight||(this._redraw(),this._redrawCropper(this._cropper.area)),document.addEventListener("keydown",this),window.addEventListener("resize",this);var n=this._wrapperRotation*(Math.PI/180);c(this._previewWrapper,{fromRotation:[0,0,n],rotation:[0,0,n],fromPosition:[0,0,0],position:[0,0,0],fromOpacity:0,opacity:1,fromScale:[this._wrapperScale-.02,this._wrapperScale-.02],scale:[this._wrapperScale,this._wrapperScale],easing:"spring",springConstant:.3,springDeceleration:.85,delay:450,complete:function(){}}),this._cropper.dirty?c(this._stage,{fromPosition:[0,0,0],position:[0,0,0],fromOpacity:0,opacity:1,duration:250,delay:850,complete:function(){F(this),t()}}):c(this._stage,{fromPosition:[0,0,0],position:[0,0,0],fromOpacity:0,opacity:1,duration:250,delay:1e3,complete:function(){F(this)}}),c(this._btnGroup.childNodes,{fromScale:[.9,.9],scale:[1,1],fromOpacity:0,opacity:1,delay:function(t){return 1e3+100*t},easing:"spring",springConstant:.3,springDeceleration:.85,complete:function(){F(this)}}),c(this._utilsGroup.childNodes,{fromScale:[.9,.9],scale:[1,1],fromOpacity:0,opacity:1,easing:"spring",springConstant:.3,springDeceleration:.85,delay:1250,complete:function(){F(this)}})}},{key:"hide",value:function(){var t=arguments.length>0&&arguments[0]!==e?arguments[0]:function(){};document.removeEventListener("keydown",this),window.removeEventListener("resize",this),c(this._utilsGroup.childNodes,{fromOpacity:1,opacity:0,duration:250}),c(this._btnGroup.childNodes,{fromOpacity:1,opacity:0,delay:200,duration:350}),c([this._stage,this._previewWrapper],{fromPosition:[0,0,0],position:[0,-250,0],fromOpacity:1,opacity:0,easing:"spring",springConstant:.3,springDeceleration:.75,delay:250,allDone:function(){t()}})}},{key:"destroy",value:function(){var t=this;st(this._btnGroup.children).forEach(function(e){e.removeEventListener("click",t)}),n.forEach(function(e){t._cropper.element.removeEventListener(e,t)}),this._cropper.destroy(),this._previewBlurred&&(this._previewBlurred.width=1,this._previewBlurred.height=1),this._element.parentNode&&lt(this._element)}},{key:"showRotateButton",set:function(t){t?this._element.classList.remove("slim-rotation-disabled"):this._element.classList.add("slim-rotation-disabled")}},{key:"element",get:function(){return this._element}},{key:"ratio",get:function(){return"input"===this._ratio?this._input.height/this._input.width:this._ratio}},{key:"offset",get:function(){return this._element.getBoundingClientRect()}},{key:"original",get:function(){return this._input}},{key:"scalar",get:function(){return this._previewSize.width/this._input.width}}],[{key:"options",value:function(){return{buttonCancelClassName:null,buttonConfirmClassName:null,buttonCancelLabel:"Cancel",buttonConfirmLabel:"Confirm",buttonCancelTitle:null,buttonConfirmTitle:null,buttonRotateTitle:"Rotate",buttonRotateClassName:null,devicePixelRatio:null,minSize:{width:0,height:0}}}}]),i}();return i.Buttons=["cancel","confirm"],i}(),pt=function(){var n=["dragenter","dragover","dragleave","drop"];return function(){function i(){var n=arguments.length>0&&arguments[0]!==e?arguments[0]:document.createElement("div");t(this,i),this._element=n,this._accept=[],this._allowURLs=!1,this._dragPath=null,this._init()}return d(i,[{key:"isValidDataTransfer",value:function(t){return t.files&&t.files.length?this.areValidDataTransferFiles(t.files):t.items&&t.items.length?this.areValidDataTransferItems(t.items):null}},{key:"areValidDataTransferFiles",value:function(t){return!this._accept.length||!t||-1!==this._accept.indexOf(t[0].type)}},{key:"areValidDataTransferItems",value:function(t){return!this._accept.length||!t||(this._allowURLs&&"string"===t[0].kind?null:t[0].type&&0===t[0].type.indexOf("application")?null:-1!==this._accept.indexOf(t[0].type))}},{key:"reset",value:function(){this._element.files=null}},{key:"_init",value:function(){var t=this;this._element.className="slim-file-hopper",n.forEach(function(e){t._element.addEventListener(e,t)})}},{key:"handleEvent",value:function(t){switch(t.type){case"dragenter":case"dragover":this._onDragOver(t);break;case"dragleave":this._onDragLeave(t);break;case"drop":this._onDrop(t)}}},{key:"_onDrop",value:function(t){t.preventDefault();var e=null;if(this._allowURLs){var n=void 0,i=void 0;try{n=t.dataTransfer.getData("url"),i=t.dataTransfer.getData("text/html")}catch(t){}if(i&&i.length){var r=i.match(/src\s*=\s*"(.+?)"/);r&&(e=r[1])}else n&&n.length&&(e=n)}if(e)this._element.files=[{remote:e}];else{if(!this.isValidDataTransfer(t.dataTransfer))return this._element.dispatchEvent(new CustomEvent("file-invalid-drop")),void(this._dragPath=null);this._element.files=t.dataTransfer.files}this._element.dispatchEvent(new CustomEvent("file-drop",{detail:w(t)})),this._element.dispatchEvent(new CustomEvent("change")),this._dragPath=null}},{key:"_onDragOver",value:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy";var e=this.isValidDataTransfer(t.dataTransfer);return null===e||e?(this._dragPath||(this._dragPath=[]),this._dragPath.push(w(t)),void this._element.dispatchEvent(new CustomEvent("file-over",{detail:{x:M(this._dragPath).x,y:M(this._dragPath).y}}))):(t.dataTransfer.dropEffect="none",void this._element.dispatchEvent(new CustomEvent("file-invalid")))}},{key:"_onDragLeave",value:function(t){this._element.dispatchEvent(new CustomEvent("file-out",{detail:w(t)})),this._dragPath=null}},{key:"destroy",value:function(){var t=this;n.forEach(function(e){t._element.removeEventListener(e,t)}),lt(this._element),this._element=null,this._dragPath=null,this._accept=null}},{key:"element",get:function(){return this._element}},{key:"dragPath",get:function(){return this._dragPath}},{key:"enabled",get:function(){return""===this._element.style.display},set:function(t){this._element.style.display=t?"":"none"}},{key:"allowURLs",set:function(t){this._allowURLs=t}},{key:"accept",set:function(t){this._accept=t},get:function(){return this._accept}}]),i}()}(),gt=function(){function n(){t(this,n),this._element=null,this._inner=null,this._init()}return d(n,[{key:"_init",value:function(){this._element=I("div","slim-popover"),this._element.setAttribute("data-state","off"),document.body.appendChild(this._element),this._element.addEventListener("touchmove",function(t){t.preventDefault()},!0)}},{key:"show",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==e?arguments[0]:function(){};this._element.setAttribute("data-state","on"),c(this._element,{fromOpacity:0,opacity:1,duration:350,complete:function(){F(t._element),n()}})}},{key:"hide",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==e?arguments[0]:function(){};c(this._element,{fromOpacity:1,opacity:0,duration:500,complete:function(){F(t._element),t._element.setAttribute("data-state","off"),n()}})}},{key:"destroy",value:function(){this._element.parentNode&&(this._element.parentNode.removeChild(this._element),this._element=null,this._inner=null)}},{key:"inner",set:function(t){this._inner=t,this._element.firstChild&&this._element.removeChild(this._element.firstChild),this._element.appendChild(this._inner)}},{key:"className",set:function(t){this._element.className="slim-popover"+(null===t?"":" "+t)}}]),n}(),mt=function(t,e){return t.split(e).map(function(t){return parseInt(t,10)})},vt=function(t){return"DIV"===t.nodeName||"SPAN"===t.nodeName},yt="auto",bt="initial",wt="manual",Et=["x","y","width","height"],Ct=["file-invalid-drop","file-invalid","file-drop","file-over","file-out","click"],Tt=["cancel","confirm"],_t=["remove","edit","download","upload"],Ot=null,kt=0,Dt='\n<div class="slim-loader">\n\t<svg>\n\t\t<path class="slim-loader-background" fill="none" stroke-width="3" />\n\t\t<path class="slim-loader-foreground" fill="none" stroke-width="3" />\n\t</svg>\n</div>\n',xt='\n<div class="slim-upload-status"></div>\n',It=function(t){var e=t.split(",");return{width:parseInt(e[0],10),height:parseInt(e[1],10)}},St=function(t,e){var n=t.indexOf(e);t.splice(n,1)},Rt=function(){function n(i){var r=arguments.length>1&&arguments[1]!==e?arguments[1]:{};t(this,n),Ot||(Ot=new gt),this._uid=kt++,this._options=E(n.options(),r),this._options.forceSize&&("string"==typeof this._options.forceSize&&(this._options.forceSize=It(this._options.forceSize)),this._options.ratio=this._options.forceSize.width+":"+this._options.forceSize.height,this._options.size=it(this._options.forceSize)),"string"==typeof this._options.size&&(this._options.size=It(this._options.size)),"string"==typeof this._options.minSize&&(this._options.minSize=It(this._options.minSize)),"string"==typeof this._options.post&&(this._options.post=this._options.post.split(",").map(function(t){return t.trim()})),this._originalElement=i,this._originalElementInner=i.innerHTML,this._originalElementAttributes=b(i),vt(i)?this._element=i:(this._element=ct(i),this._element.className=i.className,i.className="",this._element.setAttribute("data-ratio",this._options.ratio)),this._element.classList.add("slim"),this._element.setAttribute("data-state","init"),this._state=[],this._timers=[],this._input=null,this._inputReference=null,this._output=null,this._ratio=null,this._isRequired=!1,this._imageHopper=null,this._imageEditor=null,this._progressEnabled=!0,this._data={},this._resetData(),this._drip=null,this._hasInitialImage=!1,this._initialCrop=this._options.crop,this._initialRotation=this._options.rotation&&this._options.rotation%90==0?this._options.rotation:null,this._isBeingDestroyed=!1,n.supported?this._init():this._fallback()}return d(n,[{key:"setRotation",value:function(t,e){if("number"==typeof t||t%90==0){this._data.actions.rotation=t;var n=this._data.actions.rotation%180!=0;if(this._data.input.image){var i=n?this._data.input.image.height:this._data.input.image.width,r=n?this._data.input.image.width:this._data.input.image.height;this._data.actions.crop=J(i,r,this._ratio),this._data.actions.crop.type=yt}this._data.input.image&&e&&this._manualTransform(e)}}},{key:"setSize",value:function(t,e){"string"==typeof t&&(t=It(t)),t&&t.width&&t.height&&(this._options.size=it(t),this._data.actions.size=it(t),this._data.input.image&&e&&this._manualTransform(e))}},{key:"setForceSize",value:function(t,e){"string"==typeof t&&(t=It(t)),t&&t.width&&t.height&&(this._options.size=it(t),this._options.forceSize=it(t),this._data.actions.size=it(t),this.setRatio(this._options.forceSize.width+":"+this._options.forceSize.height,e))}},{key:"setRatio",value:function(t,e){var n=this;if(t&&"string"==typeof t&&(this._options.ratio=t,this._isFixedRatio())){var i=mt(this._options.ratio,":");this._ratio=i[1]/i[0],this._data.input.image&&e?this._cropAuto(function(t){n._scaleDropArea(n._ratio),e&&e(t)}):(this._data.input.image&&(this._data.actions.crop=J(this._data.input.image.width,this._data.input.image.height,this._ratio),this._data.actions.crop.type=yt),this._scaleDropArea(this._ratio),e&&e(null))}}},{key:"isAttachedTo",value:function(t){return this._element===t||this._originalElement===t}},{key:"isDetached",value:function(){return null===this._element.parentNode}},{key:"load",value:function(t){var n=arguments.length>1&&arguments[1]!==e?arguments[1]:{},i=arguments[2];"function"==typeof n?i=n:(this._options.crop=n.crop,this._options.rotation=n.rotation,this._initialRotation=n.rotation&&n.rotation%90==0?n.rotation:null,this._initialCrop=this._options.crop),this._load(t,i,{blockPush:n.blockPush})}},{key:"upload",value:function(t){this._doUpload(t)}},{key:"download",value:function(){this._doDownload()}},{key:"remove",value:function(){return this._doRemove()}},{key:"destroy",value:function(){this._doDestroy()}},{key:"edit",value:function(){this._doEdit()}},{key:"crop",value:function(t,e){this._crop(t.x,t.y,t.width,t.height,e)}},{key:"containsImage",value:function(){return null!==this._data.input.name}},{key:"_canInstantEdit",value:function(){return this._options.instantEdit&&!this._isInitialising}},{key:"_getFileInput",value:function(){return this._element.querySelector("input[type=file]")}},{key:"_getInitialImage",value:function(){return this._element.querySelector("img")}},{key:"_getInputElement",value:function(){return this._getFileInput()||this._getInitialImage()}},{key:"_getRatioSpacerElement",value:function(){return this._element.children[0]}},{key:"_isImageOnly",value:function(){return"INPUT"!==this._input.nodeName}},{key:"_isFixedRatio",value:function(){return-1!==this._options.ratio.indexOf(":")}},{key:"_isAutoCrop",value:function(){return this._data.actions.crop.type===yt}},{key:"_toggleButton",value:function(t,e){!function(t,e,n){var i=n.querySelector(t);i&&(i.style.display=e?"":"none")}('.slim-btn[data-action="'+t+'"]',e,this._element)}},{key:"_clearState",value:function(){this._state=[],this._updateState()}},{key:"_removeState",value:function(t){this._state=this._state.filter(function(e){return e!==t}),this._updateState()}},{key:"_addState",value:function(t){K(t,this._state)||(this._state.push(t),this._updateState())}},{key:"_updateState",value:function(){this._element&&this._element.setAttribute("data-state",this._state.join(","))}},{key:"_resetData",value:function(){if(this._data.input&&this._data.output){var t=this._data.input.image,e=this._data.output.image;t&&"CANVAS"===t.nodeName&&v(t),e&&"CANVAS"===e.nodeName&&v(e)}this._data={server:null,meta:it(this._options.meta),input:{field:this._inputReference,name:null,type:null,width:0,height:0,file:null},output:{image:null,width:0,height:0},actions:{rotation:null,crop:null,size:null}},this._output&&(this._output.value=""),function(t){if(t&&""!==t.value){try{t.value=""}catch(t){}if(t.value){var e=document.createElement("form"),n=t.parentNode,i=t.nextSibling;e.appendChild(t),e.reset(),i?n.insertBefore(t,i):n.appendChild(t)}}}(this._getFileInput())}},{key:"_init",value:function(){var t=this;if(this._isInitialising=!0,this._addState("empty"),K("input",this._options.post)&&(this._inputReference="slim_input_"+this._uid),this._input=this._getInputElement(),this._input||(this._input=I("input"),this._input.type="file",this._element.appendChild(this._input)),this._isRequired=!0===this._input.required,this._output=this._element.querySelector("input[type=hidden]"),this._output){var e=null;try{e=JSON.parse(this._output.value)}catch(t){}if(e){var n=new Image;n.src=e.output.image,n.setAttribute("data-filename",e.output.name),this._element.insertBefore(n,this._element.firstChild)}}else this._output=I("input"),this._output.type="hidden",this._output.name=this._input.name||this._options.defaultInputName,this._element.appendChild(this._output);this._input.removeAttribute("name");var i=I("div","slim-area"),r=this._getInitialImage(),o=(r||{}).src,a=r?r.getAttribute("data-filename"):null;o?this._hasInitialImage=!0:(this._initialCrop=null,this._initialRotation=null);var s='\n\t\t<div class="slim-result">\n\t\t\t<img class="in" style="opacity:0" '+(o?'src="'+o+'"':"")+'><img><img style="opacity:0">\n\t\t</div>';if(this._isImageOnly())i.innerHTML="\n\t\t\t\t"+Dt+"\n\t\t\t\t"+xt+"\n\t\t\t\t"+s+'\n\t\t\t\t<div class="slim-status"><div class="slim-label-loading">'+(this._options.labelLoading||"")+"</div></div>\n\t\t\t";else{K("input",this._options.post)&&(this._data.input.field=this._inputReference,this._options.service||(this._input.name=this._inputReference));var l=void 0;this._input.hasAttribute("accept")&&"image/*"!==this._input.getAttribute("accept")?l=this._input.accept.split(",").map(function(t){return t.trim()}).filter(function(t){return t.length>0}):(l=function(){var t=[],e=void 0,n=void 0;for(e in D)D.hasOwnProperty(e)&&(n=D[e],-1==t.indexOf(n)&&t.push(n));return t}(),this._input.setAttribute("accept",l.join(","))),this._imageHopper=new pt,this._imageHopper.accept=l,this._imageHopper.allowURLs="string"==typeof this._options.fetcher,this._element.appendChild(this._imageHopper.element),Ct.forEach(function(e){t._imageHopper.element.addEventListener(e,t)}),i.innerHTML="\n\t\t\t\t"+Dt+"\n\t\t\t\t"+xt+'\n\t\t\t\t<div class="slim-drip"><span><span></span></span></div>\n\t\t\t\t<div class="slim-status"><div class="slim-label">'+(this._options.label||"")+'</div><div class="slim-label-loading">'+(this._options.labelLoading||"")+"</div></div>\n\t\t\t\t"+s+"\n\t\t\t",this._input.addEventListener("change",this)}if(this._element.appendChild(i),this._btnGroup=I("div","slim-btn-group"),this._btnGroup.style.display="none",this._element.appendChild(this._btnGroup),_t.filter(function(e){return t._isButtonAllowed(e)}).forEach(function(e){var n=P(e),i=t._options["button"+n+"Label"],r=t._options["button"+n+"Title"]||i,o=t._options["button"+n+"ClassName"],a=I("button","slim-btn slim-btn-"+e+(o?" "+o:""));a.innerHTML=i,a.title=r,a.type="button",a.addEventListener("click",t),a.setAttribute("data-action",e),t._btnGroup.appendChild(a)}),this._isFixedRatio()){var c=mt(this._options.ratio,":");this._ratio=c[1]/c[0],this._scaleDropArea(this._ratio)}this._updateProgress(.5),o?this._load(o,function(){t._onInit()},{name:a}):this._onInit()}},{key:"_onInit",value:function(){var t=this;this._isInitialising=!1;var e=function(){var e=setTimeout(function(){St(t._timers,e),t._options.didInit.apply(t,[t.data,t])},0);t._timers.push(e)};this._options.saveInitialImage&&this.containsImage()?this._options.service||this._save(function(){e()},!1):(this._options.service&&this.containsImage()&&this._toggleButton("upload",!1),e())}},{key:"_updateProgress",value:function(t){if(t=Math.min(.99999,t),this._element&&this._progressEnabled){var e=this._element.querySelector(".slim-loader");if(e){var n=e.offsetWidth,i=e.querySelectorAll("path"),r=parseInt(i[0].getAttribute("stroke-width"),10);.5*n<r||(i[0].setAttribute("d",dt(.5*n,.5*n,.5*n-r,.9999)),i[1].setAttribute("d",dt(.5*n,.5*n,.5*n-r,t)))}}}},{key:"_startProgress",value:function(t){var e=this;if(this._element){this._progressEnabled=!1;var n=this._element.querySelector(".slim-loader");if(n){var i=n.children[0];this._stopProgressLoop(function(){n.removeAttribute("style"),i.removeAttribute("style"),e._progressEnabled=!0,e._updateProgress(0),e._progressEnabled=!1,c(i,{fromOpacity:0,opacity:1,duration:250,complete:function(){e._progressEnabled=!0,t&&t()}})})}}}},{key:"_stopProgress",value:function(){var t=this;if(this._element){var e=this._element.querySelector(".slim-loader");if(e){var n=e.children[0];this._updateProgress(1),c(n,{fromOpacity:1,opacity:0,duration:250,complete:function(){e.removeAttribute("style"),n.removeAttribute("style"),t._updateProgress(.5),t._progressEnabled=!1}})}}}},{key:"_startProgressLoop",value:function(){if(this._element){var t=this._element.querySelector(".slim-loader");if(t){var e=t.children[0];t.removeAttribute("style"),e.removeAttribute("style"),this._updateProgress(.5);c(t,"stop"),c(t,{rotation:[0,0,-2*Math.PI*1e3],easing:"linear",duration:1e6}),c(e,{fromOpacity:0,opacity:1,duration:250})}}}},{key:"_stopProgressLoop",value:function(t){if(this._element){var e=this._element.querySelector(".slim-loader");if(e){var n=e.children[0];c(n,{fromOpacity:parseFloat(n.style.opacity),opacity:0,duration:250,complete:function(){c(e,"stop"),e.removeAttribute("style"),n.removeAttribute("style"),t&&t()}})}}}},{key:"_isButtonAllowed",value:function(t){return"edit"===t?this._options.edit:"download"===t?this._options.download:"upload"===t?!!this._options.service&&!this._options.push:"remove"!==t||!this._isImageOnly()}},{key:"_fallback",value:function(){var t=I("div","slim-area");t.innerHTML='\n\t\t\t<div class="slim-status"><div class="slim-label">'+(this._options.label||"")+"</div></div>\n\t\t",this._element.appendChild(t),this._throwError(this._options.statusNoSupport)}},{key:"handleEvent",value:function(t){switch(t.type){case"click":this._onClick(t);break;case"change":this._onChange(t);break;case"cancel":this._onCancel(t);break;case"confirm":this._onConfirm(t);break;case"file-over":this._onFileOver(t);break;case"file-out":this._onFileOut(t);break;case"file-drop":this._onDropFile(t);break;case"file-invalid":this._onInvalidFile(t);break;case"file-invalid-drop":this._onInvalidFileDrop(t)}}},{key:"_getIntro",value:function(){return this._element.querySelector(".slim-result .in")}},{key:"_getOutro",value:function(){return this._element.querySelector(".slim-result .out")}},{key:"_getInOut",value:function(){return this._element.querySelectorAll(".slim-result img")}},{key:"_getDrip",value:function(){return this._drip||(this._drip=this._element.querySelector(".slim-drip > span")),this._drip}},{key:"_throwError",value:function(t){this._addState("error"),this._element.querySelector(".slim-label").style.display="none";var e=this._element.querySelector(".slim-error");e||(e=I("div","slim-error"),this._element.querySelector(".slim-status").appendChild(e)),e.innerHTML=t,this._options.didThrowError.apply(this,[t])}},{key:"_removeError",value:function(){this._removeState("error"),this._element.querySelector(".slim-label").style.display="";var t=this._element.querySelector(".slim-error");t&&t.parentNode.removeChild(t)}},{key:"_openFileDialog",value:function(){this._removeError(),this._input.click()}},{key:"_onClick",value:function(t){var e=this,n=t.target.classList,i=t.target;if(n.contains("slim-file-hopper"))return t.preventDefault(),void this._openFileDialog();switch(i.getAttribute("data-action")){case"remove":this._options.willRemove.apply(this,[this.data,function(){e._doRemove()}]);break;case"edit":this._doEdit();break;case"download":this._doDownload();break;case"upload":this._doUpload()}}},{key:"_onInvalidFileDrop",value:function(){this._onInvalidFile(),this._removeState("file-over");var t=this._getDrip();c(t.firstChild,{fromScale:[.5,.5],scale:[0,0],fromOpacity:.5,opacity:0,duration:150,complete:function(){F(t.firstChild)}})}},{key:"_onInvalidFile",value:function(){var t=this._imageHopper.accept.map(B),e=this._options.statusFileType.replace("$0",t.join(", "));this._throwError(e)}},{key:"_onImageTooSmall",value:function(){var t=this._options.statusImageTooSmall.replace("$0",this._options.minSize.width+" Ã "+this._options.minSize.height);this._throwError(t)}},{key:"_onOverWeightFile",value:function(){var t=this._options.statusFileSize.replace("$0",this._options.maxFileSize);this._throwError(t)}},{key:"_onLocalURLProblem",value:function(t){this._throwError(this._options.statusLocalUrlProblem||t)}},{key:"_onRemoteURLProblem",value:function(t){this._throwError(t)}},{key:"_onFileOver",value:function(t){this._addState("file-over"),this._removeError();var e=this._getDrip(),n=c.createMatrix();n.translate(t.detail.x,t.detail.y,0),c.setElementTransform(e,n),1==this._imageHopper.dragPath.length&&(e.style.opacity=1,c(e.firstChild,{fromOpacity:0,opacity:.5,fromScale:[0,0],scale:[.5,.5],duration:150}))}},{key:"_onFileOut",value:function(t){this._removeState("file-over"),this._removeState("file-invalid"),this._removeError();var e=this._getDrip(),n=c.createMatrix();n.translate(t.detail.x,t.detail.y,0),c.setElementTransform(e,n),c(e.firstChild,{fromScale:[.5,.5],scale:[0,0],fromOpacity:.5,opacity:0,duration:150,complete:function(){F(e.firstChild)}})}},{key:"_onDropFile",value:function(t){var e=this;this._removeState("file-over");var n=this._getDrip(),i=c.createMatrix();i.translate(t.detail.x,t.detail.y,0),c.setElementTransform(n,i);var r=this._imageHopper.dragPath.length,o=this._imageHopper.dragPath[r-Math.min(10,r)],a=t.detail.x-o.x,s=t.detail.y-o.y;c(n,{fromPosition:[t.detail.x,t.detail.y,0],position:[t.detail.x+a,t.detail.y+s,0],duration:200}),c(n.firstChild,{fromScale:[.5,.5],scale:[2,2],fromOpacity:1,opacity:0,duration:200,complete:function(){F(n.firstChild),e._load(t.target.files[0])}})}},{key:"_onChange",value:function(t){t.target.files.length&&this._load(t.target.files[0])}},{key:"_load",value:function(t,n){var i=this,r=arguments.length>2&&arguments[2]!==e?arguments[2]:{};if(!this._isBeingDestroyed){if(this.containsImage())return clearTimeout(this._replaceTimeout),void this._doRemove(function(){i._replaceTimeout=setTimeout(function(){i._load(t,n,r)},100)});this._removeState("empty"),this._addState("busy"),this._startProgressLoop(),this._imageHopper&&(this._imageHopper.enabled=!1),clearTimeout(this._loadTimeout);var o=function(){i._imageHopper&&(i._imageHopper.enabled=!0),i._removeState("loading"),i._removeState("busy"),i._addState("empty"),i._stopProgressLoop()};if("string"==typeof t)return void(q(t)?this._load(G(t),n,r):(clearTimeout(i._loadTimeout),i._loadTimeout=setTimeout(function(){i._isBeingDestroyed||(i._addState("loading"),c(i._element.querySelector(".slim-label-loading"),{fromOpacity:0,opacity:1,duration:250}))},500),Y(t,this._options.willLoad,function(t){i._load(t,n,r)},function(t){setTimeout(function(){o(),i._onLocalURLProblem("<p>"+t+"</p>"),n&&n.apply(i,["local-url-problem"])},500)})));if(void 0!==t.remote)return q(t.remote)?void this._load(G(t.remote),n,r):void(this._options.fetcher&&function(t,e,n,i,r,o){t=t+(-1!==t.indexOf("?")?"&":"?")+"url="+i;var a=new XMLHttpRequest;a.open("GET",t,!0),e(a),a.responseType="json",a.onload=function(){return"failure"===this.response.status?void r(this.response.message):void Y(this.response.body,n,o)},a.send()}(this._options.fetcher,this._options.willFetch,this._options.willLoad,t.remote,function(t){o(),i._onRemoteURLProblem("<p>"+t+"</p>"),n&&n.apply(i,["remote-url-problem"])},function(t){i._load(t,n,r)}));var a=t;if(this._imageHopper&&-1===this._imageHopper.accept.indexOf(a.type))return o(),this._onInvalidFile(),void(n&&n.apply(this,["file-invalid"]));if(a.size&&this._options.maxFileSize&&function(t){return t/1e6}(a.size)>this._options.maxFileSize)return o(),this._onOverWeightFile(),void(n&&n.apply(this,["file-too-big"]));this._imageEditor&&this._imageEditor.dirty(),this._data.input.name=r&&r.name?r.name:function(t){return void 0===t.name?U(new Date)+"."+B(z(t)):t.name}(a),this._data.input.type=z(a),this._data.input.size=a.size,this._data.input.file=a;var s=this._options.internalCanvasSize;m()&&(s=this._options.internalCanvasSizeLowMemory),Z(a,s,function(t,e){var o=function(){i._imageHopper&&(i._imageHopper.enabled=!0),i._removeState("loading"),i._removeState("busy"),i._addState("empty"),i._stopProgressLoop(),i._resetData()};if(!t)return o(),void(n&&n.apply(i,["file-not-found"]));if(!function(t,e){return parseInt(t.width,10)>=e.width&&parseInt(t.height,10)>=e.height}(t,i._options.minSize))return o(),i._onImageTooSmall(),void(n&&n.apply(i,["image-too-small"]));var s=i._options.didLoad.apply(i,[a,t,e,i]);if(!0!==s)return o(),!1!==s&&i._throwError(s),void(n&&n.apply(i,[s]));i._removeState("loading");i._options.willLoadCanvas.apply(i,[t,function(t){i._loadCanvas(t,function(t){i._addState("preview"),function(t){i._imageHopper&&i._options.dropReplace&&(i._imageHopper.enabled=!0);var e=i._getIntro(),n={fromScale:[1.25,1.25],scale:[1,1],fromOpacity:0,opacity:1,complete:function(){F(e),e.style.opacity=1,t()}};i.isDetached()?n.duration=1:(n.easing="spring",n.springConstant=.3,n.springDeceleration=.7),i._canInstantEdit()&&(n.delay=500,n.duration=1,i._doEdit()),c(e,n)}(function(){i._canInstantEdit()||t||i._showButtons(),t||(i._stopProgressLoop(),i._removeState("busy")),n&&n.apply(i,[null,i.data])})},function(){i._canInstantEdit()||i._showButtons(),i._removeState("busy")},{blockPush:r.blockPush})},i])})}}},{key:"_loadCanvas",value:function(t,e,n,i){var r=this;if(i||(i={}),!this._isBeingDestroyed){m()?(this._data.input.image=new Image,this._data.input.image.src=t.toDataURL()):this._data.input.image=t,this._data.input.width=t.width,this._data.input.height=t.height,this._initialRotation&&(this._data.actions.rotation=this._initialRotation,this._initialRotation=null);var o=this._data.actions.rotation%180!=0;this._isFixedRatio()||(this._initialCrop?this._ratio=this._initialCrop.height/this._initialCrop.width:this._ratio=o?t.width/t.height:t.height/t.width,this._scaleDropArea(this._ratio));var a=function(){r._options.size&&(r._data.actions.size={width:r._options.size.width,height:r._options.size.height}),r._applyTransforms(t,function(t){var o=r._getIntro(),a=o.offsetWidth/t.width,s=!1;r._options.service&&r._options.push&&!i.blockPush&&(r._hasInitialImage||r._canInstantEdit()||(s=!0,r._stopProgressLoop(function(){r._startProgress(function(){r._updateProgress(.1)})}))),r._canInstantEdit()||r._save(function(){r._isBeingDestroyed||s&&(r._stopProgress(),n())},s);var l="auto"===r._options.devicePixelRatio?window.devicePixelRatio:r._options.devicePixelRatio,c=nt(t,a*l);o.src="",o.src=c.toDataURL(),v(c),c=null,o.onload=function(){o.onload=null,r._isBeingDestroyed||e&&e(s)}})};this._initialCrop?(this._data.actions.crop=it(this._initialCrop),this._data.actions.crop.type=bt,this._initialCrop=null,a()):this._options.willCropInitial.apply(this,[this.data,function(e){e?(r._data.actions.crop=e,r._data.actions.crop.type=bt):(r._data.actions.crop=J(o?t.height:t.width,o?t.width:t.height,r._ratio),r._data.actions.crop.type=yt),a()},this])}}},{key:"_applyTransforms",value:function(t,e){var n=this;this._data.output.image&&v(this._data.output.image);var i=it(this._data.actions);i.filters={sharpen:this._options.filterSharpen/100},this._options.forceMinSize?i.minSize=this._options.minSize:i.minSize={width:0,height:0},Q(t,i,function(t){var i=t;(n._options.forceSize||n._options.size&&1==function(t,e){var n=Math.abs(t.width-e.width),i=Math.abs(t.height-e.height);return Math.max(n,i)}(n._options.size,t))&&((i=I("canvas")).width=n._options.size.width,i.height=n._options.size.height,i.getContext("2d").drawImage(t,0,0,n._options.size.width,n._options.size.height),v(t));if(n._options.forceMinSize&&n._options.size&&n._options.minSize.width===n._options.size.width&&n._options.minSize.height===n._options.size.height&&(i.width<n._options.minSize.width||i.height<n._options.minSize.height)){var r=Math.max(i.width,n._options.minSize.width),o=Math.max(i.height,n._options.minSize.height);(i=I("canvas")).width=r,i.height=o,i.getContext("2d").drawImage(t,0,0,r,o),v(t)}n._options.forceMinSize&&1===n._ratio&&(i.width<n._options.minSize.width||i.height<n._options.minSize.height)&&((i=I("canvas")).width=n._options.minSize.width,i.height=n._options.minSize.height,i.getContext("2d").drawImage(t,0,0,i.width,i.height),v(t));n._data.output.width=i.width,n._data.output.height=i.height,n._data.output.image=i,n._onTransformCanvas(function(t){n._data=t,n._options.didTransform.apply(n,[n.data,n]),e(n._data.output.image)})})}},{key:"_onTransformCanvas",value:function(t){this._options.willTransform.apply(this,[this.data,t,this])}},{key:"_appendEditor",value:function(){var t=this;this._imageEditor||(this._imageEditor=new ft(I("div"),{minSize:this._options.minSize,devicePixelRatio:this._options.devicePixelRatio,buttonConfirmClassName:this._options.buttonConfirmClassName,buttonCancelClassName:this._options.buttonCancelClassName,buttonRotateClassName:this._options.buttonRotateClassName,buttonConfirmLabel:this._options.buttonConfirmLabel,buttonCancelLabel:this._options.buttonCancelLabel,buttonRotateLabel:this._options.buttonRotateLabel,buttonConfirmTitle:this._options.buttonConfirmTitle,buttonCancelTitle:this._options.buttonCancelTitle,buttonRotateTitle:this._options.buttonRotateTitle}),Tt.forEach(function(e){t._imageEditor.element.addEventListener(e,t)}))}},{key:"_scaleDropArea",value:function(t){var e=this._getRatioSpacerElement();e&&this._element&&(e.style.marginBottom=100*t+"%",this._element.setAttribute("data-ratio","1:"+t))}},{key:"_onCancel",value:function(t){this._removeState("editor"),this._options.didCancel.apply(this,[this]),this._showButtons(),this._hideEditor(),this._options.instantEdit&&!this._hasInitialImage&&this._isAutoCrop()&&this._doRemove()}},{key:"_onConfirm",value:function(t){var e=this,n=this._options.service&&this._options.push;n?this._startProgress(function(){e._updateProgress(.1)}):this._startProgressLoop(),this._removeState("editor"),this._addState("busy"),this._output.value="",this._data.actions.rotation=t.detail.rotation,this._data.actions.crop=t.detail.crop,this._data.actions.crop.type=wt,this._applyTransforms(this._data.input.image,function(t){e._options.didConfirm.apply(e,[e.data,e]);var i=e._getInOut(),r="out"===i[0].className?i[0]:i[1],o=r===i[0]?i[1]:i[0];r.className="in",r.style.opacity="0",r.style.zIndex="2",o.className="out",o.style.zIndex="1";var a="auto"===e._options.devicePixelRatio?window.devicePixelRatio:e._options.devicePixelRatio,s=nt(t,r.offsetWidth/t.width*a);r.src="",r.src=s.toDataURL(),v(s),s=null,r.onload=function(){r.onload=null,"free"===e._options.ratio&&(e._ratio=r.naturalHeight/r.naturalWidth,e._scaleDropArea(e._ratio)),e._hideEditor();var t=setTimeout(function(){St(e._timers,t),e._showPreview(r,function(){e._save(function(t,i,r){e._toggleButton("upload",!0),n?e._stopProgress():e._stopProgressLoop(),e._removeState("busy"),e._showButtons()},n)})},250);e._timers.push(t)}})}},{key:"_cropAuto",value:function(){var t=arguments.length>0&&arguments[0]!==e?arguments[0]:function(t){},n=this._data.actions.rotation%180!=0,i=J(n?this._data.input.image.height:this._data.input.image.width,n?this._data.input.image.width:this._data.input.image.height,this._ratio);this._crop(i.x,i.y,i.width,i.height,t,yt)}},{key:"_crop",value:function(t,n,i,r){var o=arguments.length>4&&arguments[4]!==e?arguments[4]:function(t){},a=arguments.length>5&&arguments[5]!==e?arguments[5]:wt;this._output.value="",this._data.actions.crop={x:t,y:n,width:i,height:r},this._data.actions.crop.type=a,this._manualTransform(o)}},{key:"_manualTransform",value:function(t){var e=this;this._startProgressLoop(),this._addState("busy"),this._applyTransforms(this._data.input.image,function(n){var i=e._getInOut(),r="out"===i[0].className?i[0]:i[1],o=r===i[0]?i[1]:i[0];r.className="in",r.style.opacity="1",r.style.zIndex="2",o.className="out",o.style.zIndex="0";var a="auto"===e._options.devicePixelRatio?window.devicePixelRatio:e._options.devicePixelRatio,s=nt(n,r.offsetWidth/n.width*a);r.src="",r.src=s.toDataURL(),v(s),s=null,r.onload=function(){r.onload=null,"free"===e._options.ratio&&(e._ratio=r.naturalHeight/r.naturalWidth,e._scaleDropArea(e._ratio));var n=e._options.service&&e._options.push,i=function(){e._save(function(i,r,o){n||e._stopProgressLoop(),e._removeState("busy"),t.apply(e,[e.data])},n)};n?e._startProgress(i):i()}})}},{key:"_save",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==e?arguments[0]:function(){},i=!(arguments.length>1&&arguments[1]!==e)||arguments[1];if(!this._isBeingDestroyed){var r=this.dataBase64;this._options.service||this._isInitialising&&!this._isImageOnly()||this._options.willSave.apply(this,[r,function(e){t._store(e),t._options.didSave.apply(t,[e,t])},this]),this._isBeingDestroyed||(this._options.service&&i&&this._options.willSave.apply(this,[r,function(e){t._addState("upload"),t._imageHopper&&t._options.dropReplace&&(t._imageHopper.enabled=!1),t._upload(e,function(i,r){t._imageHopper&&t._options.dropReplace&&(t._imageHopper.enabled=!0),i||t._storeServerResponse(r),t._options.didUpload.apply(t,[i,e,r,t]),t._removeState("upload"),n(i,e,r)})},this]),this._options.service&&i||n())}}},{key:"_storeServerResponse",value:function(t){this._isRequired&&(this._input.required=!1),this._data.server=t,this._output.value="object"===(void 0===t?"undefined":h(t))?JSON.stringify(this._data.server):t}},{key:"_store",value:function(t){this._isRequired&&(this._input.required=!1),this._output.value=JSON.stringify(t)}},{key:"_upload",value:function(t,e){var n=this;this.requestOutput(function(t,i){var r=n._element.querySelector(".slim-upload-status"),o=n._options.willRequest,a=function(t,e){n._updateProgress(Math.max(.1,t/e))},s=function(t){var i=setTimeout(function(){if(St(n._timers,t),!n._isBeingDestroyed){r.innerHTML=n._options.statusUploadSuccess,r.setAttribute("data-state","success"),r.style.opacity=1;var t=setTimeout(function(){St(n._timers,t),r.style.opacity=0},2e3);n._timers.push(t)}},250);n._timers.push(i),e(null,t)},l=function(t){var i;i="file-too-big"===t?n._options.statusContentLength:n._options.didReceiveServerError.apply(n,[t,n._options.statusUnknownResponse,n]);var o=setTimeout(function(){St(n._timers,o),r.innerHTML=i,r.setAttribute("data-state","error"),r.style.opacity=1},250);n._timers.push(o),e(t)};"string"==typeof n._options.service?j(n._options.service,n._options.uploadMethod,i,o,a,s,l):"function"==typeof n._options.service&&n._options.service.apply(n,["file"===n._options.serviceFormat?t:i,a,s,l,n])},t)}},{key:"requestOutput",value:function(t,e){var n=this;return this._data.input.file?(e||(e=this.dataBase64),void i.parseMetaData(this._data.input.file,function(r){var o=[],a=new FormData;if(K("input",n._options.post)&&(o.push(n._data.input.file),a.append(n._inputReference,n._data.input.file,n._data.input.file.name)),K("output",n._options.post)&&null!==n._data.output.image&&!1===n._options.uploadBase64){var s=G(e.output.image,e.output.name);if(r.imageHead&&n._options.copyImageHead)try{s=new Blob([r.imageHead,i.blobSlice.call(s,20)],{type:at(e.output.image)}),s=W(s,e.output.name)}catch(t){}o.push(s);var l="slim_output_"+n._uid;e.output.image=null,e.output.field=l,a.append(l,s,e.output.name)}a.append(n._output.name,JSON.stringify(e)),t(o,a)},{maxMetaDataSize:262144,disableImageHead:!1})):void t(null,null)}},{key:"_showEditor",value:function(){Ot.className=this._options.popoverClassName,Ot.show(),this._imageEditor.show()}},{key:"_hideEditor",value:function(){var t=this;this._imageEditor.hide();var e=setTimeout(function(){St(t._timers,e),Ot.hide()},250);this._timers.push(e)}},{key:"_showPreview",value:function(t,e){c(t,{fromPosition:[0,50,0],position:[0,0,0],fromScale:[1.5,1.5],scale:[1,1],fromOpacity:0,opacity:1,easing:"spring",springConstant:.3,springDeceleration:.7,complete:function(){F(t),e&&e()}})}},{key:"_hideResult",value:function(t){var e=this._getIntro();e&&c(e,{fromScale:[1,1],scale:[.5,.5],fromOpacity:1,opacity:0,easing:"spring",springConstant:.3,springDeceleration:.75,complete:function(){F(e),t&&t()}})}},{key:"_showButtons",value:function(t){if(this._btnGroup){this._btnGroup.style.display="";var e={fromScale:[.5,.5],scale:[1,1],fromPosition:[0,10,0],position:[0,0,0],fromOpacity:0,opacity:1,complete:function(){F(this)},allDone:function(){t&&t()}};this.isDetached()?e.duration=1:(e.delay=function(t){return 250+50*t},e.easing="spring",e.springConstant=.3,e.springDeceleration=.85),c(this._btnGroup.childNodes,e)}}},{key:"_hideButtons",value:function(t){var e=this;if(this._btnGroup){var n={fromScale:[1,1],scale:[.85,.85],fromOpacity:1,opacity:0,allDone:function(){e._btnGroup.style.display="none",t&&t()}};this.isDetached()?n.duration=1:(n.easing="spring",n.springConstant=.3,n.springDeceleration=.75),c(this._btnGroup.childNodes,n)}}},{key:"_hideStatus",value:function(){this._element.querySelector(".slim-upload-status").style.opacity=0}},{key:"_doEdit",value:function(){var t=this;this._data.input.image&&(this._addState("editor"),this._imageEditor||this._appendEditor(),this._imageEditor.showRotateButton=this._options.rotateButton,Ot.inner=this._imageEditor.element,this._imageEditor.open(this._data.input.image,"free"===this._options.ratio?null:this._ratio,this._data.actions.crop,this._data.actions.rotation,function(){t._showEditor(),t._hideButtons(),t._hideStatus()}))}},{key:"_doRemove",value:function(t){var e=this;if(!this._isImageOnly()){this._clearState(),this._addState("empty"),this._hasInitialImage=!1,this._imageHopper&&(this._imageHopper.enabled=!0),this._isRequired&&(this._input.required=!0);var n=this._getOutro();n&&(n.style.opacity="0");var i=this.data;this._resetData();var r=setTimeout(function(){St(e._timers,r),e._isBeingDestroyed||(e._hideButtons(function(){e._toggleButton("upload",!0)}),e._hideStatus(),e._hideResult(),e._options.didRemove.apply(e,[i,e]),t&&t())},this.isDetached()?0:250);return this._timers.push(r),i}}},{key:"_doUpload",value:function(t){var e=this;this._data.input.image&&(this._addState("upload"),this._startProgress(),this._hideButtons(function(){e._toggleButton("upload",!1),e._save(function(n,i,r){e._removeState("upload"),e._stopProgress(),t&&t.apply(e,[n,i,r]),n&&e._toggleButton("upload",!0),e._showButtons()})}))}},{key:"_doDownload",value:function(){this._data.output.image&&function(t,n,i){var r=t.output.image,o=i?V(t.input.name)+"."+i:t.input.name,a=D[i]||t.input.type;"image/png"===a&&(o=V(t.input.name)+".png"),r.toBlob(function(t){if("msSaveBlob"in window.navigator)window.navigator.msSaveBlob(t,o);else{var e=(window.URL||window.webkitURL).createObjectURL(t),n=I("a");n.style.display="none",n.download=o,n.href=e,document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),(window.URL||window.webkitURL).revokeObjectURL(e)},0)}},a,"number"==typeof n?n/100:e)}(this._data,this._options.jpegCompression,this._options.forceType)}},{key:"_doDestroy",value:function(){function t(t,e){return 0!==e.filter(function(e){return t.name===e.name&&t.value===e.value}).length}var e=this;this._isBeingDestroyed=!0,this._timers.forEach(function(t){clearTimeout(t)}),this._timers=[],c(this._element,"detach"),this._imageHopper&&(Ct.forEach(function(t){e._imageHopper.element.removeEventListener(t,e)}),this._imageHopper.destroy(),this._imageHopper=null),this._imageEditor&&(Tt.forEach(function(t){e._imageEditor.element.removeEventListener(t,e)}),this._imageEditor.destroy(),this._imageEditor=null),st(this._btnGroup.children).forEach(function(t){t.removeEventListener("click",e)}),this._input.removeEventListener("change",this),this._element!==this._originalElement&&this._element.parentNode&&this._element.parentNode.replaceChild(this._originalElement,this._element),this._originalElement.innerHTML=this._originalElementInner;var n=b(this._originalElement);n.forEach(function(n){t(n,e._originalElementAttributes)||e._originalElement.removeAttribute(n.name)}),this._originalElementAttributes.forEach(function(i){t(i,n)||e._originalElement.setAttribute(i.name,i.value)}),kt=Math.max(0,kt-1),Ot&&0===kt&&(Ot.destroy(),Ot=null);var i=this._data.input.image,r=this._data.output.image;i&&"CANVAS"===i.nodeName&&v(i),r&&"CANVAS"===r.nodeName&&v(r),this._originalElement=null,this._element=null,this._input=null,this._output=null,this._btnGroup=null,this._options=null}},{key:"dataBase64",get:function(){return function(t){var n=arguments.length>1&&arguments[1]!==e?arguments[1]:[],i=arguments[2],r=arguments[3],o=arguments[4],a={server:it(t.server),meta:it(t.meta),input:{name:t.input.name,type:t.input.type,size:t.input.size,width:t.input.width,height:t.input.height,field:t.input.field}};return K("input",n)&&!o&&(a.input.image=ot(t.input.image,t.input.type)),K("output",n)&&(a.output={name:r?V(t.input.name)+"."+r:t.input.name,type:D[r]||t.input.type,width:t.output.width,height:t.output.height},a.output.image=ot(t.output.image,a.output.type,i),a.output.type=at(a.output.image),"image/png"===a.output.type&&(a.output.name=V(a.input.name)+".png")),K("actions",n)&&(a.actions=it(t.actions)),a}(this._data,this._options.post,this._options.jpegCompression,this._options.forceType,null!==this._options.service)}},{key:"data",get:function(){return t=this._data,(e=it(t)).input.file=rt(t.input.file),e.output.image=t.output.image,e;var t,e}},{key:"element",get:function(){return this._element}},{key:"service",set:function(t){this._options.service=t}},{key:"size",set:function(t){this.setSize(t,null)}},{key:"rotation",set:function(t){this.setRotation(t,null)}},{key:"forceSize",set:function(t){this.setForceSize(t,null)}},{key:"ratio",set:function(t){this.setRatio(t,null)}}],[{key:"options",value:function(){var t={edit:!0,instantEdit:!1,uploadBase64:!1,meta:{},ratio:"free",devicePixelRatio:1,size:null,rotation:null,crop:null,post:["output","actions"],service:null,serviceFormat:null,filterSharpen:0,push:!1,defaultInputName:"slim[]",minSize:{width:0,height:0},maxFileSize:null,jpegCompression:null,uploadMethod:"POST",download:!1,saveInitialImage:!1,forceType:!1,forceSize:null,forceMinSize:!0,dropReplace:!0,fetcher:null,internalCanvasSize:{width:4096,height:4096},internalCanvasSizeLowMemory:{width:4096,height:4096},copyImageHead:!1,rotateButton:!0,popoverClassName:null,label:"<p>Drop your image here</p>",labelLoading:"<p>Loading image...</p>",statusFileType:"<p>Invalid file type, expects: $0.</p>",statusFileSize:"<p>File is too big, maximum file size: $0 MB.</p>",statusNoSupport:"<p>Your browser does not support image cropping.</p>",statusImageTooSmall:"<p>Image is too small, minimum size is: $0 pixels.</p>",statusContentLength:'<span class="slim-upload-status-icon"></span> The file is probably too big',statusUnknownResponse:'<span class="slim-upload-status-icon"></span> An unknown error occurred',statusUploadSuccess:'<span class="slim-upload-status-icon"></span> Saved',statusLocalUrlProblem:null,didInit:function(t){},didLoad:function(t,e,n){return!0},didSave:function(t){},didUpload:function(t,e,n){},didReceiveServerError:function(t,e){return e},didRemove:function(t){},didTransform:function(t){},didConfirm:function(t){},didCancel:function(){},didThrowError:function(){},willLoadCanvas:function(t,e){e(t)},willCropInitial:function(t,e){e(null)},willTransform:function(t,e){e(t)},willSave:function(t,e){e(t)},willRemove:function(t,e){e()},willRequest:function(t,e){},willFetch:function(t){},willLoad:function(t){}};return _t.concat(ft.Buttons).concat("rotate").forEach(function(e){var n=P(e);t["button"+n+"ClassName"]=null,t["button"+n+"Label"]=n,t["button"+n+"Title"]=n}),t}}]),n}();return function(){function t(t){var e=window,n=t.split(".");return n.forEach(function(t,i){e[n[i]]&&(e=e[n[i]])}),e!==window?e:null}var e=[],n=function(t){return t},i=function(t){return"true"===t},r=function(t){return!t||"true"===t},o=function(t){return function(t){return t?"<p>"+t+"</p>":null}(t)},a=function(e){return e?t(e):null},s=function(t){if(!t)return null;var e=mt(t,",");return{width:e[0],height:e[1]}},l=function(t){return t?parseInt(t,10):null},c={download:i,edit:r,instantEdit:i,minSize:s,size:s,forceSize:s,forceMinSize:r,internalCanvasSize:s,internalCanvasSizeLowMemory:s,service:function(e){if(void 0===e)return null;var n=t(e);return n||e},serviceFormat:function(t){return void 0===t?null:t},fetcher:function(t){return void 0===t?null:t},push:i,rotation:function(t){return void 0===t?null:parseInt(t,10)},crop:function(t){if(!t)return null;var e={};return t.split(",").map(function(t){return parseInt(t,10)}).forEach(function(t,n){e[Et[n]]=t}),e},post:function(t){return t?t.split(",").map(function(t){return t.trim()}):null},defaultInputName:n,ratio:function(t){return t||null},maxFileSize:function(t){return t?parseFloat(t):null},filterSharpen:l,jpegCompression:l,uploadBase64:i,forceType:n,dropReplace:r,saveInitialImage:i,copyImageHead:i,rotateButton:r,label:o,labelLoading:o,popoverClassName:n,devicePixelRatio:n,uploadMethod:n};["FileSize","FileType","NoSupport","ImageTooSmall"].forEach(function(t){c["status"+t]=o}),["ContentLength","UnknownResponse","UploadSuccess","LocalUrlProblem"].forEach(function(t){c["status"+t]=n}),["Init","Load","Save","Upload","Remove","Transform","ReceiveServerError","Confirm","Cancel","ThrowError"].forEach(function(t){c["did"+t]=a}),["LoadCanvas","CropInitial","Transform","Save","Remove","Request","Load","Fetch"].forEach(function(t){c["will"+t]=a});var u=["ClassName","Label","Title"];_t.concat(ft.Buttons).concat("rotate").forEach(function(t){var e=P(t);u.forEach(function(t){c["button"+e+t]=n})}),Rt.supported=!("[object OperaMini]"===Object.prototype.toString.call(window.operamini)||void 0===window.addEventListener||void 0===window.FileReader||!("slice"in Blob.prototype)||void 0===window.URL||void 0===window.URL.createObjectURL),Rt.parse=function(t){var e,n,i,r=[];for(i=(e=t.querySelectorAll(".slim:not([data-state])")).length;i--;)n=e[i],r.push(Rt.create(n,Rt.getOptionsFromAttributes(n)));return r},Rt.getOptionsFromAttributes=function(t){var e=function(t){if(void 0===t.dataset){var e,n={},i=t.attributes;for(e in i)i.hasOwnProperty(e)&&i[e].name&&/^data-[a-z_\-\d]*$/i.test(i[e].name)&&(n[y(i[e].name.substr(5))]=i[e].value);return n}return t.dataset}(t),n={meta:{}};for(var i in e){var r=c[i],o=e[i];r?(o=null===(o=r(o))?it(Rt.options()[i]):o,n[i]=o):0===i.indexOf("meta")&&(n.meta[N(i.substr(4))]=o)}return n},Rt.find=function(t){var n=e.filter(function(e){return e.isAttachedTo(t)});return n?n[0]:null},Rt.create=function(t,n){if(!Rt.find(t)){n||(n=Rt.getOptionsFromAttributes(t));var i=new Rt(t,n);return e.push(i),i}},Rt.destroy=function(t){var n=function(t){for(var n=0,i=e.length;n<i;n++)if(e[n].isAttachedTo(t))return n;return-1}(t);return!(n<0||(e[n].destroy(),e.splice(n,1),0))}}(),Rt}(),t.Slim.supported)"loading"!==document.readyState?n():document.addEventListener("DOMContentLoaded",n);else{var i=t.getElementsByClassName("slim"),r=0,o=i.length;for(r=0;r<o;r++)i[r].className=""}}(window);